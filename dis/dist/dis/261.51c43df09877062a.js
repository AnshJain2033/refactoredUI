(self.webpackChunkdis=self.webpackChunkdis||[]).push([[261],{6352:(Cr,Pt,ae)=>{"use strict";ae.d(Pt,{E:()=>Ze});var p=ae(5879),w=ae(6814),W=ae(8109),he=ae(4104);function De(Ue,ft){if(1&Ue&&(p.TgZ(0,"a",3,4),p._uU(2),p.qZA()),2&Ue){const We=ft.$implicit,ie=p.MAs(1);p.Q6J("routerLink",We.code)("active",ie.isActive),p.xp6(2),p.Oqu(We.value)}}let Ze=(()=>{class Ue{constructor(){this.navItemList=[{code:"overview",value:"Overview"},{code:"contact",value:"Contact"}]}static#e=this.\u0275fac=function(ie){return new(ie||Ue)};static#t=this.\u0275cmp=p.Xpm({type:Ue,selectors:[["app-about"]],decls:5,vars:2,consts:[["mat-tab-nav-bar","",3,"tabPanel"],["mat-tab-link","","routerLinkActive","",3,"routerLink","active",4,"ngFor","ngForOf"],["tabPanel",""],["mat-tab-link","","routerLinkActive","",3,"routerLink","active"],["rla","routerLinkActive"]],template:function(ie,be){if(1&ie&&(p.TgZ(0,"nav",0),p.YNc(1,De,3,3,"a",1),p.qZA(),p.TgZ(2,"mat-tab-nav-panel",null,2),p._UZ(4,"router-outlet"),p.qZA()),2&ie){const Qe=p.MAs(3);p.Q6J("tabPanel",Qe),p.xp6(1),p.Q6J("ngForOf",be.navItemList)}},dependencies:[w.sg,W.lC,W.rH,W.Od,he.BU,he.sW,he.Nj]})}return Ue})()},8296:(Cr,Pt,ae)=>{"use strict";ae.d(Pt,{C:()=>W});var p=ae(5879),w=ae(5195);let W=(()=>{class he{constructor(){this.image="./../../assets/images/CSDept.jpg"}static#e=this.\u0275fac=function(Ue){return new(Ue||he)};static#t=this.\u0275cmp=p.Xpm({type:he,selectors:[["app-overview"]],decls:30,vars:1,consts:[[1,"container"],[1,"content"],["id","card3",1,"routing"],[2,"color","#2b32b2","font-size","20px","font-weight","1000"],["mat-card-image","","alt","Photo of the Department",2,"width","-webkit-fill-available",3,"src"],[2,"color","red"]],template:function(Ue,ft){1&Ue&&(p.TgZ(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-header")(4,"mat-card-title",3),p._uU(5,"Department of Computer Engineering"),p.qZA()(),p.TgZ(6,"mat-card-content"),p._UZ(7,"img",4),p.TgZ(8,"p"),p._uU(9," Department of Computer Engineering of the Institute is pioneer in the field of Computer Engineering in the state of Madhya Pradesh and Central India. Established in year 1983, it offers the undergraduate and post graduate programmes, which started in year 1983 and 1986 respectively. The department is also a recognised center for Ph.D. under QIP. "),p.qZA(),p.TgZ(10,"p"),p._uU(11,"The department has dedicated qualified team of experienced as well as young and enthusiastic faculty members coping successfully with new challenges and rapid advancements in technology. The research work of faculty members has been recognised at national and international level in areas like Artificial Intelligence, Machine learning, Deep Learning, Compute Networks, Cloud Computing, Big Data, IoT, Web Technologies etc. All the staff and faculty members work cooperatively in a very healthy and conducive environment."),p.qZA(),p.TgZ(12,"span",5)(13,"b"),p._uU(14,"Vision"),p.qZA()(),p._UZ(15,"br"),p._uU(16," To become centre of excellence for creating competent human resource in the field of Computer Science and Engineering meeting the dynamic societal and industrial needs. "),p._UZ(17,"br")(18,"br"),p.TgZ(19,"span",5)(20,"b"),p._uU(21,"Mission"),p.qZA()(),p._UZ(22,"br"),p._uU(23," M1: To produce technically competent professionals in Computer Science and Engineering having a blend of theoretical knowledge and practical skills. "),p._UZ(24,"br"),p._uU(25," M2: To encourage innovation, research and analytical activities with professional ethics and responsibilities through quality education. "),p._UZ(26,"br"),p._uU(27," M3: To provide learning ambience in collaboration with industries to keep pace with dynamic technological advancements and promote spirit of entrepreneurship. "),p._UZ(28,"br"),p._uU(29," M4: To motivate students to apply knowledge to resolve societal and environmental challenges and engage in continuous learning towards sustainable development. "),p.qZA()()()()),2&Ue&&(p.xp6(7),p.Q6J("src",ft.image,p.LSH))},dependencies:[w.a8,w.dn,w.dk,w.G2,w.n5],styles:[".container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;flex-direction:row;flex-wrap:wrap;justify-content:center}.content[_ngcontent-%COMP%]{padding:8px}"]})}return he})()},2968:(Cr,Pt,ae)=>{"use strict";ae.d(Pt,{k:()=>Qe});var p=ae(4229),w=ae(5879),W=ae(9862),he=ae(9485),De=ae(3528),Ze=ae(8109);new W.WM({"Content-Type":"application/json"});let ft=(()=>{class Ke{constructor(Nt,et,rt){this.http=Nt,this.spinnerService=et,this.router=rt,this.serviceUrls=he.q}getDashboardSideNavigationDetails(Nt){this.spinnerService.addSpinner();const et=new W.WM({Authorization:Nt});return this.http.get(this.serviceUrls.getSideNavigationDetails,{headers:et})}static#e=this.\u0275fac=function(et){return new(et||Ke)(w.LFG(W.eN),w.LFG(De.V),w.LFG(Ze.F0))};static#t=this.\u0275prov=w.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}return Ke})();var We=ae(4698),ie=ae(6814);function be(Ke,ht){if(1&Ke&&(w.TgZ(0,"div",7)(1,"h4",8),w._uU(2),w.qZA(),w.TgZ(3,"h5"),w._uU(4),w.qZA(),w.TgZ(5,"div",9)(6,"a",10),w._uU(7),w.qZA()()()),2&Ke){const Nt=w.oxw();w.xp6(2),w.Oqu(Nt.userData.name),w.xp6(2),w.hij("Designation: ",Nt.userData.currentDesignation,""),w.xp6(3),w.hij("Username: ",Nt.userData.username,"")}}let Qe=(()=>{class Ke{constructor(Nt,et,rt){this.userService=Nt,this.spinnerService=et,this.toastService=rt,this.images=p.W}ngOnInit(){this.token=sessionStorage.getItem("token"),this.token="Bearer "+this.token,this.userService.getDashboardSideNavigationDetails(this.token).subscribe({next:Nt=>{this.userData=Nt,console.log(this.userData),this.userName=this.userData.username,null!=this.userData.currentDesignation&&sessionStorage.setItem("role",this.userData.currentDesignation)},error:()=>{this.toastService.error("Unable to fetch Side Navigation Details",{id:"pause"}),this.spinnerService.removeSpinner()},complete:()=>{this.spinnerService.removeSpinner()}})}static#e=this.\u0275fac=function(et){return new(et||Ke)(w.Y36(ft),w.Y36(De.V),w.Y36(We.jE))};static#t=this.\u0275cmp=w.Xpm({type:Ke,selectors:[["app-dashboard-sidenav"]],decls:10,vars:2,consts:[[1,"side-navigation"],[1,"profile-content"],[1,"profile-icon"],["alt","HOD_image",2,"height","150px","width","150px",3,"src"],["class","txt-info main",4,"ngIf"],["aria-hidden","true",1,"fa","fa-list-alt","fa-4x"],["routerLink","meetings",1,"nav-link"],[1,"txt-info","main"],[2,"font-size","20px"],[1,"profile-links"],["href","#"]],template:function(et,rt){1&et&&(w.TgZ(0,"div",0)(1,"div",1)(2,"div",2),w._UZ(3,"img",3),w.qZA(),w.YNc(4,be,8,3,"div",4),w.TgZ(5,"div"),w._UZ(6,"i",5),w.TgZ(7,"h5")(8,"a",6),w._uU(9,"Meetings"),w.qZA()()()()()),2&et&&(w.xp6(3),w.s9C("src",rt.images[rt.userName],w.LSH),w.xp6(1),w.Q6J("ngIf",rt.userData))},dependencies:[ie.O5,Ze.rH],styles:[".side-navigation[_ngcontent-%COMP%]{margin-bottom:2%}.profile-content[_ngcontent-%COMP%]{box-shadow:-1px 3px 3px -3px #00000059;border:1px solid #bfbfbf;text-align:center;padding:20px 5px}.profile-content[_ngcontent-%COMP%]   .txt-info[_ngcontent-%COMP%]{border-bottom:1px solid #c1c1c1;margin:15px 4%;padding-bottom:20px}.profile-content[_ngcontent-%COMP%]   .txt-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fe6601;font-size:20px}"]})}return Ke})()},7913:(Cr,Pt,ae)=>{"use strict";ae.d(Pt,{c:()=>We});var p=ae(5879),w=ae(6814),W=ae(2296),he=ae(1274),De=ae(3814),Ze=ae(8109);const Ue=function(ie){return[ie]};function ft(ie,be){if(1&ie&&(p.TgZ(0,"button",4)(1,"a",5)(2,"span"),p._uU(3),p.qZA()()()),2&ie){const Qe=be.$implicit;p.xp6(1),p.Q6J("routerLink",p.VKq(2,Ue,Qe.route)),p.xp6(2),p.Oqu(Qe.text)}}let We=(()=>{class ie{constructor(){this.footerList=[{text:"Home",route:".."},{text:"Contact Us",route:"contact"}]}static#e=this.\u0275fac=function(Ke){return new(Ke||ie)};static#t=this.\u0275cmp=p.Xpm({type:ie,selectors:[["app-footer"]],decls:5,vars:1,consts:[[2,"position","fixed","bottom","0","width","100%","z-index","1000"],[1,"text-white",2,"text-align","center","font-size","16px"],["fxFlex","","fxLayoutAlign","end","fxLayout",""],["mat-button","",4,"ngFor","ngForOf"],["mat-button",""],["routerLinkActive","active-header",1,"nav-link","text-white",3,"routerLink"]],template:function(Ke,ht){1&Ke&&(p.TgZ(0,"mat-toolbar",0)(1,"span",1),p._uU(2,"Copyright 2023-24 All right reserved by SGSITS"),p.qZA(),p.TgZ(3,"div",2),p.YNc(4,ft,4,4,"button",3),p.qZA()()),2&Ke&&(p.xp6(4),p.Q6J("ngForOf",ht.footerList))},dependencies:[w.sg,W.lW,he.Ye,De.xw,De.Wh,De.yH,Ze.rH,Ze.Od],styles:[".mat-toolbar[_ngcontent-%COMP%]{background:linear-gradient(to top,#2b32b2,#1488cc);flex-direction:row;box-sizing:border-box;display:flex;position:fixed;border-radius:3px}"]})}return ie})()},5717:(Cr,Pt,ae)=>{"use strict";ae.d(Pt,{f:()=>p});const p={faculty:[{icon:"bi-list",text:"Administration",route:"admin"},{icon:"bi-globe-central-south-asia",text:"About",route:"about"},{icon:"bi-list-task",text:"Tasks",route:"tasks"},{icon:"bi-bank",text:"Infrastructure",route:"infrastructure"},{icon:"header-icon-moodle icon-3x-4x text-white",text:"Moodle",route:"moodle"},{icon:"bi-file-medical-fill",text:"Leaves",route:"leaves"},{icon:"bi-question-circle-fill",text:"Complaints",route:"complaints"},{icon:"bi-bell-fill",text:"Notifications",route:"notifications"},{icon:"bi-person-circle",text:"Profile",route:"profile"}],head:[{icon:"bi-list",text:"Administration",route:"admin"},{icon:"bi-globe-central-south-asia",text:"About",route:"about"},{icon:"bi-list-task",text:"Tasks",route:"tasks"},{icon:"bi-person-workspace",text:"Faculty",route:"faculty"},{icon:"bi-bank",text:"Infrastructure",route:"infrastructure"},{icon:"header-icon-moodle icon-3x-4x text-white",text:"Moodle",route:"moodle"},{icon:"bi-file-medical-fill",text:"Leaves",route:"leaves"},{icon:"bi-question-circle-fill",text:"Complaints",route:"complaints"},{icon:"bi-bell-fill",text:"Notifications",route:"notifications"},{icon:"bi-person-circle",text:"Profile",route:"profile"}],student:[]}},953:(Cr,Pt,ae)=>{"use strict";ae.d(Pt,{S:()=>Ft});var p=ae(5879),w=ae(5717),W=ae(4229),he=ae(8109),De=ae(2333),Ze=ae(6814),Ue=ae(2296),ft=ae(1274),We=ae(617),ie=ae(6385),be=ae(6311),Qe=ae(3814),Ke=ae(7509);const ht=function(vt){return[vt]};function Nt(vt,qe){if(1&vt&&(p.TgZ(0,"a",18),p._UZ(1,"i",19),p.TgZ(2,"span"),p._uU(3),p.qZA()()),2&vt){const yt=p.oxw(2).$implicit;p.Q6J("routerLink",p.VKq(3,ht,yt.route)),p.xp6(1),p.Q6J("ngClass",yt.icon),p.xp6(2),p.Oqu(yt.text)}}function et(vt,qe){if(1&vt&&(p.TgZ(0,"a",20),p._uU(1),p.qZA()),2&vt){const yt=p.oxw(2).$implicit;p.xp6(1),p.hij(" ",yt.children.text," ")}}function rt(vt,qe){if(1&vt&&(p.TgZ(0,"li")(1,"a",21),p._uU(2),p.qZA()()),2&vt){const yt=qe.$implicit;p.xp6(1),p.Q6J("routerLink",p.VKq(2,ht,yt.route)),p.xp6(1),p.Oqu(yt.text)}}function Wt(vt,qe){if(1&vt&&(p.TgZ(0,"button",14),p.YNc(1,Nt,4,5,"a",15),p.YNc(2,et,2,1,"a",16),p.TgZ(3,"ul",17),p.YNc(4,rt,3,4,"li",5),p.qZA()()),2&vt){const yt=p.oxw().$implicit;p.xp6(1),p.Q6J("ngIf",!yt.children),p.xp6(1),p.Q6J("ngIf",yt.children),p.xp6(2),p.Q6J("ngForOf",null==yt.children?null:yt.children.children)}}function Jt(vt,qe){if(1&vt&&(p.ynx(0),p.YNc(1,Wt,5,3,"button",13),p.BQk()),2&vt){const yt=qe.$implicit;p.xp6(1),p.Q6J("ngIf","Profile"!=yt.text)}}function nr(vt,qe){if(1&vt&&(p.TgZ(0,"button",22),p._UZ(1,"img",23),p.qZA()),2&vt){const yt=p.oxw(),Yt=p.MAs(15);p.Q6J("matMenuTriggerFor",Yt),p.xp6(1),p.s9C("src",yt.images[yt.loginUser],p.LSH)}}function ir(vt,qe){if(1&vt&&(p.TgZ(0,"a",26),p._UZ(1,"i",19),p.TgZ(2,"span"),p._uU(3),p.qZA()()),2&vt){const yt=p.oxw().$implicit;p.Q6J("routerLink",p.VKq(3,ht,yt.route)),p.xp6(1),p.Q6J("ngClass",yt.icon),p.xp6(2),p.Oqu(yt.text)}}function wr(vt,qe){if(1&vt&&(p.TgZ(0,"a",27),p._uU(1),p.qZA()),2&vt){const yt=p.oxw().$implicit;p.xp6(1),p.hij(" ",yt.children.text," ")}}function gr(vt,qe){if(1&vt&&(p.TgZ(0,"li")(1,"a",21),p._uU(2),p.qZA()()),2&vt){const yt=qe.$implicit;p.xp6(1),p.Q6J("routerLink",p.VKq(2,ht,yt.route)),p.xp6(1),p.Oqu(yt.text)}}function Er(vt,qe){if(1&vt&&(p.ynx(0),p.TgZ(1,"button",10),p.YNc(2,ir,4,5,"a",24),p.YNc(3,wr,2,1,"a",25),p.TgZ(4,"ul",17),p.YNc(5,gr,3,4,"li",5),p.qZA()(),p._UZ(6,"mat-divider"),p.BQk()),2&vt){const yt=qe.$implicit;p.xp6(2),p.Q6J("ngIf",!yt.children),p.xp6(1),p.Q6J("ngIf",yt.children),p.xp6(2),p.Q6J("ngForOf",null==yt.children?null:yt.children.children)}}let Ft=(()=>{class vt{constructor(yt,Yt){this.router=yt,this.authService=Yt,this.userType="",this.sidenavToggle=new p.vpe,this.sidenavClose=new p.vpe,this.renderList=[],this.opened=!0,this.images=W.W,this.onToggleSidenav=()=>{this.sidenavToggle.emit()},this.onSidenavClose=()=>{this.sidenavClose.emit()},this.isLoggedIn=this.authService.getStatus().subscribe($t=>{this.isLoggedIn=$t,console.log(this.isLoggedIn)})}ngOnInit(){this.renderList=w.f[this.userType],console.log(this.userType),this.isLoggedIn&&(this.loginUser=null!=sessionStorage.getItem("username")?sessionStorage.getItem("username"):" ")}logout(){sessionStorage.clear(),this.router.navigate(["welcome"])}navigateToProfile(){let yt=sessionStorage.getItem("userType");this.router.navigate(["/"+yt+"/profile"])}static#e=this.\u0275fac=function(Yt){return new(Yt||vt)(p.Y36(he.F0),p.Y36(De.e))};static#t=this.\u0275cmp=p.Xpm({type:vt,selectors:[["app-navbar"]],inputs:{userType:"userType"},outputs:{sidenavToggle:"sidenavToggle",sidenavClose:"sidenavClose"},decls:29,vars:5,consts:[["mat-icon-button","","fxHide.gt-sm","",3,"matMenuTriggerFor"],["fxShow","",1,"college-logo-small","image-1x"],[3,"routerLink"],[1,"text-white",2,"text-align","center","font-size","16px","margin-left","10px"],["fxLayout","","fxLayoutAlign","end","fxHide.lt-md","",2,"display","flex","position","fixed","right","0"],[4,"ngFor","ngForOf"],["mat-button","","class","nav-link text-white","style","bottom: 0;",3,"matMenuTriggerFor",4,"ngIf"],["usermenu","matMenu"],["mat-menu-item","",3,"click"],["dropMenu","matMenu"],["mat-menu-item",""],[1,"text-black",3,"click"],[1,"bi","bi-arrow-left"],["mat-button","",4,"ngIf"],["mat-button",""],["class","nav-link text-white","routerLinkActive","active-header",3,"routerLink",4,"ngIf"],["class","nav-link dropdown-toggle","id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",4,"ngIf"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],["routerLinkActive","active-header",1,"nav-link","text-white",3,"routerLink"],[1,"bi",3,"ngClass"],["id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["routerLinkActive","active-header",1,"dropdown-item",3,"routerLink"],["mat-button","",1,"nav-link","text-white",2,"bottom","0",3,"matMenuTriggerFor"],["alt","HOD_image",2,"height","40px",3,"src"],["class","text-black","routerLinkActive","active-header",3,"routerLink",4,"ngIf"],["class","dropdown-toggle","id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",4,"ngIf"],["routerLinkActive","active-header",1,"text-black",3,"routerLink"],["id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"dropdown-toggle"]],template:function(Yt,$t){if(1&Yt&&(p.TgZ(0,"mat-toolbar")(1,"button",0)(2,"mat-icon"),p._uU(3,"menu"),p.qZA()(),p._UZ(4,"div",1),p.TgZ(5,"div")(6,"a",2)(7,"span",3),p._uU(8,"Department of "),p._UZ(9,"br"),p._uU(10," Computer Engineering"),p.qZA()()(),p.TgZ(11,"div",4),p.YNc(12,Jt,2,1,"ng-container",5),p.YNc(13,nr,2,2,"button",6),p.TgZ(14,"mat-menu",null,7)(16,"button",8),p.NdJ("click",function(){return $t.navigateToProfile()}),p._uU(17,"View Profile"),p.qZA(),p._UZ(18,"mat-divider"),p.TgZ(19,"button",8),p.NdJ("click",function(){return $t.logout()}),p._uU(20,"Logout"),p.qZA()()(),p.TgZ(21,"mat-menu",null,9),p.YNc(23,Er,7,3,"ng-container",5),p.TgZ(24,"button",10)(25,"a",11),p.NdJ("click",function(){return $t.logout()}),p._UZ(26,"i",12),p.TgZ(27,"span"),p._uU(28,"Logout"),p.qZA()()()()()),2&Yt){const Rr=p.MAs(22);p.xp6(1),p.Q6J("matMenuTriggerFor",Rr),p.xp6(5),p.MGl("routerLink","/",$t.userType,""),p.xp6(6),p.Q6J("ngForOf",$t.renderList),p.xp6(1),p.Q6J("ngIf",$t.isLoggedIn),p.xp6(10),p.Q6J("ngForOf",$t.renderList)}},dependencies:[Ze.mk,Ze.sg,Ze.O5,Ue.lW,Ue.RK,ft.Ye,We.Hw,ie.d,be.VK,be.OP,be.p6,Qe.xw,Qe.Wh,Ke.b8,Ke.oO,he.rH,he.Od],styles:[".mat-toolbar[_ngcontent-%COMP%]{background:linear-gradient(to top,#2b32b2,#1488cc);flex-direction:row;box-sizing:border-box;display:flex;position:fixed;border-radius:3px;z-index:999}.nav-item[_ngcontent-%COMP%]{margin:25px}.nav-link[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;position:relative}.nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.nav-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.nav-link[_ngcontent-%COMP%]:hover{color:#5bc1ff!important}"]})}return vt})()},7395:(Cr,Pt,ae)=>{"use strict";ae.d(Pt,{d:()=>Ke});var p=ae(4229),w=ae(5879),W=ae(3666),he=ae(2333),De=ae(4698),Ze=ae(3528),Ue=ae(7700),ft=ae(8109),We=ae(6814),ie=ae(6385),be=ae(5195);function Qe(ht,Nt){if(1&ht&&(w.TgZ(0,"div",1)(1,"div",2)(2,"mat-card",3)(3,"div",4)(4,"h3"),w._uU(5),w.qZA(),w.TgZ(6,"div",5)(7,"h3"),w._uU(8),w.qZA()()(),w._UZ(9,"mat-divider"),w.TgZ(10,"div",6)(11,"div",7),w._UZ(12,"img",8),w.qZA(),w.TgZ(13,"div",9)(14,"ul")(15,"li"),w._uU(16),w.qZA(),w.TgZ(17,"li"),w._uU(18),w.qZA()()()()()()()),2&ht){const et=w.oxw();w.xp6(5),w.Oqu(null==et.facultyProfile?null:et.facultyProfile.name),w.xp6(3),w.hij("Employee ID:",null==et.facultyProfile?null:et.facultyProfile.employeeId,""),w.xp6(4),w.s9C("src",et.images[et.username],w.LSH),w.xp6(4),w.hij("Email: ",null==et.facultyProfile?null:et.facultyProfile.email,""),w.xp6(2),w.hij("Specialization: ",null==et.facultyProfile?null:et.facultyProfile.areaOfSpecialization,"")}}let Ke=(()=>{class ht{constructor(et,rt,Wt,Jt,nr,ir){this.facultyService=et,this.authService=rt,this.toastService=Wt,this.spinnerService=Jt,this.dialog=nr,this.router=ir,this.facultyList=[],this.userType=sessionStorage.getItem("userType"),this.userId=sessionStorage.getItem("userId"),this.username=sessionStorage.getItem("username"),this.images=p.W,this.fetchData={getFacList:()=>{this.facultyService.getStaffBasicProfile(this.userId,this.userType).subscribe({next:wr=>{console.log(wr),this.facultyProfile=wr},error:()=>{this.toastService.error("Failed to fetch faculties"),this.spinnerService.removeSpinner()},complete:()=>{this.spinnerService.removeSpinner()}})}}}ngOnInit(){this.authService.getActiveUserId(this.username).subscribe({next:et=>{console.log(et),this.userId=et.message,this.getFacultyProfile()},error:et=>{console.log(et),this.toastService.error("Failed to fetch user id"),this.spinnerService.removeSpinner()},complete:()=>{this.spinnerService.removeSpinner()}})}Init(){}getFacultyProfile(){this.facultyService.getStaffBasicProfile(this.userId,this.userType).subscribe({next:et=>{console.log(et),this.facultyProfile=et},error:()=>{this.toastService.error("Failed to fetch staff info"),this.spinnerService.removeSpinner()},complete:()=>{this.spinnerService.removeSpinner()}})}logout(){sessionStorage.clear(),this.router.navigate(["welcome"])}static#e=this.\u0275fac=function(rt){return new(rt||ht)(w.Y36(W.E),w.Y36(he.e),w.Y36(De.jE),w.Y36(Ze.V),w.Y36(Ue.uw),w.Y36(ft.F0))};static#t=this.\u0275cmp=w.Xpm({type:ht,selectors:[["app-profile"]],decls:1,vars:1,consts:[["style","display: flex; flex-direction: row; justify-content: space-evenly",4,"ngIf"],[2,"display","flex","flex-direction","row","justify-content","space-evenly"],[1,"col-lg-9",2,"margin-inline","20px"],["appearance","outlined"],[1,"top-profile",2,"display","flex","justify-content","space-between","padding","20px"],[2,"display","flex","flex-direction","row","justify-content","space-between"],[1,"bottom-profile",2,"display","flex","flex-direction","row","justify-content","space-around","padding","20px"],[1,"photograph",2,"height","200px","width","200px","border","1px solid grey"],["alt","image",2,"height","200px","width","200px",3,"src"],[1,"details"]],template:function(rt,Wt){1&rt&&w.YNc(0,Qe,19,5,"div",0),2&rt&&w.Q6J("ngIf",Wt.facultyProfile)},dependencies:[We.O5,ie.d,be.a8]})}return ht})()},4223:(Cr,Pt,ae)=>{"use strict";ae.d(Pt,{M:()=>J});var p=ae(5879),w=ae(7882),W=ae(2711),he=ae(4354);class De extends W.be{constructor(){super(...arguments),this.headerElRef=(0,he.Vf)()}renderSimpleLayout(T,K){let{props:O,context:le}=this,Y=[],de=(0,W.cc)(le.options);return T&&Y.push({type:"header",key:"header",isSticky:de,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:T}}),Y.push({type:"body",key:"body",liquid:!0,chunk:{content:K}}),(0,he.az)(W.ct,{elClasses:["fc-daygrid"],viewSpec:le.viewSpec},(0,he.az)(W.b$,{liquid:!O.isHeightAuto&&!O.forPrint,collapsibleWidth:O.forPrint,cols:[],sections:Y}))}renderHScrollLayout(T,K,O,le){let Y=this.context.pluginHooks.scrollGridImpl;if(!Y)throw new Error("No ScrollGrid implementation");let{props:de,context:te}=this,Ye=!de.forPrint&&(0,W.cc)(te.options),nt=!de.forPrint&&(0,W.cb)(te.options),st=[];return T&&st.push({type:"header",key:"header",isSticky:Ye,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:T}]}),st.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:K}]}),nt&&st.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:W.ca}]}),(0,he.az)(W.ct,{elClasses:["fc-daygrid"],viewSpec:te.viewSpec},(0,he.az)(Y,{liquid:!de.isHeightAuto&&!de.forPrint,forPrint:de.forPrint,collapsibleWidth:de.forPrint,colGroups:[{cols:[{span:O,minWidth:le}]}],sections:st}))}}function Ze(V,T){let K=[];for(let O=0;O<T;O+=1)K[O]=[];for(let O of V)K[O.row].push(O);return K}function Ue(V,T){let K=[];for(let O=0;O<T;O+=1)K[O]=[];for(let O of V)K[O.firstCol].push(O);return K}function ft(V,T){let K=[];if(V){for(let O=0;O<T;O+=1)K[O]={affectedInstances:V.affectedInstances,isEvent:V.isEvent,segs:[]};for(let O of V.segs)K[O.row].segs.push(O)}else for(let O=0;O<T;O+=1)K[O]=null;return K}const We=(0,W.x)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function ie(V){let{display:T}=V.eventRange.ui;return"list-item"===T||"auto"===T&&!V.eventRange.def.allDay&&V.firstCol===V.lastCol&&V.isStart&&V.isEnd}class be extends W.B{render(){let{props:T}=this;return(0,he.az)(W.cj,Object.assign({},T,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:We,defaultDisplayEventEnd:T.defaultDisplayEventEnd,disableResizing:!T.seg.eventRange.def.allDay}))}}class Qe extends W.B{render(){let{props:T,context:K}=this,{options:O}=K,{seg:le}=T,de=(0,W.bQ)(le,O.eventTimeFormat||We,K,!0,T.defaultDisplayEventEnd);return(0,he.az)(W.cn,Object.assign({},T,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:(0,W.bU)(T.seg,K),defaultGenerator:Ke,timeText:de,isResizing:!1,isDateSelecting:!1}))}}function Ke(V){return(0,he.az)(he.HY,null,(0,he.az)("div",{className:"fc-daygrid-event-dot",style:{borderColor:V.borderColor||V.backgroundColor}}),V.timeText&&(0,he.az)("div",{className:"fc-event-time"},V.timeText),(0,he.az)("div",{className:"fc-event-title"},V.event.title||(0,he.az)(he.HY,null,"\xa0")))}class ht extends W.B{constructor(){super(...arguments),this.compileSegs=(0,W.z)(Nt)}render(){let{props:T}=this,{allSegs:K,invisibleSegs:O}=this.compileSegs(T.singlePlacements);return(0,he.az)(W.cr,{elClasses:["fc-daygrid-more-link"],dateProfile:T.dateProfile,todayRange:T.todayRange,allDayDate:T.allDayDate,moreCnt:T.moreCnt,allSegs:K,hiddenSegs:O,alignmentElRef:T.alignmentElRef,alignGridTop:T.alignGridTop,extraDateSpan:T.extraDateSpan,popoverContent:()=>{let le=(T.eventDrag?T.eventDrag.affectedInstances:null)||(T.eventResize?T.eventResize.affectedInstances:null)||{};return(0,he.az)(he.HY,null,K.map(Y=>{let de=Y.eventRange.instance.instanceId;return(0,he.az)("div",{className:"fc-daygrid-event-harness",key:de,style:{visibility:le[de]?"hidden":""}},ie(Y)?(0,he.az)(Qe,Object.assign({seg:Y,isDragging:!1,isSelected:de===T.eventSelection,defaultDisplayEventEnd:!1},(0,W.bS)(Y,T.todayRange))):(0,he.az)(be,Object.assign({seg:Y,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:de===T.eventSelection,defaultDisplayEventEnd:!1},(0,W.bS)(Y,T.todayRange))))}))}})}}function Nt(V){let T=[],K=[];for(let O of V)T.push(O.seg),O.isVisible||K.push(O.seg);return{allSegs:T,invisibleSegs:K}}const et=(0,W.x)({week:"narrow"});class rt extends W.be{constructor(){super(...arguments),this.rootElRef=(0,he.Vf)(),this.state={dayNumberId:(0,W.a5)()},this.handleRootEl=T=>{(0,W.Y)(this.rootElRef,T),(0,W.Y)(this.props.elRef,T)}}render(){let{context:T,props:K,state:O,rootElRef:le}=this,{options:Y,dateEnv:de}=T,{date:te,dateProfile:Ye}=K;const nt=K.showDayNumber&&function Jt(V,T,K){const{start:O,end:le}=T,Y=(0,W.bg)(le,-1),de=K.getYear(O),te=K.getMonth(O),Ye=K.getYear(Y),nt=K.getMonth(Y);return!(de===Ye&&te===nt)&&(V.valueOf()===O.valueOf()||1===K.getDay(V)&&V.valueOf()<le.valueOf())}(te,Ye.currentRange,de);return(0,he.az)(W.cl,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...K.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},K.extraDataAttrs),K.showDayNumber?{"aria-labelledby":O.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:Wt,date:te,dateProfile:Ye,todayRange:K.todayRange,showDayNumber:K.showDayNumber,isMonthStart:nt,extraRenderProps:K.extraRenderProps},(st,ur)=>(0,he.az)("div",{ref:K.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:K.minHeight}},K.showWeekNumber&&(0,he.az)(W.cq,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:(0,W.b0)(T,te,"week"),date:te,defaultFormat:et}),!ur.isDisabled&&(K.showDayNumber||(0,W.cm)(Y)||K.forceDayTop)?(0,he.az)("div",{className:"fc-daygrid-day-top"},(0,he.az)(st,{elTag:"a",elClasses:["fc-daygrid-day-number",nt&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},(0,W.b0)(T,te)),{id:O.dayNumberId})})):K.showDayNumber?(0,he.az)("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},(0,he.az)("a",{className:"fc-daygrid-day-number"},"\xa0")):void 0,(0,he.az)("div",{className:"fc-daygrid-day-events",ref:K.fgContentElRef},K.fgContent,(0,he.az)("div",{className:"fc-daygrid-day-bottom",style:{marginTop:K.moreMarginTop}},(0,he.az)(ht,{allDayDate:te,singlePlacements:K.singlePlacements,moreCnt:K.moreCnt,alignmentElRef:le,alignGridTop:!K.showDayNumber,extraDateSpan:K.extraDateSpan,dateProfile:K.dateProfile,eventSelection:K.eventSelection,eventDrag:K.eventDrag,eventResize:K.eventResize,todayRange:K.todayRange}))),(0,he.az)("div",{className:"fc-daygrid-day-bg"},K.bgContent)))}}function Wt(V){return V.dayNumberText||(0,he.az)(he.HY,null,"\xa0")}function nr(V){return V.eventRange.instance.instanceId+":"+V.firstCol}function ir(V){return nr(V)+":"+V.lastCol}function Ft(V,T,K,O){if(V.firstCol===T&&V.lastCol===K-1)return V;let le=V.eventRange,Y=le.range,de=(0,W.o)(Y,{start:O[T].date,end:(0,W.t)(O[K-1].date,1)});return Object.assign(Object.assign({},V),{firstCol:T,lastCol:K-1,eventRange:{def:le.def,ui:Object.assign(Object.assign({},le.ui),{durationEditable:!1}),instance:le.instance,range:de},isStart:V.isStart&&de.start.valueOf()===Y.start.valueOf(),isEnd:V.isEnd&&de.end.valueOf()===Y.end.valueOf()})}class vt extends W.bA{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(T){const K=super.addSegs(T),{entriesByLevel:O}=this,le=Y=>!this.forceHidden[(0,W.bB)(Y)];for(let Y=0;Y<O.length;Y+=1)O[Y]=O[Y].filter(le);return K}handleInvalidInsertion(T,K,O){const{entriesByLevel:le,forceHidden:Y}=this,{touchingEntry:de,touchingLevel:te,touchingLateral:Ye}=T;if(this.hiddenConsumes&&de){const nt=(0,W.bB)(de);if(!Y[nt])if(this.allowReslicing){const st=Object.assign(Object.assign({},de),{span:(0,W.bF)(de.span,K.span)});Y[(0,W.bB)(st)]=!0,le[te][Ye]=st,O.push(st),this.splitEntry(de,K,O)}else Y[nt]=!0,O.push(de)}super.handleInvalidInsertion(T,K,O)}}class qe extends W.be{constructor(){super(...arguments),this.cellElRefs=new W.cf,this.frameElRefs=new W.cf,this.fgElRefs=new W.cf,this.segHarnessRefs=new W.cf,this.rootElRef=(0,he.Vf)(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=T=>{T&&this.updateSizing(!0)}}render(){let{props:T,state:K,context:O}=this,{options:le}=O,Y=T.cells.length,de=Ue(T.businessHourSegs,Y),te=Ue(T.bgEventSegs,Y),Ye=Ue(this.getHighlightSegs(),Y),nt=Ue(this.getMirrorSegs(),Y),{singleColPlacements:st,multiColPlacements:ur,moreCnts:U,moreMarginTops:Q}=function wr(V,T,K,O,le,Y,de){let te=new vt(ot=>le[V[ot.index].eventRange.instance.instanceId+":"+ot.span.start+":"+(ot.span.end-1)]||1);te.allowReslicing=!0,te.strictOrder=O,!0===T||!0===K?(te.maxCoord=Y,te.hiddenConsumes=!0):"number"==typeof T?te.maxStackCnt=T:"number"==typeof K&&(te.maxStackCnt=K,te.hiddenConsumes=!0);let Ye=[],nt=[];for(let ot=0;ot<V.length;ot+=1){let Rt=V[ot],It=ir(Rt);null!=le[It]?Ye.push({index:ot,span:{start:Rt.firstCol,end:Rt.lastCol+1}}):nt.push(Rt)}let st=te.addSegs(Ye),ur=te.toRects(),{singleColPlacements:U,multiColPlacements:Q,leftoverMargins:ue}=function gr(V,T,K){let O=function Er(V,T){let K=[];for(let O=0;O<T;O+=1)K.push([]);for(let O of V)for(let le=O.span.start;le<O.span.end;le+=1)K[le].push(O);return K}(V,K.length),le=[],Y=[],de=[];for(let te=0;te<K.length;te+=1){let Ye=O[te],nt=[],st=0,ur=0;for(let Q of Ye)nt.push({seg:Ft(T[Q.index],te,te+1,K),isVisible:!0,isAbsolute:!1,absoluteTop:Q.levelCoord,marginTop:Q.levelCoord-st}),st=Q.levelCoord+Q.thickness;let U=[];st=0,ur=0;for(let Q of Ye){let ue=T[Q.index],ut=Q.span.start===te;ur+=Q.levelCoord-st,st=Q.levelCoord+Q.thickness,Q.span.end-Q.span.start>1?(ur+=Q.thickness,ut&&U.push({seg:Ft(ue,Q.span.start,Q.span.end,K),isVisible:!0,isAbsolute:!0,absoluteTop:Q.levelCoord,marginTop:0})):ut&&(U.push({seg:Ft(ue,Q.span.start,Q.span.end,K),isVisible:!0,isAbsolute:!1,absoluteTop:Q.levelCoord,marginTop:ur}),ur=0)}le.push(nt),Y.push(U),de.push(ur)}return{singleColPlacements:le,multiColPlacements:Y,leftoverMargins:de}}(ur,V,de),Ee=[],ut=[];for(let ot of nt){Q[ot.firstCol].push({seg:ot,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let Rt=ot.firstCol;Rt<=ot.lastCol;Rt+=1)U[Rt].push({seg:Ft(ot,Rt,Rt+1,de),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let ot=0;ot<de.length;ot+=1)Ee.push(0);for(let ot of st){let Rt=V[ot.index],It=ot.span;Q[It.start].push({seg:Ft(Rt,It.start,It.end,de),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let tr=It.start;tr<It.end;tr+=1)Ee[tr]+=1,U[tr].push({seg:Ft(Rt,tr,tr+1,de),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let ot=0;ot<de.length;ot+=1)ut.push(ue[ot]);return{singleColPlacements:U,multiColPlacements:Q,moreCnts:Ee,moreMarginTops:ut}}((0,W.bR)(T.fgEventSegs,le.eventOrder),T.dayMaxEvents,T.dayMaxEventRows,le.eventOrderStrict,K.segHeights,K.maxContentHeight,T.cells),ue=T.eventDrag&&T.eventDrag.affectedInstances||T.eventResize&&T.eventResize.affectedInstances||{};return(0,he.az)("tr",{ref:this.rootElRef,role:"row"},T.renderIntro&&T.renderIntro(),T.cells.map((Ee,ut)=>{let ot=this.renderFgSegs(ut,T.forPrint?st[ut]:ur[ut],T.todayRange,ue),Rt=this.renderFgSegs(ut,function yt(V,T){if(!V.length)return[];let K=function Yt(V){let T={};for(let K of V)for(let O of K)T[O.seg.eventRange.instance.instanceId]=O.absoluteTop;return T}(T);return V.map(O=>({seg:O,isVisible:!0,isAbsolute:!0,absoluteTop:K[O.eventRange.instance.instanceId],marginTop:0}))}(nt[ut],ur),T.todayRange,{},!!T.eventDrag,!!T.eventResize,!1);return(0,he.az)(rt,{key:Ee.key,elRef:this.cellElRefs.createRef(Ee.key),innerElRef:this.frameElRefs.createRef(Ee.key),dateProfile:T.dateProfile,date:Ee.date,showDayNumber:T.showDayNumbers,showWeekNumber:T.showWeekNumbers&&0===ut,forceDayTop:T.showWeekNumbers,todayRange:T.todayRange,eventSelection:T.eventSelection,eventDrag:T.eventDrag,eventResize:T.eventResize,extraRenderProps:Ee.extraRenderProps,extraDataAttrs:Ee.extraDataAttrs,extraClassNames:Ee.extraClassNames,extraDateSpan:Ee.extraDateSpan,moreCnt:U[ut],moreMarginTop:Q[ut],singlePlacements:st[ut],fgContentElRef:this.fgElRefs.createRef(Ee.key),fgContent:(0,he.az)(he.HY,null,(0,he.az)(he.HY,null,ot),(0,he.az)(he.HY,null,Rt)),bgContent:(0,he.az)(he.HY,null,this.renderFillSegs(Ye[ut],"highlight"),this.renderFillSegs(de[ut],"non-business"),this.renderFillSegs(te[ut],"bg-event")),minHeight:T.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(T,K){this.updateSizing(!(0,W.E)(T,this.props))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:T}=this;return T.eventDrag&&T.eventDrag.segs.length?T.eventDrag.segs:T.eventResize&&T.eventResize.segs.length?T.eventResize.segs:T.dateSelectionSegs}getMirrorSegs(){let{props:T}=this;return T.eventResize&&T.eventResize.segs.length?T.eventResize.segs:[]}renderFgSegs(T,K,O,le,Y,de,te){let{context:Ye}=this,{eventSelection:nt}=this.props,{framePositions:st}=this.state,ur=1===this.props.cells.length,U=Y||de||te,Q=[];if(st)for(let ue of K){let{seg:Ee}=ue,{instanceId:ut}=Ee.eventRange.instance,ot=ue.isVisible&&!le[ut],Rt=ue.isAbsolute,It="",tr="";Rt&&(Ye.isRtl?(tr=0,It=st.lefts[Ee.lastCol]-st.lefts[Ee.firstCol]):(It=0,tr=st.rights[Ee.firstCol]-st.rights[Ee.lastCol])),Q.push((0,he.az)("div",{className:"fc-daygrid-event-harness"+(Rt?" fc-daygrid-event-harness-abs":""),key:nr(Ee),ref:U?null:this.segHarnessRefs.createRef(ir(Ee)),style:{visibility:ot?"":"hidden",marginTop:Rt?"":ue.marginTop,top:Rt?ue.absoluteTop:"",left:It,right:tr}},ie(Ee)?(0,he.az)(Qe,Object.assign({seg:Ee,isDragging:Y,isSelected:ut===nt,defaultDisplayEventEnd:ur},(0,W.bS)(Ee,O))):(0,he.az)(be,Object.assign({seg:Ee,isDragging:Y,isResizing:de,isDateSelecting:te,isSelected:ut===nt,defaultDisplayEventEnd:ur},(0,W.bS)(Ee,O)))))}return Q}renderFillSegs(T,K){let{isRtl:O}=this.context,{todayRange:le}=this.props,{framePositions:Y}=this.state,de=[];if(Y)for(let te of T){let Ye=O?{right:0,left:Y.lefts[te.lastCol]-Y.lefts[te.firstCol]}:{left:0,right:Y.rights[te.firstCol]-Y.rights[te.lastCol]};de.push((0,he.az)("div",{key:(0,W.bT)(te.eventRange),className:"fc-daygrid-bg-harness",style:Ye},"bg-event"===K?(0,he.az)(W.cp,Object.assign({seg:te},(0,W.bS)(te,le))):(0,W.co)(K)))}return(0,he.az)(he.HY,{},...de)}updateSizing(T){let{props:K,state:O,frameElRefs:le}=this;if(!K.forPrint&&null!==K.clientWidth){if(T){let Ye=K.cells.map(nt=>le.currentMap[nt.key]);if(Ye.length){let nt=this.rootElRef.current,st=new W.ba(nt,Ye,!0,!1);(!O.framePositions||!O.framePositions.similarTo(st))&&this.setState({framePositions:new W.ba(nt,Ye,!0,!1)})}}const Y=this.state.segHeights,de=this.querySegHeights(),te=!0===K.dayMaxEvents||!0===K.dayMaxEventRows;this.safeSetState({segHeights:Object.assign(Object.assign({},Y),de),maxContentHeight:te?this.computeMaxContentHeight():null})}}querySegHeights(){let T=this.segHarnessRefs.currentMap,K={};for(let O in T){let le=Math.round(T[O].getBoundingClientRect().height);K[O]=Math.max(K[O]||0,le)}return K}computeMaxContentHeight(){let T=this.props.cells[0].key,O=this.fgElRefs.currentMap[T];return this.cellElRefs.currentMap[T].getBoundingClientRect().bottom-O.getBoundingClientRect().top}getCellEls(){let T=this.cellElRefs.currentMap;return this.props.cells.map(K=>T[K.key])}}qe.addStateEquality({segHeights:W.E});class $t extends W.be{constructor(){super(...arguments),this.splitBusinessHourSegs=(0,W.z)(Ze),this.splitBgEventSegs=(0,W.z)(Ze),this.splitFgEventSegs=(0,W.z)(Ze),this.splitDateSelectionSegs=(0,W.z)(Ze),this.splitEventDrag=(0,W.z)(ft),this.splitEventResize=(0,W.z)(ft),this.rowRefs=new W.cf}render(){let{props:T,context:K}=this,O=T.cells.length,le=this.splitBusinessHourSegs(T.businessHourSegs,O),Y=this.splitBgEventSegs(T.bgEventSegs,O),de=this.splitFgEventSegs(T.fgEventSegs,O),te=this.splitDateSelectionSegs(T.dateSelectionSegs,O),Ye=this.splitEventDrag(T.eventDrag,O),nt=this.splitEventResize(T.eventResize,O),st=O>=7&&T.clientWidth?T.clientWidth/K.options.aspectRatio/6:null;return(0,he.az)(W.ch,{unit:"day"},(ur,U)=>(0,he.az)(he.HY,null,T.cells.map((Q,ue)=>(0,he.az)(qe,{ref:this.rowRefs.createRef(ue),key:Q.length?Q[0].date.toISOString():ue,showDayNumbers:O>1,showWeekNumbers:T.showWeekNumbers,todayRange:U,dateProfile:T.dateProfile,cells:Q,renderIntro:T.renderRowIntro,businessHourSegs:le[ue],eventSelection:T.eventSelection,bgEventSegs:Y[ue].filter(Rr),fgEventSegs:de[ue],dateSelectionSegs:te[ue],eventDrag:Ye[ue],eventResize:nt[ue],dayMaxEvents:T.dayMaxEvents,dayMaxEventRows:T.dayMaxEventRows,clientWidth:T.clientWidth,clientHeight:T.clientHeight,cellMinHeight:st,forPrint:T.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const T=this.rowRefs.currentMap[0].getCellEls()[0],K=T?T.closest(".fc-daygrid-body"):null;K&&(this.rootEl=K,this.context.registerInteractiveComponent(this,{el:K,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new W.ba(this.rootEl,this.rowRefs.collect().map(T=>T.getCellEls()[0]),!1,!0),this.colPositions=new W.ba(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(T,K){let{colPositions:O,rowPositions:le}=this,Y=O.leftToIndex(T),de=le.topToIndex(K);if(null!=de&&null!=Y){let te=this.props.cells[de][Y];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(de,Y),allDay:!0},te.extraDateSpan),dayEl:this.getCellEl(de,Y),rect:{left:O.lefts[Y],right:O.rights[Y],top:le.tops[de],bottom:le.bottoms[de]},layer:0}}return null}getCellEl(T,K){return this.rowRefs.currentMap[T].getCellEls()[K]}getCellRange(T,K){let O=this.props.cells[T][K].date;return{start:O,end:(0,W.t)(O,1)}}}function Rr(V){return V.eventRange.def.allDay}class $r extends W.be{constructor(){super(...arguments),this.elRef=(0,he.Vf)(),this.needsScrollReset=!1}render(){let{props:T}=this,{dayMaxEventRows:K,dayMaxEvents:O,expandRows:le}=T,Y=!0===O||!0===K;return Y&&!le&&(Y=!1,K=null,O=null),(0,he.az)("div",{ref:this.elRef,className:["fc-daygrid-body",Y?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",le?"":"fc-daygrid-body-natural"].join(" "),style:{width:T.clientWidth,minWidth:T.tableMinWidth}},(0,he.az)("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:T.clientWidth,minWidth:T.tableMinWidth,height:le?T.clientHeight:""}},T.colGroupNode,(0,he.az)("tbody",{role:"presentation"},(0,he.az)($t,{dateProfile:T.dateProfile,cells:T.cells,renderRowIntro:T.renderRowIntro,showWeekNumbers:T.showWeekNumbers,clientWidth:T.clientWidth,clientHeight:T.clientHeight,businessHourSegs:T.businessHourSegs,bgEventSegs:T.bgEventSegs,fgEventSegs:T.fgEventSegs,dateSelectionSegs:T.dateSelectionSegs,eventSelection:T.eventSelection,eventDrag:T.eventDrag,eventResize:T.eventResize,dayMaxEvents:O,dayMaxEventRows:K,forPrint:T.forPrint,isHitComboAllowed:T.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(T){T.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const T=function vr(V,T){let K;return T.currentRangeUnit.match(/year|month/)&&(K=V.querySelector(`[data-date="${(0,W.bx)(T.currentDate)}-01"]`)),K||(K=V.querySelector(`[data-date="${(0,W.bv)(T.currentDate)}"]`)),K}(this.elRef.current,this.props.dateProfile);if(T){const K=T.closest(".fc-daygrid-body"),O=K.closest(".fc-scroller"),le=T.getBoundingClientRect().top-K.getBoundingClientRect().top;O.scrollTop=le?le+1:0}this.needsScrollReset=!1}}}class Ar extends W.bW{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(T,K){return K.sliceRange(T)}}class br extends W.be{constructor(){super(...arguments),this.slicer=new Ar,this.tableRef=(0,he.Vf)()}render(){let{props:T,context:K}=this;return(0,he.az)($r,Object.assign({ref:this.tableRef},this.slicer.sliceProps(T,T.dateProfile,T.nextDayThreshold,K,T.dayTableModel),{dateProfile:T.dateProfile,cells:T.dayTableModel.cells,colGroupNode:T.colGroupNode,tableMinWidth:T.tableMinWidth,renderRowIntro:T.renderRowIntro,dayMaxEvents:T.dayMaxEvents,dayMaxEventRows:T.dayMaxEventRows,showWeekNumbers:T.showWeekNumbers,expandRows:T.expandRows,headerAlignElRef:T.headerAlignElRef,clientWidth:T.clientWidth,clientHeight:T.clientHeight,forPrint:T.forPrint}))}}function Ne(V,T){let K=new W.bO(V.renderRange,T);return new W.bV(K,/year|month|week/.test(V.currentRangeUnit))}(0,W.cw)(':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}');var kt=(0,w.rx)({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:class At extends De{constructor(){super(...arguments),this.buildDayTableModel=(0,W.z)(Ne),this.headerRef=(0,he.Vf)(),this.tableRef=(0,he.Vf)()}render(){let{options:T,dateProfileGenerator:K}=this.context,{props:O}=this,le=this.buildDayTableModel(O.dateProfile,K),Y=T.dayHeaders&&(0,he.az)(W.bK,{ref:this.headerRef,dateProfile:O.dateProfile,dates:le.headerDates,datesRepDistinctDays:1===le.rowCnt}),de=te=>(0,he.az)(br,{ref:this.tableRef,dateProfile:O.dateProfile,dayTableModel:le,businessHours:O.businessHours,dateSelection:O.dateSelection,eventStore:O.eventStore,eventUiBases:O.eventUiBases,eventSelection:O.eventSelection,eventDrag:O.eventDrag,eventResize:O.eventResize,nextDayThreshold:T.nextDayThreshold,colGroupNode:te.tableColGroupNode,tableMinWidth:te.tableMinWidth,dayMaxEvents:T.dayMaxEvents,dayMaxEventRows:T.dayMaxEventRows,showWeekNumbers:T.weekNumbers,expandRows:!O.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:te.clientWidth,clientHeight:te.clientHeight,forPrint:O.forPrint});return T.dayMinWidth?this.renderHScrollLayout(Y,de,le.colCnt,T.dayMinWidth):this.renderSimpleLayout(Y,de)}},dateProfileGeneratorClass:class dt extends W.U{buildRenderRange(T,K,O){let le=super.buildRenderRange(T,K,O),{props:Y}=this;return function Xe(V){let Y,{dateEnv:T,currentRange:K}=V,{start:O,end:le}=K;if(V.snapToWeek&&(O=T.startOfWeek(O),Y=T.startOfWeek(le),Y.valueOf()!==le.valueOf()&&(le=(0,W.bh)(Y,1))),V.fixedWeekCount){let de=T.startOfWeek(T.startOfMonth((0,W.t)(K.end,-1))),te=Math.ceil((0,W.bi)(de,le));le=(0,W.bh)(le,6-te)}return{start:O,end:le}}({currentRange:le,snapToWeek:/^(year|month)$/.test(K),fixedWeekCount:Y.fixedWeekCount,dateEnv:Y.dateEnv})}}},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}}),hr=ae(4104),Ir=ae(1966),He=ae(2968),z=ae(6223),B=ae(3445),re=ae(3680),Me=(ae(4298),ae(6676)),Se=ae(9485),Re=ae(9862);let Dt=(()=>{class V{constructor(K){this.http=K,this.serviceUrls=Se.q}getAllCourses(){return this.http.get(Se.q.getCourseList)}static#e=this.\u0275fac=function(O){return new(O||V)(p.LFG(Re.eN))};static#t=this.\u0275prov=p.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})();var lt=ae(4698),it=ae(7587),Oe=ae(6814),or=ae(4516),Mt=ae(4170),Et=ae(2296),we=ae(6385),yr=ae(8525),je=ae(8034),A=ae(3814),xt=ae(3546);function nn(V,T){1&V&&p._UZ(0,"mat-divider")}function Sr(V,T){if(1&V&&(p.ynx(0),p.TgZ(1,"mat-option",16),p._uU(2),p.qZA(),p.YNc(3,nn,1,0,"mat-divider",17),p.BQk()),2&V){const K=T.$implicit,O=T.last;p.xp6(1),p.Q6J("value",K.name),p.xp6(1),p.Oqu(K.name),p.xp6(1),p.Q6J("ngIf",!O)}}function Dr(V,T){1&V&&p._UZ(0,"mat-divider")}function qr(V,T){if(1&V&&(p.ynx(0),p.TgZ(1,"mat-option",16),p._uU(2),p.qZA(),p.YNc(3,Dr,1,0,"mat-divider",17),p.BQk()),2&V){const K=T.$implicit,O=T.last;p.xp6(1),p.Q6J("value",K.name),p.xp6(1),p.Oqu(K.name),p.xp6(1),p.Q6J("ngIf",!O)}}function Nr(V,T){1&V&&p._UZ(0,"mat-divider")}function mr(V,T){if(1&V&&(p.ynx(0),p.TgZ(1,"mat-option",16),p._uU(2),p.qZA(),p.YNc(3,Nr,1,0,"mat-divider",17),p.BQk()),2&V){const K=T.$implicit,O=T.last;p.xp6(1),p.Q6J("value",K),p.xp6(1),p.Oqu(K),p.xp6(1),p.Q6J("ngIf",!O)}}const ye={parse:{dateInput:"YYYY"},display:{dateInput:"YYYY",monthYearLabel:"YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};let Ie=(()=>{class V{constructor(K,O,le,Y){this.fb=K,this.ttService=O,this.toastService=le,this.taskService=Y,this.dateChange=new p.vpe,this.rowData=[{Monday:"'Subject': ML"}],this.courseList=[],this.taskCategoryId="",this.ttTypes=[],this.today=new Date,this.session1=new Date,this.session2=null,this.session2Max=null,this.showSession2=!1,this.showGrid=!1,this.semesters=[{course:"BE",sem:["I","II","III","IV","V","VI","VII","VIII"]},{course:"BTech",sem:["I","II","III","IV","V","VI","VII","VIII"]},{course:"ME",sem:["I","II","III","IV"]},{course:"MTech",sem:["I","II","III","IV"]},{course:"Phd",sem:["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII"]}],this.semesterList=[],this.colDefs=[{field:"Monday",minWidth:200,autoHeight:!0,wrapText:!0},{field:"Tuesday",minWidth:200},{field:"Wednesday",minWidth:200},{field:"Thursday",minWidth:200},{field:"Friday",minWidth:200},{field:"Saturday",minWidth:200}],this.defaultColDef={flex:1,minWidth:100,editable:!0},this.editTimeTableForm=this.fb.group({course:new z.NI("",[z.kI.required]),ttType:new z.NI("",[z.kI.required]),sessionStart:new z.NI(Me(),[z.kI.required]),sessionEnd:new z.NI(Me(),[z.kI.required]),semester:new z.NI("",[z.kI.required])}),this.editTimeTableForm.get("sessionEnd")?.disable(),O.getAllCourses().subscribe(de=>{this.courseList=de}),Y.getCategoryList().subscribe(de=>{let te=de;for(let Ye of te)if("Time Table"===Ye.name){this.taskCategoryId=Ye.id,console.log(this.taskCategoryId);break}Y.getTaskByCategory(this.taskCategoryId).subscribe(Ye=>{this.ttTypes=Ye,console.log(this.ttTypes)})})}onGridReady(K){}chosenYearHandler(K,O,le){console.log(K);const Y=this.editTimeTableForm.controls[le].value;Y.year(K.year()),console.log(K.year()),this.editTimeTableForm.controls[le].setValue(Y),console.log(this.editTimeTableForm.controls.sessionStart.value),this.session2=new Date,this.session2.setFullYear(K.year()),console.log(this.session2),this.editTimeTableForm.get("sessionEnd")?.enable(),this.showSession2=!0,O.close()}onCourseSelection(K){console.log(K.source.value);let O=K.source.value;for(let le of this.semesters)if(le.course===O){this.semesterList=le.sem;break}}sessionChange(K){console.log(K)}onSubmit(){this.showGrid=!0}static#e=this.\u0275fac=function(O){return new(O||V)(p.Y36(z.qu),p.Y36(Dt),p.Y36(lt.jE),p.Y36(it.C))};static#t=this.\u0275cmp=p.Xpm({type:V,selectors:[["app-timetable"]],outputs:{dateChange:"dateChange"},features:[p._Bn([{provide:re._A,useClass:B.t7,deps:[re.Ad,B.o8]},{provide:re.sG,useValue:ye}])],decls:35,vars:16,consts:[[1,"d-flex","flex-column","py-2",2,"margin-top","5px",3,"formGroup"],["fxLayout","row wrap","fxLayoutGap","1%"],["appearance","outline"],["formControlName","ttType"],[4,"ngFor","ngForOf"],["formControlName","course",3,"selectionChange"],["formControlName","semester"],["matInput","","formControlName","sessionStart",3,"matDatepicker","max"],["matSuffix","",3,"for"],["startView","multi-year",3,"yearSelected"],["sessionPicker",""],["matInput","","formControlName","sessionEnd",3,"matDatepicker","min","disabled"],["sessionPicker2",""],["mat-raised-button","","color","primary",2,"align-self","right",3,"disabled","click"],[1,"grid-wrapper",3,"hidden"],[1,"ag-theme-alpine",2,"height","58vh",3,"rowData","columnDefs","defaultColDef","gridReady"],[3,"value"],[4,"ngIf"]],template:function(O,le){if(1&O){const Y=p.EpF();p.TgZ(0,"form",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),p._uU(4,"Time Table Type"),p.qZA(),p.TgZ(5,"mat-select",3),p.YNc(6,Sr,4,3,"ng-container",4),p.qZA()(),p.TgZ(7,"mat-form-field",2)(8,"mat-label"),p._uU(9,"Course"),p.qZA(),p.TgZ(10,"mat-select",5),p.NdJ("selectionChange",function(te){return le.onCourseSelection(te)}),p.YNc(11,qr,4,3,"ng-container",4),p.qZA()(),p.TgZ(12,"mat-form-field",2)(13,"mat-label"),p._uU(14,"Semester"),p.qZA(),p.TgZ(15,"mat-select",6),p.YNc(16,mr,4,3,"ng-container",4),p.qZA()(),p.TgZ(17,"mat-form-field",2)(18,"mat-label"),p._uU(19,"Session Start"),p.qZA(),p._UZ(20,"input",7)(21,"mat-datepicker-toggle",8),p.TgZ(22,"mat-datepicker",9,10),p.NdJ("yearSelected",function(te){p.CHM(Y);const Ye=p.MAs(23);return p.KtG(le.chosenYearHandler(te,Ye,"sessionStart"))}),p.qZA()(),p.TgZ(24,"mat-form-field",2)(25,"mat-label"),p._uU(26,"Session End"),p.qZA(),p._UZ(27,"input",11)(28,"mat-datepicker-toggle",8),p.TgZ(29,"mat-datepicker",9,12),p.NdJ("yearSelected",function(te){p.CHM(Y);const Ye=p.MAs(30);return p.KtG(le.chosenYearHandler(te,Ye,"sessionEnd"))}),p.qZA()(),p.TgZ(31,"button",13),p.NdJ("click",function(){return le.onSubmit()}),p._uU(32,"Submit"),p.qZA()(),p.TgZ(33,"div",14)(34,"ag-grid-angular",15),p.NdJ("gridReady",function(te){return le.onGridReady(te)}),p.qZA()()()}if(2&O){const Y=p.MAs(23),de=p.MAs(30);p.Q6J("formGroup",le.editTimeTableForm),p.xp6(6),p.Q6J("ngForOf",le.ttTypes),p.xp6(5),p.Q6J("ngForOf",le.courseList),p.xp6(5),p.Q6J("ngForOf",le.semesterList),p.xp6(4),p.Q6J("matDatepicker",Y)("max",le.session1),p.xp6(1),p.Q6J("for",Y),p.xp6(6),p.Q6J("matDatepicker",de)("min",le.session2)("disabled",!le.showSession2),p.xp6(1),p.Q6J("for",de),p.xp6(3),p.Q6J("disabled",!le.editTimeTableForm.valid),p.xp6(2),p.Q6J("hidden",!le.showGrid),p.xp6(1),p.Q6J("rowData",le.rowData)("columnDefs",le.colDefs)("defaultColDef",le.defaultColDef)}},dependencies:[Oe.sg,Oe.O5,or.Nt,Mt.KE,Mt.hX,Mt.R9,Et.lW,we.d,yr.gD,re.ey,je.Mq,je.hl,je.nW,A.xw,A.SQ,z._Y,z.Fj,z.JJ,z.JL,z.sg,z.u,xt.N8],styles:[".ag-body-viewport[_ngcontent-%COMP%]{position:relative;overflow:auto!important}.grid-wrapper[_ngcontent-%COMP%]{flex:1 1 auto}mat-form-field[_ngcontent-%COMP%]{margin-left:3%}"]})}return V})(),G=(()=>{class V{constructor(){this.calendarOptions={plugins:[kt],height:440,initialView:"dayGridMonth",events:[{title:"event 1",date:"2024-06-06"},{title:"event 2",date:"2019-04-02"}]}}handleDateClick(K){alert("date click! "+K.dateStr)}static#e=this.\u0275fac=function(O){return new(O||V)};static#t=this.\u0275cmp=p.Xpm({type:V,selectors:[["app-common-dashboard"]],decls:8,vars:1,consts:[[1,"row"],[1,"col-lg-3"],[1,"col-lg-9","home-page-tabs"],[2,"padding","5px 20px","position","relative","opacity","inherit","height","500px"],["label","Calender"],[3,"options"],["label","Time Table"],[2,"height","100px"]],template:function(O,le){1&O&&(p.TgZ(0,"div",0),p._UZ(1,"app-dashboard-sidenav",1),p.TgZ(2,"div",2)(3,"mat-tab-group",3)(4,"mat-tab",4),p._UZ(5,"full-calendar",5),p.qZA(),p.TgZ(6,"mat-tab",6),p._UZ(7,"app-timetable",7),p.qZA()()()()),2&O&&(p.xp6(5),p.Q6J("options",le.calendarOptions))},dependencies:[hr.uX,hr.SP,Ir.w,He.k,Ie],styles:["a{color:#000!important;text-decoration:none}.home-page-tabs[_ngcontent-%COMP%]{padding:20px 5px;background-color:#fff;border:1px solid #bfbfbf;box-shadow:-1px 3px 3px -3px #00000059}.mat-tab-body[_ngcontent-%COMP%]{height:100px!important;overflow:auto!important}"]})}return V})(),J=(()=>{class V{static#e=this.\u0275fac=function(O){return new(O||V)};static#t=this.\u0275cmp=p.Xpm({type:V,selectors:[["app-dashboard"]],decls:1,vars:0,template:function(O,le){1&O&&p._UZ(0,"app-common-dashboard")},dependencies:[G]})}return V})()},5731:(Cr,Pt,ae)=>{"use strict";ae.d(Pt,{v:()=>Ze});var p=ae(217),W=ae(5879),he=ae(3528),De=ae(8109);let Ze=(()=>{class Ue{constructor(We,ie){this.spinnerService=We,this.router=ie}exportToCsv(We,ie,be){if(!We||!We.length)return;let Qe=be?Object.keys(be):[],Ke=be?Object.values(be):[];0==Qe.length&&(Qe=Object.keys(We[0]).filter(et=>!0),Ke=Qe);const Nt=Ke.join(",")+"\n"+We.map(et=>Qe.map(rt=>{let Wt=null==et[rt]?"":et[rt];return Wt=Wt instanceof Date?Wt.toLocaleString():Wt.toString().replace(/"/g,'""'),Wt.search(/("|,|\n)/g)>=0&&(Wt=`"${Wt}"`),Wt}).join(",")).join("\n");this.saveAsFile(Nt,`${ie}.csv`,"text/csv;charset=utf-8;")}saveAsFile(We,ie,be){const Qe=new Blob([We],{type:be});(0,p.saveAs)(Qe,ie)}static#e=this.\u0275fac=function(ie){return new(ie||Ue)(W.LFG(he.V),W.LFG(De.F0))};static#t=this.\u0275prov=W.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})()},5608:(Cr,Pt,ae)=>{"use strict";ae.d(Pt,{Y:()=>Ze});var p=ae(9485),w=ae(9862),W=ae(708),he=ae(5879),De=ae(3528);let Ze=(()=>{class Ue{constructor(We,ie){this.http=We,this.spinnerService=ie,this.serviceUrls=p.q,this.token=sessionStorage.getItem("token"),this.auth=null!==this.token?"Bearer "+this.token:"Bearer ",this.headers=new w.WM({Authorization:this.auth})}getExperts(){return this.spinnerService.addSpinner(),this.http.get(this.serviceUrls.getExperts,{headers:this.headers})}getExpertLectures(){return this.spinnerService.addSpinner(),this.http.get(this.serviceUrls.getExpertLectures,{headers:this.headers})}addExpert(We){return this.spinnerService.addSpinner(),(0,W.n)(this.http.post(this.serviceUrls.addExpert,We,{headers:this.headers}))}addExpertLecture(We){return this.spinnerService.addSpinner(),(0,W.n)(this.http.post(this.serviceUrls.addExpertLecture,We,{headers:this.headers}))}editExpert(We){return this.spinnerService.addSpinner(),this.http.post(this.serviceUrls.editExpert,We,{headers:this.headers})}getExpertLectureByStatus(We){return this.spinnerService.addSpinner(),this.http.get(this.serviceUrls.getExpertLectureByStatus+"/"+We,{headers:this.headers})}getExpertLectureById(We){return this.spinnerService.addSpinner(),this.http.get(this.serviceUrls.getExpertLectureById+"/"+We,{headers:this.headers})}deleteExpertLecture(We){this.spinnerService.addSpinner();let ie=new w.WM({"Access-Control-Allow-Origin":"*"});return ie=ie.append("Authorization",this.auth),this.http.delete(this.serviceUrls.deleteExpertLecture+"/"+We,{headers:ie})}updateExpertLectureByStatus(We,ie,be){return this.spinnerService.addSpinner(),(0,W.n)(this.http.put(this.serviceUrls.updateExpertLectureByStatus+"/"+We+"/"+ie,be,{headers:this.headers}))}editExpertLecture(We,ie){return this.spinnerService.addSpinner(),(0,W.n)(this.http.put(this.serviceUrls.editExpertLecture+"/"+ie,We,{headers:this.headers}))}static#e=this.\u0275fac=function(ie){return new(ie||Ue)(he.LFG(w.eN),he.LFG(De.V))};static#t=this.\u0275prov=he.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})()},3666:(Cr,Pt,ae)=>{"use strict";ae.d(Pt,{E:()=>Ze});var p=ae(9485),w=ae(5879),W=ae(9862),he=ae(3528),De=ae(8109);let Ze=(()=>{class Ue{constructor(We,ie,be){this.http=We,this.spinnerService=ie,this.router=be,this.serviceUrls=p.q}getFacultyData(){return this.spinnerService.addSpinner(),this.http.get(this.serviceUrls.getFacultydata)}getStaffBasicProfile(We,ie){return this.spinnerService.addSpinner(),this.http.get(this.serviceUrls.getStaffBasicProfile+"?userId="+We+"&userType="+ie)}getStaffData(){return this.spinnerService.addSpinner(),this.http.get(this.serviceUrls.getStaffdata)}static#e=this.\u0275fac=function(ie){return new(ie||Ue)(w.LFG(W.eN),w.LFG(he.V),w.LFG(De.F0))};static#t=this.\u0275prov=w.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})()},3823:(Cr,Pt,ae)=>{"use strict";ae.d(Pt,{h:()=>Ze});var p=ae(9862),w=ae(9485),W=ae(708),he=ae(5879),De=ae(3528);let Ze=(()=>{class Ue{constructor(We,ie){this.http=We,this.spinnerService=ie,this.serviceUrls=w.q,this.token=sessionStorage.getItem("token"),this.auth=null!==this.token?"Bearer "+this.token:"Bearer ",this.headers=new p.WM({Authorization:this.auth})}addIndustryVisit(We){return this.spinnerService.addSpinner(),(0,W.n)(this.http.post(this.serviceUrls.addIndustryVisit,We,{headers:this.headers}))}getAllIndustryVisitsByStatus(We){return this.spinnerService.addSpinner(),this.http.get(this.serviceUrls.getAllIndustryVisitsByStatus+"/"+We,{headers:this.headers})}deleteIndustryVisit(We){return this.spinnerService.addSpinner(),this.http.delete(this.serviceUrls.deleteIndustryVisit+"/"+We,{headers:this.headers})}updateIndustryVisit(We,ie){return this.spinnerService.addSpinner(),this.http.put(this.serviceUrls.editIndustryVisit+"/"+ie,We,{headers:this.headers})}static#e=this.\u0275fac=function(ie){return new(ie||Ue)(he.LFG(p.eN),he.LFG(De.V))};static#t=this.\u0275prov=he.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})()},7587:(Cr,Pt,ae)=>{"use strict";ae.d(Pt,{C:()=>Ze});var p=ae(9862),w=ae(9485),W=ae(708),he=ae(5879),De=ae(3528);let Ze=(()=>{class Ue{constructor(We,ie){this.http=We,this.spinnerService=ie,this.token=sessionStorage.getItem("token"),this.auth=null!==this.token?"Bearer "+this.token:"Bearer ",this.headers=new p.WM({Authorization:this.auth})}getActiveTaskList(){return this.spinnerService.addSpinner(),this.http.get(w.q.getActiveTaskList,{headers:this.headers})}getTaskStatusList(){return this.spinnerService.addSpinner(),this.http.get(w.q.getTaskStatusList,{headers:this.headers})}deleteTask(We){return this.spinnerService.addSpinner(),this.http.delete(w.q.deleteTask+"/"+We,{headers:this.headers})}updateUserTask(We,ie){return this.spinnerService.addSpinner(),this.http.put(w.q.updateTaskStatus+"/"+ie+"/"+We,{headers:this.headers})}getCategoryList(){return this.spinnerService.addSpinner(),this.http.get(w.q.getCategoryList,{headers:this.headers})}assignTask(We){return this.spinnerService.addSpinner(),(0,W.n)(this.http.post(w.q.assignTask,We,{headers:this.headers}))}getTaskByCategory(We){return this.spinnerService.addSpinner(),this.http.get(w.q.getTaskByCategory+"/"+We,{headers:this.headers})}searchTaskByUserId(We){return this.spinnerService.addSpinner(),this.http.get(w.q.searchTaskByUserId+"/"+We,{headers:this.headers})}static#e=this.\u0275fac=function(ie){return new(ie||Ue)(he.LFG(p.eN),he.LFG(De.V))};static#t=this.\u0275prov=he.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})()},6208:(Cr,Pt,ae)=>{"use strict";ae.d(Pt,{m:()=>We});var p=ae(6814),he=(ae(953),ae(7913),ae(9313)),De=ae(8109),Ze=ae(1447),Ue=ae(5879);let We=(()=>{class ie{static#e=this.\u0275fac=function(Ke){return new(Ke||ie)};static#t=this.\u0275mod=Ue.oAB({type:ie});static#r=this.\u0275inj=Ue.cJS({imports:[p.ez,he.q,Ze.o9,De.Bz]})}return ie})()},3546:(Cr,Pt,ae)=>{"use strict";ae.d(Pt,{N8:()=>Ze,sF:()=>Ue});var p=ae(5879),w=ae(4298);let W=(()=>{class ft extends w.vA3{constructor(ie){super(),this._ngZone=ie}setEmitterUsedCallback(ie){this.isEmitterUsed=ie}setTimeout(ie,be){this._ngZone?this._ngZone.runOutsideAngular(()=>{window.setTimeout(()=>{ie()},be)}):window.setTimeout(()=>{ie()},be)}setInterval(ie,be){return new w.j_S(Qe=>{this._ngZone?this._ngZone.runOutsideAngular(()=>{Qe(window.setInterval(()=>{ie()},be))}):Qe(window.setInterval(()=>{ie()},be))})}addEventListener(ie,be,Qe,Ke){this.isOutsideAngular(be)&&this._ngZone?this._ngZone.runOutsideAngular(()=>{ie.addEventListener(be,Qe,Ke)}):ie.addEventListener(be,Qe,Ke)}dispatchEvent(ie,be,Qe=!1){this.isOutsideAngular(ie)?this._ngZone?this._ngZone.runOutsideAngular(be):be():(this.isEmitterUsed(ie)||Qe)&&(!p.R0b.isInAngularZone()&&this._ngZone?this._ngZone.run(be):be())}isFrameworkComponent(ie){if(!ie)return!1;const be=ie.prototype;return be&&"agInit"in be}}return ft.\u0275fac=function(ie){return new(ie||ft)(p.LFG(p.R0b))},ft.\u0275prov=p.Yz7({token:ft,factory:ft.\u0275fac}),ft})(),he=(()=>{class ft extends w.Nk3{setViewContainerRef(ie){this.viewContainerRef=ie}setComponentFactoryResolver(ie){this.componentFactoryResolver=ie}createWrapper(ie){let be=this,Ke=new class Qe extends De{init(Nt){super.init(Nt),this._componentRef.changeDetectorRef.detectChanges()}createComponent(){return be.createComponent(ie)}hasMethod(Nt){return null!=Ke.getFrameworkComponentInstance()[Nt]}callMethod(Nt,et){const rt=this.getFrameworkComponentInstance();return Ke.getFrameworkComponentInstance()[Nt].apply(rt,et)}addMethod(Nt,et){Ke[Nt]=et}};return Ke}createComponent(ie){let be=this.componentFactoryResolver.resolveComponentFactory(ie);return this.viewContainerRef.createComponent(be)}}return ft.\u0275fac=function(){let We;return function(be){return(We||(We=p.n5z(ft)))(be||ft)}}(),ft.\u0275prov=p.Yz7({token:ft,factory:ft.\u0275fac}),ft})();class De{init(We){this._params=We,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}destroy(){this._frameworkComponentInstance&&"function"==typeof this._frameworkComponentInstance.destroy&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}let Ze=(()=>{class ft{constructor(ie,be,Qe,Ke,ht){this.viewContainerRef=be,this.angularFrameworkOverrides=Qe,this.frameworkComponentWrapper=Ke,this.componentFactoryResolver=ht,this._initialised=!1,this._destroyed=!1,this._fullyReady=w.j_S.resolve(!0),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipTrigger=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.tooltipInteraction=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.suppressCutToClipboard=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.dataTypeDefinitions=void 0,this.maintainColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.components=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterMovesDown=void 0,this.enterMovesDownAfterEdit=void 0,this.enterNavigatesVertically=void 0,this.enterNavigatesVerticallyAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.excludeHiddenColumnsFromQuickFilter=void 0,this.includeHiddenColumnsInQuickFilter=void 0,this.quickFilterParser=void 0,this.quickFilterMatcher=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableAdvancedFilter=void 0,this.advancedFilterModel=void 0,this.includeHiddenColumnsInAdvancedFilter=void 0,this.advancedFilterParent=void 0,this.advancedFilterBuilderParams=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.enableChartToolPanelsButton=void 0,this.suppressChartToolPanelsButton=void 0,this.chartToolPanelsDef=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressParentsInRowNodes=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotDefaultExpanded=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.alwaysAggregateAtRootLevel=void 0,this.suppressAggAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDelay=void 0,this.cellFadeDelay=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.groupAllowUnbalanced=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.rowGroupPanelSuppressSort=void 0,this.suppressGroupRowsSticky=void 0,this.rememberGroupStateWhenNewData=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.serverSideStoreType=void 0,this.suppressServerSideInfiniteScroll=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideOnlyRefreshFilteredGroups=void 0,this.serverSideFilterAllLevels=void 0,this.serverSideSortOnServer=void 0,this.serverSideFilterOnServer=void 0,this.serverSideSortingAlwaysResets=void 0,this.serverSideFilteringAlwaysResets=void 0,this.serverSidePivotResultFieldSeparator=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellFocus=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.gridId=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.functionsPassive=void 0,this.enableGroupEdit=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.processSecondaryColDef=void 0,this.processSecondaryColGroupDef=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.getServerSideStoreParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new p.vpe,this.toolPanelSizeChanged=new p.vpe,this.cutStart=new p.vpe,this.cutEnd=new p.vpe,this.pasteStart=new p.vpe,this.pasteEnd=new p.vpe,this.columnVisible=new p.vpe,this.columnPinned=new p.vpe,this.columnResized=new p.vpe,this.columnMoved=new p.vpe,this.columnValueChanged=new p.vpe,this.columnPivotModeChanged=new p.vpe,this.columnPivotChanged=new p.vpe,this.columnGroupOpened=new p.vpe,this.newColumnsLoaded=new p.vpe,this.gridColumnsChanged=new p.vpe,this.displayedColumnsChanged=new p.vpe,this.virtualColumnsChanged=new p.vpe,this.columnEverythingChanged=new p.vpe,this.componentStateChanged=new p.vpe,this.cellValueChanged=new p.vpe,this.cellEditRequest=new p.vpe,this.rowValueChanged=new p.vpe,this.cellEditingStarted=new p.vpe,this.cellEditingStopped=new p.vpe,this.rowEditingStarted=new p.vpe,this.rowEditingStopped=new p.vpe,this.undoStarted=new p.vpe,this.undoEnded=new p.vpe,this.redoStarted=new p.vpe,this.redoEnded=new p.vpe,this.rangeDeleteStart=new p.vpe,this.rangeDeleteEnd=new p.vpe,this.filterOpened=new p.vpe,this.filterChanged=new p.vpe,this.filterModified=new p.vpe,this.advancedFilterBuilderVisibleChanged=new p.vpe,this.chartCreated=new p.vpe,this.chartRangeSelectionChanged=new p.vpe,this.chartOptionsChanged=new p.vpe,this.chartDestroyed=new p.vpe,this.cellKeyDown=new p.vpe,this.gridReady=new p.vpe,this.gridPreDestroyed=new p.vpe,this.firstDataRendered=new p.vpe,this.gridSizeChanged=new p.vpe,this.modelUpdated=new p.vpe,this.virtualRowRemoved=new p.vpe,this.viewportChanged=new p.vpe,this.bodyScroll=new p.vpe,this.bodyScrollEnd=new p.vpe,this.dragStarted=new p.vpe,this.dragStopped=new p.vpe,this.paginationChanged=new p.vpe,this.rowDragEnter=new p.vpe,this.rowDragMove=new p.vpe,this.rowDragLeave=new p.vpe,this.rowDragEnd=new p.vpe,this.columnRowGroupChanged=new p.vpe,this.rowGroupOpened=new p.vpe,this.expandOrCollapseAll=new p.vpe,this.pinnedRowDataChanged=new p.vpe,this.rowDataChanged=new p.vpe,this.rowDataUpdated=new p.vpe,this.asyncTransactionsFlushed=new p.vpe,this.storeRefreshed=new p.vpe,this.cellClicked=new p.vpe,this.cellDoubleClicked=new p.vpe,this.cellFocused=new p.vpe,this.cellMouseOver=new p.vpe,this.cellMouseOut=new p.vpe,this.cellMouseDown=new p.vpe,this.rowClicked=new p.vpe,this.rowDoubleClicked=new p.vpe,this.rowSelected=new p.vpe,this.selectionChanged=new p.vpe,this.cellContextMenu=new p.vpe,this.rangeSelectionChanged=new p.vpe,this.tooltipShow=new p.vpe,this.tooltipHide=new p.vpe,this.sortChanged=new p.vpe,this.columnRowGroupChangeRequest=new p.vpe,this.columnPivotChangeRequest=new p.vpe,this.columnValueChangeRequest=new p.vpe,this.columnAggFuncChangeRequest=new p.vpe,this._nativeElement=ie.nativeElement}ngAfterViewInit(){this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef),this.frameworkComponentWrapper.setComponentFactoryResolver(this.componentFactoryResolver),this.angularFrameworkOverrides.setEmitterUsedCallback(this.isEmitterUsed.bind(this)),this.gridOptions=w.plv.copyAttributesToGridOptions(this.gridOptions,this),this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]},new w.rjZ(this._nativeElement,this.gridOptions,this.gridParams),this.gridOptions.api&&(this.api=this.gridOptions.api),this.gridOptions.columnApi&&(this.columnApi=this.gridOptions.columnApi),this.gridPreDestroyed.observers.length>0&&console.warn('AG Grid: gridPreDestroyed event listener registered via (gridPreDestroyed)="method($event)" will be ignored! Please assign via gridOptions.gridPreDestroyed and pass to the grid as [gridOptions]="gridOptions"'),this._initialised=!0,this._fullyReady.resolveNow(null,ie=>ie)}ngOnChanges(ie){this._initialised&&w.plv.processOnChange(ie,this.api)}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api&&this.api.destroy())}isEmitterUsed(ie){const be=this[ie],Qe=!!be&&be.observers&&be.observers.length>0,Ke=`on${ie.charAt(0).toUpperCase()}${ie.substring(1)}`;return Qe||!!this.gridOptions&&!!this.gridOptions[Ke]}globalEventListener(ie,be){if(this._destroyed)return;const Qe=this[ie];Qe&&this.isEmitterUsed(ie)&&("gridReady"===ie?this._fullyReady.then(Ke=>{Qe.emit(be)}):Qe.emit(be))}}return ft.\u0275fac=function(ie){return new(ie||ft)(p.Y36(p.SBq),p.Y36(p.s_b),p.Y36(W),p.Y36(he),p.Y36(p._Vd))},ft.\u0275cmp=p.Xpm({type:ft,selectors:[["ag-grid-angular"]],inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipTrigger:"tooltipTrigger",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",tooltipInteraction:"tooltipInteraction",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressCopySingleCellRanges:"suppressCopySingleCellRanges",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",suppressCutToClipboard:"suppressCutToClipboard",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",dataTypeDefinitions:"dataTypeDefinitions",maintainColumnOrder:"maintainColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",suppressRowGroupHidesColumns:"suppressRowGroupHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",components:"components",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterMovesDown:"enterMovesDown",enterMovesDownAfterEdit:"enterMovesDownAfterEdit",enterNavigatesVertically:"enterNavigatesVertically",enterNavigatesVerticallyAfterEdit:"enterNavigatesVerticallyAfterEdit",enableCellEditingOnBackspace:"enableCellEditingOnBackspace",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",excludeHiddenColumnsFromQuickFilter:"excludeHiddenColumnsFromQuickFilter",includeHiddenColumnsInQuickFilter:"includeHiddenColumnsInQuickFilter",quickFilterParser:"quickFilterParser",quickFilterMatcher:"quickFilterMatcher",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableAdvancedFilter:"enableAdvancedFilter",advancedFilterModel:"advancedFilterModel",includeHiddenColumnsInAdvancedFilter:"includeHiddenColumnsInAdvancedFilter",advancedFilterParent:"advancedFilterParent",advancedFilterBuilderParams:"advancedFilterBuilderParams",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",enableChartToolPanelsButton:"enableChartToolPanelsButton",suppressChartToolPanelsButton:"suppressChartToolPanelsButton",chartToolPanelsDef:"chartToolPanelsDef",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressParentsInRowNodes:"suppressParentsInRowNodes",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotDefaultExpanded:"pivotDefaultExpanded",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",alwaysAggregateAtRootLevel:"alwaysAggregateAtRootLevel",suppressAggAtRootLevel:"suppressAggAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",removePivotHeaderRowWhenSingleValueColumn:"removePivotHeaderRowWhenSingleValueColumn",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDelay:"cellFlashDelay",cellFadeDelay:"cellFadeDelay",allowShowChangeAfterFilter:"allowShowChangeAfterFilter",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",rowDragText:"rowDragText",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",groupAllowUnbalanced:"groupAllowUnbalanced",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",rowGroupPanelSuppressSort:"rowGroupPanelSuppressSort",suppressGroupRowsSticky:"suppressGroupRowsSticky",rememberGroupStateWhenNewData:"rememberGroupStateWhenNewData",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",serverSideStoreType:"serverSideStoreType",suppressServerSideInfiniteScroll:"suppressServerSideInfiniteScroll",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:"serverSideSortAllLevels",serverSideOnlyRefreshFilteredGroups:"serverSideOnlyRefreshFilteredGroups",serverSideFilterAllLevels:"serverSideFilterAllLevels",serverSideSortOnServer:"serverSideSortOnServer",serverSideFilterOnServer:"serverSideFilterOnServer",serverSideSortingAlwaysResets:"serverSideSortingAlwaysResets",serverSideFilteringAlwaysResets:"serverSideFilteringAlwaysResets",serverSidePivotResultFieldSeparator:"serverSidePivotResultFieldSeparator",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellFocus:"suppressCellFocus",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",gridId:"gridId",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",functionsPassive:"functionsPassive",enableGroupEdit:"enableGroupEdit",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",processSecondaryColDef:"processSecondaryColDef",processSecondaryColGroupDef:"processSecondaryColGroupDef",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",getServerSideStoreParams:"getServerSideStoreParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowId:"getRowId",resetRowDataOnUpdate:"resetRowDataOnUpdate",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthRow:"isFullWidthRow"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",cutStart:"cutStart",cutEnd:"cutEnd",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",undoStarted:"undoStarted",undoEnded:"undoEnded",redoStarted:"redoStarted",redoEnded:"redoEnded",rangeDeleteStart:"rangeDeleteStart",rangeDeleteEnd:"rangeDeleteEnd",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",advancedFilterBuilderVisibleChanged:"advancedFilterBuilderVisibleChanged",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",gridReady:"gridReady",gridPreDestroyed:"gridPreDestroyed",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataChanged:"rowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",storeRefreshed:"storeRefreshed",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",tooltipShow:"tooltipShow",tooltipHide:"tooltipHide",sortChanged:"sortChanged",columnRowGroupChangeRequest:"columnRowGroupChangeRequest",columnPivotChangeRequest:"columnPivotChangeRequest",columnValueChangeRequest:"columnValueChangeRequest",columnAggFuncChangeRequest:"columnAggFuncChangeRequest"},features:[p._Bn([W,he]),p.TTD],decls:0,vars:0,template:function(ie,be){},encapsulation:2}),ft})(),Ue=(()=>{class ft{}return ft.\u0275fac=function(ie){return new(ie||ft)},ft.\u0275mod=p.oAB({type:ft}),ft.\u0275inj=p.cJS({}),ft})()},4298:(Cr,Pt,ae)=>{"use strict";function p(o){return null==o||""===o?null:o}function w(o,t){return void 0===t&&(t=!1),null!=o&&(""!==o||t)}function W(o){return!w(o)}function he(o){return null==o||0===o.length}function De(o){return null!=o&&"function"==typeof o.toString?o.toString():null}function Ze(o){if(void 0!==o){if(null===o||""===o)return null;if("number"==typeof o)return isNaN(o)?void 0:o;var t=parseInt(o,10);return isNaN(t)?void 0:t}}function Ue(o){if(void 0!==o)return null!==o&&""!==o&&("boolean"==typeof o?o:/true/i.test(o))}function Qe(o){if(o instanceof Set||o instanceof Map){var t=[];return o.forEach(function(e){return t.push(e)}),t}return Object.values(o)}ae.d(Pt,{Nk3:()=>KC,j_S:()=>pi,plv:()=>ai,rjZ:()=>UC,vA3:()=>ny});var Ke=Object.freeze({__proto__:null,makeNull:p,exists:w,missing:W,missingOrEmpty:he,toStringOrNull:De,attrToNumber:Ze,attrToBoolean:Ue,attrToString:function ft(o){if(null!=o&&""!==o)return o},referenceCompare:function We(o,t){return null==o&&null==t||!(null==o&&null!=t||null!=o&&null==t)&&o===t},jsonEquals:function ie(o,t){return(o?JSON.stringify(o):null)===(t?JSON.stringify(t):null)},defaultComparator:function be(o,t,e){void 0===e&&(e=!1);var r=null==o,n=null==t;if(o&&o.toNumber&&(o=o.toNumber()),t&&t.toNumber&&(t=t.toNumber()),r&&n)return 0;if(r)return-1;if(n)return 1;function i(s,a){return s>a?1:s<a?-1:0}if("string"!=typeof o||!e)return i(o,t);try{return o.localeCompare(t)}catch{return i(o,t)}},values:Qe}),ht=function(){function o(){this.existingKeys={}}return o.prototype.addExistingKeys=function(t){for(var e=0;e<t.length;e++)this.existingKeys[t[e]]=!0},o.prototype.getUniqueKey=function(t,e){t=De(t);for(var r=0;;){var n=void 0;if(t?(n=t,0!==r&&(n+="_"+r)):e?(n=e,0!==r&&(n+="_"+r)):n=r,!this.existingKeys[n])return this.existingKeys[n]=!0,String(n);r++}},o}(),Nt=function(o){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&o[t],r=0;if(e)return e.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&r>=o.length&&(o=void 0),{value:o&&o[r++],done:!o}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},et=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i};function rt(o,t){var e,r;if(null!=o){if(Array.isArray(o)){for(var n=0;n<o.length;n++)t(n.toString(),o[n]);return}try{for(var i=Nt(Object.entries(o)),s=i.next();!s.done;s=i.next()){var a=et(s.value,2);t(a[0],a[1])}}catch(m){e={error:m}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}}}function Wt(o){for(var t={},e=Object.keys(o),r=0;r<e.length;r++){var n=e[r];t[n]=o[n]}return t}function nr(o,t){if(o){var e=o,r={};return Object.keys(e).forEach(function(n){if(!(t&&t.indexOf(n)>=0)){var i=e[n],s=vr(i)&&i.constructor===Object;r[n]=s?nr(i):i}}),r}}function ir(o,t){return o[t]}function wr(o,t,e){o[t]=e}function Er(o,t,e,r){var n=ir(o,e);void 0!==n&&wr(t,e,r?r(n):n)}function Ft(o){var t={};return o.filter(function(e){return null!=e}).forEach(function(e){Object.keys(e).forEach(function(r){return t[r]=null})}),Object.keys(t)}function vt(o){if(!o)return[];var t=Object;if("function"==typeof t.values)return t.values(o);var e=[];for(var r in o)o.hasOwnProperty(r)&&o.propertyIsEnumerable(r)&&e.push(o[r]);return e}function qe(o,t,e,r){void 0===e&&(e=!0),void 0===r&&(r=!1),w(t)&&rt(t,function(n,i){var s=o[n];s!==i&&(r&&null==s&&null!=i&&"object"==typeof i&&i.constructor===Object&&(o[n]=s={}),vr(i)&&vr(s)&&!Array.isArray(s)?qe(s,i,e,r):(e||void 0!==i)&&(o[n]=i))})}function Rr(o,t,e){if(t&&o){if(!e)return o[t];for(var r=t.split("."),n=o,i=0;i<r.length;i++){if(null==n)return;n=n[r[i]]}return n}}function $r(o,t){Object.keys(o).forEach(function(n){"object"==typeof o[n]&&(o[n]=void 0)});var e=Object.getPrototypeOf(o),r={};Object.keys(e).forEach(function(n){"function"==typeof e[n]&&(r[n]={value:function(){console.warn("AG Grid: "+t+" function "+n+"() cannot be called as the grid has been destroyed.\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\n                     when the grid is destroyed.")},writable:!0})}),Object.defineProperties(o,r)}function vr(o){return"object"==typeof o&&null!==o}var Ar=Object.freeze({__proto__:null,iterateObject:rt,cloneObject:Wt,deepCloneObject:function Jt(o){return JSON.parse(JSON.stringify(o))},deepCloneDefinition:nr,getProperty:ir,setProperty:wr,copyPropertiesIfPresent:function gr(o,t){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];e.forEach(function(n){return Er(o,t,n)})},copyPropertyIfPresent:Er,getAllKeysInObjects:Ft,getAllValuesInObject:vt,mergeDeep:qe,missingOrEmptyObject:function yt(o){return W(o)||0===Object.keys(o).length},get:function Yt(o,t,e){if(null==o)return e;for(var r=t.split("."),n=o;r.length>1;)if(null==(n=n[r.shift()]))return e;return n[r[0]]??e},set:function $t(o,t,e){if(null!=o){var r=t.split("."),n=o;r.forEach(function(i,s){n[i]||(n[i]={}),s<r.length-1&&(n=n[i])}),n[r[r.length-1]]=e}},getValueUsingField:Rr,removeAllReferences:$r,isNonNullObject:vr}),br={};function At(o,t){br[t]||(o(),br[t]=!0)}function Ne(o){if(o.name)return o.name;var t=/function\s+([^\(]+)/.exec(o.toString());return t&&2===t.length?t[1].trim():null}function dt(o){return!!(o&&o.constructor&&o.call&&o.apply)}function Xe(o){Ir(o,400)}var pt=[],kt=!1;function hr(o){pt.push(o),!kt&&(kt=!0,window.setTimeout(function(){var t=pt.slice();pt.length=0,kt=!1,t.forEach(function(e){return e()})},0))}function Ir(o,t){void 0===t&&(t=0),o.length>0&&window.setTimeout(function(){return o.forEach(function(e){return e()})},t)}function He(o,t){var e;return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=this;window.clearTimeout(e),e=window.setTimeout(function(){o.apply(i,r)},t)}}function z(o,t){var e=0;return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var s=(new Date).getTime();s-e<t||(e=s,o.apply(this,r))}}function B(o,t,e,r){void 0===e&&(e=100);var n=(new Date).getTime(),i=null,s=!1,a=function(){var d=(new Date).getTime()-n>e;(o()||d)&&(t(),s=!0,null!=i&&(window.clearInterval(i),i=null),d&&r&&console.warn(r))};a(),s||(i=window.setInterval(a,10))}function _e(o){o&&o()}var Se=Object.freeze({__proto__:null,doOnce:At,getFunctionName:Ne,isFunction:dt,executeInAWhile:Xe,executeNextVMTurn:hr,executeAfter:Ir,debounce:He,throttle:z,waitUntil:B,compose:function re(){for(var o=[],t=0;t<arguments.length;t++)o[t]=arguments[t];return function(e){return o.reduce(function(r,n){return n(r)},e)}},callIfPresent:_e,noop:function(){}}),Re=function(o){return o.CommunityCoreModule="@ag-grid-community/core",o.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",o.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",o.CsvExportModule="@ag-grid-community/csv-export",o.EnterpriseCoreModule="@ag-grid-enterprise/core",o.RowGroupingModule="@ag-grid-enterprise/row-grouping",o.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",o.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",o.MenuModule="@ag-grid-enterprise/menu",o.SetFilterModule="@ag-grid-enterprise/set-filter",o.MultiFilterModule="@ag-grid-enterprise/multi-filter",o.StatusBarModule="@ag-grid-enterprise/status-bar",o.SideBarModule="@ag-grid-enterprise/side-bar",o.RangeSelectionModule="@ag-grid-enterprise/range-selection",o.MasterDetailModule="@ag-grid-enterprise/master-detail",o.RichSelectModule="@ag-grid-enterprise/rich-select",o.GridChartsModule="@ag-grid-enterprise/charts",o.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",o.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",o.ExcelExportModule="@ag-grid-enterprise/excel-export",o.ClipboardModule="@ag-grid-enterprise/clipboard",o.SparklinesModule="@ag-grid-enterprise/sparklines",o.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",o.AngularModule="@ag-grid-community/angular",o.ReactModule="@ag-grid-community/react",o.VueModule="@ag-grid-community/vue",o}(Re||{}),Dt=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i},lt=function(o,t){for(var e=0,r=t.length,n=o.length;e<r;e++,n++)o[n]=t[e];return o},it=function(){function o(){}return o.register=function(t){o.__register(t,!0,void 0)},o.registerModules=function(t){o.__registerModules(t,!0,void 0)},o.__register=function(t,e,r){o.runVersionChecks(t),void 0!==r?(o.areGridScopedModules=!0,void 0===o.gridModulesMap[r]&&(o.gridModulesMap[r]={}),o.gridModulesMap[r][t.moduleName]=t):o.globalModulesMap[t.moduleName]=t,o.setModuleBased(e)},o.__unRegisterGridModules=function(t){delete o.gridModulesMap[t]},o.__registerModules=function(t,e,r){o.setModuleBased(e),t&&t.forEach(function(n){return o.__register(n,e,r)})},o.isValidModuleVersion=function(t){var e=Dt(t.version.split(".")||[],2),r=e[0],n=e[1],i=Dt(o.currentModuleVersion.split(".")||[],2);return r===i[0]&&n===i[1]},o.runVersionChecks=function(t){if(o.currentModuleVersion||(o.currentModuleVersion=t.version),t.version?o.isValidModuleVersion(t)||console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '"+t.moduleName+"' is version "+t.version+" but the other modules are version "+this.currentModuleVersion+". Please update all modules to the same version."):console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '"+t.moduleName+"' is incompatible. Please update all modules to the same version."),t.validate){var e=t.validate();e.isValid||console.error("AG Grid: "+e.message)}},o.setModuleBased=function(t){void 0===o.moduleBased?o.moduleBased=t:o.moduleBased!==t&&At(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},o.__setIsBundled=function(){o.isBundled=!0},o.__assertRegistered=function(t,e,r){var n;if(this.__isRegistered(t,r))return!0;var s,i=e+t;if(o.isBundled)s="AG Grid: unable to use "+e+" as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:\n        \n        <script src=\"https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js\"><\/script>\n        \nFor more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise";else if(o.moduleBased||void 0===o.moduleBased){var a=null===(n=Object.entries(Re).find(function(d){return Dt(d,2)[1]===t}))||void 0===n?void 0:n[0];s="AG Grid: unable to use "+e+" as the "+a+" is not registered"+(o.areGridScopedModules?" for gridId: "+r:"")+". Check if you have registered the module:\n           \n    import { ModuleRegistry } from '@ag-grid-community/core';\n    import { "+a+" } from '"+t+"';\n    \n    ModuleRegistry.registerModules([ "+a+" ]);\n\nFor more info see: https://www.ag-grid.com/javascript-grid/modules/"}else s="AG Grid: unable to use "+e+" as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:\n            \n    import 'ag-grid-enterprise';\n            \nFor more info see: https://www.ag-grid.com/javascript-grid/packages/";return At(function(){console.warn(s)},i),!1},o.__isRegistered=function(t,e){var r;return!!o.globalModulesMap[t]||!(null===(r=o.gridModulesMap[e])||void 0===r||!r[t])},o.__getRegisteredModules=function(t){return lt(lt([],Dt(Qe(o.globalModulesMap))),Dt(Qe(o.gridModulesMap[t]||{})))},o.__getGridRegisteredModules=function(t){var e;return Qe(null!==(e=o.gridModulesMap[t])&&void 0!==e?e:{})||[]},o.__isPackageBased=function(){return!o.moduleBased},o.globalModulesMap={},o.gridModulesMap={},o.areGridScopedModules=!1,o}(),Mt=function(){function o(t,e){if(this.beanWrappers={},this.destroyed=!1,t&&t.beanClasses){this.contextParams=t,this.logger=e,this.logger.log(">> creating ag-Application Context"),this.createBeans();var r=this.getBeanInstances();this.wireBeans(r),this.logger.log(">> ag-Application Context ready - component is alive")}}return o.prototype.getBeanInstances=function(){return Qe(this.beanWrappers).map(function(t){return t.beanInstance})},o.prototype.createBean=function(t,e){if(!t)throw Error("Can't wire to bean since it is null");return this.wireBeans([t],e),t},o.prototype.wireBeans=function(t,e){this.autoWireBeans(t),this.methodWireBeans(t),this.callLifeCycleMethods(t,"preConstructMethods"),w(e)&&t.forEach(e),this.callLifeCycleMethods(t,"postConstructMethods")},o.prototype.createBeans=function(){var t=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),rt(this.beanWrappers,function(r,n){var i;n.bean.__agBeanMetaData&&n.bean.__agBeanMetaData.autowireMethods&&n.bean.__agBeanMetaData.autowireMethods.agConstructor&&(i=n.bean.__agBeanMetaData.autowireMethods.agConstructor);var s=t.getBeansForParameters(i,n.bean.name),a=new(n.bean.bind.apply(n.bean,function(o,t){for(var e=0,r=t.length,n=o.length;e<r;e++,n++)o[n]=t[e];return o}([null],function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i}(s))));n.beanInstance=a});var e=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+e)},o.prototype.createBeanWrapper=function(t){var e=t.__agBeanMetaData;if(!e){var r;return r=t.prototype.constructor?Ne(t.prototype.constructor):""+t,void console.error("Context item "+r+" is not a bean")}this.beanWrappers[e.beanName]={bean:t,beanInstance:null,beanName:e.beanName}},o.prototype.autoWireBeans=function(t){var e=this;t.forEach(function(r){e.forEachMetaDataInHierarchy(r,function(n,i){var s=n.agClassAttributes;s&&s.forEach(function(a){var d=e.lookupBeanInstance(i,a.beanName,a.optional);r[a.attributeName]=d})})})},o.prototype.methodWireBeans=function(t){var e=this;t.forEach(function(r){e.forEachMetaDataInHierarchy(r,function(n,i){rt(n.autowireMethods,function(s,a){if("agConstructor"!==s){var d=e.getBeansForParameters(a,i);r[s].apply(r,d)}})})})},o.prototype.forEachMetaDataInHierarchy=function(t,e){for(var r=Object.getPrototypeOf(t);null!=r;){var n=r.constructor;n.hasOwnProperty("__agBeanMetaData")&&e(n.__agBeanMetaData,this.getBeanName(n)),r=Object.getPrototypeOf(r)}},o.prototype.getBeanName=function(t){if(t.__agBeanMetaData&&t.__agBeanMetaData.beanName)return t.__agBeanMetaData.beanName;var e=t.toString();return e.substring(9,e.indexOf("("))},o.prototype.getBeansForParameters=function(t,e){var r=this,n=[];return t&&rt(t,function(i,s){var a=r.lookupBeanInstance(e,s);n[Number(i)]=a}),n},o.prototype.lookupBeanInstance=function(t,e,r){if(void 0===r&&(r=!1),this.destroyed)return this.logger.log("AG Grid: bean reference "+e+" is used after the grid is destroyed!"),null;if("context"===e)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(e))return this.contextParams.providedBeanInstances[e];var n=this.beanWrappers[e];return n?n.beanInstance:(r||console.error("AG Grid: unable to find bean reference "+e+" while initialising "+t),null)},o.prototype.callLifeCycleMethods=function(t,e){var r=this;t.forEach(function(n){return r.callLifeCycleMethodsOnBean(n,e)})},o.prototype.callLifeCycleMethodsOnBean=function(t,e,r){var n={};this.forEachMetaDataInHierarchy(t,function(s){var a=s[e];a&&a.forEach(function(d){d!=r&&(n[d]=!0)})}),Object.keys(n).forEach(function(s){return t[s]()})},o.prototype.getBean=function(t){return this.lookupBeanInstance("getBean",t,!0)},o.prototype.destroy=function(){if(!this.destroyed){this.destroyed=!0,this.logger.log(">> Shutting down ag-Application Context");var t=this.getBeanInstances();this.destroyBeans(t),this.contextParams.providedBeanInstances=null,it.__unRegisterGridModules(this.contextParams.gridId),this.logger.log(">> ag-Application Context shut down - component is dead")}},o.prototype.destroyBean=function(t){t&&this.destroyBeans([t])},o.prototype.destroyBeans=function(t){var e=this;return t?(t.forEach(function(r){e.callLifeCycleMethodsOnBean(r,"preDestroyMethods","destroy"),"function"==typeof r.destroy&&r.destroy()}),[]):[]},o.prototype.isDestroyed=function(){return this.destroyed},o.prototype.getGridId=function(){return this.contextParams.gridId},o}();function Et(o,t,e){var r=Dr(o.constructor);r.preConstructMethods||(r.preConstructMethods=[]),r.preConstructMethods.push(t)}function we(o,t,e){var r=Dr(o.constructor);r.postConstructMethods||(r.postConstructMethods=[]),r.postConstructMethods.push(t)}function yr(o,t,e){var r=Dr(o.constructor);r.preDestroyMethods||(r.preDestroyMethods=[]),r.preDestroyMethods.push(t)}function je(o){return function(t){Dr(t).beanName=o}}function A(o){return function(t,e,r){nn(t,o,!1,0,e,null)}}function xt(o){return function(t,e,r){nn(t,o,!0,0,e,null)}}function nn(o,t,e,r,n,i){if(null!==t)if("number"!=typeof i){var s=Dr(o.constructor);s.agClassAttributes||(s.agClassAttributes=[]),s.agClassAttributes.push({attributeName:n,beanName:t,optional:e})}else console.error("AG Grid: Autowired should be on an attribute");else console.error("AG Grid: Autowired name should not be null")}function Sr(o){return function(t,e,r){var i,n="function"==typeof t?t:t.constructor;if("number"==typeof r){var s=void 0;e?(i=Dr(n),s=e):(i=Dr(n),s="agConstructor"),i.autowireMethods||(i.autowireMethods={}),i.autowireMethods[s]||(i.autowireMethods[s]={}),i.autowireMethods[s][r]=o}}}function Dr(o){return o.hasOwnProperty("__agBeanMetaData")||(o.__agBeanMetaData={}),o.__agBeanMetaData}var qr=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Nr=function(o,t){return function(e,r){t(e,r,o)}},mr=function(){function o(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return o.prototype.setBeans=function(t,e,r,n,i){if(void 0===n&&(n=null),void 0===i&&(i=null),this.frameworkOverrides=r,this.gridOptionsService=e,n){var s=e.useAsyncEvents();this.addGlobalListener(n,s)}i&&this.addGlobalListener(i,!1)},o.prototype.getListeners=function(t,e,r){var n=e?this.allAsyncListeners:this.allSyncListeners,i=n.get(t);return!i&&r&&n.set(t,i=new Set),i},o.prototype.noRegisteredListenersExist=function(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size},o.prototype.addEventListener=function(t,e,r){void 0===r&&(r=!1),this.getListeners(t,r,!0).add(e)},o.prototype.removeEventListener=function(t,e,r){void 0===r&&(r=!1);var n=this.getListeners(t,r,!1);n&&(n.delete(e),0===n.size)&&(r?this.allAsyncListeners:this.allSyncListeners).delete(t)},o.prototype.addGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).add(t)},o.prototype.removeGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).delete(t)},o.prototype.dispatchEvent=function(t){var e=t;if(this.gridOptionsService){var r=this.gridOptionsService,i=r.columnApi,s=r.context;e.api=r.api,e.columnApi=i,e.context=s}this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0},o.prototype.dispatchEventOnce=function(t){this.firedEvents[t.type]||this.dispatchEvent(t)},o.prototype.dispatchToListeners=function(t,e){var r=this,n=t.type;if(e&&"event"in t){var i=t.event;i instanceof Event&&(t.eventPath=i.composedPath())}var a=new Set(this.getListeners(n,e,!1));a.size>0&&a.forEach(function(m){e?r.dispatchAsync(function(){return m(t)}):m(t)}),new Set(e?this.globalAsyncListeners:this.globalSyncListeners).forEach(function(g){e?r.dispatchAsync(function(){return r.frameworkOverrides.dispatchEvent(n,function(){return g(n,t)},!0)}):r.frameworkOverrides.dispatchEvent(n,function(){return g(n,t)},!0)})},o.prototype.dispatchAsync=function(t){this.asyncFunctionsQueue.push(t),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},o.prototype.flushAsyncQueue=function(){this.scheduled=!1;var t=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],t.forEach(function(e){return e()})},qr([Nr(0,Sr("loggerFactory")),Nr(1,Sr("gridOptionsService")),Nr(2,Sr("frameworkOverrides")),Nr(3,Sr("globalEventListener")),Nr(4,Sr("globalSyncEventListener"))],o.prototype,"setBeans",null),qr([je("eventService")],o)}(),ye=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Ie=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i},G=function(o,t){for(var e=0,r=t.length,n=o.length;e<r;e++,n++)o[n]=t[e];return o},J=0;function V(){return J++}var T=function(){function o(t,e,r,n){this.instanceId=V(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new mr,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=t,this.userProvidedColDef=e,this.colId=r,this.primary=n,this.setState(t)}return o.prototype.getInstanceId=function(){return this.instanceId},o.prototype.setState=function(t){void 0!==t.sort?("asc"===t.sort||"desc"===t.sort)&&(this.sort=t.sort):("asc"===t.initialSort||"desc"===t.initialSort)&&(this.sort=t.initialSort);var e=Ze(t.sortIndex),r=Ze(t.initialSortIndex);void 0!==e?null!==e&&(this.sortIndex=e):null!==r&&(this.sortIndex=r);var n=Ue(t.hide),i=Ue(t.initialHide);this.visible=void 0!==n?!n:!i,this.setPinned(void 0!==t.pinned?t.pinned:t.initialPinned);var s=Ze(t.flex),a=Ze(t.initialFlex);void 0!==s?this.flex=s:void 0!==a&&(this.flex=a)},o.prototype.setColDef=function(t,e){this.colDef=t,this.userProvidedColDef=e,this.initMinAndMaxWidths(),this.initDotNotation(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged","api"))},o.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},o.prototype.setParent=function(t){this.parent=t},o.prototype.getParent=function(){return this.parent},o.prototype.setOriginalParent=function(t){this.originalParent=t},o.prototype.getOriginalParent=function(){return this.originalParent},o.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.validate()},o.prototype.initDotNotation=function(){var t=this.gridOptionsService.is("suppressFieldDotNotation");this.fieldContainsDots=w(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!t,this.tooltipFieldContainsDots=w(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!t},o.prototype.initMinAndMaxWidths=function(){var t=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(t),this.maxWidth=this.columnUtils.calculateColMaxWidth(t)},o.prototype.initTooltip=function(){this.tooltipEnabled=w(this.colDef.tooltipField)||w(this.colDef.tooltipValueGetter)||w(this.colDef.tooltipComponent)},o.prototype.resetActualWidth=function(t){void 0===t&&(t="api");var e=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(e,t,!0)},o.prototype.isEmptyGroup=function(){return!1},o.prototype.isRowGroupDisplayed=function(t){return!(W(this.colDef)||W(this.colDef.showRowGroup)||!0!==this.colDef.showRowGroup&&this.colDef.showRowGroup!==t)},o.prototype.isPrimary=function(){return this.primary},o.prototype.isFilterAllowed=function(){return!!this.colDef.filter},o.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},o.prototype.isTooltipEnabled=function(){return this.tooltipEnabled},o.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},o.prototype.validate=function(){var t=this.colDef;function e(g,m,C){At(function(){C?console.warn(g,C):At(function(){return console.warn(g)},m)},m)}if(this.gridOptionsService.isRowModelType("clientSide")&&!it.__isRegistered(Re.RowGroupingModule,this.gridOptionsService.getGridId())&&(i=["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].filter(function(g){return w(t[g])})).length>0&&it.__assertRegistered(Re.RowGroupingModule,i.map(function(g){return"colDef."+g}).join(", "),this.gridOptionsService.getGridId()),("agRichSelect"===this.colDef.cellEditor||"agRichSelectCellEditor"===this.colDef.cellEditor)&&it.__assertRegistered(Re.RichSelectModule,this.colDef.cellEditor,this.gridOptionsService.getGridId()),this.gridOptionsService.is("treeData")&&(i=["rowGroup","rowGroupIndex","pivot","pivotIndex"].filter(function(m){return w(t[m])})).length>0&&e("AG Grid: "+i.join()+" is not possible when doing tree data, your column definition should not have "+i.join(),"TreeDataCannotRowGroup"),w(t.menuTabs))if(Array.isArray(t.menuTabs)){var i,a=["filterMenuTab"],d=["columnsMenuTab","generalMenuTab"];(i=d.filter(function(m){return t.menuTabs.includes(m)})).length>0&&it.__assertRegistered(Re.MenuModule,"menuTab(s): "+i.map(function(m){return"'"+m+"'"}).join(),this.gridOptionsService.getGridId()),t.menuTabs.forEach(function(m){!d.includes(m)&&!a.includes(m)&&e("AG Grid: '"+m+"' is not valid for 'colDef.menuTabs'. Valid values are: "+G(G([],Ie(a)),Ie(d)).map(function(C){return"'"+C+"'"}).join()+".","wrongValue_menuTabs_"+m)})}else e("AG Grid: The typeof 'colDef.menuTabs' should be an array not:"+typeof t.menuTabs,"wrongType_menuTabs");w(t.columnsMenuParams)&&it.__assertRegistered(Re.MenuModule,"columnsMenuParams",this.gridOptionsService.getGridId()),w(t.columnsMenuParams)&&it.__assertRegistered(Re.ColumnsToolPanelModule,"columnsMenuParams",this.gridOptionsService.getGridId()),w(this.colDef.width)&&"number"!=typeof this.colDef.width&&e("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck"),w(t.columnGroupShow)&&"closed"!==t.columnGroupShow&&"open"!==t.columnGroupShow&&e("AG Grid: '"+t.columnGroupShow+"' is not valid for columnGroupShow. Valid values are 'open', 'closed', undefined, null","columnGroupShow_invalid")},o.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},o.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},o.prototype.createColumnFunctionCallbackParams=function(t){return{node:t,data:t.data,column:this,colDef:this.colDef,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi}},o.prototype.isSuppressNavigable=function(t){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){var e=this.createColumnFunctionCallbackParams(t);return(0,this.colDef.suppressNavigable)(e)}return!1},o.prototype.isCellEditable=function(t){return!(t.group&&!this.gridOptionsService.is("enableGroupEdit"))&&this.isColumnFunc(t,this.colDef.editable)},o.prototype.isSuppressFillHandle=function(){return!!Ue(this.colDef.suppressFillHandle)},o.prototype.isAutoHeight=function(){return!!Ue(this.colDef.autoHeight)},o.prototype.isAutoHeaderHeight=function(){return!!Ue(this.colDef.autoHeaderHeight)},o.prototype.isRowDrag=function(t){return this.isColumnFunc(t,this.colDef.rowDrag)},o.prototype.isDndSource=function(t){return this.isColumnFunc(t,this.colDef.dndSource)},o.prototype.isCellCheckboxSelection=function(t){return this.isColumnFunc(t,this.colDef.checkboxSelection)},o.prototype.isSuppressPaste=function(t){return this.isColumnFunc(t,this.colDef?this.colDef.suppressPaste:null)},o.prototype.isResizable=function(){return!!Ue(this.colDef.resizable)},o.prototype.isColumnFunc=function(t,e){return"boolean"==typeof e?e:"function"==typeof e&&e(this.createColumnFunctionCallbackParams(t))},o.prototype.setMoving=function(t,e){void 0===e&&(e="api"),this.moving=t,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",e))},o.prototype.createColumnEvent=function(t,e){return{type:t,column:this,columns:[this],source:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},o.prototype.isMoving=function(){return this.moving},o.prototype.getSort=function(){return this.sort},o.prototype.setSort=function(t,e){void 0===e&&(e="api"),this.sort!==t&&(this.sort=t,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",e))),this.dispatchStateUpdatedEvent("sort")},o.prototype.setMenuVisible=function(t,e){void 0===e&&(e="api"),this.menuVisible!==t&&(this.menuVisible=t,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",e)))},o.prototype.isMenuVisible=function(){return this.menuVisible},o.prototype.isSortAscending=function(){return"asc"===this.sort},o.prototype.isSortDescending=function(){return"desc"===this.sort},o.prototype.isSortNone=function(){return W(this.sort)},o.prototype.isSorting=function(){return w(this.sort)},o.prototype.getSortIndex=function(){return this.sortIndex},o.prototype.setSortIndex=function(t){this.sortIndex=t,this.dispatchStateUpdatedEvent("sortIndex")},o.prototype.setAggFunc=function(t){this.aggFunc=t,this.dispatchStateUpdatedEvent("aggFunc")},o.prototype.getAggFunc=function(){return this.aggFunc},o.prototype.getLeft=function(){return this.left},o.prototype.getOldLeft=function(){return this.oldLeft},o.prototype.getRight=function(){return this.left+this.actualWidth},o.prototype.setLeft=function(t,e){void 0===e&&(e="api"),this.oldLeft=this.left,this.left!==t&&(this.left=t,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",e)))},o.prototype.isFilterActive=function(){return this.filterActive},o.prototype.setFilterActive=function(t,e,r){void 0===e&&(e="api"),this.filterActive!==t&&(this.filterActive=t,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",e)));var n=this.createColumnEvent("filterChanged",e);r&&qe(n,r),this.eventService.dispatchEvent(n)},o.prototype.isHovered=function(){return this.columnHoverService.isHovered(this)},o.prototype.setPinned=function(t){this.pinned=!0===t||"left"===t?"left":"right"===t?"right":null,this.dispatchStateUpdatedEvent("pinned")},o.prototype.setFirstRightPinned=function(t,e){void 0===e&&(e="api"),this.firstRightPinned!==t&&(this.firstRightPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",e)))},o.prototype.setLastLeftPinned=function(t,e){void 0===e&&(e="api"),this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",e)))},o.prototype.isFirstRightPinned=function(){return this.firstRightPinned},o.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},o.prototype.isPinned=function(){return"left"===this.pinned||"right"===this.pinned},o.prototype.isPinnedLeft=function(){return"left"===this.pinned},o.prototype.isPinnedRight=function(){return"right"===this.pinned},o.prototype.getPinned=function(){return this.pinned},o.prototype.setVisible=function(t,e){void 0===e&&(e="api");var r=!0===t;this.visible!==r&&(this.visible=r,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",e))),this.dispatchStateUpdatedEvent("hide")},o.prototype.isVisible=function(){return this.visible},o.prototype.isSpanHeaderHeight=function(){var t=this.getColDef();return!t.suppressSpanHeaderHeight&&!t.autoHeaderHeight},o.prototype.getColDef=function(){return this.colDef},o.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},o.prototype.getColId=function(){return this.colId},o.prototype.getId=function(){return this.colId},o.prototype.getUniqueId=function(){return this.colId},o.prototype.getDefinition=function(){return this.colDef},o.prototype.getActualWidth=function(){return this.actualWidth},o.prototype.getAutoHeaderHeight=function(){return this.autoHeaderHeight},o.prototype.setAutoHeaderHeight=function(t){var e=t!==this.autoHeaderHeight;return this.autoHeaderHeight=t,e},o.prototype.createBaseColDefParams=function(t){return{node:t,data:t.data,colDef:this.colDef,column:this,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},o.prototype.getColSpan=function(t){if(W(this.colDef.colSpan))return 1;var e=this.createBaseColDefParams(t),r=this.colDef.colSpan(e);return Math.max(r,1)},o.prototype.getRowSpan=function(t){if(W(this.colDef.rowSpan))return 1;var e=this.createBaseColDefParams(t),r=this.colDef.rowSpan(e);return Math.max(r,1)},o.prototype.setActualWidth=function(t,e,r){void 0===e&&(e="api"),void 0===r&&(r=!1),null!=this.minWidth&&(t=Math.max(t,this.minWidth)),null!=this.maxWidth&&(t=Math.min(t,this.maxWidth)),this.actualWidth!==t&&(this.actualWidth=t,this.flex&&"flex"!==e&&"gridInitializing"!==e&&(this.flex=null),r||this.fireColumnWidthChangedEvent(e)),this.dispatchStateUpdatedEvent("width")},o.prototype.fireColumnWidthChangedEvent=function(t){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",t))},o.prototype.isGreaterThanMax=function(t){return null!=this.maxWidth&&t>this.maxWidth},o.prototype.getMinWidth=function(){return this.minWidth},o.prototype.getMaxWidth=function(){return this.maxWidth},o.prototype.getFlex=function(){return this.flex||0},o.prototype.setFlex=function(t){this.flex!==t&&(this.flex=t),this.dispatchStateUpdatedEvent("flex")},o.prototype.setMinimum=function(t){void 0===t&&(t="api"),w(this.minWidth)&&this.setActualWidth(this.minWidth,t)},o.prototype.setRowGroupActive=function(t,e){void 0===e&&(e="api"),this.rowGroupActive!==t&&(this.rowGroupActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",e))),this.dispatchStateUpdatedEvent("rowGroup")},o.prototype.isRowGroupActive=function(){return this.rowGroupActive},o.prototype.setPivotActive=function(t,e){void 0===e&&(e="api"),this.pivotActive!==t&&(this.pivotActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",e))),this.dispatchStateUpdatedEvent("pivot")},o.prototype.isPivotActive=function(){return this.pivotActive},o.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},o.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},o.prototype.setValueActive=function(t,e){void 0===e&&(e="api"),this.aggregationActive!==t&&(this.aggregationActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",e)))},o.prototype.isValueActive=function(){return this.aggregationActive},o.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},o.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},o.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},o.prototype.getMenuTabs=function(t){var e=this.getColDef().menuTabs;return null==e&&(e=t),e},o.prototype.dispatchStateUpdatedEvent=function(t){this.eventService.dispatchEvent({type:o.EVENT_STATE_UPDATED,key:t})},o.EVENT_MOVING_CHANGED="movingChanged",o.EVENT_LEFT_CHANGED="leftChanged",o.EVENT_WIDTH_CHANGED="widthChanged",o.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",o.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",o.EVENT_VISIBLE_CHANGED="visibleChanged",o.EVENT_FILTER_CHANGED="filterChanged",o.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",o.EVENT_SORT_CHANGED="sortChanged",o.EVENT_COL_DEF_CHANGED="colDefChanged",o.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",o.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",o.EVENT_PIVOT_CHANGED="columnPivotChanged",o.EVENT_VALUE_CHANGED="columnValueChanged",o.EVENT_STATE_UPDATED="columnStateUpdated",ye([A("gridOptionsService")],o.prototype,"gridOptionsService",void 0),ye([A("columnUtils")],o.prototype,"columnUtils",void 0),ye([A("columnHoverService")],o.prototype,"columnHoverService",void 0),ye([we],o.prototype,"initialise",null),o}(),O=function(){function o(t,e,r,n){this.localEventService=new mr,this.expandable=!1,this.instanceId=V(),this.expandableListenerRemoveCallback=null,this.colGroupDef=t,this.groupId=e,this.expanded=!!t&&!!t.openByDefault,this.padding=r,this.level=n}return o.prototype.destroy=function(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)},o.prototype.reset=function(t,e){this.colGroupDef=t,this.level=e,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0},o.prototype.getInstanceId=function(){return this.instanceId},o.prototype.setOriginalParent=function(t){this.originalParent=t},o.prototype.getOriginalParent=function(){return this.originalParent},o.prototype.getLevel=function(){return this.level},o.prototype.isVisible=function(){return!!this.children&&this.children.some(function(t){return t.isVisible()})},o.prototype.isPadding=function(){return this.padding},o.prototype.setExpanded=function(t){this.expanded=void 0!==t&&t,this.localEventService.dispatchEvent({type:o.EVENT_EXPANDED_CHANGED})},o.prototype.isExpandable=function(){return this.expandable},o.prototype.isExpanded=function(){return this.expanded},o.prototype.getGroupId=function(){return this.groupId},o.prototype.getId=function(){return this.getGroupId()},o.prototype.setChildren=function(t){this.children=t},o.prototype.getChildren=function(){return this.children},o.prototype.getColGroupDef=function(){return this.colGroupDef},o.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},o.prototype.addLeafColumns=function(t){this.children&&this.children.forEach(function(e){e instanceof T?t.push(e):e instanceof o&&e.addLeafColumns(t)})},o.prototype.getColumnGroupShow=function(){var t=this.colGroupDef;if(t)return t.columnGroupShow},o.prototype.setupExpandable=function(){var t=this;this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();var e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(function(r){return r.addEventListener("visibleChanged",e)}),this.expandableListenerRemoveCallback=function(){t.getLeafColumns().forEach(function(r){return r.removeEventListener("visibleChanged",e)}),t.expandableListenerRemoveCallback=null}},o.prototype.setExpandable=function(){if(!this.isPadding()){for(var t=!1,e=!1,r=!1,n=this.findChildrenRemovingPadding(),i=0,s=n.length;i<s;i++){var a=n[i];if(a.isVisible()){var d=a.getColumnGroupShow();"open"===d?(t=!0,r=!0):"closed"===d?(e=!0,r=!0):(t=!0,e=!0)}}var g=t&&e&&r;this.expandable!==g&&(this.expandable=g,this.localEventService.dispatchEvent({type:o.EVENT_EXPANDABLE_CHANGED}))}},o.prototype.findChildrenRemovingPadding=function(){var t=[],e=function(r){r.forEach(function(n){n instanceof o&&n.isPadding()?e(n.children):t.push(n)})};return e(this.children),t},o.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},o.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},o.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},o.EVENT_EXPANDED_CHANGED="expandedChanged",o.EVENT_EXPANDABLE_CHANGED="expandableChanged",function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);n>3&&i&&Object.defineProperty(t,e,i)}([yr],o.prototype,"destroy",null),o}(),le={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function Y(){for(var o=[],t=0;t<arguments.length;t++)o[t]=arguments[t];for(var e=0;e<o.length;e++){var r=o[e];if(w(r))return r}return null}function te(o){if(o&&o.length)return o[o.length-1]}function Ye(o,t,e){return null==o&&null==t||null!=o&&null!=t&&o.length===t.length&&o.every(function(r,n){return e?e(r,t[n]):t[n]===r})}function st(o){return o.sort(function(t,e){return t-e})}function U(o,t){var e=o.indexOf(t);e>=0&&(o[e]=o[o.length-1],o.pop())}function Q(o,t){var e=o.indexOf(t);e>=0&&o.splice(e,1)}function ue(o,t){for(var e=0;e<t.length;e++)U(o,t[e])}function Ee(o,t){for(var e=0;e<t.length;e++)Q(o,t[e])}function ut(o,t,e){o.splice(e,0,t)}function Rt(o,t,e){Ee(o,t),t.slice().reverse().forEach(function(r){return ut(o,r,e)})}function It(o,t){return o.indexOf(t)>-1}function tr(o){return[].concat.apply([],o)}function Lr(o,t){null==t||null==o||t.forEach(function(e){return o.push(e)})}var F=Object.freeze({__proto__:null,firstExistingValue:Y,existsAndNotEmpty:function de(o){return null!=o&&o.length>0},last:te,areEqual:Ye,shallowCompare:function nt(o,t){return Ye(o,t)},sortNumerically:st,removeRepeatsFromArray:function ur(o,t){if(o)for(var e=o.length-2;e>=0;e--)o[e]===t&&o[e+1]===t&&o.splice(e+1,1)},removeFromUnorderedArray:U,removeFromArray:Q,removeAllFromUnorderedArray:ue,removeAllFromArray:Ee,insertIntoArray:ut,insertArrayIntoArray:function ot(o,t,e){if(null!=o&&null!=t)for(var r=t.length-1;r>=0;r--)ut(o,t[r],e)},moveInArray:Rt,includes:It,flatten:tr,pushAll:Lr,toStrings:function on(o){return o.map(De)},forEachReverse:function Mo(o,t){if(null!=o)for(var e=o.length-1;e>=0;e--)t(o[e],e)}}),D="__ag_Grid_Stop_Propagation",k=["touchstart","touchend","touchmove","touchcancel","scroll"],$={};function ge(o){o[D]=!0}function xe(o){return!0===o[D]}var o,P=(o={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},function(e){if("boolean"==typeof $[e])return $[e];var r=document.createElement(o[e]||"div");return $[e="on"+e]=e in r});function ne(o,t,e){for(var r=t;r;){var n=o.getDomData(r,e);if(n)return n;r=r.parentElement}return null}function q(o,t){return!(!t||!o)&&at(t).indexOf(o)>=0}function me(o){for(var t=[],e=o.target;e;)t.push(e),e=e.parentElement;return t}function at(o){var t=o;return t.path?t.path:t.composedPath?t.composedPath():me(t)}function Ct(o,t,e,r){var n=It(k,e);o&&o.addEventListener&&o.addEventListener(t,e,r,n?{passive:!0}:void 0)}var fr=Object.freeze({__proto__:null,stopPropagationForAgGrid:ge,isStopPropagationForAgGrid:xe,isEventSupported:P,getCtrlForEventTarget:ne,isElementInEventPath:q,createEventPath:me,getEventPath:at,addSafePassiveEventListener:Ct}),bt=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Le=function(){function o(){var t=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.lastChangeSetIdLookup={},this.propertyListenerId=0,this.isAlive=function(){return!t.destroyed}}return o.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},o.prototype.getContext=function(){return this.context},o.prototype.destroy=function(){this.destroyFunctions.forEach(function(t){return t()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:o.EVENT_DESTROYED})},o.prototype.addEventListener=function(t,e){this.localEventService||(this.localEventService=new mr),this.localEventService.addEventListener(t,e)},o.prototype.removeEventListener=function(t,e){this.localEventService&&this.localEventService.removeEventListener(t,e)},o.prototype.dispatchEventAsync=function(t){var e=this;window.setTimeout(function(){return e.dispatchEvent(t)},0)},o.prototype.dispatchEvent=function(t){this.localEventService&&this.localEventService.dispatchEvent(t)},o.prototype.addManagedListener=function(t,e,r){var n=this;if(!this.destroyed){t instanceof HTMLElement?Ct(this.getFrameworkOverrides(),t,e,r):t.addEventListener(e,r);var i=function(){return t.removeEventListener(e,r),n.destroyFunctions=n.destroyFunctions.filter(function(s){return s!==i}),null};return this.destroyFunctions.push(i),i}},o.prototype.setupGridOptionListener=function(t,e){var r=this;this.gridOptionsService.addEventListener(t,e);var n=function(){return r.gridOptionsService.removeEventListener(t,e),r.destroyFunctions=r.destroyFunctions.filter(function(i){return i!==n}),null};this.destroyFunctions.push(n)},o.prototype.addManagedPropertyListener=function(t,e){this.destroyed||this.setupGridOptionListener(t,e)},o.prototype.addManagedPropertyListeners=function(t,e){var r=this;if(!this.destroyed){var n=t.join("-")+this.propertyListenerId++,i=function(s){if(s.changeSet){if(s.changeSet&&s.changeSet.id===r.lastChangeSetIdLookup[n])return;r.lastChangeSetIdLookup[n]=s.changeSet.id}e({type:"gridPropertyChanged",changeSet:s.changeSet})};t.forEach(function(s){return r.setupGridOptionListener(s,i)})}},o.prototype.addDestroyFunc=function(t){this.isAlive()?this.destroyFunctions.push(t):t()},o.prototype.createManagedBean=function(t,e){var r=this.createBean(t,e);return this.addDestroyFunc(this.destroyBean.bind(this,t,e)),r},o.prototype.createBean=function(t,e,r){return(e||this.getContext()).createBean(t,r)},o.prototype.destroyBean=function(t,e){return(e||this.getContext()).destroyBean(t)},o.prototype.destroyBeans=function(t,e){var r=this;return t&&t.forEach(function(n){return r.destroyBean(n,e)}),[]},o.EVENT_DESTROYED="destroyed",bt([A("frameworkOverrides")],o.prototype,"frameworkOverrides",void 0),bt([A("context")],o.prototype,"context",void 0),bt([A("eventService")],o.prototype,"eventService",void 0),bt([A("gridOptionsService")],o.prototype,"gridOptionsService",void 0),bt([A("localeService")],o.prototype,"localeService",void 0),bt([A("environment")],o.prototype,"environment",void 0),bt([yr],o.prototype,"destroy",null),o}(),Vi=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Kr=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},jr=function(o,t){return function(e,r){t(e,r,o)}},Si=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Vi(t,o),t.prototype.setBeans=function(e){this.logger=e.create("ColumnFactory")},t.prototype.createColumnTree=function(e,r,n){var i=new ht,s=this.extractExistingTreeData(n),a=s.existingCols,d=s.existingGroups;i.addExistingKeys(s.existingColKeys);var m=this.recursivelyCreateColumns(e,0,r,a,i,d),C=this.findMaxDept(m,0);this.logger.log("Number of levels for grouped columns is "+C);var E=this.balanceColumnTree(m,0,C,i);return this.columnUtils.depthFirstOriginalTreeSearch(null,E,function(L,j){L instanceof O&&L.setupExpandable(),L.setOriginalParent(j)}),{columnTree:E,treeDept:C}},t.prototype.extractExistingTreeData=function(e){var r=[],n=[],i=[];return e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,function(s){if(s instanceof O)n.push(s);else{var d=s;i.push(d.getId()),r.push(d)}}),{existingCols:r,existingGroups:n,existingColKeys:i}},t.prototype.createForAutoGroups=function(e,r){var n=this;return e.map(function(i){return n.createAutoGroupTreeItem(r,i)})},t.prototype.createAutoGroupTreeItem=function(e,r){for(var n=this.findDepth(e),i=r,s=n-1;s>=0;s--){var a=new O(null,"FAKE_PATH_"+r.getId()+"}_"+s,!0,s);this.createBean(a),a.setChildren([i]),i.setOriginalParent(a),i=a}return 0===n&&r.setOriginalParent(null),i},t.prototype.findDepth=function(e){for(var r=0,n=e;n&&n[0]&&n[0]instanceof O;)r++,n=n[0].getChildren();return r},t.prototype.balanceColumnTree=function(e,r,n,i){for(var s=[],a=0;a<e.length;a++){var d=e[a];if(d instanceof O){var g=d,m=this.balanceColumnTree(g.getChildren(),r+1,n,i);g.setChildren(m),s.push(g)}else{for(var C=void 0,E=void 0,b=n-1;b>=r;b--){var L=i.getUniqueKey(null,null),j=this.createMergedColGroupDef(null),ee=new O(j,L,!0,r);this.createBean(ee),E&&E.setChildren([ee]),E=ee,C||(C=E)}if(C&&E){if(s.push(C),e.some(function(fe){return fe instanceof O})){E.setChildren([d]);continue}E.setChildren(e);break}s.push(d)}}return s},t.prototype.findMaxDept=function(e,r){for(var n=r,i=0;i<e.length;i++){var s=e[i];if(s instanceof O){var d=this.findMaxDept(s.getChildren(),r+1);n<d&&(n=d)}}return n},t.prototype.recursivelyCreateColumns=function(e,r,n,i,s,a){if(!e)return[];for(var d=new Array(e.length),g=0;g<d.length;g++){var m=e[g];d[g]=this.isColumnGroup(m)?this.createColumnGroup(n,m,r,i,s,a):this.createColumn(n,m,i,s)}return d},t.prototype.createColumnGroup=function(e,r,n,i,s,a){var d=this.createMergedColGroupDef(r),g=s.getUniqueKey(d.groupId||null,null),m=new O(d,g,!1,n);this.createBean(m);var C=this.findExistingGroup(r,a);C&&a.splice(C.idx,1);var E=C?.group;E&&m.setExpanded(E.isExpanded());var b=this.recursivelyCreateColumns(d.children,n+1,e,i,s,a);return m.setChildren(b),m},t.prototype.createMergedColGroupDef=function(e){var r={};return Object.assign(r,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(r,e),r},t.prototype.createColumn=function(e,r,n,i){var s=this.findExistingColumn(r,n);s&&n?.splice(s.idx,1);var a=s?.column;if(a){var g=this.addColumnDefaultAndTypes(r,a.getColId());a.setColDef(g,r),this.applyColumnState(a,g)}else{var d=i.getUniqueKey(r.colId,r.field);g=this.addColumnDefaultAndTypes(r,d),a=new T(g,r,d,e),this.context.createBean(a)}return this.dataTypeService.addColumnListeners(a),a},t.prototype.applyColumnState=function(e,r){var n=Ze(r.flex);if(void 0!==n&&e.setFlex(n),e.getFlex()<=0){var s=Ze(r.width);if(null!=s)e.setActualWidth(s);else{var a=e.getActualWidth();e.setActualWidth(a)}}void 0!==r.sort&&e.setSort("asc"==r.sort||"desc"==r.sort?r.sort:void 0);var d=Ze(r.sortIndex);void 0!==d&&e.setSortIndex(d);var g=Ue(r.hide);void 0!==g&&e.setVisible(!g),void 0!==r.pinned&&e.setPinned(r.pinned)},t.prototype.findExistingColumn=function(e,r){if(r)for(var n=0;n<r.length;n++){var i=r[n].getUserProvidedColDef();if(i){if(null!=e.colId){if(r[n].getId()===e.colId)return{idx:n,column:r[n]};continue}if(null!=e.field){if(i.field===e.field)return{idx:n,column:r[n]};continue}if(i===e)return{idx:n,column:r[n]}}}},t.prototype.findExistingGroup=function(e,r){if(null!=e.groupId)for(var i=0;i<r.length;i++){var s=r[i];if(s.getColGroupDef()&&s.getId()===e.groupId)return{idx:i,group:s}}},t.prototype.addColumnDefaultAndTypes=function(e,r){var n={};qe(n,this.gridOptionsService.get("defaultColDef"),!1,!0);var s=this.dataTypeService.updateColDefAndGetColumnType(n,e,r);s&&this.assignColumnTypes(s,n),qe(n,e,!1,!0);var a=this.gridOptionsService.get("autoGroupColumnDef"),d=this.gridOptionsService.isColumnsSortingCoupledToGroup();return e.rowGroup&&a&&d&&qe(n,{sort:a.sort,initialSort:a.initialSort},!1,!0),this.dataTypeService.validateColDef(n),n},t.prototype.assignColumnTypes=function(e,r){if(e.length){var n=Object.assign({},le);rt(this.gridOptionsService.get("columnTypes")||{},function(s,a){s in n?console.warn("AG Grid: the column type '"+s+"' is a default column type and cannot be overridden."):n[s]=a}),e.forEach(function(s){var a=n[s.trim()];a?qe(r,a,!1,!0):console.warn("AG Grid: colDef.type '"+s+"' does not correspond to defined gridOptions.columnTypes")})}},t.prototype.isColumnGroup=function(e){return void 0!==e.children},Kr([A("columnUtils")],t.prototype,"columnUtils",void 0),Kr([A("dataTypeService")],t.prototype,"dataTypeService",void 0),Kr([jr(0,Sr("loggerFactory"))],t.prototype,"setBeans",null),Kr([je("columnFactory")],t)}(Le),Gr=function(){function o(t,e,r,n){this.displayedChildren=[],this.localEventService=new mr,this.groupId=e,this.partId=r,this.providedColumnGroup=t,this.pinned=n}return o.createUniqueId=function(t,e){return t+"_"+e},o.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},o.prototype.getParent=function(){return this.parent},o.prototype.setParent=function(t){this.parent=t},o.prototype.getUniqueId=function(){return o.createUniqueId(this.groupId,this.partId)},o.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},o.prototype.isMoving=function(){var t=this.getProvidedColumnGroup().getLeafColumns();return!(!t||0===t.length)&&t.every(function(e){return e.isMoving()})},o.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(n){n instanceof o&&n.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsService.is("enableRtl")){var e=te(this.displayedChildren).getLeft();this.setLeft(e)}else{var r=this.displayedChildren[0].getLeft();this.setLeft(r)}else this.setLeft(null)},o.prototype.getLeft=function(){return this.left},o.prototype.getOldLeft=function(){return this.oldLeft},o.prototype.setLeft=function(t){this.oldLeft=t,this.left!==t&&(this.left=t,this.localEventService.dispatchEvent(this.createAgEvent(o.EVENT_LEFT_CHANGED)))},o.prototype.getPinned=function(){return this.pinned},o.prototype.createAgEvent=function(t){return{type:t}},o.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},o.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},o.prototype.getGroupId=function(){return this.groupId},o.prototype.getPartId=function(){return this.partId},o.prototype.isChildInThisGroupDeepSearch=function(t){var e=!1;return this.children.forEach(function(r){t===r&&(e=!0),r instanceof o&&r.isChildInThisGroupDeepSearch(t)&&(e=!0)}),e},o.prototype.getActualWidth=function(){var t=0;return this.displayedChildren&&this.displayedChildren.forEach(function(e){t+=e.getActualWidth()}),t},o.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var t=!1;return this.displayedChildren.forEach(function(e){e.isResizable()&&(t=!0)}),t},o.prototype.getMinWidth=function(){var t=0;return this.displayedChildren.forEach(function(e){t+=e.getMinWidth()||0}),t},o.prototype.addChild=function(t){this.children||(this.children=[]),this.children.push(t)},o.prototype.getDisplayedChildren=function(){return this.displayedChildren},o.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},o.prototype.getDisplayedLeafColumns=function(){var t=[];return this.addDisplayedLeafColumns(t),t},o.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},o.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},o.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},o.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},o.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},o.prototype.setExpanded=function(t){this.providedColumnGroup.setExpanded(t)},o.prototype.addDisplayedLeafColumns=function(t){this.displayedChildren.forEach(function(e){e instanceof T?t.push(e):e instanceof o&&e.addDisplayedLeafColumns(t)})},o.prototype.addLeafColumns=function(t){this.children.forEach(function(e){e instanceof T?t.push(e):e instanceof o&&e.addLeafColumns(t)})},o.prototype.getChildren=function(){return this.children},o.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},o.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},o.prototype.getPaddingLevel=function(){var t=this.getParent();return this.isPadding()&&t&&t.isPadding()?1+t.getPaddingLevel():0},o.prototype.calculateDisplayedColumns=function(){var t=this;this.displayedChildren=[];for(var e=this;null!=e&&e.isPadding();)e=e.getParent();if(!e||!e.providedColumnGroup.isExpandable())return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(o.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach(function(n){if(!(n instanceof o)||n.displayedChildren&&n.displayedChildren.length)switch(n.getColumnGroupShow()){case"open":e.providedColumnGroup.isExpanded()&&t.displayedChildren.push(n);break;case"closed":e.providedColumnGroup.isExpanded()||t.displayedChildren.push(n);break;default:t.displayedChildren.push(n)}}),this.localEventService.dispatchEvent(this.createAgEvent(o.EVENT_DISPLAYED_CHILDREN_CHANGED))},o.EVENT_LEFT_CHANGED="leftChanged",o.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);n>3&&i&&Object.defineProperty(t,e,i)}([A("gridOptionsService")],o.prototype,"gridOptionsService",void 0),o}(),M=function(){function o(){}return o.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",o.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",o.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",o.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",o.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",o.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",o.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",o.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",o.EVENT_COLUMN_MOVED="columnMoved",o.EVENT_COLUMN_VISIBLE="columnVisible",o.EVENT_COLUMN_PINNED="columnPinned",o.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",o.EVENT_COLUMN_RESIZED="columnResized",o.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",o.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",o.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",o.EVENT_ROW_GROUP_OPENED="rowGroupOpened",o.EVENT_ROW_DATA_CHANGED="rowDataChanged",o.EVENT_ROW_DATA_UPDATED="rowDataUpdated",o.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",o.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",o.EVENT_CHART_CREATED="chartCreated",o.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",o.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",o.EVENT_CHART_DESTROYED="chartDestroyed",o.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",o.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",o.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",o.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",o.EVENT_MODEL_UPDATED="modelUpdated",o.EVENT_CUT_START="cutStart",o.EVENT_CUT_END="cutEnd",o.EVENT_PASTE_START="pasteStart",o.EVENT_PASTE_END="pasteEnd",o.EVENT_FILL_START="fillStart",o.EVENT_FILL_END="fillEnd",o.EVENT_RANGE_DELETE_START="rangeDeleteStart",o.EVENT_RANGE_DELETE_END="rangeDeleteEnd",o.EVENT_UNDO_STARTED="undoStarted",o.EVENT_UNDO_ENDED="undoEnded",o.EVENT_REDO_STARTED="redoStarted",o.EVENT_REDO_ENDED="redoEnded",o.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",o.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",o.EVENT_CELL_CLICKED="cellClicked",o.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",o.EVENT_CELL_MOUSE_DOWN="cellMouseDown",o.EVENT_CELL_CONTEXT_MENU="cellContextMenu",o.EVENT_CELL_VALUE_CHANGED="cellValueChanged",o.EVENT_CELL_EDIT_REQUEST="cellEditRequest",o.EVENT_ROW_VALUE_CHANGED="rowValueChanged",o.EVENT_CELL_FOCUSED="cellFocused",o.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",o.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",o.EVENT_ROW_SELECTED="rowSelected",o.EVENT_SELECTION_CHANGED="selectionChanged",o.EVENT_TOOLTIP_SHOW="tooltipShow",o.EVENT_TOOLTIP_HIDE="tooltipHide",o.EVENT_CELL_KEY_DOWN="cellKeyDown",o.EVENT_CELL_MOUSE_OVER="cellMouseOver",o.EVENT_CELL_MOUSE_OUT="cellMouseOut",o.EVENT_FILTER_CHANGED="filterChanged",o.EVENT_FILTER_MODIFIED="filterModified",o.EVENT_FILTER_OPENED="filterOpened",o.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED="advancedFilterBuilderVisibleChanged",o.EVENT_SORT_CHANGED="sortChanged",o.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",o.EVENT_ROW_CLICKED="rowClicked",o.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",o.EVENT_GRID_READY="gridReady",o.EVENT_GRID_PRE_DESTROYED="gridPreDestroyed",o.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",o.EVENT_VIEWPORT_CHANGED="viewportChanged",o.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",o.EVENT_FIRST_DATA_RENDERED="firstDataRendered",o.EVENT_DRAG_STARTED="dragStarted",o.EVENT_DRAG_STOPPED="dragStopped",o.EVENT_CHECKBOX_CHANGED="checkboxChanged",o.EVENT_ROW_EDITING_STARTED="rowEditingStarted",o.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",o.EVENT_CELL_EDITING_STARTED="cellEditingStarted",o.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",o.EVENT_BODY_SCROLL="bodyScroll",o.EVENT_BODY_SCROLL_END="bodyScrollEnd",o.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",o.EVENT_PAGINATION_CHANGED="paginationChanged",o.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",o.EVENT_STORE_REFRESHED="storeRefreshed",o.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",o.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",o.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",o.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",o.EVENT_FLASH_CELLS="flashCells",o.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",o.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",o.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",o.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",o.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",o.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",o.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",o.EVENT_ROW_DRAG_ENTER="rowDragEnter",o.EVENT_ROW_DRAG_MOVE="rowDragMove",o.EVENT_ROW_DRAG_LEAVE="rowDragLeave",o.EVENT_ROW_DRAG_END="rowDragEnd",o.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",o.EVENT_POPUP_TO_FRONT="popupToFront",o.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",o.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",o.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",o.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",o.EVENT_KEYBOARD_FOCUS="keyboardFocus",o.EVENT_MOUSE_FOCUS="mouseFocus",o.EVENT_STORE_UPDATED="storeUpdated",o.EVENT_FILTER_DESTROYED="filterDestroyed",o.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted",o.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged",o.EVENT_DATA_TYPES_INFERRED="dataTypesInferred",o.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged",o.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected",o}(),jn=function(){function o(){this.existingIds={}}return o.prototype.getInstanceIdForKey=function(t){var r,e=this.existingIds[t];return this.existingIds[t]=r="number"!=typeof e?0:e+1,r},o}(),oi=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),sn=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Bi="ag-Grid-AutoColumn",Ra=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return oi(t,o),t.prototype.createAutoGroupColumns=function(e){var r=this,n=[],i=this.gridOptionsService.is("treeData"),s=this.gridOptionsService.isGroupMultiAutoColumn();return i&&s&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),s=!1),s?e.forEach(function(a,d){n.push(r.createOneAutoGroupColumn(a,d))}):n.push(this.createOneAutoGroupColumn()),n},t.prototype.updateAutoGroupColumns=function(e){var r=this;e.forEach(function(n,i){return r.updateOneAutoGroupColumn(n,i)})},t.prototype.createOneAutoGroupColumn=function(e,r){var n;n=e?Bi+"-"+e.getId():Bi;var i=this.createAutoGroupColDef(n,e,r);i.colId=n;var s=new T(i,null,n,!0);return this.context.createBean(s),s},t.prototype.updateOneAutoGroupColumn=function(e,r){var n=e.getColDef(),i="string"==typeof n.showRowGroup?n.showRowGroup:void 0,s=null!=i?this.columnModel.getPrimaryColumn(i):void 0,a=this.createAutoGroupColDef(e.getId(),s??void 0,r);e.setColDef(a,null),this.columnFactory.applyColumnState(e,a)},t.prototype.createAutoGroupColDef=function(e,r,n){var i=this.createBaseColDef(r);return qe(i,this.gridOptionsService.get("autoGroupColumnDef")),i=this.columnFactory.addColumnDefaultAndTypes(i,e),this.gridOptionsService.is("treeData")||W(i.field)&&W(i.valueGetter)&&W(i.filterValueGetter)&&"agGroupColumnFilter"!==i.filter&&(i.filter=!1),n&&n>0&&(i.headerCheckboxSelection=!1),this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!(i.valueGetter||null!=i.field)&&(i.sortIndex=void 0,i.initialSort=void 0),i},t.prototype.createBaseColDef=function(e){var r=this.gridOptionsService.get("autoGroupColumnDef"),i={headerName:this.localeService.getLocaleTextFunc()("group","Group")};if(r&&(r.cellRenderer||r.cellRendererSelector)||(i.cellRenderer="agGroupCellRenderer"),e){var a=e.getColDef();Object.assign(i,{headerName:this.columnModel.getDisplayNameForColumn(e,"header"),headerValueGetter:a.headerValueGetter}),a.cellRenderer&&Object.assign(i,{cellRendererParams:{innerRenderer:a.cellRenderer,innerRendererParams:a.cellRendererParams}}),i.showRowGroup=e.getColId()}else i.showRowGroup=!0;return i},sn([A("columnModel")],t.prototype,"columnModel",void 0),sn([A("columnFactory")],t.prototype,"columnFactory",void 0),sn([je("autoGroupColService")],t)}(Le),yu=/[&<>"']/g,An={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Xr(o,t){if(null==o)return null;var e=o.toString().toString();return t?e:e.replace(yu,function(r){return An[r]})}function wu(o){return o&&null!=o?o.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map(function(n){return n.substring(0,1).toUpperCase()+(n.length>1?n.substring(1,n.length):"")}).join(" "):null}function Aa(o){return o.replace(/[A-Z]/g,function(t){return"-"+t.toLocaleLowerCase()})}var no=Object.freeze({__proto__:null,utf8_encode:function mu(o){var t=String.fromCharCode;function n(C,E){return t(C>>E&63|128)}function i(C){if(C>=0&&C<=31&&10!==C)return"_x"+C.toString(16).toUpperCase().padStart(4,"0")+"_";if(!(4294967168&C))return t(C);var L="";return 4294965248&C?4294901760&C?4292870144&C||(L=t(C>>18&7|240),L+=n(C,12),L+=n(C,6)):(function r(C){if(C>=55296&&C<=57343)throw Error("Lone surrogate U+"+C.toString(16).toUpperCase()+" is not a scalar value")}(C),L=t(C>>12&15|224),L+=n(C,6)):L=t(C>>6&31|192),L+t(63&C|128)}for(var s=function e(C){var E=[];if(!C)return[];for(var j,ee,b=C.length,L=0;L<b;)(j=C.charCodeAt(L++))>=55296&&j<=56319&&L<b?56320==(64512&(ee=C.charCodeAt(L++)))?E.push(((1023&j)<<10)+(1023&ee)+65536):(E.push(j),L--):E.push(j);return E}(o),a=s.length,d=-1,m="";++d<a;)m+=i(s[d]);return m},capitalise:function Cu(o){return o[0].toUpperCase()+o.substr(1).toLowerCase()},escapeString:Xr,camelCaseToHumanText:wu,camelCaseToHyphenated:Aa});function zn(o){var t=new Map;return o.forEach(function(e){return t.set(e[0],e[1])}),t}var Bs=Object.freeze({__proto__:null,convertToMap:zn,mapById:function as(o,t){var e=new Map;return o.forEach(function(r){return e.set(t(r),r)}),e},keys:function Su(o){var t=[];return o.forEach(function(e,r){return t.push(r)}),t}}),Ge=function(){function o(){}return o.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0},o.ALL_PROPERTIES=Object.keys(o.ColDefPropertyMap),o}(),si=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i},Ei=function(o,t){for(var e=0,r=t.length,n=o.length;e<r;e++,n++)o[n]=t[e];return o},Nn=function(){function o(){}return o.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator"],o.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams"],o.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass"],o.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],o.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSelectsChildren","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","serverSideFilterAllLevels","serverSideSortingAlwaysResets","serverSideSortAllLevels","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","suppressReactUi","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","suppressCutToClipboard","enableAdvancedFilter","includeHiddenColumnsInAdvancedFilter"],o.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processSecondaryColDef","processSecondaryColGroupDef","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher"],o.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering"],o.FUNCTION_PROPERTIES=Ei(Ei([],si(o.FUNCTIONAL_PROPERTIES)),si(o.CALLBACK_PROPERTIES)),o.ALL_PROPERTIES=Ei(Ei(Ei(Ei(Ei(Ei([],si(o.ARRAY_PROPERTIES)),si(o.OBJECT_PROPERTIES)),si(o.STRING_PROPERTIES)),si(o.NUMBER_PROPERTIES)),si(o.FUNCTION_PROPERTIES)),si(o.BOOLEAN_PROPERTIES)),o}(),io=function(){return io=Object.assign||function(o){for(var t,e=1,r=arguments.length;e<r;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o},io.apply(this,arguments)},ks=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i},Io=function(o,t){for(var e=0,r=t.length,n=o.length;e<r;e++,n++)o[n]=t[e];return o},ai=function(){function o(){}return o.getCallbackForEvent=function(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substr(1)},o.getCoercionLookup=function(){var t={};return Io(Io(Io(Io(Io([],ks(o.ARRAY_PROPERTIES)),ks(o.OBJECT_PROPERTIES)),ks(o.STRING_PROPERTIES)),ks(o.FUNCTION_PROPERTIES)),ks(o.EVENT_CALLBACKS)).forEach(function(e){return t[e]="none"}),o.BOOLEAN_PROPERTIES.forEach(function(e){return t[e]="boolean"}),o.NUMBER_PROPERTIES.forEach(function(e){return t[e]="number"}),t},o.getValue=function(t,e){var r=o.coercionLookup[t];if(r){var n=e;switch(r){case"number":n=o.toNumber(e);break;case"boolean":n=o.toBoolean(e);break;case"none":"groupAggFiltering"===t&&"function"!=typeof e&&(n=o.toBoolean(e))}return n}},o.getGridOptionKeys=function(t,e){return Object.keys(e?o.coercionLookup:t)},o.copyAttributesToGridOptions=function(t,e,r){void 0===r&&(r=!1),"object"!=typeof t&&(t={});var n=t;return o.getGridOptionKeys(e,r).forEach(function(s){var a=e[s];if(typeof a<"u"){var d=o.getValue(s,a);void 0!==d&&(n[s]=d)}}),t},o.processOnChange=function(t,e){var r=this;if(t&&0!==Object.keys(t).length){this.changeSetId++;var n=io({},t);n.columnTypes&&(e.setColumnTypes(n.columnTypes.currentValue,"gridOptionsChanged"),delete n.columnTypes),n.autoGroupColumnDef&&(e.setAutoGroupColumnDef(n.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete n.autoGroupColumnDef),n.defaultColDef&&(e.setDefaultColDef(n.defaultColDef.currentValue,"gridOptionsChanged"),delete n.defaultColDef),n.columnDefs&&(e.setColumnDefs(n.columnDefs.currentValue,"gridOptionsChanged"),delete n.columnDefs);var i=Object.keys(n).map(function(d){var g=d,m=o.getValue(g,n[g].currentValue);return{gridKey:g,coercedValue:m,isChanged:e.__setPropertyOnly(g,m)}}).filter(function(d){return d.isChanged}),s=i.map(function(d){return d.gridKey});i.forEach(function(d){return e.__updateProperty(d.gridKey,d.coercedValue,d.isChanged,{id:r.changeSetId,properties:s})});var a={type:M.EVENT_COMPONENT_STATE_CHANGED};rt(t,function(d,g){a[d]=g}),e.dispatchEvent(a)}},o.toBoolean=function(t){return"boolean"==typeof t?t:"string"==typeof t&&("TRUE"===t.toUpperCase()||""==t)},o.toNumber=function(t){return"number"==typeof t?t:"string"==typeof t?Number(t):void 0},o.EVENTS=Qe(M),o.EXCLUDED_INTERNAL_EVENTS=[M.EVENT_SCROLLBAR_WIDTH_CHANGED,M.EVENT_CHECKBOX_CHANGED,M.EVENT_HEIGHT_SCALE_CHANGED,M.EVENT_BODY_HEIGHT_CHANGED,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,M.EVENT_SCROLL_VISIBILITY_CHANGED,M.EVENT_COLUMN_HOVER_CHANGED,M.EVENT_FLASH_CELLS,M.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,M.EVENT_DISPLAYED_ROWS_CHANGED,M.EVENT_LEFT_PINNED_WIDTH_CHANGED,M.EVENT_RIGHT_PINNED_WIDTH_CHANGED,M.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,M.EVENT_POPUP_TO_FRONT,M.EVENT_KEYBOARD_FOCUS,M.EVENT_MOUSE_FOCUS,M.EVENT_STORE_UPDATED,M.EVENT_COLUMN_PANEL_ITEM_DRAG_START,M.EVENT_COLUMN_PANEL_ITEM_DRAG_END,M.EVENT_FILL_START,M.EVENT_FILL_END,M.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,M.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,M.EVENT_FULL_WIDTH_ROW_FOCUSED,M.EVENT_HEADER_HEIGHT_CHANGED,M.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,M.EVENT_CELL_FOCUS_CLEARED,M.EVENT_GRID_STYLES_CHANGED,M.EVENT_FILTER_DESTROYED,M.EVENT_ROW_DATA_UPDATE_STARTED,M.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,M.EVENT_DATA_TYPES_INFERRED,M.EVENT_FIELD_VALUE_CHANGED,M.EVENT_FIELD_PICKER_VALUE_SELECTED],o.PUBLIC_EVENTS=o.EVENTS.filter(function(t){return!It(o.EXCLUDED_INTERNAL_EVENTS,t)}),o.EVENT_CALLBACKS=o.EVENTS.map(function(t){return o.getCallbackForEvent(t)}),o.STRING_PROPERTIES=Nn.STRING_PROPERTIES,o.OBJECT_PROPERTIES=Nn.OBJECT_PROPERTIES,o.ARRAY_PROPERTIES=Nn.ARRAY_PROPERTIES,o.NUMBER_PROPERTIES=Nn.NUMBER_PROPERTIES,o.BOOLEAN_PROPERTIES=Nn.BOOLEAN_PROPERTIES,o.FUNCTION_PROPERTIES=Nn.FUNCTION_PROPERTIES,o.ALL_PROPERTIES=Nn.ALL_PROPERTIES,o.ALL_PROPERTIES_SET=new Set(Nn.ALL_PROPERTIES),o.changeSetId=0,o.coercionLookup=o.getCoercionLookup(),o}(),_u=function(o){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&o[t],r=0;if(e)return e.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&r>=o.length&&(o=void 0),{value:o&&o[r++],done:!o}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function Eu(o,t,e){var r={},n=o.filter(function(i){return!t.some(function(s){return s===i})});return n.length>0&&n.forEach(function(i){return r[i]=Lo(i,e).values}),r}function Lo(o,t,e,r){var n,i,s=t.map(function(L,j){return{value:L,relevance:dl(o.toLowerCase(),L.toLocaleLowerCase()),idx:j}});if(s.sort(function(L,j){return j.relevance-L.relevance}),e&&(s=s.filter(function(L){return 0!==L.relevance})),s.length>0&&r&&r>0){var d=s[0].relevance*r;s=s.filter(function(L){return d-L.relevance<0})}var g=[],m=[];try{for(var C=_u(s),E=C.next();!E.done;E=C.next()){var b=E.value;g.push(b.value),m.push(b.idx)}}catch(L){n={error:L}}finally{try{E&&!E.done&&(i=C.return)&&i.call(C)}finally{if(n)throw n.error}}return{values:g,indices:m}}function dl(o,t){for(var e=o.replace(/\s/g,""),r=t.replace(/\s/g,""),n=0,i=-1,s=0;s<e.length;s++){var a=r.indexOf(e[s],i+1);-1!==a&&(n+=100-100*(i=a)/1e4*100)}return n}var Dc=Object.freeze({__proto__:null,fuzzyCheckStrings:Eu,fuzzySuggestions:Lo}),ls=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},oo=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i},ho=function(o,t){for(var e=0,r=t.length,n=o.length;e<r;e++,n++)o[n]=t[e];return o};function li(o,t,e,r){var n=e?"Please use '"+e+"' instead. ":"";At(function(){return console.warn("AG Grid: since v"+o+", '"+t+"' is deprecated. "+n+(r??""))},"Deprecated_"+t)}var Ru=["__ob__","__v_skip","__metadata__"],xc=function(){function o(){this.deprecatedProperties={rememberGroupStateWhenNewData:{version:"24",message:"Now that transaction updates are possible and they keep group state, this feature is no longer needed."},serverSideFilteringAlwaysResets:{version:"28.0",newProp:"serverSideOnlyRefreshFilteredGroups",copyToNewProp:!0},serverSideSortingAlwaysResets:{version:"28.0",newProp:"serverSideSortAllLevels",copyToNewProp:!0},suppressReactUi:{version:"28",message:"The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."},processSecondaryColDef:{version:"28",newProp:"processPivotResultColDef",copyToNewProp:!0},processSecondaryColGroupDef:{version:"28",newProp:"processPivotResultColGroupDef",copyToNewProp:!0},getServerSideStoreParams:{version:"28",newProp:"getServerSideGroupLevelParams",copyToNewProp:!0},serverSideInfiniteScroll:{version:"29",message:"Infinite Scrolling is now the default behaviour. This can be suppressed with `suppressServerSideInfiniteScroll`."},enableChartToolPanelsButton:{version:"29",message:"The Chart Tool Panels button is now enabled by default. To hide the Chart Tool Panels button and display the hamburger button instead, set suppressChartToolPanelsButton=true."},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",newProp:"enterNavigatesVertically",copyToNewProp:!0},enterMovesDownAfterEdit:{version:"30",newProp:"enterNavigatesVerticallyAfterEdit",copyToNewProp:!0},suppressParentsInRowNodes:{version:"30.2",message:"Using suppressParentsInRowNodes is no longer recommended. To serialize nodes it is now recommended to instead remove the parent node reference before serialization."}}}return o.prototype.pickOneWarning=function(t,e){console.warn("AG Grid: "+t+" and "+e+" do not work with each other, you need to pick one.")},o.prototype.init=function(){var t=this;if(this.checkForDeprecated(),this.checkForViolations(),!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),this.checkColumnDefViolations(),this.gridOptionsService.is("groupSelectsChildren")&&this.gridOptionsService.is("suppressParentsInRowNodes")&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.gridOptionsService.is("groupSelectsChildren")&&"multiple"!==this.gridOptionsService.get("rowSelection")&&console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.gridOptionsService.is("groupRemoveSingleChildren")&&this.gridOptionsService.is("groupHideOpenParents")&&this.pickOneWarning("groupRemoveSingleChildren","groupHideOpenParents"),this.gridOptionsService.isRowModelType("serverSide")){var e=function(n,i){return"AG Grid: '"+n+"' is not supported on the Server-Side Row Model."+(i?" Please use "+i+" instead.":"")};this.gridOptionsService.exists("groupDefaultExpanded")&&console.warn(e("groupDefaultExpanded","isServerSideGroupOpenByDefault callback")),this.gridOptionsService.exists("groupIncludeFooter")&&this.gridOptionsService.is("suppressServerSideInfiniteScroll")&&console.warn(e("groupIncludeFooter")),this.gridOptionsService.exists("groupIncludeTotalFooter")&&console.warn(e("groupIncludeTotalFooter"))}this.gridOptionsService.is("enableRangeSelection")?it.__assertRegistered(Re.RangeSelectionModule,"enableRangeSelection",this.gridOptionsService.getGridId()):(this.gridOptionsService.is("enableRangeHandle")||this.gridOptionsService.is("enableFillHandle"))&&console.warn("AG Grid: 'enableRangeHandle' or 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var r=function(n,i){return t.gridOptionsService.exists(n)&&it.__assertRegistered(i,n,t.gridOptionsService.getGridId())};r("sideBar",Re.SideBarModule),r("statusBar",Re.StatusBarModule),r("enableCharts",Re.GridChartsModule),r("getMainMenuItems",Re.MenuModule),r("getContextMenuItems",Re.MenuModule),r("allowContextMenuWithControlKey",Re.MenuModule),r("enableAdvancedFilter",Re.AdvancedFilterModule),r("treeData",Re.RowGroupingModule),r("enableRangeSelection",Re.RangeSelectionModule),r("masterDetail",Re.MasterDetailModule)},o.prototype.checkColumnDefProperties=function(){var t=this;if(null!=this.gridOptions.columnDefs){var e=Ge.ALL_PROPERTIES,r=function(n,i){var s=Object.getOwnPropertyNames(n);t.checkProperties(s,ho(ho([],oo(e)),oo(Ru)),e,i,"https://www.ag-grid.com/javascript-data-grid/column-properties/"),n.children&&n.children.forEach(function(a){return r(a,"columnDefs.children")})};this.gridOptions.columnDefs.forEach(function(n){return r(n,"columnDefs")}),this.gridOptions.defaultColDef&&r(this.gridOptions.defaultColDef,"defaultColDef")}},o.prototype.checkColumnDefViolations=function(){var t,e=null!==(t=this.gridOptionsService.get("rowModelType"))&&void 0!==t?t:"clientSide",n={infinite:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],viewport:["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],serverSide:["headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],clientSide:[]}[e];if(n){var i="multiple"===this.gridOptionsService.get("rowSelection"),s=["headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelectionCurrentPageOnly"],a=function(d){i||s.forEach(function(g){g in d&&d[g]&&console.warn("AG Grid: Column property "+g+" is not supported unless rowSelection='multiple'.")}),n.forEach(function(g){g in d&&d[g]&&console.warn("AG Grid: Column property "+g+" is not supported with the row model type "+e+".")})};null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach(function(d){return a(d)}),null!=this.gridOptions.autoGroupColumnDef&&a(this.gridOptions.autoGroupColumnDef),null!=this.gridOptions.defaultColDef&&a(this.gridOptions.defaultColDef)}},o.prototype.checkGridOptionsProperties=function(){var t=Object.getOwnPropertyNames(this.gridOptions),e=ho(ho([],oo(Nn.ALL_PROPERTIES)),oo(ai.EVENT_CALLBACKS)),r=ho(ho(ho(ho([],oo(e)),["api","columnApi"]),oo(Ru)),oo(Object.keys(this.deprecatedProperties)));this.checkProperties(t,r,e,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")},o.prototype.checkProperties=function(t,e,r,n,i){var s=Eu(t,e,r);rt(s,function(a,d){At(function(){return console.warn("AG Grid: invalid "+n+" property '"+a+"' did you mean any of these: "+d.slice(0,8).join(", "))},"invalidProperty"+n+a)}),Object.keys(s).length>0&&At(function(){return console.warn("AG Grid: to see all the valid "+n+" properties please check: "+i)},"invalidProperties"+n+i)},o.prototype.checkForDeprecated=function(){var t=this.gridOptions;Object.entries(this.deprecatedProperties).forEach(function(e){var r,n=oo(e,2),i=n[0],s=n[1],a=t[i];a&&(li(s.version,i,s.newProp,s.message),s.copyToNewProp&&s.newProp&&null==t[s.newProp]&&(t[s.newProp]=null!==(r=s.newPropValue)&&void 0!==r?r:a))}),t.serverSideStoreType&&(console.warn("AG Grid: since v29.0, `serverSideStoreType` has been replaced by `suppressServerSideInfiniteScroll`. Set to false to use Partial Store, and true to use Full Store."),t.suppressServerSideInfiniteScroll="partial"!==t.serverSideStoreType)},o.prototype.checkForViolations=function(){this.gridOptionsService.is("treeData")&&this.treeDataViolations()},o.prototype.treeDataViolations=function(){this.gridOptionsService.isRowModelType("clientSide")&&(this.gridOptionsService.exists("getDataPath")||console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data.")),this.gridOptionsService.isRowModelType("serverSide")&&(this.gridOptionsService.exists("isServerSideGroup")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),this.gridOptionsService.exists("getServerSideGroupKey")||console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},ls([A("gridOptions")],o.prototype,"gridOptions",void 0),ls([A("gridOptionsService")],o.prototype,"gridOptionsService",void 0),ls([we],o.prototype,"init",null),ls([je("gridOptionsValidator")],o)}();function Br(o,t){var e=["groupRows","multipleColumns","custom","singleColumn"];return e.indexOf(t)<0?(console.warn("AG Grid: '"+t+"' is not a valid groupDisplayType value - possible values are: '"+e.join("', '")+"'"),!1):t===o}var Ws=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),hn=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Oc=function(o,t){return function(e,r){t(e,r,o)}},Ri=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i},mn=function(o,t){for(var e=0,r=t.length,n=o.length;e<r;e++,n++)o[n]=t[e];return o},pl=function(o){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&o[t],r=0;if(e)return e.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&r>=o.length&&(o=void 0),{value:o&&o[r++],done:!o}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Da=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.primaryHeaderRowCount=0,e.secondaryHeaderRowCount=0,e.gridHeaderRowCount=0,e.displayedColumnsLeft=[],e.displayedColumnsRight=[],e.displayedColumnsCenter=[],e.displayedColumns=[],e.displayedColumnsAndGroupsMap={},e.viewportColumns=[],e.viewportColumnsHash="",e.headerViewportColumns=[],e.viewportColumnsCenter=[],e.headerViewportColumnsCenter=[],e.autoHeightActiveAtLeastOnce=!1,e.rowGroupColumns=[],e.valueColumns=[],e.pivotColumns=[],e.ready=!1,e.autoGroupsNeedBuilding=!1,e.forceRecreateAutoGroups=!1,e.pivotMode=!1,e.bodyWidth=0,e.leftWidth=0,e.rightWidth=0,e.bodyWidthDirty=!0,e.shouldQueueResizeOperations=!1,e.resizeOperationQueue=[],e}return Ws(t,o),t.prototype.init=function(){var e=this;this.suppressColumnVirtualisation=this.gridOptionsService.is("suppressColumnVirtualisation");var r=this.gridOptionsService.is("pivotMode");this.isPivotSettingAllowed(r)&&(this.pivotMode=r),this.addManagedPropertyListeners(["groupDisplayType","treeData"],function(){return e.buildAutoGroupColumns()}),this.addManagedPropertyListener("autoGroupColumnDef",function(){return e.onAutoGroupColumnDefChanged()}),this.addManagedPropertyListener("defaultColDef",function(n){return e.onSharedColDefChanged(n.source)}),this.addManagedPropertyListener("columnTypes",function(n){return e.onSharedColDefChanged(n.source)})},t.prototype.buildAutoGroupColumns=function(){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged"))},t.prototype.onAutoGroupColumnDefChanged=function(){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns)},t.prototype.onSharedColDefChanged=function(e){void 0===e&&(e="api"),this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns),this.createColumnsFromColumnDefs(!0,e)},t.prototype.setColumnDefs=function(e,r){void 0===r&&(r="api");var n=!!this.columnDefs;this.columnDefs=e,this.createColumnsFromColumnDefs(n,r)},t.prototype.recreateColumnDefs=function(e){void 0===e&&(e="api"),this.onSharedColDefChanged(e)},t.prototype.destroyOldColumns=function(e,r){var n={};if(e){this.columnUtils.depthFirstOriginalTreeSearch(null,e,function(s){n[s.getInstanceId()]=s}),r&&this.columnUtils.depthFirstOriginalTreeSearch(null,r,function(s){n[s.getInstanceId()]=null});var i=Object.values(n).filter(function(s){return null!=s});this.destroyBeans(i)}},t.prototype.destroyColumns=function(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)},t.prototype.createColumnsFromColumnDefs=function(e,r){var n=this;void 0===r&&(r="api");var i=e?this.compareColumnStatesAndDispatchEvents(r):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var s=this.primaryColumns,d=this.columnFactory.createColumnTree(this.columnDefs,!0,this.primaryColumnTree);this.destroyOldColumns(this.primaryColumnTree,d.columnTree),this.primaryColumnTree=d.columnTree,this.primaryHeaderRowCount=d.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(C){return n.primaryColumnsMap[C.getId()]=C}),this.extractRowGroupColumns(r,s),this.extractPivotColumns(r,s),this.extractValueColumns(r,s),this.ready=!0,(this.gridColsArePrimary||void 0===this.gridColsArePrimary||this.autoGroupsNeedBuilding)&&(this.updateGridColumns(),e&&this.gridColsArePrimary&&!this.gridOptionsService.is("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(r),this.checkViewportColumns()),this.dispatchEverythingChanged(r),i&&i(),this.dispatchNewColumnsLoaded(r)},t.prototype.dispatchNewColumnsLoaded=function(e){this.eventService.dispatchEvent({type:M.EVENT_NEW_COLUMNS_LOADED,source:e})},t.prototype.dispatchEverythingChanged=function(e){void 0===e&&(e="api"),this.eventService.dispatchEvent({type:M.EVENT_COLUMN_EVERYTHING_CHANGED,source:e})},t.prototype.orderGridColumnsLikePrimary=function(){var e=this,r=this.primaryColumns;if(r){var n=r.filter(function(s){return e.gridColumns.indexOf(s)>=0}),i=this.gridColumns.filter(function(s){return n.indexOf(s)<0});this.gridColumns=mn(mn([],Ri(i)),Ri(n)),this.gridColumns=this.placeLockedColumns(this.gridColumns)}},t.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},t.prototype.setViewport=function(){this.gridOptionsService.is("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},t.prototype.getDisplayedColumnsStartingAt=function(e){for(var r=e,n=[];null!=r;)n.push(r),r=this.getDisplayedColAfter(r);return n},t.prototype.checkViewportColumns=function(e){void 0===e&&(e=!1),null!=this.displayedColumnsCenter&&this.extractViewport()&&this.eventService.dispatchEvent({type:M.EVENT_VIRTUAL_COLUMNS_CHANGED,afterScroll:e})},t.prototype.setViewportPosition=function(e,r,n){void 0===n&&(n=!1),(e!==this.scrollWidth||r!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=r,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns(n))},t.prototype.isPivotMode=function(){return this.pivotMode},t.prototype.isPivotSettingAllowed=function(e){return!e||!this.gridOptionsService.is("treeData")||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},t.prototype.setPivotMode=function(e,r){void 0===r&&(r="api"),e!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=e,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(r),this.eventService.dispatchEvent({type:M.EVENT_COLUMN_PIVOT_MODE_CHANGED}))},t.prototype.getSecondaryPivotColumn=function(e,r){if(W(this.secondaryColumns))return null;var n=this.getPrimaryColumn(r),i=null;return this.secondaryColumns.forEach(function(s){var a=s.getColDef().pivotKeys,d=s.getColDef().pivotValueColumn;Ye(a,e)&&d===n&&(i=s)}),i},t.prototype.setBeans=function(e){this.logger=e.create("columnModel")},t.prototype.setFirstRightAndLastLeftPinned=function(e){var r,n;this.gridOptionsService.is("enableRtl")?(r=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,n=this.displayedColumnsRight?te(this.displayedColumnsRight):null):(r=this.displayedColumnsLeft?te(this.displayedColumnsLeft):null,n=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(i){i.setLastLeftPinned(i===r,e),i.setFirstRightPinned(i===n,e)})},t.prototype.autoSizeColumns=function(e){var r=this;if(this.shouldQueueResizeOperations)this.resizeOperationQueue.push(function(){return r.autoSizeColumns(e)});else{var n=e.columns,i=e.skipHeader,s=e.skipHeaderGroups,a=e.stopAtGroup,d=e.source,g=void 0===d?"api":d;this.animationFrameService.flushAllFrames();for(var m=[],C=-1,E=i??this.gridOptionsService.is("skipHeaderOnAutoSize"),b=s??E;0!==C;)C=0,this.actionOnGridColumns(n,function(L){if(m.indexOf(L)>=0)return!1;var j=r.autoWidthCalculator.getPreferredWidthForColumn(L,E);if(j>0){var ee=r.normaliseColumnWidth(L,j);L.setActualWidth(ee,g),m.push(L),C++}return!0},g);b||this.autoSizeColumnGroupsByColumns(n,g,a),this.dispatchColumnResizedEvent(m,!0,"autosizeColumns")}},t.prototype.dispatchColumnResizedEvent=function(e,r,n,i){void 0===i&&(i=null),e&&e.length&&this.eventService.dispatchEvent({type:M.EVENT_COLUMN_RESIZED,columns:e,column:1===e.length?e[0]:null,flexColumns:i,finished:r,source:n})},t.prototype.dispatchColumnChangedEvent=function(e,r,n){this.eventService.dispatchEvent({type:e,columns:r,column:r&&1==r.length?r[0]:null,source:n})},t.prototype.dispatchColumnMovedEvent=function(e){var r=e.movedColumns;this.eventService.dispatchEvent({type:M.EVENT_COLUMN_MOVED,columns:r,column:r&&1===r.length?r[0]:null,toIndex:e.toIndex,finished:e.finished,source:e.source})},t.prototype.dispatchColumnPinnedEvent=function(e,r){if(e.length){var n=1===e.length?e[0]:null,i=this.getCommonValue(e,function(a){return a.getPinned()});this.eventService.dispatchEvent({type:M.EVENT_COLUMN_PINNED,pinned:i??null,columns:e,column:n,source:r})}},t.prototype.dispatchColumnVisibleEvent=function(e,r){if(e.length){var n=1===e.length?e[0]:null,i=this.getCommonValue(e,function(a){return a.isVisible()});this.eventService.dispatchEvent({type:M.EVENT_COLUMN_VISIBLE,visible:i,columns:e,column:n,source:r})}},t.prototype.autoSizeColumn=function(e,r,n){void 0===n&&(n="api"),e&&this.autoSizeColumns({columns:[e],skipHeader:r,skipHeaderGroups:!0,source:n})},t.prototype.autoSizeColumnGroupsByColumns=function(e,r,n){var i,s,a,d,C,g=new Set;this.getGridColumns(e).forEach(function(Te){for(var ke=Te.getParent();ke&&ke!=n;)ke.isPadding()||g.add(ke),ke=ke.getParent()});try{for(var b=pl(g),L=b.next();!L.done;L=b.next()){var j=L.value;try{for(var ee=(a=void 0,pl(this.ctrlsService.getHeaderRowContainerCtrls())),se=ee.next();!se.done&&!(C=se.value.getHeaderCtrlForColumn(j));se=ee.next());}catch(Te){a={error:Te}}finally{try{se&&!se.done&&(d=ee.return)&&d.call(ee)}finally{if(a)throw a.error}}C&&C.resizeLeafColumnsToFit(r)}}catch(Te){i={error:Te}}finally{try{L&&!L.done&&(s=b.return)&&s.call(b)}finally{if(i)throw i.error}}return[]},t.prototype.autoSizeAllColumns=function(e,r){var n=this;if(void 0===r&&(r="api"),this.shouldQueueResizeOperations)this.resizeOperationQueue.push(function(){return n.autoSizeAllColumns(e,r)});else{var i=this.getAllDisplayedColumns();this.autoSizeColumns({columns:i,skipHeader:e,source:r})}},t.prototype.getColumnsFromTree=function(e){var r=[],n=function(i){for(var s=0;s<i.length;s++){var a=i[s];a instanceof T?r.push(a):a instanceof O&&n(a.getChildren())}};return n(e),r},t.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},t.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},t.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},t.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},t.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},t.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},t.prototype.isColumnDisplayed=function(e){return this.getAllDisplayedColumns().indexOf(e)>=0},t.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},t.prototype.getViewportColumns=function(){return this.viewportColumns},t.prototype.getDisplayedLeftColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsLeft):this.displayedColumnsLeft},t.prototype.getDisplayedRightColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsRight):this.displayedColumnsRight},t.prototype.isColSpanActive=function(){return this.colSpanActive},t.prototype.getDisplayedColumnsForRow=function(e,r,n,i){for(var g,s=[],a=null,d=function(C){var fe,E=r[C],b=r.length-C,L=Math.min(E.getColSpan(e),b),j=[E];if(L>1){for(var ee=L-1,se=1;se<=ee;se++)j.push(r[C+se]);C+=ee}n?(fe=!1,j.forEach(function(ke){n(ke)&&(fe=!0)})):fe=!0,fe&&(0===s.length&&a&&i&&i(E)&&s.push(a),s.push(E)),a=E,g=C},m=0;m<r.length;m++)d(m),m=g;return s},t.prototype.getViewportCenterColumnsForRow=function(e){var r=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var i=this.suppressColumnVirtualisation?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedColumnsCenter,i,function(s){var a=s.getLeft();return w(a)&&a>r.viewportLeft})},t.prototype.getAriaColumnIndex=function(e){return this.getAllGridColumns().indexOf(e)+1},t.prototype.isColumnInHeaderViewport=function(e){return!!e.isAutoHeaderHeight()||this.isColumnInRowViewport(e)},t.prototype.isColumnInRowViewport=function(e){if(e.isAutoHeight())return!0;var r=e.getLeft()||0,n=r+e.getActualWidth(),i=this.viewportLeft-200,s=this.viewportRight+200;return!(r<i&&n<i||r>s&&n>s)},t.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},t.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},t.prototype.updatePrimaryColumnList=function(e,r,n,i,s,a){var d=this;if(void 0===a&&(a="api"),e&&!he(e)){var g=!1;e.forEach(function(C){var E=d.getPrimaryColumn(C);if(E){if(n){if(r.indexOf(E)>=0)return;r.push(E)}else{if(r.indexOf(E)<0)return;Q(r,E)}i(E),g=!0}}),g&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(a),this.eventService.dispatchEvent({type:s,columns:r,column:1===r.length?r[0]:null,source:a}))}},t.prototype.setRowGroupColumns=function(e,r){void 0===r&&(r="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,M.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),r)},t.prototype.setRowGroupActive=function(e,r,n){e!==r.isRowGroupActive()&&(r.setRowGroupActive(e,n),e&&!this.gridOptionsService.is("suppressRowGroupHidesColumns")&&this.setColumnVisible(r,!1,n),!e&&!this.gridOptionsService.is("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnVisible(r,!0,n))},t.prototype.addRowGroupColumn=function(e,r){void 0===r&&(r="api"),e&&this.addRowGroupColumns([e],r)},t.prototype.addRowGroupColumns=function(e,r){void 0===r&&(r="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),M.EVENT_COLUMN_ROW_GROUP_CHANGED,r)},t.prototype.removeRowGroupColumns=function(e,r){void 0===r&&(r="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),M.EVENT_COLUMN_ROW_GROUP_CHANGED,r)},t.prototype.removeRowGroupColumn=function(e,r){void 0===r&&(r="api"),e&&this.removeRowGroupColumns([e],r)},t.prototype.addPivotColumns=function(e,r){void 0===r&&(r="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!0,function(n){return n.setPivotActive(!0,r)},M.EVENT_COLUMN_PIVOT_CHANGED,r)},t.prototype.setPivotColumns=function(e,r){void 0===r&&(r="api"),this.setPrimaryColumnList(e,this.pivotColumns,M.EVENT_COLUMN_PIVOT_CHANGED,!0,function(n,i){i.setPivotActive(n,r)},r)},t.prototype.addPivotColumn=function(e,r){void 0===r&&(r="api"),this.addPivotColumns([e],r)},t.prototype.removePivotColumns=function(e,r){void 0===r&&(r="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!1,function(n){return n.setPivotActive(!1,r)},M.EVENT_COLUMN_PIVOT_CHANGED,r)},t.prototype.removePivotColumn=function(e,r){void 0===r&&(r="api"),this.removePivotColumns([e],r)},t.prototype.setPrimaryColumnList=function(e,r,n,i,s,a){var d=this,g=new Map;r.forEach(function(m,C){return g.set(m,C)}),r.length=0,w(e)&&e.forEach(function(m){var C=d.getPrimaryColumn(m);C&&r.push(C)}),r.forEach(function(m,C){var E=g.get(m);void 0!==E?i&&E!==C||g.delete(m):g.set(m,0)}),(this.primaryColumns||[]).forEach(function(m){var C=r.indexOf(m)>=0;s(C,m)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(a),this.dispatchColumnChangedEvent(n,mn([],Ri(g.keys())),a)},t.prototype.setValueColumns=function(e,r){void 0===r&&(r="api"),this.setPrimaryColumnList(e,this.valueColumns,M.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),r)},t.prototype.setValueActive=function(e,r,n){if(e!==r.isValueActive()&&(r.setValueActive(e,n),e&&!r.getAggFunc())){var i=this.aggFuncService.getDefaultAggFunc(r);r.setAggFunc(i)}},t.prototype.addValueColumns=function(e,r){void 0===r&&(r="api"),this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),M.EVENT_COLUMN_VALUE_CHANGED,r)},t.prototype.addValueColumn=function(e,r){void 0===r&&(r="api"),e&&this.addValueColumns([e],r)},t.prototype.removeValueColumn=function(e,r){void 0===r&&(r="api"),this.removeValueColumns([e],r)},t.prototype.removeValueColumns=function(e,r){void 0===r&&(r="api"),this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),M.EVENT_COLUMN_VALUE_CHANGED,r)},t.prototype.normaliseColumnWidth=function(e,r){var n=e.getMinWidth();w(n)&&r<n&&(r=n);var i=e.getMaxWidth();return w(i)&&e.isGreaterThanMax(r)&&(r=i),r},t.prototype.getPrimaryOrGridColumn=function(e){return this.getPrimaryColumn(e)||this.getGridColumn(e)},t.prototype.setColumnWidths=function(e,r,n,i){var s=this;void 0===i&&(i="api");var a=[];e.forEach(function(d){var g=s.getPrimaryOrGridColumn(d.key);if(g&&(a.push({width:d.newWidth,ratios:[1],columns:[g]}),"shift"===s.gridOptionsService.get("colResizeDefault")&&(r=!r),r)){var C=s.getDisplayedColAfter(g);if(!C)return;var E=g.getActualWidth()-d.newWidth,b=C.getActualWidth()+E;a.push({width:b,ratios:[1],columns:[C]})}}),0!==a.length&&this.resizeColumnSets({resizeSets:a,finished:n,source:i})},t.prototype.checkMinAndMaxWidthsForSet=function(e){var n=e.width,i=0,s=0,a=!0;return e.columns.forEach(function(m){var C=m.getMinWidth();i+=C||0;var E=m.getMaxWidth();w(E)&&E>0?s+=E:a=!1}),n>=i&&(!a||n<=s)},t.prototype.resizeColumnSets=function(e){var r=this,n=e.resizeSets,i=e.finished,s=e.source;if(!n||n.every(function(L){return r.checkMinAndMaxWidthsForSet(L)})){var g=[],m=[];n.forEach(function(L){var j=L.width,ee=L.columns,se=L.ratios,fe={},Te={};ee.forEach(function(gt){return m.push(gt)});for(var ke=!0,St=0,_t=function(){if(++St>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";ke=!1;var gt=[],Tt=0,Bt=j;ee.forEach(function(Ur,ii){Te[Ur.getId()]?Bt-=fe[Ur.getId()]:(gt.push(Ur),Tt+=se[ii])});var rr=1/Tt;gt.forEach(function(Ur,ii){var Pn;ii===gt.length-1?Pn=Bt:(Pn=Math.round(se[ii]*j*rr),Bt-=Pn);var to=Ur.getMinWidth(),Yr=Ur.getMaxWidth();w(to)&&Pn<to?(Pn=to,Te[Ur.getId()]=!0,ke=!0):w(Yr)&&Yr>0&&Pn>Yr&&(Pn=Yr,Te[Ur.getId()]=!0,ke=!0),fe[Ur.getId()]=Pn})};ke&&"break"!==_t(););ee.forEach(function(gt){var Tt=fe[gt.getId()];gt.getActualWidth()!==Tt&&(gt.setActualWidth(Tt,s),g.push(gt))})});var C=g.length>0,E=[];C&&(E=this.refreshFlexedColumns({resizingCols:m,skipSetLeft:!0}),this.setLeftValues(s),this.updateBodyWidths(),this.checkViewportColumns());var b=m.concat(E);(C||i)&&this.dispatchColumnResizedEvent(b,i,s,E)}else i&&this.dispatchColumnResizedEvent(n&&n.length>0?n[0].columns:null,i,s)},t.prototype.setColumnAggFunc=function(e,r,n){if(void 0===n&&(n="api"),e){var i=this.getPrimaryColumn(e);i&&(i.setAggFunc(r),this.dispatchColumnChangedEvent(M.EVENT_COLUMN_VALUE_CHANGED,[i],n))}},t.prototype.moveRowGroupColumn=function(e,r,n){void 0===n&&(n="api");var i=this.rowGroupColumns[e],s=this.rowGroupColumns.slice(e,r);this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(r,0,i),this.eventService.dispatchEvent({type:M.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:s,column:1===s.length?s[0]:null,source:n})},t.prototype.moveColumns=function(e,r,n,i){if(void 0===n&&(n="api"),void 0===i&&(i=!0),this.columnAnimationService.start(),r>this.gridColumns.length-e.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+r),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");var s=this.getGridColumns(e);!this.doesMovePassRules(s,r)||(Rt(this.gridColumns,s,r),this.updateDisplayedColumns(n),this.dispatchColumnMovedEvent({movedColumns:s,source:n,toIndex:r,finished:i}),this.columnAnimationService.finish())},t.prototype.doesMovePassRules=function(e,r){var n=this.getProposedColumnOrder(e,r);return this.doesOrderPassRules(n)},t.prototype.doesOrderPassRules=function(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))},t.prototype.getProposedColumnOrder=function(e,r){var n=this.gridColumns.slice();return Rt(n,e,r),n},t.prototype.sortColumnsLikeGridColumns=function(e){var r=this;!e||e.length<=1||e.filter(function(i){return r.gridColumns.indexOf(i)<0}).length>0||e.sort(function(i,s){return r.gridColumns.indexOf(i)-r.gridColumns.indexOf(s)})},t.prototype.doesMovePassLockedPositions=function(e){var r=0,n=!0;return e.forEach(function(s){var a=function(s){return s?!0===s||"left"===s?0:2:1}(s.getColDef().lockPosition);a<r&&(n=!1),r=a}),n},t.prototype.doesMovePassMarryChildren=function(e){var r=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(n){if(n instanceof O){var i=n,s=i.getColGroupDef();if(s&&s.marryChildren){var d=[];i.getLeafColumns().forEach(function(b){var L=e.indexOf(b);d.push(L)}),Math.max.apply(Math,d)-Math.min.apply(Math,d)>i.getLeafColumns().length-1&&(r=!1)}}}),r},t.prototype.moveColumn=function(e,r,n){void 0===n&&(n="api"),this.moveColumns([e],r,n)},t.prototype.moveColumnByIndex=function(e,r,n){void 0===n&&(n="api"),this.moveColumn(this.gridColumns[e],r,n)},t.prototype.getColumnDefs=function(){var e=this;if(this.primaryColumns){var r=this.primaryColumns.slice();return this.gridColsArePrimary?r.sort(function(n,i){return e.gridColumns.indexOf(n)-e.gridColumns.indexOf(i)}):this.lastPrimaryOrder&&r.sort(function(n,i){return e.lastPrimaryOrder.indexOf(n)-e.lastPrimaryOrder.indexOf(i)}),this.columnDefFactory.buildColumnDefs(r,this.rowGroupColumns,this.pivotColumns)}},t.prototype.getBodyContainerWidth=function(){return this.bodyWidth},t.prototype.getContainerWidth=function(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}},t.prototype.updateBodyWidths=function(){var e=this.getWidthOfColsInList(this.displayedColumnsCenter),r=this.getWidthOfColsInList(this.displayedColumnsLeft),n=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==r||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=r,this.rightWidth=n,this.eventService.dispatchEvent({type:M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED}))},t.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},t.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},t.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},t.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},t.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},t.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},t.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},t.prototype.getDisplayedColumns=function(e){switch(e){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},t.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},t.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},t.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},t.prototype.getAllGridColumns=function(){return this.gridColumns},t.prototype.isEmpty=function(){return he(this.gridColumns)},t.prototype.isRowGroupEmpty=function(){return he(this.rowGroupColumns)},t.prototype.setColumnVisible=function(e,r,n){void 0===n&&(n="api"),this.setColumnsVisible([e],r,n)},t.prototype.setColumnsVisible=function(e,r,n){void 0===r&&(r=!1),void 0===n&&(n="api"),this.applyColumnState({state:e.map(function(i){return{colId:"string"==typeof i?i:i.getColId(),hide:!r}})},n)},t.prototype.setColumnPinned=function(e,r,n){void 0===n&&(n="api"),e&&this.setColumnsPinned([e],r,n)},t.prototype.setColumnsPinned=function(e,r,n){var i;void 0===n&&(n="api"),this.gridOptionsService.isDomLayout("print")?console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'"):(this.columnAnimationService.start(),i=!0===r||"left"===r?"left":"right"===r?"right":null,this.actionOnGridColumns(e,function(s){return s.getPinned()!==i&&(s.setPinned(i),!0)},n,function(){return{type:M.EVENT_COLUMN_PINNED,pinned:i,column:null,columns:null,source:n}}),this.columnAnimationService.finish())},t.prototype.actionOnGridColumns=function(e,r,n,i){var s=this;if(!he(e)){var a=[];if(e.forEach(function(g){var m=s.getGridColumn(g);m&&!1!==r(m)&&a.push(m)}),a.length&&(this.updateDisplayedColumns(n),w(i)&&i)){var d=i();d.columns=a,d.column=1===a.length?a[0]:null,this.eventService.dispatchEvent(d)}}},t.prototype.getDisplayedColBefore=function(e){var r=this.getAllDisplayedColumns(),n=r.indexOf(e);return n>0?r[n-1]:null},t.prototype.getDisplayedColAfter=function(e){var r=this.getAllDisplayedColumns(),n=r.indexOf(e);return n<r.length-1?r[n+1]:null},t.prototype.getDisplayedGroupAfter=function(e){return this.getDisplayedGroupAtDirection(e,"After")},t.prototype.getDisplayedGroupBefore=function(e){return this.getDisplayedGroupAtDirection(e,"Before")},t.prototype.getDisplayedGroupAtDirection=function(e,r){for(var n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),i=e.getDisplayedLeafColumns(),s="After"===r?te(i):i[0],a="getDisplayedCol"+r;;){var d=this[a](s);if(!d)return null;var g=this.getColumnGroupAtLevel(d,n);if(g!==e)return g}},t.prototype.getColumnGroupAtLevel=function(e,r){for(var n=e.getParent();!(n.getProvidedColumnGroup().getLevel()+n.getPaddingLevel()<=r);)n=n.getParent();return n},t.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},t.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},t.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var e;return(e=[]).concat.apply(e,[this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]])},t.prototype.createStateItemFromColumn=function(e){var r=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,n=e.isPivotActive()?this.pivotColumns.indexOf(e):null,i=e.isValueActive()?e.getAggFunc():null,s=null!=e.getSort()?e.getSort():null,a=null!=e.getSortIndex()?e.getSortIndex():null,d=null!=e.getFlex()&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:s,sortIndex:a,aggFunc:i,rowGroup:e.isRowGroupActive(),rowGroupIndex:r,pivot:e.isPivotActive(),pivotIndex:n,flex:d}},t.prototype.getColumnState=function(){if(W(this.primaryColumns)||!this.isAlive())return[];var r=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(r),r},t.prototype.orderColumnStateList=function(e){var r=zn(this.gridColumns.map(function(n,i){return[n.getColId(),i]}));e.sort(function(n,i){return(r.has(n.colId)?r.get(n.colId):-1)-(r.has(i.colId)?r.get(i.colId):-1)})},t.prototype.resetColumnState=function(e){var r=this;void 0===e&&(e="api");var n=this.getColumnsFromTree(this.primaryColumnTree),i=[],s=1e3,a=1e3,d=[];this.groupAutoColumns&&(d=d.concat(this.groupAutoColumns)),n&&(d=d.concat(n)),d.forEach(function(g){var m=r.getColumnStateFromColDef(g);W(m.rowGroupIndex)&&m.rowGroup&&(m.rowGroupIndex=s++),W(m.pivotIndex)&&m.pivot&&(m.pivotIndex=a++),i.push(m)}),this.applyColumnState({state:i,applyOrder:!0},e)},t.prototype.getColumnStateFromColDef=function(e){var r=function(ee,se){return ee??se??null},n=e.getColDef(),i=r(n.sort,n.initialSort),s=r(n.sortIndex,n.initialSortIndex),a=r(n.hide,n.initialHide),d=r(n.pinned,n.initialPinned),g=r(n.width,n.initialWidth),m=r(n.flex,n.initialFlex),C=r(n.rowGroupIndex,n.initialRowGroupIndex),E=r(n.rowGroup,n.initialRowGroup);null==C&&(null==E||0==E)&&(C=null,E=null);var b=r(n.pivotIndex,n.initialPivotIndex),L=r(n.pivot,n.initialPivot);null==b&&(null==L||0==L)&&(b=null,L=null);var j=r(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:i,sortIndex:s,hide:a,pinned:d,width:g,flex:m,rowGroup:E,rowGroupIndex:C,pivot:L,pivotIndex:b,aggFunc:j}},t.prototype.applyColumnState=function(e,r){var n=this;if(he(this.primaryColumns))return!1;if(e&&e.state&&!e.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var i=function(g,m,C){var E=n.compareColumnStatesAndDispatchEvents(r);n.autoGroupsNeedBuilding=!0;var b=m.slice(),L={},j={},ee=[],se=[],fe=0,Te=n.rowGroupColumns.slice(),ke=n.pivotColumns.slice();g.forEach(function(gt){var Tt=gt.colId||"";if(Tt.startsWith(Bi))return ee.push(gt),void se.push(gt);var rr=C(Tt);rr?(n.syncColumnWithStateItem(rr,gt,e.defaultState,L,j,!1,r),Q(b,rr)):(se.push(gt),fe+=1)});var St=function(gt){return n.syncColumnWithStateItem(gt,null,e.defaultState,L,j,!1,r)};b.forEach(St);var _t=function(gt,Tt,Bt,rr){var Ur=gt[Bt.getId()],ii=gt[rr.getId()],Hi=null!=Ur,Pn=null!=ii;if(Hi&&Pn)return Ur-ii;if(Hi)return-1;if(Pn)return 1;var to=Tt.indexOf(Bt),Yr=Tt.indexOf(rr),ro=to>=0;return ro&&Yr>=0?to-Yr:ro?-1:1};n.rowGroupColumns.sort(_t.bind(n,L,Te)),n.pivotColumns.sort(_t.bind(n,j,ke)),n.updateGridColumns();var Gt=n.groupAutoColumns?n.groupAutoColumns.slice():[];return ee.forEach(function(gt){var Tt=n.getAutoColumn(gt.colId);Q(Gt,Tt),n.syncColumnWithStateItem(Tt,gt,e.defaultState,null,null,!0,r)}),Gt.forEach(St),n.applyOrderAfterApplyState(e),n.updateDisplayedColumns(r),n.dispatchEverythingChanged(r),E(),{unmatchedAndAutoStates:se,unmatchedCount:fe}};this.columnAnimationService.start();var s=i(e.state||[],this.primaryColumns||[],function(g){return n.getPrimaryColumn(g)}),a=s.unmatchedAndAutoStates,d=s.unmatchedCount;return(a.length>0||w(e.defaultState))&&(d=i(a,this.secondaryColumns||[],function(g){return n.getSecondaryColumn(g)}).unmatchedCount),this.columnAnimationService.finish(),0===d},t.prototype.applyOrderAfterApplyState=function(e){var r=this;if(e.applyOrder&&e.state){var n=[],i={};e.state.forEach(function(a){if(a.colId&&!i[a.colId]){var d=r.gridColumnsMap[a.colId];d&&(n.push(d),i[a.colId]=!0)}});var s=0;if(this.gridColumns.forEach(function(a){var d=a.getColId();null!=i[d]||(d.startsWith(Bi)?ut(n,a,s++):n.push(a))}),n=this.placeLockedColumns(n),!this.doesMovePassMarryChildren(n))return void console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");this.gridColumns=n}},t.prototype.compareColumnStatesAndDispatchEvents=function(e){var r=this,n={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},i=this.getColumnState(),s={};return i.forEach(function(a){s[a.colId]=a}),function(){var a=r.getPrimaryAndSecondaryAndAutoColumns(),d=function(se,fe,Te,ke){if(!Ye(fe.map(ke),Te.map(ke))){var gt=new Set(fe);Te.forEach(function(rr){gt.delete(rr)||gt.add(rr)});var Tt=mn([],Ri(gt));r.eventService.dispatchEvent({type:se,columns:Tt,column:1===Tt.length?Tt[0]:null,source:e})}},g=function(se){var fe=[];return a.forEach(function(Te){var ke=s[Te.getColId()];ke&&se(ke,Te)&&fe.push(Te)}),fe},m=function(se){return se.getColId()};d(M.EVENT_COLUMN_ROW_GROUP_CHANGED,n.rowGroupColumns,r.rowGroupColumns,m),d(M.EVENT_COLUMN_PIVOT_CHANGED,n.pivotColumns,r.pivotColumns,m);var E=g(function(se,fe){var Te=null!=se.aggFunc,ke=Te!=fe.isValueActive(),St=Te&&se.aggFunc!=fe.getAggFunc();return ke||St});E.length>0&&r.dispatchColumnChangedEvent(M.EVENT_COLUMN_VALUE_CHANGED,E,e),r.dispatchColumnResizedEvent(g(function(se,fe){return se.width!=fe.getActualWidth()}),!0,e),r.dispatchColumnPinnedEvent(g(function(se,fe){return se.pinned!=fe.getPinned()}),e),r.dispatchColumnVisibleEvent(g(function(se,fe){return se.hide==fe.isVisible()}),e),g(function(se,fe){return se.sort!=fe.getSort()||se.sortIndex!=fe.getSortIndex()}).length>0&&r.sortController.dispatchSortChangedEvents(e),r.normaliseColumnMovedEventForColumnState(i,e)}},t.prototype.getCommonValue=function(e,r){if(e&&0!=e.length){for(var n=r(e[0]),i=1;i<e.length;i++)if(n!==r(e[i]))return;return n}},t.prototype.normaliseColumnMovedEventForColumnState=function(e,r){var n=this,i=this.getColumnState(),s={};i.forEach(function(C){return s[C.colId]=C});var a={};e.forEach(function(C){s[C.colId]&&(a[C.colId]=!0)});var d=e.filter(function(C){return a[C.colId]}),g=i.filter(function(C){return a[C.colId]}),m=[];g.forEach(function(C,E){var b=d&&d[E];if(b&&b.colId!==C.colId){var L=n.getGridColumn(b.colId);L&&m.push(L)}}),m.length&&this.dispatchColumnMovedEvent({movedColumns:m,source:r,finished:!0})},t.prototype.syncColumnWithStateItem=function(e,r,n,i,s,a,d){if(e){var g=function(Tt,Bt){var rr={value1:void 0,value2:void 0},Ur=!1;return r&&(void 0!==r[Tt]&&(rr.value1=r[Tt],Ur=!0),w(Bt)&&void 0!==r[Bt]&&(rr.value2=r[Bt],Ur=!0)),!Ur&&n&&(void 0!==n[Tt]&&(rr.value1=n[Tt]),w(Bt)&&void 0!==n[Bt]&&(rr.value2=n[Bt])),rr},m=g("hide").value1;void 0!==m&&e.setVisible(!m,d);var C=g("pinned").value1;void 0!==C&&e.setPinned(C);var E=this.columnUtils.calculateColMinWidth(e.getColDef()),b=g("flex").value1;if(void 0!==b&&e.setFlex(b),e.getFlex()<=0){var j=g("width").value1;null!=j&&null!=E&&j>=E&&e.setActualWidth(j,d)}var ee=g("sort").value1;void 0!==ee&&e.setSort("desc"===ee||"asc"===ee?ee:void 0,d);var se=g("sortIndex").value1;if(void 0!==se&&e.setSortIndex(se),!a&&e.isPrimary()){var fe=g("aggFunc").value1;void 0!==fe&&("string"==typeof fe?(e.setAggFunc(fe),e.isValueActive()||(e.setValueActive(!0,d),this.valueColumns.push(e))):(w(fe)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,d),Q(this.valueColumns,e))));var Te=g("rowGroup","rowGroupIndex"),ke=Te.value1,St=Te.value2;(void 0!==ke||void 0!==St)&&("number"==typeof St||ke?(e.isRowGroupActive()||(e.setRowGroupActive(!0,d),this.rowGroupColumns.push(e)),i&&"number"==typeof St&&(i[e.getId()]=St)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,d),Q(this.rowGroupColumns,e)));var _t=g("pivot","pivotIndex"),Gt=_t.value1,gt=_t.value2;(void 0!==Gt||void 0!==gt)&&("number"==typeof gt||Gt?(e.isPivotActive()||(e.setPivotActive(!0,d),this.pivotColumns.push(e)),s&&"number"==typeof gt&&(s[e.getId()]=gt)):e.isPivotActive()&&(e.setPivotActive(!1,d),Q(this.pivotColumns,e)))}}},t.prototype.getGridColumns=function(e){return this.getColumns(e,this.getGridColumn.bind(this))},t.prototype.getColumns=function(e,r){var n=[];return e&&e.forEach(function(i){var s=r(i);s&&n.push(s)}),n},t.prototype.getColumnWithValidation=function(e){if(null==e)return null;var r=this.getGridColumn(e);return r||console.warn("AG Grid: could not find column "+e),r},t.prototype.getPrimaryColumn=function(e){return this.primaryColumns?this.getColumn(e,this.primaryColumns,this.primaryColumnsMap):null},t.prototype.getGridColumn=function(e){return this.getColumn(e,this.gridColumns,this.gridColumnsMap)},t.prototype.lookupGridColumn=function(e){return this.gridColumnsMap[e]},t.prototype.getSecondaryColumn=function(e){return this.secondaryColumns?this.getColumn(e,this.secondaryColumns,this.secondaryColumnsMap):null},t.prototype.getColumn=function(e,r,n){if(!e)return null;if("string"==typeof e&&n[e])return n[e];for(var i=0;i<r.length;i++)if(this.columnsMatch(r[i],e))return r[i];return this.getAutoColumn(e)},t.prototype.getSourceColumnsForGroupColumn=function(e){var r=e.getColDef().showRowGroup;if(!r)return null;if(!0===r)return this.rowGroupColumns.slice(0);var n=this.getPrimaryColumn(r);return n?[n]:null},t.prototype.getAutoColumn=function(e){var r=this;return this.groupAutoColumns&&w(this.groupAutoColumns)&&!W(this.groupAutoColumns)&&this.groupAutoColumns.find(function(n){return r.columnsMatch(n,e)})||null},t.prototype.columnsMatch=function(e,r){var n=e===r,i=e.getColDef()===r,s=e.getColId()==r;return n||i||s},t.prototype.getDisplayNameForColumn=function(e,r,n){if(void 0===n&&(n=!1),!e)return null;var i=this.getHeaderName(e.getColDef(),e,null,null,r);return n?this.wrapHeaderNameWithAggFunc(e,i):i},t.prototype.getDisplayNameForProvidedColumnGroup=function(e,r,n){var i=r?r.getColGroupDef():null;return i?this.getHeaderName(i,null,e,r,n):null},t.prototype.getDisplayNameForColumnGroup=function(e,r){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),r)},t.prototype.getHeaderName=function(e,r,n,i,s){var a=e.headerValueGetter;if(a){var d={colDef:e,column:r,columnGroup:n,providedColumnGroup:i,location:s,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return"function"==typeof a?a(d):"string"==typeof a?this.expressionService.evaluate(a,d):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}return null!=e.headerName?e.headerName:e.field?wu(e.field):""},t.prototype.wrapHeaderNameWithAggFunc=function(e,r){if(this.gridOptionsService.is("suppressAggFuncInHeader"))return r;var a,n=e.getColDef().pivotValueColumn,s=null;if(w(n)){var d=this.gridOptionsService.is("removePivotHeaderRowWhenSingleValueColumn")&&1===this.valueColumns.length,g=void 0!==e.getColDef().pivotTotalColumnIds;if(d&&!g)return r;s=n?n.getAggFunc():null,a=!0}else{var m=e.isValueActive(),C=this.pivotMode||!this.isRowGroupEmpty();m&&C?(s=e.getAggFunc(),a=!0):a=!1}if(a){var E="string"==typeof s?s:"func";return this.localeService.getLocaleTextFunc()(E,E)+"("+r+")"}return r},t.prototype.getColumnGroup=function(e,r){if(!e)return null;if(e instanceof Gr)return e;var n=this.getAllDisplayedTrees(),i="number"==typeof r,s=null;return this.columnUtils.depthFirstAllColumnTreeSearch(n,function(a){if(a instanceof Gr){var d=a;(i?e===d.getGroupId()&&r===d.getPartId():e===d.getGroupId())&&(s=d)}}),s},t.prototype.isReady=function(){return this.ready},t.prototype.extractValueColumns=function(e,r){this.valueColumns=this.extractColumns(r,this.valueColumns,function(n,i){return n.setValueActive(i,e)},function(){},function(){},function(n){var i=n.aggFunc;return null===i||""===i?null:void 0!==i?!!i:void 0},function(n){return null!=n.initialAggFunc&&""!=n.initialAggFunc}),this.valueColumns.forEach(function(n){var i=n.getColDef();null!=i.aggFunc&&""!=i.aggFunc?n.setAggFunc(i.aggFunc):n.getAggFunc()||n.setAggFunc(i.initialAggFunc)})},t.prototype.extractRowGroupColumns=function(e,r){this.rowGroupColumns=this.extractColumns(r,this.rowGroupColumns,function(n,i){return n.setRowGroupActive(i,e)},function(n){return n.rowGroupIndex},function(n){return n.initialRowGroupIndex},function(n){return n.rowGroup},function(n){return n.initialRowGroup})},t.prototype.extractColumns=function(e,r,n,i,s,a,d){void 0===e&&(e=[]),void 0===r&&(r=[]);var g=[],m=[];(this.primaryColumns||[]).forEach(function(b){var L=e.indexOf(b)<0,j=b.getColDef(),ee=Ue(a(j)),se=Ue(d(j)),fe=Ze(i(j)),Te=Ze(s(j));(void 0!==ee?ee:void 0!==fe?null!==fe&&fe>=0:L?void 0!==se?se:void 0!==Te&&null!=Te&&Te>=0:r.indexOf(b)>=0)&&((L?null!=fe||null!=Te:null!=fe)?g.push(b):m.push(b))});var C=function(b){var L=i(b.getColDef()),j=s(b.getColDef());return L??j};g.sort(function(b,L){var j=C(b),ee=C(L);return j===ee?0:j<ee?-1:1});var E=[].concat(g);return r.forEach(function(b){m.indexOf(b)>=0&&E.push(b)}),m.forEach(function(b){E.indexOf(b)<0&&E.push(b)}),r.forEach(function(b){E.indexOf(b)<0&&n(b,!1)}),E.forEach(function(b){r.indexOf(b)<0&&n(b,!0)}),E},t.prototype.extractPivotColumns=function(e,r){this.pivotColumns=this.extractColumns(r,this.pivotColumns,function(n,i){return n.setPivotActive(i,e)},function(n){return n.pivotIndex},function(n){return n.initialPivotIndex},function(n){return n.pivot},function(n){return n.initialPivot})},t.prototype.resetColumnGroupState=function(e){void 0===e&&(e="api");var r=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(n){if(n instanceof O){var i=n.getColGroupDef(),s={groupId:n.getGroupId(),open:i?i.openByDefault:void 0};r.push(s)}}),this.setColumnGroupState(r,e)},t.prototype.getColumnGroupState=function(){var e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(r){r instanceof O&&e.push({groupId:r.getGroupId(),open:r.isExpanded()})}),e},t.prototype.setColumnGroupState=function(e,r){var n=this;void 0===r&&(r="api"),this.columnAnimationService.start();var i=[];e.forEach(function(s){var d=s.open,g=n.getProvidedColumnGroup(s.groupId);g&&g.isExpanded()!==d&&(n.logger.log("columnGroupOpened("+g.getGroupId()+","+d+")"),g.setExpanded(d),i.push(g))}),this.updateGroupsAndDisplayedColumns(r),this.setFirstRightAndLastLeftPinned(r),i.forEach(function(s){n.eventService.dispatchEvent({type:M.EVENT_COLUMN_GROUP_OPENED,columnGroup:s})}),this.columnAnimationService.finish()},t.prototype.setColumnGroupOpened=function(e,r,n){var i;void 0===n&&(n="api"),i=e instanceof O?e.getId():e||"",this.setColumnGroupState([{groupId:i,open:r}],n)},t.prototype.getProvidedColumnGroup=function(e){"string"!=typeof e&&console.error("AG Grid: group key must be a string");var r=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(n){n instanceof O&&n.getId()===e&&(r=n)}),r},t.prototype.calculateColumnsForDisplay=function(){var e=this;return this.pivotMode&&W(this.secondaryColumns)?this.gridColumns.filter(function(n){var i=e.groupAutoColumns&&It(e.groupAutoColumns,n),s=e.valueColumns&&It(e.valueColumns,n);return i||s}):this.gridColumns.filter(function(n){return e.groupAutoColumns&&It(e.groupAutoColumns,n)||n.isVisible()})},t.prototype.checkColSpanActiveInCols=function(e){var r=!1;return e.forEach(function(n){w(n.getColDef().colSpan)&&(r=!0)}),r},t.prototype.calculateColumnsForGroupDisplay=function(){var e=this;this.groupDisplayColumns=[],this.groupDisplayColumnsMap={},this.gridColumns.forEach(function(n){var i=n.getColDef(),s=i.showRowGroup;i&&w(s)&&(e.groupDisplayColumns.push(n),"string"==typeof s?e.groupDisplayColumnsMap[s]=n:!0===s&&e.getRowGroupColumns().forEach(function(a){e.groupDisplayColumnsMap[a.getId()]=n}))})},t.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},t.prototype.getGroupDisplayColumnForGroup=function(e){return this.groupDisplayColumnsMap[e]},t.prototype.updateDisplayedColumns=function(e){var r=this.calculateColumnsForDisplay();this.buildDisplayedTrees(r),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)},t.prototype.isSecondaryColumnsPresent=function(){return w(this.secondaryColumns)},t.prototype.setSecondaryColumns=function(e,r){var n=this;void 0===r&&(r="api");var i=e&&e.length>0;if(i||!W(this.secondaryColumns)){if(i){this.processSecondaryColumnDefinitions(e);var s=this.columnFactory.createColumnTree(e,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.destroyOldColumns(this.secondaryBalancedTree,s.columnTree),this.secondaryBalancedTree=s.columnTree,this.secondaryHeaderRowCount=s.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(function(a){return n.secondaryColumnsMap[a.getId()]=a}),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(r)}},t.prototype.processSecondaryColumnDefinitions=function(e){var r=this.gridOptionsService.get("processPivotResultColDef")||this.gridOptionsService.get("processSecondaryColDef"),n=this.gridOptionsService.get("processPivotResultColGroupDef")||this.gridOptionsService.get("processSecondaryColGroupDef");if(r||n){var i=function(s){s.forEach(function(a){if(w(a.children)){var g=a;n&&n(g),i(g.children)}else r&&r(a)})};e&&i(e)}},t.prototype.updateGridColumns=function(){var n,e=this,r=this.gridBalancedTree;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.secondaryColumns&&this.secondaryBalancedTree){var i=this.secondaryColumns.every(function(g){return void 0!==e.gridColumnsMap[g.getColId()]});this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,i&&(n=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,n=this.lastPrimaryOrder);if(this.createGroupAutoColumnsIfNeeded()&&n){var a=zn(this.groupAutoColumns.map(function(g){return[g,!0]}));n=n.filter(function(g){return!a.has(g)}),n=mn(mn([],Ri(this.groupAutoColumns)),Ri(n))}this.addAutoGroupToGridColumns(),this.orderGridColsLike(n),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(g){return e.gridColumnsMap[g.getId()]=g}),this.setAutoHeightActive(),Ye(r,this.gridBalancedTree)||this.eventService.dispatchEvent({type:M.EVENT_GRID_COLUMNS_CHANGED})},t.prototype.setAutoHeightActive=function(){this.autoHeightActive=this.gridColumns.filter(function(n){return n.isAutoHeight()}).length>0,!this.autoHeightActive||(this.autoHeightActiveAtLeastOnce=!0,this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide"))||At(function(){return console.warn("AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.")},"autoHeightActive.wrongRowModel")},t.prototype.orderGridColsLike=function(e){if(!W(e)){var r=zn(e.map(function(m,C){return[m,C]})),n=!0;if(this.gridColumns.forEach(function(m){r.has(m)&&(n=!1)}),!n){var i=zn(this.gridColumns.map(function(m){return[m,!0]})),s=e.filter(function(m){return i.has(m)}),a=zn(s.map(function(m){return[m,!0]})),d=this.gridColumns.filter(function(m){return!a.has(m)}),g=s.slice();d.forEach(function(m){var C=m.getOriginalParent();if(C){for(var E=[];!E.length&&C;)C.getLeafColumns().forEach(function(ee){var se=g.indexOf(ee)>=0,fe=E.indexOf(ee)<0;se&&fe&&E.push(ee)}),C=C.getOriginalParent();if(E.length){var L=E.map(function(ee){return g.indexOf(ee)}),j=Math.max.apply(Math,mn([],Ri(L)));ut(g,m,j+1)}else g.push(m)}else g.push(m)}),this.gridColumns=g}}},t.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},t.prototype.refreshQuickFilterColumns=function(){var e,r=null!==(e=this.isPivotMode()?this.secondaryColumns:this.primaryColumns)&&void 0!==e?e:[];this.groupAutoColumns&&(r=r.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gridOptionsService.is("includeHiddenColumnsInQuickFilter")?r:r.filter(function(n){return n.isVisible()||n.isRowGroupActive()})},t.prototype.placeLockedColumns=function(e){var r=[],n=[],i=[];return e.forEach(function(s){var a=s.getColDef().lockPosition;"right"===a?i.push(s):"left"===a||!0===a?r.push(s):n.push(s)}),mn(mn(mn([],Ri(r)),Ri(n)),Ri(i))},t.prototype.addAutoGroupToGridColumns=function(){if(W(this.groupAutoColumns))return this.destroyOldColumns(this.groupAutoColsBalancedTree),void(this.groupAutoColsBalancedTree=null);this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,e),this.groupAutoColsBalancedTree=e,this.gridBalancedTree=e.concat(this.gridBalancedTree)},t.prototype.clearDisplayedAndViewportColumns=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""},t.prototype.updateGroupsAndDisplayedColumns=function(e){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(e),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:M.EVENT_DISPLAYED_COLUMNS_CHANGED})},t.prototype.deriveDisplayedColumns=function(e){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(e),this.displayedAutoHeightCols=this.displayedColumns.filter(function(r){return r.isAutoHeight()})},t.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},t.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},t.prototype.joinDisplayedColumns=function(){this.displayedColumns=this.gridOptionsService.is("enableRtl")?this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},t.prototype.setLeftValues=function(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()},t.prototype.setLeftValuesOfColumns=function(e){var r=this;if(this.primaryColumns){var n=this.primaryColumns.slice(0),i=this.gridOptionsService.is("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(s){if(i){var a=r.getWidthOfColsInList(s);s.forEach(function(g){a-=g.getActualWidth(),g.setLeft(a,e)})}else{var d=0;s.forEach(function(g){g.setLeft(d,e),d+=g.getActualWidth()})}ue(n,s)}),n.forEach(function(s){s.setLeft(null,e)})}},t.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(e){e.forEach(function(r){r instanceof Gr&&r.checkLeft()})})},t.prototype.derivedDisplayedColumnsFromDisplayedTree=function(e,r){r.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,function(n){n instanceof T&&r.push(n)})},t.prototype.extractViewportColumns=function(){this.suppressColumnVirtualisation?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},t.prototype.getVirtualHeaderGroupRow=function(e,r){var n;switch(e){case"left":n=this.viewportRowLeft[r];break;case"right":n=this.viewportRowRight[r];break;default:n=this.viewportRowCenter[r]}return W(n)&&(n=[]),n},t.prototype.calculateHeaderRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var e={};this.headerViewportColumns.forEach(function(n){return e[n.getId()]=!0});var r=function(n,i,s){for(var a=!1,d=0;d<n.length;d++){var g=n[d],m=!1;if(g instanceof T)m=!0===e[g.getId()];else{var E=g.getDisplayedChildren();E&&(m=r(E,i,s+1))}m&&(a=!0,i[s]||(i[s]=[]),i[s].push(g))}return a};r(this.displayedTreeLeft,this.viewportRowLeft,0),r(this.displayedTreeRight,this.viewportRowRight,0),r(this.displayedTreeCentre,this.viewportRowCenter,0)},t.prototype.extractViewport=function(){this.extractViewportColumns();var r=this.viewportColumns.map(function(i){return i.getId()+"-"+(i.getPinned()||"normal")}).join("#"),n=this.viewportColumnsHash!==r;return n&&(this.viewportColumnsHash=r,this.calculateHeaderRows()),n},t.prototype.refreshFlexedColumns=function(e){var r;void 0===e&&(e={});var n=e.source?e.source:"flex";if(null!=e.viewportWidth&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];var i=-1;if(e.resizingCols)for(var s=new Set(e.resizingCols),a=this.displayedColumnsCenter,d=a.length-1;d>=0;d--)if(s.has(a[d])){i=d;break}var g=0,m=[],C=0,E=0;for(d=0;d<this.displayedColumnsCenter.length;d++)this.displayedColumnsCenter[d].getFlex()&&d>i?(m.push(this.displayedColumnsCenter[d]),E+=this.displayedColumnsCenter[d].getFlex(),C+=null!==(r=this.displayedColumnsCenter[d].getMinWidth())&&void 0!==r?r:0):g+=this.displayedColumnsCenter[d].getActualWidth();if(!m.length)return[];var L=[];g+C>this.flexViewportWidth&&(m.forEach(function(gt){var Tt;return gt.setActualWidth(null!==(Tt=gt.getMinWidth())&&void 0!==Tt?Tt:0,n)}),L=m,m=[]);var ee,j=[];e:for(;;){var se=(ee=this.flexViewportWidth-g)/E;for(d=0;d<m.length;d++){var fe=m[d],Te=se*fe.getFlex(),ke=0,St=fe.getMinWidth(),_t=fe.getMaxWidth();if(w(St)&&Te<St?ke=St:w(_t)&&Te>_t&&(ke=_t),ke){fe.setActualWidth(ke,n),U(m,fe),E-=fe.getFlex(),L.push(fe),g+=fe.getActualWidth();continue e}j[d]=Math.round(Te)}break}var Gt=ee;return m.forEach(function(gt,Tt){gt.setActualWidth(Math.min(j[Tt],Gt),n),L.push(gt),Gt-=j[Tt]}),e.skipSetLeft||this.setLeftValues(n),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.dispatchColumnResizedEvent(L,!0,n,m),m},t.prototype.sizeColumnsToFit=function(e,r,n,i){var a,d,g,m,C,s=this;if(void 0===r&&(r="sizeColumnsToFit"),this.shouldQueueResizeOperations)this.resizeOperationQueue.push(function(){return s.sizeColumnsToFit(e,r,n,i)});else{var E={};i&&(null===(a=i?.columnLimits)||void 0===a||a.forEach(function(Yr){var ro=Yr.key,ss=function(o,t){var e={};for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&t.indexOf(r)<0&&(e[r]=o[r]);if(null!=o&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(o);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(o,r[n])&&(e[r[n]]=o[r[n]])}return e}(Yr,["key"]);E["string"==typeof ro?ro:ro.getColId()]=ss}));var b=this.getAllDisplayedColumns(),L=e===this.getWidthOfColsInList(b);if(!(e<=0||!b.length||L)){var j=[],ee=[];b.forEach(function(Yr){!0===Yr.getColDef().suppressSizeToFit?ee.push(Yr):j.push(Yr)});var se=j.slice(0),fe=!1,Te=function(Yr){Q(j,Yr),ee.push(Yr)};for(j.forEach(function(Yr){var ro,ss;Yr.resetActualWidth(r);var Ea=E?.[Yr.getId()],Qv=null!==(ro=Ea?.minWidth)&&void 0!==ro?ro:i?.defaultMinWidth,qv=null!==(ss=Ea?.maxWidth)&&void 0!==ss?ss:i?.defaultMaxWidth,Dy=Yr.getActualWidth();"number"==typeof Qv&&Dy<Qv?Yr.setActualWidth(Qv,r,!0):"number"==typeof qv&&Dy>qv&&Yr.setActualWidth(qv,r,!0)});!fe;){fe=!0;var ke=e-this.getWidthOfColsInList(ee);if(ke<=0)j.forEach(function(Yr){var ro,ss,Ea=null!==(ss=null===(ro=E?.[Yr.getId()])||void 0===ro?void 0:ro.minWidth)&&void 0!==ss?ss:i?.defaultMinWidth;"number"!=typeof Ea?Yr.setMinimum(r):Yr.setActualWidth(Ea,r,!0)});else for(var St=ke/this.getWidthOfColsInList(j),_t=ke,Gt=j.length-1;Gt>=0;Gt--){var gt=j[Gt],Tt=E?.[gt.getId()],Bt=null!==(d=Tt?.minWidth)&&void 0!==d?d:i?.defaultMinWidth,rr=null!==(g=Tt?.maxWidth)&&void 0!==g?g:i?.defaultMaxWidth,Ur=null!==(m=gt.getMinWidth())&&void 0!==m?m:0,ii=null!==(C=gt.getMaxWidth())&&void 0!==C?C:Number.MAX_VALUE,Hi="number"==typeof Bt&&Bt>Ur?Bt:gt.getMinWidth(),Pn="number"==typeof rr&&rr<ii?rr:gt.getMaxWidth(),to=Math.round(gt.getActualWidth()*St);w(Hi)&&to<Hi?(to=Hi,Te(gt),fe=!1):w(Pn)&&to>Pn?(to=Pn,Te(gt),fe=!1):0===Gt&&(to=_t),gt.setActualWidth(to,r,!0),_t-=to}}se.forEach(function(Yr){Yr.fireColumnWidthChangedEvent(r)}),this.setLeftValues(r),this.updateBodyWidths(),!n&&this.dispatchColumnResizedEvent(se,!0,r)}}},t.prototype.buildDisplayedTrees=function(e){var r=[],n=[],i=[];e.forEach(function(a){switch(a.getPinned()){case"left":r.push(a);break;case"right":n.push(a);break;default:i.push(a)}});var s=new jn;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(r,s,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(n,s,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(i,s,null,this.displayedTreeCentre),this.updateDisplayedMap()},t.prototype.updateDisplayedMap=function(){var e=this;this.displayedColumnsAndGroupsMap={};var r=function(n){e.displayedColumnsAndGroupsMap[n.getUniqueId()]=n};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,r),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,r),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,r)},t.prototype.isDisplayed=function(e){return this.displayedColumnsAndGroupsMap[e.getUniqueId()]===e},t.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var e=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(e,function(r){r instanceof Gr&&r.calculateDisplayedColumns()})},t.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},t.prototype.createGroupAutoColumnsIfNeeded=function(){var e=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;var r=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),n=this.pivotMode?this.gridOptionsService.is("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.gridOptionsService.is("treeData"))||n||r)this.groupAutoColumns=null;else{var a=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);if(!this.autoColsEqual(a,this.groupAutoColumns)||e)return this.groupAutoColumns=a,!0}return!1},t.prototype.isGroupSuppressAutoColumn=function(){var e=this.gridOptionsService.get("groupDisplayType");if(e&&Br("custom",e))return!0;var n=this.gridOptionsService.get("treeDataDisplayType");return!!n&&function zr(o,t){var e=["auto","custom"];return e.indexOf(t)<0?(console.warn("AG Grid: '"+t+"' is not a valid treeDataDisplayType value - possible values are: '"+e.join("', '")+"'"),!1):t===o}("custom",n)},t.prototype.autoColsEqual=function(e,r){return Ye(e,r,function(n,i){return n.getColId()===i.getColId()})},t.prototype.getWidthOfColsInList=function(e){return e.reduce(function(r,n){return r+n.getActualWidth()},0)},t.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},t.prototype.getFirstDisplayedColumn=function(){var e=this.gridOptionsService.is("enableRtl"),r=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&r.reverse();for(var n=0;n<r.length;n++){var i=this[r[n]]();if(i.length)return e?te(i):i[0]}return null},t.prototype.setColumnHeaderHeight=function(e,r){e.setAutoHeaderHeight(r)&&this.eventService.dispatchEvent({type:M.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:e,columns:[e],source:"autosizeColumnHeaderHeight"})},t.prototype.getColumnGroupHeaderRowHeight=function(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()},t.prototype.getColumnHeaderRowHeight=function(){var e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),r=this.getAllDisplayedColumns().filter(function(n){return n.isAutoHeaderHeight()}).map(function(n){return n.getAutoHeaderHeight()||0});return Math.max.apply(Math,mn([e],Ri(r)))},t.prototype.getHeaderHeight=function(){var e;return null!==(e=this.gridOptionsService.getNum("headerHeight"))&&void 0!==e?e:this.environment.getFromTheme(25,"headerHeight")},t.prototype.getFloatingFiltersHeight=function(){var e;return null!==(e=this.gridOptionsService.getNum("floatingFiltersHeight"))&&void 0!==e?e:this.getHeaderHeight()},t.prototype.getGroupHeaderHeight=function(){var e;return null!==(e=this.gridOptionsService.getNum("groupHeaderHeight"))&&void 0!==e?e:this.getHeaderHeight()},t.prototype.getPivotHeaderHeight=function(){var e;return null!==(e=this.gridOptionsService.getNum("pivotHeaderHeight"))&&void 0!==e?e:this.getHeaderHeight()},t.prototype.getPivotGroupHeaderHeight=function(){var e;return null!==(e=this.gridOptionsService.getNum("pivotGroupHeaderHeight"))&&void 0!==e?e:this.getGroupHeaderHeight()},t.prototype.queueResizeOperations=function(){this.shouldQueueResizeOperations=!0},t.prototype.processResizeOperations=function(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(function(e){return e()}),this.resizeOperationQueue=[]},t.prototype.resetColumnDefIntoColumn=function(e){var r=e.getUserProvidedColDef();if(!r)return!1;var n=this.columnFactory.addColumnDefaultAndTypes(r,e.getColId());return e.setColDef(n,r),!0},t.prototype.generateColumnStateForRowGroupAndPivotIndexes=function(e,r){var n=this,i={},s=function(a,d,g,m,C,E){if(!d.length||!n.primaryColumns)return[];for(var b=Object.keys(a),L=new Set(b),j=new Set(b),ee=new Set(d.map(function(Bt){var rr=Bt.getColId();return j.delete(rr),rr}).concat(b)),se=[],fe={},Te=0,ke=0;ke<n.primaryColumns.length;ke++){var St=n.primaryColumns[ke].getColId();ee.has(St)&&(se.push(St),fe[St]=Te++)}var _t=1e3,Gt=!1,gt=0,Tt=function(Bt){for(var rr=fe[Bt],Ur=gt;Ur<rr;Ur++){var ii=se[Ur];j.has(ii)&&(a[ii][C]=_t++,j.delete(ii))}gt=rr};d.forEach(function(Bt){var rr=Bt.getColId();if(L.has(rr))Tt(rr),a[rr][C]=_t++;else{var Ur=Bt.getColDef();(null===Ur[C]||void 0===Ur[C]&&null==Ur[E])&&(Gt||(Ur[g]||void 0===Ur[g]&&Ur[m]?Tt(rr):(j.forEach(function(Pn){a[Pn][C]=_t+fe[Pn]}),_t+=se.length,Gt=!0)),i[rr]||(i[rr]={colId:rr}),i[rr][C]=_t++)}})};return s(e,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),s(r,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(i)},hn([A("expressionService")],t.prototype,"expressionService",void 0),hn([A("columnFactory")],t.prototype,"columnFactory",void 0),hn([A("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),hn([A("ctrlsService")],t.prototype,"ctrlsService",void 0),hn([A("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),hn([A("columnUtils")],t.prototype,"columnUtils",void 0),hn([A("columnAnimationService")],t.prototype,"columnAnimationService",void 0),hn([A("autoGroupColService")],t.prototype,"autoGroupColService",void 0),hn([xt("aggFuncService")],t.prototype,"aggFuncService",void 0),hn([xt("valueCache")],t.prototype,"valueCache",void 0),hn([xt("animationFrameService")],t.prototype,"animationFrameService",void 0),hn([A("sortController")],t.prototype,"sortController",void 0),hn([A("columnDefFactory")],t.prototype,"columnDefFactory",void 0),hn([we],t.prototype,"init",null),hn([yr],t.prototype,"destroyColumns",null),hn([Oc(0,Sr("loggerFactory"))],t.prototype,"setBeans",null),hn([je("columnModel")],t)}(Le),Pr=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Us=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Pr(t,o),t.prototype.calculateColMinWidth=function(e){return null!=e.minWidth?e.minWidth:this.environment.getMinColWidth()},t.prototype.calculateColMaxWidth=function(e){return null!=e.maxWidth?e.maxWidth:Number.MAX_SAFE_INTEGER},t.prototype.calculateColInitialWidth=function(e){var r=this.calculateColMinWidth(e),n=this.calculateColMaxWidth(e),s=Ze(e.width),a=Ze(e.initialWidth);return Math.max(Math.min(null!=s?s:null!=a?a:200,n),r)},t.prototype.getOriginalPathForColumn=function(e,r){var n=[],i=!1,s=function(a,d){for(var g=0;g<a.length;g++){if(i)return;var m=a[g];m instanceof O?(s(m.getChildren(),d+1),n[d]=m):m===e&&(i=!0)}};return s(r,0),i?n:null},t.prototype.depthFirstOriginalTreeSearch=function(e,r,n){var i=this;r&&r.forEach(function(s){s instanceof O&&i.depthFirstOriginalTreeSearch(s,s.getChildren(),n),n(s,e)})},t.prototype.depthFirstAllColumnTreeSearch=function(e,r){var n=this;e&&e.forEach(function(i){i instanceof Gr&&n.depthFirstAllColumnTreeSearch(i.getChildren(),r),r(i)})},t.prototype.depthFirstDisplayedColumnTreeSearch=function(e,r){var n=this;e&&e.forEach(function(i){i instanceof Gr&&n.depthFirstDisplayedColumnTreeSearch(i.getDisplayedChildren(),r),r(i)})},t=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i}([je("columnUtils")],t),t}(Le),go=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gn=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return go(t,o),t.prototype.createDisplayedGroups=function(e,r,n,i){for(var s=this,a=this.mapOldGroupsById(i),d=[],g=e,m=function(){var C=g;g=[];for(var E=0,b=function(St){var _t=E;E=St;var Gt=C[_t],Tt=(Gt instanceof Gr?Gt.getProvidedColumnGroup():Gt).getOriginalParent();if(null!=Tt){var rr=s.createColumnGroup(Tt,r,a,n);for(Bt=_t;Bt<St;Bt++)rr.addChild(C[Bt]);g.push(rr)}else for(var Bt=_t;Bt<St;Bt++)d.push(C[Bt])},L=1;L<C.length;L++){var j=C[L],se=(j instanceof Gr?j.getProvidedColumnGroup():j).getOriginalParent(),fe=C[E];se!==(fe instanceof Gr?fe.getProvidedColumnGroup():fe).getOriginalParent()&&b(L)}E<C.length&&b(C.length)};g.length;)m();return this.setupParentsIntoColumns(d,null),d},t.prototype.createColumnGroup=function(e,r,n,i){var s=e.getGroupId(),a=r.getInstanceIdForKey(s),g=n[Gr.createUniqueId(s,a)];return g&&g.getProvidedColumnGroup()!==e&&(g=null),w(g)?g.reset():(g=new Gr(e,s,a,i),this.context.createBean(g)),g},t.prototype.mapOldGroupsById=function(e){var r={},n=function(i){i.forEach(function(s){if(s instanceof Gr){var a=s;r[s.getUniqueId()]=a,n(a.getChildren())}})};return e&&n(e),r},t.prototype.setupParentsIntoColumns=function(e,r){var n=this;e.forEach(function(i){if(i.setParent(r),i instanceof Gr){var s=i;n.setupParentsIntoColumns(s.getChildren(),s)}})},t=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i}([je("displayedGroupCreator")],t),t}(Le),fl=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),hl=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.componentsMappedByName={},e}return fl(t,o),t.prototype.setupComponents=function(e){var r=this;e&&e.forEach(function(n){return r.addComponent(n)})},t.prototype.addComponent=function(e){var n=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[n]=e.componentClass},t.prototype.getComponentClass=function(e){return this.componentsMappedByName[e]},t=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i}([je("agStackComponentsRegistry")],t),t}(Le);function an(o,t,e){null==e||""==e?xa(o,t):Kn(o,t,e)}function Kn(o,t,e){o.setAttribute(Hn(t),e.toString())}function xa(o,t){o.removeAttribute(Hn(t))}function Hn(o){return"aria-"+o}function ln(o,t){t?o.setAttribute("role",t):o.removeAttribute("role")}function Yn(o){return"asc"===o?"ascending":"desc"===o?"descending":"mixed"===o?"other":"none"}function gl(o){return parseInt(o.getAttribute("aria-level"),10)}function vl(o){return parseInt(o.getAttribute("aria-posinset"),10)}function ci(o,t){an(o,"label",t)}function vo(o,t){an(o,"labelledby",t)}function kr(o,t){an(o,"description",t)}function Vn(o,t){an(o,"describedby",t)}function Oa(o,t){an(o,"live",t)}function yl(o,t){an(o,"level",t)}function No(o,t){an(o,"disabled",t)}function ml(o,t){an(o,"hidden",t)}function us(o,t){an(o,"activedescendant",t)}function Ai(o,t){Kn(o,"expanded",t)}function Cl(o){xa(o,"expanded")}function ki(o,t){Kn(o,"setsize",t)}function yo(o,t){Kn(o,"posinset",t)}function Ta(o,t){Kn(o,"multiselectable",t)}function wl(o,t){Kn(o,"rowcount",t)}function Wi(o,t){Kn(o,"rowindex",t)}function ba(o,t){Kn(o,"colcount",t)}function mo(o,t){Kn(o,"colindex",t)}function Pa(o,t){Kn(o,"colspan",t)}function Ou(o,t){Kn(o,"sort",t)}function zs(o){xa(o,"sort")}function Ui(o,t){an(o,"selected",t)}function Fa(o,t){Kn(o,"checked",void 0===t?"mixed":t)}function Ks(o,t){an(o,"controls",t.id),vo(t,o.id)}function Dn(o,t){return void 0===t?o("ariaIndeterminate","indeterminate"):!0===t?o("ariaChecked","checked"):o("ariaUnchecked","unchecked")}var Di,Go,Ma,_l,ji,Ys,cs,El,Sl=Object.freeze({__proto__:null,setAriaRole:ln,getAriaSortState:Yn,getAriaLevel:gl,getAriaPosInSet:vl,getAriaDescribedBy:function ui(o){return o.getAttribute("aria-describedby")||""},setAriaLabel:ci,setAriaLabelledBy:vo,setAriaDescription:kr,setAriaDescribedBy:Vn,setAriaLive:Oa,setAriaLevel:yl,setAriaDisabled:No,setAriaHidden:ml,setAriaActiveDescendant:us,setAriaExpanded:Ai,removeAriaExpanded:Cl,setAriaSetSize:ki,setAriaPosInSet:yo,setAriaMultiSelectable:Ta,setAriaRowCount:wl,setAriaRowIndex:Wi,setAriaColCount:ba,setAriaColIndex:mo,setAriaColSpan:Pa,setAriaSort:Ou,removeAriaSort:zs,setAriaSelected:Ui,setAriaChecked:Fa,setAriaControls:Ks,getAriaCheckboxStateName:Dn});function Cn(){return void 0===Di&&(Di=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),Di}function Ia(){if(void 0===Go)if(Cn()){var o=navigator.userAgent.match(/version\/(\d+)/i);o&&(Go=null!=o[1]?parseFloat(o[1]):0)}else Go=0;return Go}function Ho(){if(void 0===Ma){var o=window;Ma=!!o.chrome&&(!!o.chrome.webstore||!!o.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return Ma}function $s(){return void 0===_l&&(_l=/(firefox)/i.test(navigator.userAgent)),_l}function ds(){return void 0===ji&&(ji=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),ji}function xn(){return void 0===Ys&&(Ys=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),Ys}function Vo(){return!Cn()||Ia()>=15}function La(o){if(!o)return null;var t=o.tabIndex,e=o.getAttribute("tabIndex");return-1!==t||null!==e&&(""!==e||$s())?t.toString():null}function Rl(){if(!document.body)return-1;var o=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,e=document.createElement("div");for(document.body.appendChild(e);;){var r=2*o;if(e.style.height=r+"px",r>t||e.clientHeight!==r)break;o=r}return document.body.removeChild(e),o}function Al(){var o,t,e;return null!==(t=null===(o=document.body)||void 0===o?void 0:o.clientWidth)&&void 0!==t?t:window.innerHeight||(null===(e=document.documentElement)||void 0===e?void 0:e.clientWidth)||-1}function Bo(){var o,t,e;return null!==(t=null===(o=document.body)||void 0===o?void 0:o.clientHeight)&&void 0!==t?t:window.innerHeight||(null===(e=document.documentElement)||void 0===e?void 0:e.clientHeight)||-1}function di(){return null==El&&Dl(),El}function Dl(){var o=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",o.appendChild(t);var e=t.offsetWidth-t.clientWidth;0===e&&0===t.clientWidth&&(e=null),t.parentNode&&t.parentNode.removeChild(t),null!=e&&(El=e,cs=0===e)}function Qs(){return null==cs&&Dl(),cs}var Tu=Object.freeze({__proto__:null,isBrowserSafari:Cn,getSafariVersion:Ia,isBrowserChrome:Ho,isBrowserFirefox:$s,isMacOsUserAgent:ds,isIOSUserAgent:xn,browserSupportsPreventScroll:Vo,getTabIndex:La,getMaxDivHeight:Rl,getBodyWidth:Al,getBodyHeight:Bo,getScrollbarWidth:di,isInvisibleScrollbar:Qs});function ko(o,t){return o.toString().padStart(t,"0")}function bu(o,t){for(var e=[],r=o;r<=t;r++)e.push(r);return e}function Ve(o,t,e){return"number"!=typeof o?"":o.toString().replace(".",e).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+t)}var Fr=Object.freeze({__proto__:null,padStartWidthZeros:ko,createArrayOfNumbers:bu,cleanNumber:function Tc(o){return"string"==typeof o&&(o=parseInt(o,10)),"number"==typeof o?Math.floor(o):null},decToHex:function qs(o,t){for(var e="",r=0;r<t;r++)e+=String.fromCharCode(255&o),o>>>=8;return e},formatNumberTwoDecimalPlacesAndCommas:function pe(o,t,e){return"number"!=typeof o?"":Ve(Math.round(100*o)/100,t,e)},formatNumberCommas:Ve,sum:function Ae(o){return null==o?null:o.reduce(function(t,e){return t+e},0)},zeroOrGreater:function Ot(o,t){return o>=0?o:t},oneOrGreater:function Xt(o,t){var e=parseInt(o,10);return!isNaN(e)&&isFinite(e)&&e>0?e:t}}),tn=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i};function cr(o,t,e){if(void 0===t&&(t=!0),void 0===e&&(e="-"),!o)return null;var r=[o.getFullYear(),o.getMonth()+1,o.getDate()].map(function(n){return ko(n,2)}).join(e);return t&&(r+=" "+[o.getHours(),o.getMinutes(),o.getSeconds()].map(function(n){return ko(n,2)}).join(":")),r}var Zs=function(o){if(o>3&&o<21)return"th";switch(o%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function ps(o,t){void 0===t&&(t="YYYY-MM-DD");var e=ko(o.getFullYear(),4),r=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i={YYYY:function(){return e.slice(e.length-4,e.length)},YY:function(){return e.slice(e.length-2,e.length)},Y:function(){return""+o.getFullYear()},MMMM:function(){return r[o.getMonth()]},MMM:function(){return r[o.getMonth()].slice(0,3)},MM:function(){return ko(o.getMonth()+1,2)},Mo:function(){return""+(o.getMonth()+1)+Zs(o.getMonth()+1)},M:function(){return""+(o.getMonth()+1)},Do:function(){return""+o.getDate()+Zs(o.getDate())},DD:function(){return ko(o.getDate(),2)},D:function(){return""+o.getDate()},dddd:function(){return n[o.getDay()]},ddd:function(){return n[o.getDay()].slice(0,3)},dd:function(){return n[o.getDay()].slice(0,2)},do:function(){return""+o.getDay()+Zs(o.getDay())},d:function(){return""+o.getDay()}},s=new RegExp(Object.keys(i).join("|"),"g");return t.replace(s,function(a){return a in i?i[a]():a})}function Wr(o){if(!o)return null;var t=tn(o.split(" "),2),e=t[0],r=t[1];if(!e)return null;var n=e.split("-").map(function(L){return parseInt(L,10)});if(3!==n.filter(function(L){return!isNaN(L)}).length)return null;var i=tn(n,3),s=i[0],a=i[1],d=i[2],g=new Date(s,a-1,d);if(g.getFullYear()!==s||g.getMonth()!==a-1||g.getDate()!==d)return null;if(!r||"00:00:00"===r)return g;var m=tn(r.split(":").map(function(L){return parseInt(L,10)}),3),C=m[0],E=m[1],b=m[2];return C>=0&&C<24&&g.setHours(C),E>=0&&E<60&&g.setMinutes(E),b>=0&&b<60&&g.setSeconds(b),g}var Wo,Js=Object.freeze({__proto__:null,serialiseDate:cr,dateToFormattedString:ps,parseDateTimeFromString:Wr}),fs=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i};function xi(o,t,e){for(var r=o.parentElement,n=r&&r.firstChild;n;)t&&n.classList.toggle(t,n===o),e&&n.classList.toggle(e,n!==o),n=n.nextSibling}var Qt="[tabindex], input, select, button, textarea, [href]",Na=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function hs(o){var t=Element.prototype.matches||Element.prototype.msMatchesSelector,r=t.call(o,"input, select, button, textarea"),n=t.call(o,Na),i=wo(o);return r&&!n&&i}function sr(o,t,e){void 0===e&&(e={});var r=e.skipAriaHidden;o.classList.toggle("ag-hidden",!t),r||ml(o,!t)}function Pc(o,t,e){void 0===e&&(e={});var r=e.skipAriaHidden;o.classList.toggle("ag-invisible",!t),r||ml(o,!t)}function Uo(o,t){var e="disabled",r=t?function(n){return n.setAttribute(e,"")}:function(n){return n.removeAttribute(e)};r(o),Ss(o.querySelectorAll("input"),function(n){return r(n)})}function jo(o,t,e){for(var r=0;o;){if(o.classList.contains(t))return!0;if(o=o.parentElement,"number"==typeof e){if(++r>e)break}else if(o===e)break}return!1}function Bn(o){var t=window.getComputedStyle(o),r=t.width,n=t.borderTopWidth,i=t.borderRightWidth,s=t.borderBottomWidth,a=t.borderLeftWidth,d=t.paddingTop,g=t.paddingRight,m=t.paddingBottom,C=t.paddingLeft,E=t.marginTop,b=t.marginRight,L=t.marginBottom,j=t.marginLeft,ee=t.boxSizing;return{height:parseFloat(t.height),width:parseFloat(r),borderTopWidth:parseFloat(n),borderRightWidth:parseFloat(i),borderBottomWidth:parseFloat(s),borderLeftWidth:parseFloat(a),paddingTop:parseFloat(d),paddingRight:parseFloat(g),paddingBottom:parseFloat(m),paddingLeft:parseFloat(C),marginTop:parseFloat(E),marginRight:parseFloat(b),marginBottom:parseFloat(L),marginLeft:parseFloat(j),boxSizing:ee}}function $n(o){var t=Bn(o);return"border-box"===t.boxSizing?t.height-t.paddingTop-t.paddingBottom:t.height}function zo(o){var t=Bn(o);return"border-box"===t.boxSizing?t.width-t.paddingLeft-t.paddingRight:t.width}function Ga(o){var t=Bn(o);return Math.ceil(o.offsetHeight+(t.marginBottom+t.marginTop))}function Co(o){var t=Bn(o);return Math.ceil(o.offsetWidth+(t.marginLeft+t.marginRight))}function Ha(o){var t=o.getBoundingClientRect(),e=Bn(o);return{top:t.top+(e.borderTopWidth||0),left:t.left+(e.borderLeftWidth||0),right:t.right+(e.borderRightWidth||0),bottom:t.bottom+(e.borderBottomWidth||0)}}function gs(){if("boolean"==typeof Wo)return Wo;var o=document.createElement("div");return o.style.direction="rtl",o.style.width="1px",o.style.height="1px",o.style.position="fixed",o.style.top="0px",o.style.overflow="hidden",o.dir="rtl",o.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(o),o.scrollLeft=1,Wo=0===Math.floor(o.scrollLeft),document.body.removeChild(o),Wo}function so(o,t){var e=o.scrollLeft;return t&&(e=Math.abs(e),Ho()&&!gs()&&(e=o.scrollWidth-o.clientWidth-e)),e}function vs(o,t,e){e&&(gs()?t*=-1:(Cn()||Ho())&&(t=o.scrollWidth-o.clientWidth-t)),o.scrollLeft=t}function un(o){for(;o&&o.firstChild;)o.removeChild(o.firstChild)}function Qn(o){o&&o.parentNode&&o.parentNode.removeChild(o)}function wo(o){return null!==o.offsetParent}function wn(o){var t=document.createElement("div");return t.innerHTML=(o||"").trim(),t.firstChild}function ys(o){return o&&o.clientHeight?o.clientHeight:0}function Xs(o){return o&&o.clientWidth?o.clientWidth:0}function Ol(o,t,e){if(!e||e.nextSibling!==t){var r=document.activeElement,n=t.contains(r);e?e.nextSibling?o.insertBefore(t,e.nextSibling):o.appendChild(t):o.firstChild&&o.firstChild!==t&&o.insertAdjacentElement("afterbegin",t),n&&r&&Vo()&&r.focus({preventScroll:!0})}}function ea(o,t){for(var e=0;e<t.length;e++){var r=t[e],n=o.children[e];n!==r&&o.insertBefore(r,n)}}function Pu(o,t,e){e?e.insertAdjacentElement("afterend",t):o.firstChild?o.insertAdjacentElement("afterbegin",t):o.appendChild(t)}function en(o,t){var e,r;if(t)try{for(var n=function(o){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&o[t],r=0;if(e)return e.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&r>=o.length&&(o=void 0),{value:o&&o[r++],done:!o}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.entries(t)),i=n.next();!i.done;i=n.next()){var s=fs(i.value,2),a=s[0],d=s[1];if(a&&a.length&&null!=d){var g=Aa(a),m=d.toString(),C=m.replace(/\s*!important/g,"");o.style.setProperty(g,C,C.length!=m.length?"important":void 0)}}}catch(b){e={error:b}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}}function Sn(o){return o.clientWidth<o.scrollWidth}function Va(o){return o.clientHeight<o.scrollHeight}function ms(o,t){"flex"===t?(o.style.removeProperty("width"),o.style.removeProperty("minWidth"),o.style.removeProperty("maxWidth"),o.style.flex="1 1 auto"):qn(o,t)}function qn(o,t){t=So(t),o.style.width=t.toString(),o.style.maxWidth=t.toString(),o.style.minWidth=t.toString()}function ao(o,t){t=So(t),o.style.height=t.toString(),o.style.maxHeight=t.toString(),o.style.minHeight=t.toString()}function So(o){return"number"==typeof o?o+"px":o}function Cs(o){return o instanceof Node||o instanceof HTMLElement}function Yo(o){if(null==o)return[];var t=[];return Ss(o,function(e){return t.push(e)}),t}function ws(o,t){if(o)for(var e=0;e<o.length;e++){var r=o[e];t(r.name,r.value)}}function Zn(o,t,e){null==e?o.removeAttribute(t):o.setAttribute(t,e.toString())}function Ss(o,t){if(null!=o)for(var e=0;e<o.length;e++)t(o[e])}function $o(o,t){o.then(function(e){var r=e.getGui();null!=r&&("object"==typeof r?t.appendChild(r):t.innerHTML=r)})}var rp=Object.freeze({__proto__:null,radioCssClass:xi,FOCUSABLE_SELECTOR:Qt,FOCUSABLE_EXCLUDE:Na,isFocusableFormField:hs,setDisplayed:sr,setVisible:Pc,setDisabled:Uo,isElementChildOfClass:jo,getElementSize:Bn,getInnerHeight:$n,getInnerWidth:zo,getAbsoluteHeight:Ga,getAbsoluteWidth:Co,getElementRectWithOffset:Ha,isRtlNegativeScroll:gs,getScrollLeft:so,setScrollLeft:vs,clearElement:un,removeElement:function Ko(o,t){Qn(o.querySelector(t))},removeFromParent:Qn,isVisible:wo,loadTemplate:wn,appendHtml:function Fc(o,t){o.lastChild?o.insertAdjacentHTML("afterbegin",t):o.innerHTML=t},getElementAttribute:function xl(o,t){return o.attributes&&o.attributes[t]?o.attributes[t].value:null},offsetHeight:ys,offsetWidth:Xs,ensureDomOrder:Ol,setDomChildOrder:ea,insertWithDomOrder:Pu,prependDC:function Mc(o,t){w(o.firstChild)?o.insertBefore(t,o.firstChild):o.appendChild(t)},addStylesToElement:en,isHorizontalScrollShowing:Sn,isVerticalScrollShowing:Va,setElementWidth:ms,setFixedWidth:qn,setElementHeight:function Ic(o,t){"flex"===t?(o.style.removeProperty("height"),o.style.removeProperty("minHeight"),o.style.removeProperty("maxHeight"),o.style.flex="1 1 auto"):ao(o,t)},setFixedHeight:ao,formatSize:So,isNodeOrElement:Cs,copyNodeList:Yo,iterateNamedNodeMap:ws,addOrRemoveAttribute:Zn,nodeListForEach:Ss,bindCellRendererToHtmlElement:$o}),Lc={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus"};function Oi(o,t,e){var r=Zr(o,t,e);if(r){var n=r.className;if("string"==typeof n&&n.indexOf("ag-icon")>-1||"object"==typeof n&&n["ag-icon"])return r}var i=document.createElement("span");return i.appendChild(r),i}function Zr(o,t,e,r){var n=null,i=e&&e.getColDef().icons;if(i&&(n=i[o]),t&&!n){var s=t.get("icons");s&&(n=s[o])}if(!n){var d=document.createElement("span"),g=Lc[o];return g||(r?g=o:(console.warn("AG Grid: Did not find icon "+o),g="")),d.setAttribute("class","ag-icon ag-icon-"+g),d.setAttribute("unselectable","on"),ln(d,"presentation"),d}var a=void 0;if("function"==typeof n)a=n();else{if("string"!=typeof n)throw new Error("icon from grid options needs to be a string or a function");a=n}return"string"==typeof a?wn(a):Cs(a)?a:void console.warn("AG Grid: iconRenderer should return back a string or a dom object")}var np=Object.freeze({__proto__:null,iconNameClassMap:Lc,createIcon:Oi,createIconNoSpan:Zr}),Ce=function(){function o(){}return o.BACKSPACE="Backspace",o.TAB="Tab",o.ENTER="Enter",o.ESCAPE="Escape",o.SPACE=" ",o.LEFT="ArrowLeft",o.UP="ArrowUp",o.RIGHT="ArrowRight",o.DOWN="ArrowDown",o.DELETE="Delete",o.F2="F2",o.PAGE_UP="PageUp",o.PAGE_DOWN="PageDown",o.PAGE_HOME="Home",o.PAGE_END="End",o.A="KeyA",o.C="KeyC",o.D="KeyD",o.V="KeyV",o.X="KeyX",o.Y="KeyY",o.Z="KeyZ",o}();function ar(o){return!(o.altKey||o.ctrlKey||o.metaKey)&&1===o.key.length}function Wa(o,t,e,r,n){var i=r?r.getColDef().suppressKeyboardEvent:void 0;if(!i)return!1;var s={event:t,editing:n,column:r,api:o.api,node:e,data:e.data,colDef:r.getColDef(),context:o.context,columnApi:o.columnApi};return!(!i||!i(s))}function Fu(o,t,e,r){var n=r.getDefinition(),i=n&&n.suppressHeaderKeyboardEvent;return!!w(i)&&!!i({api:o.api,columnApi:o.columnApi,context:o.context,colDef:n,column:r,headerRowIndex:e,event:t})}function Ua(o){var e;switch(o.keyCode){case 65:e=Ce.A;break;case 67:e=Ce.C;break;case 86:e=Ce.V;break;case 68:e=Ce.D;break;case 90:e=Ce.Z;break;case 89:e=Ce.Y;break;default:e=o.code}return e}function _o(o,t){return void 0===t&&(t=!1),o===Ce.DELETE||!t&&o===Ce.BACKSPACE&&ds()}var Nc=Object.freeze({__proto__:null,isEventFromPrintableCharacter:ar,isUserSuppressingKeyboardEvent:Wa,isUserSuppressingHeaderKeyboardEvent:Fu,normaliseQwertyAzerty:Ua,isDeleteKey:_o});function ja(o,t,e){if(0===e)return!1;var r=Math.abs(o.clientX-t.clientX),n=Math.abs(o.clientY-t.clientY);return Math.max(r,n)<=e}var Gc=Object.freeze({__proto__:null,areEventsNear:ja}),lo=Object.freeze({__proto__:null,sortRowNodesByOrder:function ip(o,t){if(!o)return!1;for(var e=function(a,d){var g=t[a.id],m=t[d.id],C=void 0!==g,E=void 0!==m;return C&&E?g-m:C||E?C?1:-1:a.__objectId-d.__objectId},i=!1,s=0;s<o.length-1;s++)if(e(o[s],o[s+1])>0){i=!0;break}return!!i&&(o.sort(e),!0)},traverseNodesWithKey:function Hc(o,t){var e=[];!function r(n){n&&n.forEach(function(i){if(i.group||i.hasChildren()){e.push(i.key);var s=e.join("|");t(i,s),r(i.childrenAfterGroup),e.pop()}})}(o)}});function Tl(o){var t=new Set;return o.forEach(function(e){return t.add(e)}),t}var Vc=Object.freeze({__proto__:null,convertToSet:Tl}),Jr=function(){return Jr=Object.assign||function(o){for(var t,e=1,r=arguments.length;e<r;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o},Jr.apply(this,arguments)},Vt=Jr(Jr(Jr(Jr(Jr(Jr(Jr(Jr(Jr(Jr(Jr(Jr(Jr(Jr(Jr(Jr(Jr(Jr({},Sl),F),Tu),Js),rp),fr),Se),Dc),Ke),np),Nc),Bs),Gc),Fr),Ar),lo),Vc),no),Xn=function(){function o(t,e){void 0===t&&(t=0),void 0===e&&(e=1),this.nextValue=t,this.step=e}return o.prototype.next=function(){var t=this.nextValue;return this.nextValue+=this.step,t},o.prototype.peek=function(){return this.nextValue},o.prototype.skip=function(t){this.nextValue+=t},o}(),Rs=function(o){return o[o.IN_PROGRESS=0]="IN_PROGRESS",o[o.RESOLVED=1]="RESOLVED",o}(Rs||{}),pi=function(){function o(t){var e=this;this.status=Rs.IN_PROGRESS,this.resolution=null,this.waiters=[],t(function(r){return e.onDone(r)},function(r){return e.onReject(r)})}return o.all=function(t){return new o(function(e){var r=t.length,n=new Array(r);t.forEach(function(i,s){i.then(function(a){n[s]=a,0==--r&&e(n)})})})},o.resolve=function(t){return void 0===t&&(t=null),new o(function(e){return e(t)})},o.prototype.then=function(t){var e=this;return new o(function(r){e.status===Rs.RESOLVED?r(t(e.resolution)):e.waiters.push(function(n){return r(t(n))})})},o.prototype.resolveNow=function(t,e){return this.status===Rs.RESOLVED?e(this.resolution):t},o.prototype.onDone=function(t){this.status=Rs.RESOLVED,this.resolution=t,this.waiters.forEach(function(e){return e(t)})},o.prototype.onReject=function(t){console.warn("TBI")},o}(),Mu=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),uo=function(){return uo=Object.assign||function(o){for(var t,e=1,r=arguments.length;e<r;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o},uo.apply(this,arguments)},Eo=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},zi=function(o){return o[o.NOTHING=0]="NOTHING",o[o.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",o[o.SHOWING=2]="SHOWING",o}(zi||{}),Ti=function(o){return o[o.HOVER=0]="HOVER",o[o.FOCUS=1]="FOCUS",o}(Ti||{}),Fn=function(o){function t(e,r,n){var i=o.call(this)||this;return i.parentComp=e,i.tooltipShowDelayOverride=r,i.tooltipHideDelayOverride=n,i.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,i.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,i.SHOW_QUICK_TOOLTIP_DIFF=1e3,i.FADE_OUT_TOOLTIP_TIMEOUT=1e3,i.INTERACTIVE_HIDE_DELAY=100,i.interactionEnabled=!1,i.isInteractingWithTooltip=!1,i.state=zi.NOTHING,i.tooltipInstanceCount=0,i.tooltipMouseTrack=!1,i}return Mu(t,o),t.prototype.postConstruct=function(){this.gridOptionsService.is("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipShowDelay=this.getTooltipDelay("show"),this.tooltipHideDelay=this.getTooltipDelay("hide"),this.tooltipMouseTrack=this.gridOptionsService.is("tooltipMouseTrack");var e=this.parentComp.getGui();this.tooltipTrigger===Ti.HOVER&&(this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this))),this.tooltipTrigger===Ti.FOCUS&&(this.addManagedListener(e,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(e,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this)))},t.prototype.getGridOptionsTooltipDelay=function(e){var r=this.gridOptionsService.getNum(e);if(w(r))return r<0&&At(function(){return console.warn("AG Grid: "+e+" should not be lower than 0")},e+"Warn"),Math.max(200,r)},t.prototype.getTooltipDelay=function(e){var r,n,i,s;return"show"===e?null!==(n=null!==(r=this.getGridOptionsTooltipDelay("tooltipShowDelay"))&&void 0!==r?r:this.tooltipShowDelayOverride)&&void 0!==n?n:this.DEFAULT_SHOW_TOOLTIP_DELAY:null!==(s=null!==(i=this.getGridOptionsTooltipDelay("tooltipHideDelay"))&&void 0!==i?i:this.tooltipHideDelayOverride)&&void 0!==s?s:this.DEFAULT_HIDE_TOOLTIP_DELAY},t.prototype.destroy=function(){this.setToDoNothing(),o.prototype.destroy.call(this)},t.prototype.getTooltipTrigger=function(){var e=this.gridOptionsService.get("tooltipTrigger");return e&&"hover"!==e?Ti.FOCUS:Ti.HOVER},t.prototype.onMouseEnter=function(e){var r=this;this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!xn()&&(t.isLocked?this.showTooltipTimeoutId=window.setTimeout(function(){r.prepareToShowTooltip(e)},this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(e))},t.prototype.onMouseMove=function(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===zi.SHOWING&&this.tooltipComp&&this.positionTooltip()},t.prototype.onMouseDown=function(){this.setToDoNothing()},t.prototype.onMouseLeave=function(){this.interactionEnabled?this.lockService():this.setToDoNothing()},t.prototype.onFocusIn=function(){this.prepareToShowTooltip()},t.prototype.onFocusOut=function(e){var r,n=e.relatedTarget,i=this.parentComp.getGui(),s=null===(r=this.tooltipComp)||void 0===r?void 0:r.getGui();this.isInteractingWithTooltip||i.contains(n)||this.interactionEnabled&&s?.contains(n)||this.setToDoNothing()},t.prototype.onKeyDown=function(){this.setToDoNothing()},t.prototype.prepareToShowTooltip=function(e){if(this.state!=zi.NOTHING||t.isLocked)return!1;var r=0;return e&&(r=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),r),this.state=zi.WAITING_TO_SHOW,!0},t.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-t.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},t.prototype.setToDoNothing=function(){this.state===zi.SHOWING&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=zi.NOTHING,this.lastMouseEvent=null},t.prototype.showTooltip=function(){var e=uo({},this.parentComp.getTooltipParams());if(w(e.value)){this.state=zi.SHOWING,this.tooltipInstanceCount++;var r=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(e).newAgStackInstance().then(r)}else this.setToDoNothing()},t.prototype.hideTooltip=function(e){if(e||!this.isInteractingWithTooltip){this.tooltipComp&&(this.destroyTooltipComp(),t.lastTooltipHideTime=(new Date).getTime());var r={type:M.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(r),this.state=zi.NOTHING}},t.prototype.newTooltipComponentCallback=function(e,r){if(this.state!==zi.SHOWING||this.tooltipInstanceCount!==e)this.getContext().destroyBean(r);else{var i=r.getGui();this.tooltipComp=r,i.classList.contains("ag-tooltip")||i.classList.add("ag-tooltip-custom"),this.tooltipTrigger===Ti.HOVER&&i.classList.add("ag-tooltip-animate"),this.interactionEnabled&&i.classList.add("ag-tooltip-interactive");var s=this.localeService.getLocaleTextFunc(),a=this.popupService.addPopup({eChild:i,ariaLabel:s("ariaLabelTooltip","Tooltip")});a&&(this.tooltipPopupDestroyFunc=a.hideFunc),this.positionTooltip(),this.tooltipTrigger===Ti.FOCUS&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,M.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,M.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(this.tooltipTrigger===Ti.HOVER?(this.tooltipMouseEnterListener=this.addManagedListener(i,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(i,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(i,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(i,"focusout",this.onTooltipFocusOut.bind(this))||null));var d={type:M.EVENT_TOOLTIP_SHOW,tooltipGui:i,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(d),this.startHideTimeout()}},t.prototype.onTooltipMouseEnter=function(){this.isInteractingWithTooltip=!0,this.unlockService()},t.prototype.onTooltipMouseLeave=function(){this.isInteractingWithTooltip=!1,this.lockService()},t.prototype.onTooltipFocusIn=function(){this.isInteractingWithTooltip=!0},t.prototype.onTooltipFocusOut=function(e){var r,n=this.parentComp.getGui(),i=null===(r=this.tooltipComp)||void 0===r?void 0:r.getGui(),s=e.relatedTarget;i?.contains(s)||(this.isInteractingWithTooltip=!1,n.contains(s)?this.startHideTimeout():this.hideTooltip())},t.prototype.positionTooltip=function(){var e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(uo(uo({},e),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(uo(uo({},e),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))},t.prototype.destroyTooltipComp=function(){var e=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var r=this.tooltipPopupDestroyFunc,n=this.tooltipComp;window.setTimeout(function(){r(),e.getContext().destroyBean(n)},this.tooltipTrigger===Ti.HOVER?this.FADE_OUT_TOOLTIP_TIMEOUT:0),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},t.prototype.clearTooltipListeners=function(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(function(e){e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null},t.prototype.lockService=function(){var e=this;t.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(function(){e.unlockService(),e.setToDoNothing()},this.INTERACTIVE_HIDE_DELAY)},t.prototype.unlockService=function(){t.isLocked=!1,this.clearInteractiveTimeout()},t.prototype.startHideTimeout=function(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)},t.prototype.clearShowTimeout=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)},t.prototype.clearHideTimeout=function(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},t.prototype.clearInteractiveTimeout=function(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)},t.prototype.clearTimeouts=function(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()},t.isLocked=!1,Eo([A("popupService")],t.prototype,"popupService",void 0),Eo([A("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Eo([we],t.prototype,"postConstruct",null),t}(Le),Iu=function(){function o(t){this.cssClassStates={},this.getGui=t}return o.prototype.addCssClass=function(t){var e=this,r=(t||"").split(" ");if(r.length>1)r.forEach(function(s){return e.addCssClass(s)});else if(!0!==this.cssClassStates[t]&&t.length){var i=this.getGui();i&&i.classList.add(t),this.cssClassStates[t]=!0}},o.prototype.removeCssClass=function(t){var e=this,r=(t||"").split(" ");if(r.length>1)r.forEach(function(s){return e.removeCssClass(s)});else if(!1!==this.cssClassStates[t]&&t.length){var i=this.getGui();i&&i.classList.remove(t),this.cssClassStates[t]=!1}},o.prototype.containsCssClass=function(t){var e=this.getGui();return!!e&&e.classList.contains(t)},o.prototype.addOrRemoveCssClass=function(t,e){var r=this;if(t){if(t.indexOf(" ")>=0){var n=(t||"").split(" ");if(n.length>1)return void n.forEach(function(a){return r.addOrRemoveCssClass(a,e)})}if(this.cssClassStates[t]!==e&&t.length){var s=this.getGui();s&&s.classList.toggle(t,e),this.cssClassStates[t]=e}}},o}(),ap=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Lu=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Bc=new Xn,qt=function(o){function t(e){var r=o.call(this)||this;return r.displayed=!0,r.visible=!0,r.compId=Bc.next(),r.cssClassManager=new Iu(function(){return r.eGui}),e&&r.setTemplate(e),r}return ap(t,o),t.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsService.is("enableBrowserTooltips")},t.prototype.getCompId=function(){return this.compId},t.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},t.prototype.setTooltip=function(e,r,n){var i=this;this.tooltipText!=e&&(this.tooltipText&&(i.usingBrowserTooltips?i.getGui().removeAttribute("title"):i.tooltipFeature=i.destroyBean(i.tooltipFeature)),null!=e&&(this.tooltipText=e,this.tooltipText&&(i.usingBrowserTooltips?i.getGui().setAttribute("title",i.tooltipText):i.tooltipFeature=i.createBean(new Fn(i,r,n)))))},t.prototype.createChildComponentsFromTags=function(e,r){var n=this;Yo(e.childNodes).forEach(function(s){if(s instanceof HTMLElement){var a=n.createComponentFromElement(s,function(g){g.getGui()&&n.copyAttributesFromNode(s,g.getGui())},r);if(a){if(a.addItems&&s.children.length){n.createChildComponentsFromTags(s,r);var d=Array.prototype.slice.call(s.children);a.addItems(d)}n.swapComponentForNode(a,e,s)}else s.childNodes&&n.createChildComponentsFromTags(s,r)}})},t.prototype.createComponentFromElement=function(e,r,n){var i=e.nodeName,s=n?n[e.getAttribute("ref")]:void 0,a=this.agStackComponentsRegistry.getComponentClass(i);if(a){t.elementGettingCreated=e;var d=new a(s);return d.setParentComponent(this),this.createBean(d,null,r),d}return null},t.prototype.copyAttributesFromNode=function(e,r){ws(e.attributes,function(n,i){return r.setAttribute(n,i)})},t.prototype.swapComponentForNode=function(e,r,n){var i=e.getGui();r.replaceChild(i,n),r.insertBefore(document.createComment(n.nodeName),i),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,n)},t.prototype.swapInComponentForQuerySelectors=function(e,r){var n=this;this.iterateOverQuerySelectors(function(i){n[i.attributeName]===r&&(n[i.attributeName]=e)})},t.prototype.iterateOverQuerySelectors=function(e){for(var r=Object.getPrototypeOf(this);null!=r;){var n=r.__agComponentMetaData,i=Ne(r.constructor);n&&n[i]&&n[i].querySelectors&&n[i].querySelectors.forEach(function(s){return e(s)}),r=Object.getPrototypeOf(r)}},t.prototype.activateTabIndex=function(e){var r=this.gridOptionsService.getNum("tabIndex")||0;e||(e=[]),e.length||e.push(this.getGui()),e.forEach(function(n){return n.setAttribute("tabindex",r.toString())})},t.prototype.setTemplate=function(e,r){var n=wn(e);this.setTemplateFromElement(n,r)},t.prototype.setTemplateFromElement=function(e,r){this.eGui=e,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),r)},t.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},t.prototype.wireQuerySelectors=function(){var e=this;if(this.eGui){var r=this;this.iterateOverQuerySelectors(function(n){var i=function(d){return r[n.attributeName]=d};if(n.refSelector&&e.getAttribute("ref")===n.refSelector)i(e.eGui);else{var a=e.eGui.querySelector(n.querySelector);a&&i(a.__agComponent||a)}})}},t.prototype.getGui=function(){return this.eGui},t.prototype.getFocusableElement=function(){return this.eGui},t.prototype.getAriaElement=function(){return this.getFocusableElement()},t.prototype.setParentComponent=function(e){this.parentComponent=e},t.prototype.getParentComponent=function(){return this.parentComponent},t.prototype.setGui=function(e){this.eGui=e},t.prototype.queryForHtmlElement=function(e){return this.eGui.querySelector(e)},t.prototype.queryForHtmlInputElement=function(e){return this.eGui.querySelector(e)},t.prototype.appendChild=function(e,r){null!=e&&(r||(r=this.eGui),Cs(e)?r.appendChild(e):r.appendChild(e.getGui()))},t.prototype.isDisplayed=function(){return this.displayed},t.prototype.setVisible=function(e,r){void 0===r&&(r={}),e!==this.visible&&(this.visible=e,Pc(this.eGui,e,{skipAriaHidden:r.skipAriaHidden}))},t.prototype.setDisplayed=function(e,r){void 0===r&&(r={}),e!==this.displayed&&(this.displayed=e,sr(this.eGui,e,{skipAriaHidden:r.skipAriaHidden}),this.dispatchEvent({type:t.EVENT_DISPLAYED_CHANGED,visible:this.displayed}))},t.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.parentComponent&&(this.parentComponent=void 0);var e=this.eGui;e&&e.__agComponent&&(e.__agComponent=void 0),o.prototype.destroy.call(this)},t.prototype.addGuiEventListener=function(e,r,n){var i=this;this.eGui.addEventListener(e,r,n),this.addDestroyFunc(function(){return i.eGui.removeEventListener(e,r)})},t.prototype.addCssClass=function(e){this.cssClassManager.addCssClass(e)},t.prototype.removeCssClass=function(e){this.cssClassManager.removeCssClass(e)},t.prototype.containsCssClass=function(e){return this.cssClassManager.containsCssClass(e)},t.prototype.addOrRemoveCssClass=function(e,r){this.cssClassManager.addOrRemoveCssClass(e,r)},t.prototype.getAttribute=function(e){var r=this.eGui;return r?r.getAttribute(e):null},t.prototype.getRefElement=function(e){return this.queryForHtmlElement('[ref="'+e+'"]')},t.EVENT_DISPLAYED_CHANGED="displayedChanged",Lu([A("agStackComponentsRegistry")],t.prototype,"agStackComponentsRegistry",void 0),Lu([Et],t.prototype,"preConstructOnComponent",null),Lu([Et],t.prototype,"createChildComponentsPreConstruct",null),t}(Le);function tt(o){return bl.bind(this,"[ref="+o+"]",o)}function bl(o,t,e,r,n){null!==o?"number"!=typeof n?function Wc(o,t,e){var r=function Pl(o,t){return o.__agComponentMetaData||(o.__agComponentMetaData={}),o.__agComponentMetaData[t]||(o.__agComponentMetaData[t]={}),o.__agComponentMetaData[t]}(o,Ne(o.constructor));r[t]||(r[t]=[]),r[t].push(e)}(e,"querySelectors",{attributeName:r,querySelector:o,refSelector:t}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var ta=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),As=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Nu=function(o){function t(){return o.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return ta(t,o),t.prototype.destroy=function(){o.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e;var r=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),n=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(r+" "+n("ariaFilterInput","Filter Input"))},t.prototype.onParentModelChanged=function(e){var r=this;e?this.params.parentFilterInstance(function(n){if(n.getModelAsString){var i=n.getModelAsString(e);r.eFloatingFilterText.setValue(i)}}):this.eFloatingFilterText.setValue("")},t.prototype.onParamsUpdated=function(e){this.init(e)},As([tt("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),As([A("columnModel")],t.prototype,"columnModel",void 0),t}(qt),Fl=function(){function o(t,e,r,n){var i=this;this.alive=!0,this.context=t,this.eParent=n,e.getDateCompDetails(r).newAgStackInstance().then(function(d){i.alive?(i.dateComp=d,d&&(n.appendChild(d.getGui()),d.afterGuiAttached&&d.afterGuiAttached(),i.tempValue&&d.setDate(i.tempValue),null!=i.disabled&&i.setDateCompDisabled(i.disabled))):t.destroyBean(d)})}return o.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},o.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},o.prototype.setDate=function(t){this.dateComp?this.dateComp.setDate(t):this.tempValue=t},o.prototype.setDisabled=function(t){this.dateComp?this.setDateCompDisabled(t):this.disabled=t},o.prototype.setDisplayed=function(t){sr(this.eParent,t)},o.prototype.setInputPlaceholder=function(t){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(t)},o.prototype.setInputAriaLabel=function(t){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(t)},o.prototype.afterGuiAttached=function(t){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(t)},o.prototype.updateParams=function(t){var e;null!==(e=this.dateComp)&&void 0!==e&&e.onParamsUpdated&&"function"==typeof this.dateComp.onParamsUpdated&&this.dateComp.onParamsUpdated(t)},o.prototype.setDateCompDisabled=function(t){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(t)},o}(),Gu=function(){function o(){this.customFilterOptions={}}return o.prototype.init=function(t,e){this.filterOptions=t.filterOptions||e,this.mapCustomOptions(),this.selectDefaultItem(t)},o.prototype.getFilterOptions=function(){return this.filterOptions},o.prototype.mapCustomOptions=function(){var t=this;this.filterOptions&&this.filterOptions.forEach(function(e){if("string"!=typeof e){if(![["displayKey"],["displayName"],["predicate","test"]].every(function(i){return!!i.some(function(s){return null!=e[s]})||(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+i+"'"),!1)}))return void(t.filterOptions=t.filterOptions.filter(function(i){return i===e})||[]);t.customFilterOptions[e.displayKey]=e}})},o.prototype.selectDefaultItem=function(t){if(t.defaultOption)this.defaultOption=t.defaultOption;else if(this.filterOptions.length>=1){var e=this.filterOptions[0];"string"==typeof e?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},o.prototype.getDefaultOption=function(){return this.defaultOption},o.prototype.getCustomOption=function(t){return this.customFilterOptions[t]},o}(),Ki={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},Ml=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),co=function(){return co=Object.assign||function(o){for(var t,e=1,r=arguments.length;e<r;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o},co.apply(this,arguments)},On=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Qo=function(o){function t(e,r){void 0===r&&(r={});var n=o.call(this)||this;return n.eFocusableElement=e,n.callbacks=r,n.callbacks=co({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(i){if(!i.defaultPrevented){var s=n.focusService.findNextFocusableElement(n.eFocusableElement,!1,i.shiftKey);s&&(s.focus(),i.preventDefault())}}},r),n}return Ml(t,o),t.prototype.postConstruct=function(){this.eFocusableElement.classList.add(t.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},t.prototype.addKeyDownListeners=function(e){var r=this;this.addManagedListener(e,"keydown",function(n){if(!n.defaultPrevented&&!xe(n)){if(r.callbacks.shouldStopEventPropagation(n))return void ge(n);n.key===Ce.TAB?r.callbacks.onTabKeyDown(n):r.callbacks.handleKeyDown&&r.callbacks.handleKeyDown(n)}})},t.FOCUS_MANAGED_CLASS="ag-focus-managed",On([A("focusService")],t.prototype,"focusService",void 0),On([we],t.prototype,"postConstruct",null),t}(Le),Uc=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ra=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Ds="ag-resizer-wrapper",Ro='<div class="'+Ds+'">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>',Il=function(o){function t(e,r){var n=o.call(this)||this;return n.element=e,n.dragStartPosition={x:0,y:0},n.position={x:0,y:0},n.lastSize={width:-1,height:-1},n.positioned=!1,n.resizersAdded=!1,n.resizeListeners=[],n.boundaryEl=null,n.isResizing=!1,n.isMoving=!1,n.resizable={},n.movable=!1,n.currentResizer=null,n.config=Object.assign({},{popup:!1},r),n}return Uc(t,o),t.prototype.center=function(){var e=this.offsetParent,r=e.clientHeight,i=e.clientWidth/2-this.getWidth()/2,s=r/2-this.getHeight()/2;this.offsetElement(i,s)},t.prototype.initialisePosition=function(){if(!this.positioned){var e=this.config,r=e.centered,n=e.forcePopupParentAsOffsetParent,i=e.minWidth,s=e.width,a=e.minHeight,d=e.height,g=e.x,m=e.y;this.offsetParent||this.setOffsetParent();var C=0,E=0,b=!!this.element.offsetParent;if(b){var L=this.findBoundaryElement(),j=window.getComputedStyle(L);if(null!=j.minWidth){var ee=L.offsetWidth-this.element.offsetWidth;E=parseInt(j.minWidth,10)-ee}if(null!=j.minHeight){var se=L.offsetHeight-this.element.offsetHeight;C=parseInt(j.minHeight,10)-se}}if(this.minHeight=a||C,this.minWidth=i||E,s&&this.setWidth(s),d&&this.setHeight(d),(!s||!d)&&this.refreshSize(),r)this.center();else if(g||m)this.offsetElement(g,m);else if(b&&n){var fe=!0;if((L=this.boundaryEl)||(L=this.findBoundaryElement(),fe=!1),L){var Te=parseFloat(L.style.top),ke=parseFloat(L.style.left);fe?this.offsetElement(isNaN(ke)?0:ke,isNaN(Te)?0:Te):this.setPosition(ke,Te)}}this.positioned=!!this.offsetParent}},t.prototype.isPositioned=function(){return this.positioned},t.prototype.getPosition=function(){return this.position},t.prototype.setMovable=function(e,r){if(this.config.popup&&e!==this.movable){this.movable=e;var n=this.moveElementDragListener||{eElement:r,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(n),this.moveElementDragListener=n):(this.dragService.removeDragSource(n),this.moveElementDragListener=void 0)}},t.prototype.setResizable=function(e){var r=this;if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),"boolean"==typeof e){if(!1===e)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(function(n){var s=!!e[n],a=r.getResizerElement(n),d={dragStartPixels:0,eElement:a,onDragStart:function(g){return r.onResizeStart(g,n)},onDragging:r.onResize.bind(r),onDragStop:function(g){return r.onResizeEnd(g,n)}};(s||!r.isAlive()&&!s)&&(s?(r.dragService.addDragSource(d),r.resizeListeners.push(d),a.style.pointerEvents="all"):a.style.pointerEvents="none",r.resizable[n]=s)})},t.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},t.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var e=this.lastSize,r=e.height,n=e.width;-1!==n&&(this.element.style.width=n+"px"),-1!==r&&(this.element.style.height=r+"px")},t.prototype.getHeight=function(){return this.element.offsetHeight},t.prototype.setHeight=function(e){var r=this.config.popup,n=this.element,i=!1;if("string"==typeof e&&-1!==e.indexOf("%"))ao(n,e),e=Ga(n),i=!0;else if(e=Math.max(this.minHeight,e),this.positioned){var s=this.getAvailableHeight();s&&e>s&&(e=s)}this.getHeight()!==e&&(i?(n.style.maxHeight="unset",n.style.minHeight="unset"):r?ao(n,e):(n.style.height=e+"px",n.style.flex="0 0 auto",this.lastSize.height="number"==typeof e?e:parseFloat(e)))},t.prototype.getAvailableHeight=function(){var e=this.config,r=e.popup,n=e.forcePopupParentAsOffsetParent;this.positioned||this.initialisePosition();var i=this.offsetParent.clientHeight;if(!i)return null;var s=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),d=r?this.position.y:s.top,g=r?0:a.top,m=0;if(n){var C=this.element.parentElement;C&&(m=C.getBoundingClientRect().bottom-s.bottom)}return i+g-d-m},t.prototype.getWidth=function(){return this.element.offsetWidth},t.prototype.setWidth=function(e){var r=this.element,n=this.config.popup,i=!1;if("string"==typeof e&&-1!==e.indexOf("%"))qn(r,e),e=Co(r),i=!0;else if(this.positioned){e=Math.max(this.minWidth,e);var s=this.offsetParent.clientWidth,a=n?this.position.x:this.element.getBoundingClientRect().left;s&&e+a>s&&(e=s-a)}this.getWidth()!==e&&(i?(r.style.maxWidth="unset",r.style.minWidth="unset"):this.config.popup?qn(r,e):(r.style.width=e+"px",r.style.flex=" unset",this.lastSize.width="number"==typeof e?e:parseFloat(e)))},t.prototype.offsetElement=function(e,r){void 0===e&&(e=0),void 0===r&&(r=0);var i=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;i&&(this.popupService.positionPopup({ePopup:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:function(){return{x:e,y:r}}}),this.setPosition(parseFloat(i.style.left),parseFloat(i.style.top)))},t.prototype.constrainSizeToAvailableHeight=function(e){var r=this;this.config.forcePopupParentAsOffsetParent&&(e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),function(){var i=r.getAvailableHeight();r.element.style.setProperty("max-height",i+"px")}):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0)))},t.prototype.setPosition=function(e,r){this.position.x=e,this.position.y=r},t.prototype.updateDragStartPosition=function(e,r){this.dragStartPosition={x:e,y:r}},t.prototype.calculateMouseMovement=function(e){var r=e.e,i=e.isTop,a=e.topBuffer,d=r.clientX-this.dragStartPosition.x,g=r.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(r,!!e.isLeft,!!e.anywhereWithin,d)?0:d,movementY:this.shouldSkipY(r,!!i,a,g)?0:g}},t.prototype.shouldSkipX=function(e,r,n,i){var s=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),d=this.boundaryEl.getBoundingClientRect(),g=this.config.popup?this.position.x:s.left,m=g<=0&&a.left>=e.clientX||a.right<=e.clientX&&a.right<=d.right;return!!m||(r?i<0&&e.clientX>g+a.left||i>0&&e.clientX<g+a.left:n?i<0&&e.clientX>d.right||i>0&&e.clientX<g+a.left:i<0&&e.clientX>d.right||i>0&&e.clientX<d.right)},t.prototype.shouldSkipY=function(e,r,n,i){void 0===n&&(n=0);var s=this.element.getBoundingClientRect(),a=this.offsetParent.getBoundingClientRect(),d=this.boundaryEl.getBoundingClientRect(),g=this.config.popup?this.position.y:s.top,m=g<=0&&a.top>=e.clientY||a.bottom<=e.clientY&&a.bottom<=d.bottom;return!!m||(r?i<0&&e.clientY>g+a.top+n||i>0&&e.clientY<g+a.top:i<0&&e.clientY>d.bottom||i>0&&e.clientY<d.bottom)},t.prototype.createResizeMap=function(){var e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}},t.prototype.addResizers=function(){if(!this.resizersAdded){var e=this.element;if(e){var n=(new DOMParser).parseFromString(Ro,"text/html").body;e.appendChild(n.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},t.prototype.removeResizers=function(){this.resizerMap=void 0;var e=this.element.querySelector("."+Ds);e&&this.element.removeChild(e),this.resizersAdded=!1},t.prototype.getResizerElement=function(e){return this.resizerMap[e].element},t.prototype.onResizeStart=function(e,r){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!r.match(/top/i),isRight:!!r.match(/right/i),isBottom:!!r.match(/bottom/i),isLeft:!!r.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[r].element.classList.add("ag-active");var n=this.config;!n.popup&&!n.forcePopupParentAsOffsetParent&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.getSiblings=function(){var r=this.element.parentElement;return r?Array.prototype.slice.call(r.children).filter(function(n){return!n.classList.contains("ag-hidden")}):null},t.prototype.getMinSizeOfSiblings=function(){for(var e=this.getSiblings()||[],r=0,n=0,i=0;i<e.length;i++){var s=e[i];if(s!==this.element){var d=this.minHeight||0,g=this.minWidth||0;if(s.style.flex&&"0 0 auto"!==s.style.flex){var m=window.getComputedStyle(s);m.minHeight&&(d=parseInt(m.minHeight,10)),m.minWidth&&(g=parseInt(m.minWidth,10))}else d=s.offsetHeight,g=s.offsetWidth;r+=d,n+=g}}return{height:r,width:n}},t.prototype.applySizeToSiblings=function(e){var r=null,n=this.getSiblings();if(n){for(var i=0;i<n.length;i++){var s=n[i];s!==r&&(e?s.style.height=s.offsetHeight+"px":s.style.width=s.offsetWidth+"px",s.style.flex="0 0 auto",s===this.element&&(r=n[i+1]))}r&&(r.style.removeProperty("height"),r.style.removeProperty("min-height"),r.style.removeProperty("max-height"),r.style.flex="1 1 auto")}},t.prototype.isResizable=function(){return Object.values(this.resizable).some(function(e){return e})},t.prototype.onResize=function(e){if(this.isResizing&&this.currentResizer){var r=this.config,n=r.popup,i=r.forcePopupParentAsOffsetParent,s=this.currentResizer,a=s.isTop,m=s.isLeft,C=s.isRight||m,E=s.isBottom||a,b=this.calculateMouseMovement({e,isLeft:m,isTop:a}),L=b.movementX,j=b.movementY,ee=this.position.x,se=this.position.y,fe=0,Te=0;if(C&&L){var ke=m?-1:1,St=this.getWidth(),_t=St+L*ke,Gt=!1;m&&(ee+(fe=St-_t)<=0||_t<=this.minWidth)&&(Gt=!0,fe=0),Gt||this.setWidth(_t)}if(E&&j){ke=a?-1:1;var gt=this.getHeight(),Tt=gt+j*ke,Bt=!1;a?(se+(Te=gt-Tt)<=0||Tt<=this.minHeight)&&(Bt=!0,Te=0):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&gt<Tt&&this.getMinSizeOfSiblings().height+Tt>this.element.parentElement.offsetHeight&&(Bt=!0),Bt||this.setHeight(Tt)}this.updateDragStartPosition(e.clientX,e.clientY),((n||i)&&fe||Te)&&this.offsetElement(ee+fe,se+Te)}},t.prototype.onResizeEnd=function(e,r){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var n={type:"resize",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi};this.element.classList.remove("ag-resizing"),this.resizerMap[r].element.classList.remove("ag-active"),this.dispatchEvent(n)},t.prototype.refreshSize=function(){var e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))},t.prototype.onMoveStart=function(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.onMove=function(e){if(this.isMoving){var s,r=this.position,n=r.x,i=r.y;this.config.calculateTopBuffer&&(s=this.config.calculateTopBuffer());var a=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:s});this.offsetElement(n+a.movementX,i+a.movementY),this.updateDragStartPosition(e.clientX,e.clientY)}},t.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},t.prototype.setOffsetParent=function(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent},t.prototype.findBoundaryElement=function(){for(var e=this.element;e;){if("static"!==window.getComputedStyle(e).position)return e;e=e.parentElement}return this.element},t.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}},t.prototype.destroy=function(){o.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()},ra([A("popupService")],t.prototype,"popupService",void 0),ra([A("resizeObserverService")],t.prototype,"resizeObserverService",void 0),ra([A("dragService")],t.prototype,"dragService",void 0),t}(Le),Hu=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),xs=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Os=function(o){function t(e){var r=o.call(this)||this;return r.filterNameKey=e,r.applyActive=!1,r.hidePopup=null,r.debouncePending=!1,r.appliedModel=null,r}return Hu(t,o),t.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new Qo(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new Il(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},t.prototype.handleKeyDown=function(e){},t.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},t.prototype.isFilterActive=function(){return!!this.appliedModel},t.prototype.resetTemplate=function(e){var r=this.getGui();r&&r.removeEventListener("submit",this.onFormSubmit);var n='\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper" ref="eFilterBody">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </form>";this.setTemplate(n,e),(r=this.getGui())&&r.addEventListener("submit",this.onFormSubmit)},t.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},t.prototype.init=function(e){var r=this;this.setParams(e),this.resetUiToDefaults(!0).then(function(){r.updateUiVisibility(),r.setupOnBtApplyDebounce()})},t.prototype.setParams=function(e){this.providedFilterParams=e,this.applyActive=t.isUseApplyButton(e),this.createButtonPanel()},t.prototype.createButtonPanel=function(){var e=this,r=this.providedFilterParams.buttons;if(!(!r||r.length<1||this.isReadOnly())){var n=document.createElement("div");n.classList.add("ag-filter-apply-panel"),Tl(r).forEach(function(s){return function(s){var a,d;switch(s){case"apply":a=e.translate("applyFilter"),d=function(C){return e.onBtApply(!1,!1,C)};break;case"clear":a=e.translate("clearFilter"),d=function(){return e.onBtClear()};break;case"reset":a=e.translate("resetFilter"),d=function(){return e.onBtReset()};break;case"cancel":a=e.translate("cancelFilter"),d=function(C){e.onBtCancel(C)};break;default:return void console.warn("AG Grid: Unknown button type specified")}var m=wn('<button\n                    type="'+("apply"===s?"submit":"button")+'"\n                    ref="'+s+'FilterButton"\n                    class="ag-button ag-standard-button ag-filter-apply-panel-button"\n                >'+a+"\n                </button>");n.appendChild(m),e.addManagedListener(m,"click",d)}(s)}),this.getGui().appendChild(n)}},t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.setupOnBtApplyDebounce=function(){var e=this,r=t.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),n=He(this.checkApplyDebounce.bind(this),r);this.onBtApplyDebounce=function(){e.debouncePending=!0,n()}},t.prototype.checkApplyDebounce=function(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())},t.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},t.prototype.setModel=function(e){var r=this;return(null!=e?this.setModelIntoUi(e):this.resetUiToDefaults()).then(function(){r.updateUiVisibility(),r.applyModel("api")})},t.prototype.onBtCancel=function(e){var r=this;this.resetUiToActiveModel(this.getModel(),function(){r.handleCancelEnd(e)})},t.prototype.handleCancelEnd=function(e){this.providedFilterParams.closeOnApply&&this.close(e)},t.prototype.resetUiToActiveModel=function(e,r){var n=this,i=function(){n.onUiChanged(!1,"prevent"),r?.()};null!=e?this.setModelIntoUi(e).then(i):this.resetUiToDefaults().then(i)},t.prototype.onBtClear=function(){var e=this;this.resetUiToDefaults().then(function(){return e.onUiChanged()})},t.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},t.prototype.applyModel=function(e){var r=this.getModelFromUi();if(!this.isModelValid(r))return!1;var n=this.appliedModel;return this.appliedModel=r,!this.areModelsEqual(n,r)},t.prototype.isModelValid=function(e){return!0},t.prototype.onFormSubmit=function(e){e.preventDefault()},t.prototype.onBtApply=function(e,r,n){void 0===e&&(e=!1),void 0===r&&(r=!1),n&&n.preventDefault(),this.applyModel(r?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:r,source:"columnFilter"}),this.providedFilterParams.closeOnApply&&this.applyActive&&!e&&!r&&this.close(n)},t.prototype.onNewRowsLoaded=function(){},t.prototype.close=function(e){if(this.hidePopup){var i,n=e&&e.key;("Enter"===n||"Space"===n)&&(i={keyboardEvent:e}),this.hidePopup(i),this.hidePopup=null}},t.prototype.onUiChanged=function(e,r){if(void 0===e&&(e=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){var n=this.isModelValid(this.getModelFromUi());Uo(this.getRefElement("applyFilterButton"),!n)}e&&!r||"immediately"===r?this.onBtApply(e):(!this.applyActive&&!r||"debounce"===r)&&this.onBtApplyDebounce()},t.prototype.afterGuiAttached=function(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e?.container)},t.prototype.refreshFilterResizer=function(e){if(this.positionableFeature&&"toolPanel"!==e){var i=this.positionableFeature,s=this.gridOptionsService;"floatingFilter"===e?(i.restoreLastSize(),i.setResizable(s.is("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}},t.prototype.afterGuiDetached=function(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)},t.getDebounceMs=function(e,r){return t.isUseApplyButton(e)?(null!=e.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=e.debounceMs?e.debounceMs:r},t.isUseApplyButton=function(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0},t.prototype.destroy=function(){var e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),o.prototype.destroy.call(this)},t.prototype.translate=function(e){return this.localeService.getLocaleTextFunc()(e,Ki[e])},t.prototype.getCellValue=function(e){var r=this.providedFilterParams;return this.providedFilterParams.valueGetter({api:r.api,colDef:r.colDef,column:r.column,columnApi:r.columnApi,context:r.context,data:e.data,getValue:function(g){return e.data[g]},node:e})},t.prototype.getPositionableElement=function(){return this.eFilterBody},xs([A("rowModel")],t.prototype,"rowModel",void 0),xs([tt("eFilterBody")],t.prototype,"eFilterBody",void 0),xs([we],t.prototype,"postConstruct",null),t}(qt),Vu=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),za=function(o){function t(e,r){var n=o.call(this,r)||this;return n.labelSeparator="",n.labelAlignment="left",n.disabled=!1,n.label="",n.config=e||{},n}return Vu(t,o),t.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var e=this.config,r=e.labelSeparator,n=e.label,i=e.labelWidth,s=e.labelAlignment;null!=r&&this.setLabelSeparator(r),null!=n&&this.setLabel(n),null!=i&&this.setLabelWidth(i),this.setLabelAlignment(s||this.labelAlignment),this.refreshLabel()},t.prototype.refreshLabel=function(){un(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(sr(this.eLabel,!1),ln(this.eLabel,"presentation")):(sr(this.eLabel,!0),ln(this.eLabel,null))},t.prototype.setLabelSeparator=function(e){return this.labelSeparator===e||(this.labelSeparator=e,null!=this.label&&this.refreshLabel()),this},t.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},t.prototype.getLabel=function(){return this.label},t.prototype.setLabel=function(e){return this.label===e||(this.label=e,this.refreshLabel()),this},t.prototype.setLabelAlignment=function(e){var n=this.getGui().classList;return n.toggle("ag-label-align-left","left"===e),n.toggle("ag-label-align-right","right"===e),n.toggle("ag-label-align-top","top"===e),this},t.prototype.setLabelEllipsis=function(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this},t.prototype.setLabelWidth=function(e){return null==this.label||ms(this.eLabel,e),this},t.prototype.setDisabled=function(e){e=!!e;var r=this.getGui();return Uo(r,e),r.classList.toggle("ag-disabled",e),this.disabled=e,this},t.prototype.isDisabled=function(){return!!this.disabled},function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);n>3&&i&&Object.defineProperty(t,e,i)}([we],t.prototype,"postConstruct",null),t}(qt),Ka=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),bi=function(o){function t(e,r,n){var i=o.call(this,e,r)||this;return i.className=n,i}return Ka(t,o),t.prototype.postConstruct=function(){o.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className)},t.prototype.onValueChange=function(e){var r=this;return this.addManagedListener(this,M.EVENT_FIELD_VALUE_CHANGED,function(){return e(r.getValue())}),this},t.prototype.getWidth=function(){return this.getGui().clientWidth},t.prototype.setWidth=function(e){return qn(this.getGui(),e),this},t.prototype.getPreviousValue=function(){return this.previousValue},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(e,r){return this.value===e||(this.previousValue=this.value,this.value=e,r||this.dispatchEvent({type:M.EVENT_FIELD_VALUE_CHANGED})),this},t}(za),Ya=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ao=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Ll=function(o){function t(e){var r=o.call(this,e,e?.template||'\n    <div class="ag-picker-field" role="presentation">\n        <div ref="eLabel"></div>\n            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">\n            <div ref="eDisplayField" class="ag-picker-field-display"></div>\n            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n        </div>\n    </div>',e?.className)||this;if(r.isPickerDisplayed=!1,r.skipClick=!1,r.pickerGap=4,r.hideCurrentPicker=null,r.ariaRole=e?.ariaRole,r.onPickerFocusIn=r.onPickerFocusIn.bind(r),r.onPickerFocusOut=r.onPickerFocusOut.bind(r),!e)return r;var n=e.pickerGap,i=e.maxPickerHeight,s=e.variableWidth,a=e.minPickerWidth,d=e.maxPickerWidth;return null!=n&&(r.pickerGap=n),r.variableWidth=!!s,null!=i&&r.setPickerMaxHeight(i),null!=a&&r.setPickerMinWidth(a),null!=d&&r.setPickerMaxWidth(d),r}return Ya(t,o),t.prototype.postConstruct=function(){o.prototype.postConstruct.call(this),this.setupAria();var e="ag-"+this.getCompId()+"-display";this.eDisplayField.setAttribute("id",e);var r=this.getAriaElement();Vn(r,e),this.addManagedListener(r,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"mousedown",this.onLabelOrWrapperMouseDown.bind(this)),this.addManagedListener(this.eWrapper,"mousedown",this.onLabelOrWrapperMouseDown.bind(this));var n=this.config.pickerIcon;if(n){var i=Zr(n,this.gridOptionsService);i&&this.eIcon.appendChild(i)}},t.prototype.setupAria=function(){var e=this.getAriaElement();e.setAttribute("tabindex",(this.gridOptionsService.getNum("tabIndex")||0).toString()),Ai(e,!1),this.ariaRole&&ln(e,this.ariaRole)},t.prototype.refreshLabel=function(){var e;vo(this.getAriaElement(),null!==(e=this.getLabelId())&&void 0!==e?e:""),o.prototype.refreshLabel.call(this)},t.prototype.onLabelOrWrapperMouseDown=function(e){e&&(e.preventDefault(),this.getFocusableElement().focus()),this.skipClick?this.skipClick=!1:this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())},t.prototype.onKeyDown=function(e){switch(e.key){case Ce.UP:case Ce.DOWN:case Ce.ENTER:case Ce.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case Ce.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker())}},t.prototype.showPicker=function(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());var e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)},t.prototype.renderAndPositionPicker=function(){var e=this,r=this.gridOptionsService.getDocument(),n=this.pickerComponent.getGui();this.gridOptionsService.is("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(r.body,"wheel",function(_t){n.contains(_t.target)||e.hidePicker()}));var i=this.localeService.getLocaleTextFunc(),s=this.config,a=s.pickerType,m=s.modalPicker,E={modal:void 0===m||m,eChild:n,closeOnEsc:!0,closedCallback:function(){var _t=r.activeElement===r.body;e.beforeHidePicker(),_t&&e.isAlive()&&e.getFocusableElement().focus()},ariaLabel:i(s.pickerAriaLabelKey,s.pickerAriaLabelValue)},b=this.popupService.addPopup(E),L=this,j=L.maxPickerHeight,ee=L.minPickerWidth,se=L.maxPickerWidth,fe=L.pickerGap;L.variableWidth?(ee&&(n.style.minWidth=ee),n.style.width=So(Co(this.eWrapper)),se&&(n.style.maxWidth=se)):ms(n,se??Co(this.eWrapper));var ke=j??$n(this.popupService.getPopupParent())+"px";n.style.setProperty("max-height",ke),n.style.position="absolute";var St=this.gridOptionsService.is("enableRtl")?"right":"left";return this.popupService.positionPopupByComponent({type:a,eventSource:this.eWrapper,ePopup:n,position:"under",alignSide:St,keepWithinBounds:!0,nudgeY:fe}),b.hideFunc},t.prototype.beforeHidePicker=function(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);var e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null},t.prototype.toggleExpandedStyles=function(e){this.isAlive()&&(Ai(this.getAriaElement(),e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e))},t.prototype.onPickerFocusIn=function(){this.togglePickerHasFocus(!0)},t.prototype.onPickerFocusOut=function(e){var r;null!==(r=this.pickerComponent)&&void 0!==r&&r.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)},t.prototype.togglePickerHasFocus=function(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)},t.prototype.hidePicker=function(){this.hideCurrentPicker&&this.hideCurrentPicker()},t.prototype.setAriaLabel=function(e){return ci(this.getAriaElement(),e),this},t.prototype.setInputWidth=function(e){return ms(this.eWrapper,e),this},t.prototype.getFocusableElement=function(){return this.eWrapper},t.prototype.setPickerGap=function(e){return this.pickerGap=e,this},t.prototype.setPickerMinWidth=function(e){return"number"==typeof e&&(e+="px"),this.minPickerWidth=e??void 0,this},t.prototype.setPickerMaxWidth=function(e){return"number"==typeof e&&(e+="px"),this.maxPickerWidth=e??void 0,this},t.prototype.setPickerMaxHeight=function(e){return"number"==typeof e&&(e+="px"),this.maxPickerHeight=e??void 0,this},t.prototype.destroy=function(){this.hidePicker(),o.prototype.destroy.call(this)},Ao([A("popupService")],t.prototype,"popupService",void 0),Ao([tt("eLabel")],t.prototype,"eLabel",void 0),Ao([tt("eWrapper")],t.prototype,"eWrapper",void 0),Ao([tt("eDisplayField")],t.prototype,"eDisplayField",void 0),Ao([tt("eIcon")],t.prototype,"eIcon",void 0),t}(bi),Mn=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Bu=function(o){function t(e){void 0===e&&(e="default");var r=o.call(this,'<div class="ag-list ag-'+e+'-list" role="listbox"></div>')||this;return r.cssIdentifier=e,r.options=[],r.itemEls=[],r}return Mn(t,o),t.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){var r=e.key;switch(r){case Ce.ENTER:if(this.highlightedEl){var n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}else this.setValue(this.getValue());break;case Ce.DOWN:case Ce.UP:var i=r===Ce.DOWN,s=void 0;if(e.preventDefault(),this.highlightedEl){var d=this.itemEls.indexOf(this.highlightedEl)+(i?1:-1);d=Math.min(Math.max(d,0),this.itemEls.length-1),s=this.itemEls[d]}else s=this.itemEls[i?0:this.itemEls.length-1];this.highlightItem(s)}},t.prototype.addOptions=function(e){var r=this;return e.forEach(function(n){return r.addOption(n)}),this},t.prototype.addOption=function(e){var r=e.value,i=Xr(e.text||r);return this.options.push({value:r,text:i}),this.renderOption(r,i),this.updateIndices(),this},t.prototype.updateIndices=function(){var e=this.getGui().querySelectorAll(".ag-list-item");e.forEach(function(r,n){yo(r,n+1),ki(r,e.length)})},t.prototype.renderOption=function(e,r){var n=this,i=document.createElement("div");ln(i,"option"),i.classList.add("ag-list-item","ag-"+this.cssIdentifier+"-list-item"),i.innerHTML="<span>"+r+"</span>",i.tabIndex=-1,this.itemEls.push(i),this.addManagedListener(i,"mouseover",function(){return n.highlightItem(i)}),this.addManagedListener(i,"mouseleave",function(){return n.clearHighlighted()}),this.addManagedListener(i,"click",function(){return n.setValue(e)}),this.getGui().appendChild(i)},t.prototype.setValue=function(e,r){if(this.value===e)return this.fireItemSelected(),this;if(null==e)return this.reset(),this;var n=this.options.findIndex(function(s){return s.value===e});if(-1!==n){var i=this.options[n];this.value=i.value,this.displayValue=null!=i.text?i.text:i.value,this.highlightItem(this.itemEls[n]),r||this.fireChangeEvent()}return this},t.prototype.setValueByIndex=function(e){return this.setValue(this.options[e].value)},t.prototype.getValue=function(){return this.value},t.prototype.getDisplayValue=function(){return this.displayValue},t.prototype.refreshHighlighted=function(){var e=this;this.clearHighlighted();var r=this.options.findIndex(function(n){return n.value===e.value});-1!==r&&this.highlightItem(this.itemEls[r])},t.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},t.prototype.highlightItem=function(e){e.offsetParent&&(this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(t.ACTIVE_CLASS),Ui(this.highlightedEl,!0),this.highlightedEl.focus())},t.prototype.clearHighlighted=function(){!this.highlightedEl||!this.highlightedEl.offsetParent||(this.highlightedEl.classList.remove(t.ACTIVE_CLASS),Ui(this.highlightedEl,!1),this.highlightedEl=null)},t.prototype.fireChangeEvent=function(){this.dispatchEvent({type:M.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()},t.prototype.fireItemSelected=function(){this.dispatchEvent({type:t.EVENT_ITEM_SELECTED})},t.EVENT_ITEM_SELECTED="selectedItem",t.ACTIVE_CLASS="ag-active-item",function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);n>3&&i&&Object.defineProperty(t,e,i)}([we],t.prototype,"init",null),t}(qt),jc=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gl=function(){return Gl=Object.assign||function(o){for(var t,e=1,r=arguments.length;e<r;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o},Gl.apply(this,arguments)},na=function(o){function t(e){return o.call(this,Gl({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"listbox"},e))||this}return jc(t,o),t.prototype.postConstruct=function(){var e;o.prototype.postConstruct.call(this),this.createListComponent(),this.eWrapper.tabIndex=null!==(e=this.gridOptionsService.getNum("tabIndex"))&&void 0!==e?e:0},t.prototype.createListComponent=function(){var e=this;this.listComponent=this.createBean(new Bu("select")),this.listComponent.setParentComponent(this),this.listComponent.addGuiEventListener("keydown",function(r){r.key===Ce.TAB&&(r.preventDefault(),r.stopImmediatePropagation(),e.getGui().dispatchEvent(new KeyboardEvent("keydown",{key:r.key,shiftKey:r.shiftKey,ctrlKey:r.ctrlKey,bubbles:!0})))}),this.listComponent.addManagedListener(this.listComponent,Bu.EVENT_ITEM_SELECTED,function(){e.hidePicker(),e.dispatchEvent({type:t.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,M.EVENT_FIELD_VALUE_CHANGED,function(){e.listComponent&&(e.setValue(e.listComponent.getValue(),!1,!0),e.hidePicker())})},t.prototype.createPickerComponent=function(){return this.listComponent},t.prototype.showPicker=function(){this.listComponent&&(o.prototype.showPicker.call(this),this.listComponent.refreshHighlighted())},t.prototype.addOptions=function(e){var r=this;return e.forEach(function(n){return r.addOption(n)}),this},t.prototype.addOption=function(e){return this.listComponent.addOption(e),this},t.prototype.setValue=function(e,r,n){return this.value!==e&&this.listComponent?(n||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),o.prototype.setValue.call(this,e,r))):this},t.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),o.prototype.destroy.call(this)},t.EVENT_ITEM_SELECTED="selectedItem",t}(Ll),zc=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Zo=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Yi=function(o){function t(e,r,n,i){void 0===n&&(n="text"),void 0===i&&(i="input");var s=o.call(this,e,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'+i+' ref="eInput" class="ag-input-field-input"></'+i+">\n                </div>\n            </div>",r)||this;return s.inputType=n,s.displayFieldTag=i,s}return zc(t,o),t.prototype.postConstruct=function(){o.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add(this.className+"-label"),this.eWrapper.classList.add(this.className+"-input-wrapper"),this.eInput.classList.add(this.className+"-input"),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var e=this.config,r=e.width,n=e.value;null!=r&&this.setWidth(r),null!=n&&this.setValue(n),this.addInputListeners(),this.activateTabIndex([this.eInput])},t.prototype.refreshLabel=function(){w(this.getLabel())?vo(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),o.prototype.refreshLabel.call(this)},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(r){return e.setValue(r.target.value)})},t.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},t.prototype.getInputElement=function(){return this.eInput},t.prototype.setInputWidth=function(e){return ms(this.eWrapper,e),this},t.prototype.setInputName=function(e){return this.getInputElement().setAttribute("name",e),this},t.prototype.getFocusableElement=function(){return this.eInput},t.prototype.setMaxLength=function(e){return this.eInput.maxLength=e,this},t.prototype.setInputPlaceholder=function(e){return Zn(this.eInput,"placeholder",e),this},t.prototype.setInputAriaLabel=function(e){return ci(this.eInput,e),this},t.prototype.setDisabled=function(e){return Uo(this.eInput,e),o.prototype.setDisabled.call(this,e)},t.prototype.setAutoComplete=function(e){return Zn(this.eInput,"autocomplete",!0===e?null:"string"==typeof e?e:"off"),this},Zo([tt("eLabel")],t.prototype,"eLabel",void 0),Zo([tt("eWrapper")],t.prototype,"eWrapper",void 0),Zo([tt("eInput")],t.prototype,"eInput",void 0),t}(bi),Kc=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ts=function(o){function t(e,r,n){void 0===r&&(r="ag-checkbox"),void 0===n&&(n="checkbox");var i=o.call(this,e,r,n)||this;return i.labelAlignment="right",i.selected=!1,i.readOnly=!1,i.passive=!1,i}return Kc(t,o),t.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},t.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},t.prototype.setPassive=function(e){this.passive=e},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setReadOnly=function(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e},t.prototype.setDisabled=function(e){return this.eWrapper.classList.toggle("ag-disabled",e),o.prototype.setDisabled.call(this,e)},t.prototype.toggle=function(){if(!this.eInput.disabled){var e=this.isSelected(),r=this.getNextValue();this.passive?this.dispatchChange(r,e):this.setValue(r)}},t.prototype.getValue=function(){return this.isSelected()},t.prototype.setValue=function(e,r){return this.refreshSelectedClass(e),this.setSelected(e,r),this},t.prototype.setName=function(e){return this.getInputElement().name=e,this},t.prototype.isSelected=function(){return this.selected},t.prototype.setSelected=function(e,r){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected="boolean"==typeof e?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=void 0===e,r||this.dispatchChange(this.selected,this.previousValue))},t.prototype.dispatchChange=function(e,r,n){this.dispatchEvent({type:M.EVENT_FIELD_VALUE_CHANGED,selected:e,previousValue:r,event:n});var i=this.getInputElement();this.eventService.dispatchEvent({type:M.EVENT_CHECKBOX_CHANGED,id:i.id,name:i.name,selected:e,previousValue:r})},t.prototype.onCheckboxClick=function(e){if(!this.passive&&!this.eInput.disabled){var r=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,r,e)}},t.prototype.refreshSelectedClass=function(e){this.eWrapper.classList.toggle("ag-checked",!0===e),this.eWrapper.classList.toggle("ag-indeterminate",null==e)},t}(Yi),ia=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ku=function(o){function t(e){return o.call(this,e,"ag-radio-button","radio")||this}return ia(t,o),t.prototype.isSelected=function(){return this.eInput.checked},t.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},t.prototype.addInputListeners=function(){o.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,M.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},t.prototype.onChange=function(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)},t}(Ts),lp=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),$a=function(){function o(t,e,r){this.localeService=t,this.optionsFactory=e,this.valueFormatter=r}return o.prototype.getModelAsString=function(t){var e=this;if(!t)return null;var r=null!=t.operator,n=this.localeService.getLocaleTextFunc();if(r){var i=t,s=i.conditions;s||(s=[i.condition1,i.condition2]);var g=s.map(function(se){return e.getModelAsString(se)}),m="AND"===i.operator?"andCondition":"orCondition";return g.join(" "+n(m,Ki[m])+" ")}if(t.type===Qr.BLANK||t.type===Qr.NOT_BLANK)return n(t.type,t.type);var C=t,E=this.optionsFactory.getCustomOption(C.type),b=E||{},L=b.displayKey,j=b.displayName;return L&&j&&0===b.numberOfInputs?(n(L,j),j):this.conditionToString(C,E)},o.prototype.updateParams=function(t){this.optionsFactory=t.optionsFactory},o.prototype.formatValue=function(t){var e;return this.valueFormatter?null!==(e=this.valueFormatter(t??null))&&void 0!==e?e:"":String(t)},o}(),Qr=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.eTypes=[],e.eJoinOperatorPanels=[],e.eJoinOperatorsAnd=[],e.eJoinOperatorsOr=[],e.eConditionBodies=[],e.listener=function(){return e.onUiChanged()},e.lastUiCompletePosition=null,e.joinOperatorId=0,e}return lp(t,o),t.prototype.getNumberOfInputs=function(e){var r=this.optionsFactory.getCustomOption(e);return r?r.numberOfInputs??1:e&&[t.EMPTY,t.NOT_BLANK,t.BLANK].indexOf(e)>=0?0:e===t.IN_RANGE?2:1},t.prototype.onFloatingFilterChanged=function(e,r){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(r),this.onUiChanged(!0)},t.prototype.setTypeFromFloatingFilter=function(e){var r=this;this.eTypes.forEach(function(n,i){n.setValue(0===i?e:r.optionsFactory.getDefaultOption(),!0)})},t.prototype.getModelFromUi=function(){var e=this.getUiCompleteConditions();return 0===e.length?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:e[0],condition2:e[1],conditions:e}:e[0]},t.prototype.getConditionTypes=function(){return this.eTypes.map(function(e){return e.getValue()})},t.prototype.getConditionType=function(e){return this.eTypes[e].getValue()},t.prototype.getJoinOperator=function(){return 0===this.eJoinOperatorsOr.length?this.defaultJoinOperator:!0===this.eJoinOperatorsOr[0].getValue()?"OR":"AND"},t.prototype.areModelsEqual=function(e,r){var n=this;if(!e&&!r)return!0;if(!e&&r||e&&!r)return!1;var i=!e.operator,s=!r.operator;return!(!i&&s||i&&!s)&&(i?this.areSimpleModelsEqual(e,r):e.operator===r.operator&&Ye(e.conditions,r.conditions,function(b,L){return n.areSimpleModelsEqual(b,L)}))},t.prototype.setModelIntoUi=function(e){var r=this;if(e.operator){var i=e;i.conditions||(i.conditions=[i.condition1,i.condition2]);var s=this.validateAndUpdateConditions(i.conditions),a=this.getNumConditions();if(s<a)this.removeConditionsAndOperators(s);else if(s>a)for(var d=a;d<s;d++)this.createJoinOperatorPanel(),this.createOption();var g="OR"===i.operator;this.eJoinOperatorsAnd.forEach(function(C){return C.setValue(!g,!0)}),this.eJoinOperatorsOr.forEach(function(C){return C.setValue(g,!0)}),i.conditions.forEach(function(C,E){r.eTypes[E].setValue(C.type,!0),r.setConditionIntoUi(C,E)})}else{var m=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(m.type,!0),this.setConditionIntoUi(m,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),pi.resolve()},t.prototype.validateAndUpdateConditions=function(e){var r=e.length;return r>this.maxNumConditions&&(e.splice(this.maxNumConditions),At(function(){return console.warn('AG Grid: Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.')},"simpleFilterSetModelMaxNumConditions"),r=this.maxNumConditions),r},t.prototype.doesFilterPass=function(e){var n,r=this,i=this.getModel();if(null==i)return!0;var s=i.operator,a=[];return s?a.push.apply(a,function(o,t){for(var e=0,r=t.length,n=o.length;e<r;e++,n++)o[n]=t[e];return o}([],function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i}(null!==(n=i.conditions)&&void 0!==n?n:[]))):a.push(i),a[s&&"OR"===s?"some":"every"](function(m){return r.individualConditionPasses(e,m)})},t.prototype.setParams=function(e){o.prototype.setParams.call(this,e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new Gu,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")},t.prototype.setNumConditions=function(e){var r,n;null!=e.suppressAndOrCondition&&At(function(){return console.warn('AG Grid: Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.')},"simpleFilterSuppressAndOrCondition"),null!=e.alwaysShowBothConditions&&At(function(){return console.warn('AG Grid: Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.')},"simpleFilterAlwaysShowBothConditions"),this.maxNumConditions=null!==(r=e.maxNumConditions)&&void 0!==r?r:e.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(At(function(){return console.warn('AG Grid: "filterParams.maxNumConditions" must be greater than or equal to zero.')},"simpleFilterMaxNumConditions"),this.maxNumConditions=1),this.numAlwaysVisibleConditions=null!==(n=e.numAlwaysVisibleConditions)&&void 0!==n?n:e.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(At(function(){return console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.')},"simpleFilterNumAlwaysVisibleConditions"),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(At(function(){return console.warn('AG Grid: "filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".')},"simpleFilterNumAlwaysVisibleGreaterThanMaxNumConditions"),this.numAlwaysVisibleConditions=this.maxNumConditions)},t.prototype.createOption=function(){var e=this,r=this.createManagedBean(new na);this.eTypes.push(r),r.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(r.getGui());var n=this.createValueElement();this.eConditionBodies.push(n),this.eFilterBody.appendChild(n),this.putOptionsIntoDropdown(r),this.resetType(r);var i=this.getNumConditions()-1;this.forEachPositionInput(i,function(s){return e.resetInput(s)}),this.addChangedListeners(r,i)},t.prototype.createJoinOperatorPanel=function(){var e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");var r=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),n=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);var i=this.eJoinOperatorPanels.length-1,s=this.joinOperatorId++;this.resetJoinOperatorAnd(r,i,s),this.resetJoinOperatorOr(n,i,s),this.isReadOnly()||(r.onValueChange(this.listener),n.onValueChange(this.listener))},t.prototype.createJoinOperator=function(e,r,n){var i=this.createManagedBean(new ku);return e.push(i),i.addCssClass("ag-filter-condition-operator"),i.addCssClass("ag-filter-condition-operator-"+n),r.appendChild(i.getGui()),i},t.prototype.getDefaultJoinOperator=function(e){return"AND"===e||"OR"===e?e:"AND"},t.prototype.createFilterListOptions=function(){var e=this,r=this.optionsFactory.getFilterOptions();this.filterListOptions=r.map(function(n){return"string"==typeof n?e.createBoilerplateListOption(n):e.createCustomListOption(n)})},t.prototype.putOptionsIntoDropdown=function(e){this.filterListOptions.forEach(function(r){e.addOption(r)}),e.setDisabled(this.filterListOptions.length<=1)},t.prototype.createBoilerplateListOption=function(e){return{value:e,text:this.translate(e)}},t.prototype.createCustomListOption=function(e){var r=e.displayKey,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:r,text:n?this.localeService.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(r)}},t.prototype.isAllowTwoConditions=function(){return this.maxNumConditions>=2},t.prototype.createBodyTemplate=function(){return""},t.prototype.getCssIdentifier=function(){return"simple-filter"},t.prototype.updateUiVisibility=function(){var e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)},t.prototype.updateNumConditions=function(){for(var e,r=-1,n=!0,i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)?r=i:n=!1;if(this.shouldAddNewConditionAtEnd(n))this.createJoinOperatorPanel(),this.createOption();else{var s=null!==(e=this.lastUiCompletePosition)&&void 0!==e?e:this.getNumConditions()-2;if(r<s){this.removeConditionsAndOperators(s+1);var a=r+1,d=s-a;d>0&&this.removeConditionsAndOperators(a,d),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=r},t.prototype.updateConditionStatusesAndValues=function(e,r){var n=this;this.eTypes.forEach(function(s,a){var d=n.isConditionDisabled(a,e);s.setDisabled(d||n.filterListOptions.length<=1),1===a&&(Uo(n.eJoinOperatorPanels[0],d),n.eJoinOperatorsAnd[0].setDisabled(d),n.eJoinOperatorsOr[0].setDisabled(d))}),this.eConditionBodies.forEach(function(s,a){sr(s,n.isConditionBodyVisible(a))});var i="OR"===(r??this.getJoinOperator());this.eJoinOperatorsAnd.forEach(function(s,a){s.setValue(!i,!0)}),this.eJoinOperatorsOr.forEach(function(s,a){s.setValue(i,!0)}),this.forEachInput(function(s,a,d,g){n.setElementDisplayed(s,a<g),n.setElementDisabled(s,n.isConditionDisabled(d,e))}),this.resetPlaceholder()},t.prototype.shouldAddNewConditionAtEnd=function(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()},t.prototype.removeConditionsAndOperators=function(e,r){if(!(e>=this.getNumConditions())){this.removeComponents(this.eTypes,e,r),this.removeElements(this.eConditionBodies,e,r),this.removeValueElements(e,r);var n=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,n,r),this.removeComponents(this.eJoinOperatorsAnd,n,r),this.removeComponents(this.eJoinOperatorsOr,n,r)}},t.prototype.removeElements=function(e,r,n){this.removeItems(e,r,n).forEach(function(s){return Qn(s)})},t.prototype.removeComponents=function(e,r,n){var i=this;this.removeItems(e,r,n).forEach(function(a){Qn(a.getGui()),i.destroyBean(a)})},t.prototype.removeItems=function(e,r,n){return null==n?e.splice(r):e.splice(r,n)},t.prototype.afterGuiAttached=function(e){if(o.prototype.afterGuiAttached.call(this,e),this.resetPlaceholder(),!e?.suppressFocus)if(this.isReadOnly())this.eFilterBody.focus();else{var r=this.getInputs(0)[0];if(!r)return;r instanceof Yi&&r.getInputElement().focus()}},t.prototype.afterGuiDetached=function(){o.prototype.afterGuiDetached.call(this);var e=this.getModel();(!this.areModelsEqual(e,this.getModelFromUi())||this.hasInvalidInputs())&&this.resetUiToActiveModel(e);for(var r=-1,n=-1,i=!1,s=this.getJoinOperator(),a=this.getNumConditions()-1;a>=0;a--)if(this.isConditionUiComplete(a))-1===r&&(r=a,n=a);else{var g=a<r;(a>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(a-1)||g)&&(this.removeConditionsAndOperators(a,1),i=!0,g&&n--)}var m=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),m=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),m=!0),m&&this.updateConditionStatusesAndValues(n,s),i&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n},t.prototype.getPlaceholderText=function(e,r){var n=this.translate(e);if(dt(this.filterPlaceholder)){var i=this.filterPlaceholder,s=this.eTypes[r].getValue();n=i({filterOptionKey:s,filterOption:this.translate(s),placeholder:n})}else"string"==typeof this.filterPlaceholder&&(n=this.filterPlaceholder);return n},t.prototype.resetPlaceholder=function(){var e=this,r=this.localeService.getLocaleTextFunc();this.forEachInput(function(n,i,s,a){if(n instanceof Yi){var d=0===i&&a>1?"inRangeStart":0===i?"filterOoo":"inRangeEnd",g=0===i&&a>1?r("ariaFilterFromValue","Filter from value"):0===i?r("ariaFilterValue","Filter Value"):r("ariaFilterToValue","Filter to Value");n.setInputPlaceholder(e.getPlaceholderText(d,s)),n.setInputAriaLabel(g)}})},t.prototype.setElementValue=function(e,r,n){e instanceof Yi&&e.setValue(null!=r?String(r):null,!0)},t.prototype.setElementDisplayed=function(e,r){e instanceof qt&&sr(e.getGui(),r)},t.prototype.setElementDisabled=function(e,r){e instanceof qt&&Uo(e.getGui(),r)},t.prototype.attachElementOnChange=function(e,r){e instanceof Yi&&e.onValueChange(r)},t.prototype.forEachInput=function(e){var r=this;this.getConditionTypes().forEach(function(n,i){r.forEachPositionTypeInput(i,n,e)})},t.prototype.forEachPositionInput=function(e,r){var n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,r)},t.prototype.forEachPositionTypeInput=function(e,r,n){for(var i=this.getNumberOfInputs(r),s=this.getInputs(e),a=0;a<s.length;a++){var d=s[a];null!=d&&n(d,a,e,i)}},t.prototype.isConditionDisabled=function(e,r){return!!this.isReadOnly()||0!==e&&e>r+1},t.prototype.isConditionBodyVisible=function(e){var r=this.getConditionType(e);return this.getNumberOfInputs(r)>0},t.prototype.isConditionUiComplete=function(e){return!(e>=this.getNumConditions()||this.getConditionType(e)===t.EMPTY||this.getValues(e).some(function(n){return null==n}))},t.prototype.getNumConditions=function(){return this.eTypes.length},t.prototype.getUiCompleteConditions=function(){for(var e=[],r=0;r<this.getNumConditions();r++)this.isConditionUiComplete(r)&&e.push(this.createCondition(r));return e},t.prototype.createMissingConditionsAndOperators=function(){if(!this.isReadOnly())for(var e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()},t.prototype.resetUiToDefaults=function(e){var r=this;return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(function(n){return r.resetType(n)}),this.eJoinOperatorsAnd.forEach(function(n,i){return r.resetJoinOperatorAnd(n,i,r.joinOperatorId+i)}),this.eJoinOperatorsOr.forEach(function(n,i){return r.resetJoinOperatorOr(n,i,r.joinOperatorId+i)}),this.joinOperatorId++,this.forEachInput(function(n){return r.resetInput(n)}),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),pi.resolve()},t.prototype.resetType=function(e){var n=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)},t.prototype.resetJoinOperatorAnd=function(e,r,n){this.resetJoinOperator(e,r,this.isDefaultOperator("AND"),this.translate("andCondition"),n)},t.prototype.resetJoinOperatorOr=function(e,r,n){this.resetJoinOperator(e,r,this.isDefaultOperator("OR"),this.translate("orCondition"),n)},t.prototype.resetJoinOperator=function(e,r,n,i,s){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName("ag-simple-filter-and-or-"+this.getCompId()+"-"+s).setLabel(i),r)},t.prototype.updateJoinOperatorsDisabled=function(){var e=this;this.eJoinOperatorsAnd.forEach(function(r,n){return e.updateJoinOperatorDisabled(r,n)}),this.eJoinOperatorsOr.forEach(function(r,n){return e.updateJoinOperatorDisabled(r,n)})},t.prototype.updateJoinOperatorDisabled=function(e,r){e.setDisabled(this.isReadOnly()||r>0)},t.prototype.resetInput=function(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())},t.prototype.setConditionIntoUi=function(e,r){var n=this,i=this.mapValuesFromModel(e);this.forEachInput(function(s,a,d,g){d===r&&n.setElementValue(s,null!=i[a]?i[a]:null)})},t.prototype.setValueFromFloatingFilter=function(e){var r=this;this.forEachInput(function(n,i,s,a){r.setElementValue(n,0===i&&0===s?e:null,!0)})},t.prototype.isDefaultOperator=function(e){return e===this.defaultJoinOperator},t.prototype.addChangedListeners=function(e,r){var n=this;this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(r,function(i){n.attachElementOnChange(i,n.listener)}))},t.prototype.individualConditionPasses=function(e,r){var n=this.getCellValue(e.node),i=this.mapValuesFromModel(r),s=this.optionsFactory.getCustomOption(r.type);return this.evaluateCustomFilter(s,i,n)??(null==n?this.evaluateNullValue(r.type):this.evaluateNonNullValue(i,n,r,e))},t.prototype.evaluateCustomFilter=function(e,r,n){if(null!=e){var i=e.predicate;if(null!=i&&!r.some(function(s){return null==s}))return i(r,n)}},t.prototype.isBlank=function(e){return null==e||"string"==typeof e&&0===e.trim().length},t.prototype.hasInvalidInputs=function(){return!1},t.EMPTY="empty",t.BLANK="blank",t.NOT_BLANK="notBlank",t.EQUALS="equals",t.NOT_EQUAL="notEqual",t.LESS_THAN="lessThan",t.LESS_THAN_OR_EQUAL="lessThanOrEqual",t.GREATER_THAN="greaterThan",t.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",t.IN_RANGE="inRange",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.STARTS_WITH="startsWith",t.ENDS_WITH="endsWith",t}(Os),Yc=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),gn=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Yc(t,o),t.prototype.setParams=function(e){o.prototype.setParams.call(this,e),this.scalarFilterParams=e},t.prototype.evaluateNullValue=function(e){switch(e){case t.EQUALS:case t.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case t.GREATER_THAN:case t.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case t.LESS_THAN:case t.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case t.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case t.BLANK:return!0;case t.NOT_BLANK:return!1}return!1},t.prototype.evaluateNonNullValue=function(e,r,n){var i=this.comparator(),s=null!=e[0]?i(e[0],r):0;switch(n.type){case t.EQUALS:return 0===s;case t.NOT_EQUAL:return 0!==s;case t.GREATER_THAN:return s>0;case t.GREATER_THAN_OR_EQUAL:return s>=0;case t.LESS_THAN:return s<0;case t.LESS_THAN_OR_EQUAL:return s<=0;case t.IN_RANGE:var a=i(e[1],r);return this.scalarFilterParams.inRangeInclusive?s>=0&&a<=0:s>0&&a<0;case t.BLANK:return this.isBlank(r);case t.NOT_BLANK:return!this.isBlank(r);default:return console.warn('AG Grid: Unexpected type of filter "'+n.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},t}(Qr),Qa=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Bl=function(){return Bl=Object.assign||function(o){for(var t,e=1,r=arguments.length;e<r;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o},Bl.apply(this,arguments)},Ul=function(o){function t(e,r,n){var i=o.call(this,r,n)||this;return i.dateFilterParams=e,i}return Qa(t,o),t.prototype.conditionToString=function(e,r){var n=e.type,s=n==Qr.IN_RANGE||2===(r||{}).numberOfInputs,a=Wr(e.dateFrom),d=Wr(e.dateTo),g=this.dateFilterParams.inRangeFloatingFilterDateFormat;return s?(null!==a?ps(a,g):"null")+"-"+(null!==d?ps(d,g):"null"):null!=a?ps(a,g):""+n},t.prototype.updateParams=function(e){o.prototype.updateParams.call(this,e),this.dateFilterParams=e.dateFilterParams},t}($a),sa=function(o){function t(){var e=o.call(this,"dateFilter")||this;return e.eConditionPanelsFrom=[],e.eConditionPanelsTo=[],e.dateConditionFromComps=[],e.dateConditionToComps=[],e.minValidYear=1e3,e.maxValidYear=1/0,e.minValidDate=null,e.maxValidDate=null,e}return Qa(t,o),t.prototype.afterGuiAttached=function(e){o.prototype.afterGuiAttached.call(this,e),this.dateConditionFromComps[0].afterGuiAttached(e)},t.prototype.mapValuesFromModel=function(e){var r=e||{},n=r.dateFrom,i=r.dateTo,s=r.type;return[n&&Wr(n)||null,i&&Wr(i)||null].slice(0,this.getNumberOfInputs(s))},t.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},t.prototype.defaultComparator=function(e,r){return null==r||r<e?-1:r>e?1:0},t.prototype.setParams=function(e){this.dateFilterParams=e,o.prototype.setParams.call(this,e);var r=function(n,i){if(null!=e[n]){if(!isNaN(e[n]))return null==e[n]?i:Number(e[n]);console.warn("AG Grid: DateFilter "+n+" is not a number")}return i};this.minValidYear=r("minValidYear",1e3),this.maxValidYear=r("maxValidYear",1/0),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.minValidDate=e.minValidDate?e.minValidDate instanceof Date?e.minValidDate:Wr(e.minValidDate):null,this.maxValidDate=e.maxValidDate?e.maxValidDate instanceof Date?e.maxValidDate:Wr(e.maxValidDate):null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&console.warn("AG Grid: DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new Ul(this.dateFilterParams,this.localeService,this.optionsFactory)},t.prototype.createDateCompWrapper=function(e){var r=this,n=new Fl(this.getContext(),this.userComponentFactory,{onDateChanged:function(){return r.onUiChanged()},filterParams:this.dateFilterParams},e);return this.addDestroyFunc(function(){return n.destroy()}),n},t.prototype.setElementValue=function(e,r){e.setDate(r)},t.prototype.setElementDisplayed=function(e,r){e.setDisplayed(r)},t.prototype.setElementDisabled=function(e,r){e.setDisabled(r)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueElement=function(){var e=document.createElement("div");return e.classList.add("ag-filter-body"),this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e},t.prototype.createFromToElement=function(e,r,n,i){var s=document.createElement("div");s.classList.add("ag-filter-"+i),s.classList.add("ag-filter-date-"+i),r.push(s),e.appendChild(s),n.push(this.createDateCompWrapper(s))},t.prototype.removeValueElements=function(e,r){this.removeDateComps(this.dateConditionFromComps,e,r),this.removeDateComps(this.dateConditionToComps,e,r),this.removeItems(this.eConditionPanelsFrom,e,r),this.removeItems(this.eConditionPanelsTo,e,r)},t.prototype.removeDateComps=function(e,r,n){this.removeItems(e,r,n).forEach(function(s){return s.destroy()})},t.prototype.isValidDateValue=function(e){if(null===e)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0},t.prototype.isConditionUiComplete=function(e){var r=this;if(!o.prototype.isConditionUiComplete.call(this,e))return!1;var n=!0;return this.forEachInput(function(i,s,a,d){a!==e||!n||s>=d||(n=n&&r.isValidDateValue(i.getDate()))}),n},t.prototype.areSimpleModelsEqual=function(e,r){return e.dateFrom===r.dateFrom&&e.dateTo===r.dateTo&&e.type===r.type},t.prototype.getFilterType=function(){return"date"},t.prototype.createCondition=function(e){var r=this.getConditionType(e),n={},i=this.getValues(e);return i.length>0&&(n.dateFrom=cr(i[0])),i.length>1&&(n.dateTo=cr(i[1])),Bl({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:r},n)},t.prototype.resetPlaceholder=function(){var e=this.localeService.getLocaleTextFunc(),r=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput(function(i){i.setInputPlaceholder(r),i.setInputAriaLabel(n)})},t.prototype.getInputs=function(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]},t.prototype.getValues=function(e){var r=[];return this.forEachPositionInput(e,function(n,i,s,a){i<a&&r.push(n.getDate())}),r},t.prototype.getModelAsString=function(e){var r;return null!==(r=this.filterModelFormatter.getModelAsString(e))&&void 0!==r?r:""},t.DEFAULT_FILTER_OPTIONS=[gn.EQUALS,gn.GREATER_THAN,gn.LESS_THAN,gn.NOT_EQUAL,gn.IN_RANGE,gn.BLANK,gn.NOT_BLANK],function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);n>3&&i&&Object.defineProperty(t,e,i)}([A("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(gn),$c=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),qa=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return $c(t,o),t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.destroy=function(){o.prototype.destroy.call(this)},t.prototype.isEventFromFloatingFilter=function(e){return e&&e.afterFloatingFilter},t.prototype.isEventFromDataChange=function(e){return e?.afterDataChange},t.prototype.getLastType=function(){return this.lastType},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setLastTypeFromModel=function(e){e?this.lastType=(e.operator?e.conditions[0]:e).type:this.lastType=this.optionsFactory.getDefaultOption()},t.prototype.canWeEditAfterModelFromParentFilter=function(e){return e?!e.operator&&this.isTypeEditable(e.type):this.isTypeEditable(this.lastType)},t.prototype.init=function(e){this.setSimpleParams(e)},t.prototype.setSimpleParams=function(e){this.optionsFactory=new Gu,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!e.filterParams.readOnly;var r=this.isTypeEditable(this.lastType);this.setEditable(r)},t.prototype.onParamsUpdated=function(e){this.setSimpleParams(e)},t.prototype.doesFilterHaveSingleInput=function(e){var n=(this.optionsFactory.getCustomOption(e)||{}).numberOfInputs;return null==n||1==n},t.prototype.isTypeEditable=function(e){var r=[Qr.IN_RANGE,Qr.EMPTY,Qr.BLANK,Qr.NOT_BLANK];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&r.indexOf(e)<0},t}(qt),Wu=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),jl=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Uu=function(o){function t(){return o.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return Wu(t,o),t.prototype.getDefaultFilterOptions=function(){return sa.DEFAULT_FILTER_OPTIONS},t.prototype.init=function(e){o.prototype.init.call(this,e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new Ul(this.filterParams,this.localeService,this.optionsFactory);var r=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(r("ariaDateFilterInput","Date Filter Input"))},t.prototype.onParamsUpdated=function(e){o.prototype.onParamsUpdated.call(this,e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams})},t.prototype.setEditable=function(e){sr(this.eDateWrapper,e),sr(this.eReadOnlyText.getGui(),!e)},t.prototype.onParentModelChanged=function(e,r){if(!this.isEventFromFloatingFilter(r)&&!this.isEventFromDataChange(r)){o.prototype.setLastTypeFromModel.call(this,e);var n=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);this.setEditable(n),n?(this.dateComp.setDate(e?Wr(e.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null))}},t.prototype.onDateChanged=function(){var e=this,n=cr(this.dateComp.getDate());this.params.parentFilterInstance(function(i){if(i){var s=Wr(n);i.onFloatingFilterChanged(e.getLastType()||null,s)}})},t.prototype.getDateComponentParams=function(){var e=Os.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:He(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}},t.prototype.createDateComponent=function(){var e=this;this.dateComp=new Fl(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper),this.addDestroyFunc(function(){return e.dateComp.destroy()})},t.prototype.updateDateComponent=function(){var e=this.getDateComponentParams(),r=this.gridOptionsService,i=r.columnApi,s=r.context;e.api=r.api,e.columnApi=i,e.context=s,this.dateComp.updateParams(e)},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},jl([A("userComponentFactory")],t.prototype,"userComponentFactory",void 0),jl([tt("eReadOnlyText")],t.prototype,"eReadOnlyText",void 0),jl([tt("eDateWrapper")],t.prototype,"eDateWrapper",void 0),t}(qa),Qc=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),f=function(o){function t(){return o.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return Qc(t,o),t.prototype.destroy=function(){o.prototype.destroy.call(this)},t.prototype.init=function(e){var r=this;this.params=e,this.setParams(e);var n=this.gridOptionsService.getDocument(),i=this.eDateInput.getInputElement();this.addManagedListener(i,"mousedown",function(){r.eDateInput.isDisabled()||r.usingSafariDatePicker||i.focus()}),this.addManagedListener(i,"input",function(s){s.target===n.activeElement&&(r.eDateInput.isDisabled()||r.params.onDateChanged())})},t.prototype.setParams=function(e){var r=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&Cn(),r.type=n?"date":"text";var i=e.filterParams||{},s=i.minValidYear,a=i.maxValidYear,d=i.minValidDate,g=i.maxValidDate;if(d&&s&&At(function(){return console.warn("AG Grid: DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.")},"DateFilter.minValidDateAndMinValidYearWarning"),g&&a&&At(function(){return console.warn("AG Grid: DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.")},"DateFilter.maxValidDateAndMaxValidYearWarning"),d&&g){var m=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i}([d,g].map(function(b){return b instanceof Date?b:Wr(b)}),2),C=m[0],E=m[1];C&&E&&C.getTime()>E.getTime()&&At(function(){return console.warn("AG Grid: DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")},"DateFilter.minValidDateAndMaxValidDateWarning")}d?r.min=d instanceof Date?ps(d):d:s&&(r.min=s+"-01-01"),g?r.max=g instanceof Date?ps(g):g:a&&(r.max=a+"-12-31")},t.prototype.onParamsUpdated=function(e){this.params=e,this.setParams(e)},t.prototype.getDate=function(){return Wr(this.eDateInput.getValue())},t.prototype.setDate=function(e){this.eDateInput.setValue(cr(e,!1))},t.prototype.setInputPlaceholder=function(e){this.eDateInput.setInputPlaceholder(e)},t.prototype.setDisabled=function(e){this.eDateInput.setDisabled(e)},t.prototype.afterGuiAttached=function(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()},t.prototype.shouldUseBrowserDatePicker=function(e){return e.filterParams&&null!=e.filterParams.browserDatePicker?e.filterParams.browserDatePicker:Ho()||$s()||Cn()&&Ia()>=14.1},function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);n>3&&i&&Object.defineProperty(t,e,i)}([tt("eDateInput")],t.prototype,"eDateInput",void 0),t}(qt),u=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),h=function(o){function t(e,r,n){return void 0===r&&(r="ag-text-field"),void 0===n&&(n="text"),o.call(this,e,r,n)||this}return u(t,o),t.prototype.postConstruct=function(){o.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},t.prototype.setValue=function(e,r){return this.eInput.value!==e&&(this.eInput.value=w(e)?e:""),o.prototype.setValue.call(this,e,r)},t.prototype.setStartValue=function(e){this.setValue(e,!0)},t.prototype.preventDisallowedCharacters=function(){var e=new RegExp("["+this.config.allowedCharPattern+"]");this.addManagedListener(this.eInput,"keydown",function(n){ar(n)&&n.key&&!e.test(n.key)&&n.preventDefault()}),this.addManagedListener(this.eInput,"paste",function(n){var i,s=null===(i=n.clipboardData)||void 0===i?void 0:i.getData("text");s&&s.split("").some(function(a){return!e.test(a)})&&n.preventDefault()})},t}(Yi),v=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),S=function(o){function t(e){return o.call(this,e,"ag-number-field","number")||this}return v(t,o),t.prototype.postConstruct=function(){var e=this;o.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var r=parseFloat(e.eInput.value),n=isNaN(r)?"":e.normalizeValue(r.toString());e.value!==n&&e.setValue(n)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"},t.prototype.onWheel=function(e){document.activeElement===this.eInput&&e.preventDefault()},t.prototype.normalizeValue=function(e){if(""===e)return"";null!=this.precision&&(e=this.adjustPrecision(e));var r=parseFloat(e);return null!=this.min&&r<this.min?e=this.min.toString():null!=this.max&&r>this.max&&(e=this.max.toString()),e},t.prototype.adjustPrecision=function(e,r){if(null==this.precision)return e;if(r){var n=parseFloat(e).toFixed(this.precision);return parseFloat(n).toString()}var i=String(e).split(".");if(i.length>1){if(i[1].length<=this.precision)return e;if(this.precision>0)return i[0]+"."+i[1].slice(0,this.precision)}return i[0]},t.prototype.setMin=function(e){return this.min===e||(this.min=e,Zn(this.eInput,"min",e)),this},t.prototype.setMax=function(e){return this.max===e||(this.max=e,Zn(this.eInput,"max",e)),this},t.prototype.setPrecision=function(e){return this.precision=e,this},t.prototype.setStep=function(e){return this.step===e||(this.step=e,Zn(this.eInput,"step",e)),this},t.prototype.setValue=function(e,r){var n=this;return this.setValueOrInputValue(function(i){return o.prototype.setValue.call(n,i,r)},function(){return n},e)},t.prototype.setStartValue=function(e){var r=this;return this.setValueOrInputValue(function(n){return o.prototype.setValue.call(r,n,!0)},function(n){r.eInput.value=n},e)},t.prototype.setValueOrInputValue=function(e,r,n){if(w(n)){var i=this.isScientificNotation(n);if(i&&this.eInput.validity.valid)return e(n);if(i||(i=(n=this.adjustPrecision(n))!=this.normalizeValue(n)),i)return r(n)}return e(n)},t.prototype.getValue=function(){if(this.eInput.validity.valid){var e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):o.prototype.getValue.call(this)}},t.prototype.isScientificNotation=function(e){return"string"==typeof e&&e.includes("e")},t}(h),R=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),I=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return R(t,o),t.prototype.conditionToString=function(e,r){return e.type==Qr.IN_RANGE||2===(r||{}).numberOfInputs?this.formatValue(e.filter)+"-"+this.formatValue(e.filterTo):null!=e.filter?this.formatValue(e.filter):""+e.type},t}($a);function Z(o){return(o??{}).allowedCharPattern??null}var ce=function(o){function t(){var e=o.call(this,"numberFilter")||this;return e.eValuesFrom=[],e.eValuesTo=[],e}return R(t,o),t.prototype.mapValuesFromModel=function(e){var r=e||{},i=r.filterTo,s=r.type;return[this.processValue(r.filter),this.processValue(i)].slice(0,this.getNumberOfInputs(s))},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.comparator=function(){return function(e,r){return e===r?0:e<r?1:-1}},t.prototype.setParams=function(e){this.numberFilterParams=e,o.prototype.setParams.call(this,e),this.filterModelFormatter=new I(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.setElementValue=function(e,r,n){var i=!n&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(r??null):r;o.prototype.setElementValue.call(this,e,i)},t.prototype.createValueElement=function(){var e=Z(this.numberFilterParams),r=document.createElement("div");return r.classList.add("ag-filter-body"),ln(r,"presentation"),this.createFromToElement(r,this.eValuesFrom,"from",e),this.createFromToElement(r,this.eValuesTo,"to",e),r},t.prototype.createFromToElement=function(e,r,n,i){var s=this.createManagedBean(i?new h({allowedCharPattern:i}):new S);s.addCssClass("ag-filter-"+n),s.addCssClass("ag-filter-filter"),r.push(s),e.appendChild(s.getGui())},t.prototype.removeValueElements=function(e,r){this.removeComponents(this.eValuesFrom,e,r),this.removeComponents(this.eValuesTo,e,r)},t.prototype.getValues=function(e){var r=this,n=[];return this.forEachPositionInput(e,function(i,s,a,d){s<d&&n.push(r.processValue(r.stringToFloat(i.getValue())))}),n},t.prototype.areSimpleModelsEqual=function(e,r){return e.filter===r.filter&&e.filterTo===r.filterTo&&e.type===r.type},t.prototype.getFilterType=function(){return"number"},t.prototype.processValue=function(e){return null==e||isNaN(e)?null:e},t.prototype.stringToFloat=function(e){if("number"==typeof e)return e;var r=p(e);return null!=r&&""===r.trim()&&(r=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(r):null==r||"-"===r.trim()?null:parseFloat(r)},t.prototype.createCondition=function(e){var r=this.getConditionType(e),n={filterType:this.getFilterType(),type:r},i=this.getValues(e);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n},t.prototype.getInputs=function(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]},t.prototype.getModelAsString=function(e){var r;return null!==(r=this.filterModelFormatter.getModelAsString(e))&&void 0!==r?r:""},t.prototype.hasInvalidInputs=function(){var e=!1;return this.forEachInput(function(r){r.getInputElement().validity.valid||(e=!0)}),e},t.DEFAULT_FILTER_OPTIONS=[gn.EQUALS,gn.NOT_EQUAL,gn.LESS_THAN,gn.LESS_THAN_OR_EQUAL,gn.GREATER_THAN,gn.GREATER_THAN_OR_EQUAL,gn.IN_RANGE,gn.BLANK,gn.NOT_BLANK],t}(gn),Pe=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Be=function(){return Be=Object.assign||function(o){for(var t,e=1,r=arguments.length;e<r;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o},Be.apply(this,arguments)},wt=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Pe(t,o),t.prototype.conditionToString=function(e,r){return e.type==Qr.IN_RANGE||2===(r||{}).numberOfInputs?e.filter+"-"+e.filterTo:null!=e.filter?""+e.filter:""+e.type},t}($a),ct=function(o){function t(){var e=o.call(this,"textFilter")||this;return e.eValuesFrom=[],e.eValuesTo=[],e}return Pe(t,o),t.trimInput=function(e){var r=e&&e.trim();return""===r?e:r},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.setParams=function(e){this.textFilterParams=e,o.prototype.setParams.call(this,e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?t.DEFAULT_FORMATTER:t.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new wt(this.localeService,this.optionsFactory)},t.prototype.getTextMatcher=function(){var e=this.textFilterParams.textCustomComparator;return e?(Vt.doOnce(function(){return console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead.")},"textCustomComparator.deprecated"),function(r){return e(r.filterOption,r.value,r.filterText)}):this.textFilterParams.textMatcher||t.DEFAULT_MATCHER},t.prototype.createCondition=function(e){var r=this.getConditionType(e),n={filterType:this.getFilterType(),type:r},i=this.getValuesWithSideEffects(e,!0);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n},t.prototype.getFilterType=function(){return"text"},t.prototype.areSimpleModelsEqual=function(e,r){return e.filter===r.filter&&e.filterTo===r.filterTo&&e.type===r.type},t.prototype.getInputs=function(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]},t.prototype.getValues=function(e){return this.getValuesWithSideEffects(e,!1)},t.prototype.getValuesWithSideEffects=function(e,r){var n=this,i=[];return this.forEachPositionInput(e,function(s,a,d,g){var m;if(a<g){var C=p(s.getValue());r&&n.textFilterParams.trimInput&&(C=null!==(m=t.trimInput(C))&&void 0!==m?m:null,s.setValue(C,!0)),i.push(C)}}),i},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueElement=function(){var e=document.createElement("div");return e.classList.add("ag-filter-body"),ln(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e},t.prototype.createFromToElement=function(e,r,n){var i=this.createManagedBean(new h);i.addCssClass("ag-filter-"+n),i.addCssClass("ag-filter-filter"),r.push(i),e.appendChild(i.getGui())},t.prototype.removeValueElements=function(e,r){this.removeComponents(this.eValuesFrom,e,r),this.removeComponents(this.eValuesTo,e,r)},t.prototype.mapValuesFromModel=function(e){var r=e||{};return[r.filter||null,r.filterTo||null].slice(0,this.getNumberOfInputs(r.type))},t.prototype.evaluateNullValue=function(e){return!!e&&[Qr.NOT_EQUAL,Qr.NOT_CONTAINS,Qr.BLANK].indexOf(e)>=0},t.prototype.evaluateNonNullValue=function(e,r,n,i){var s=this,a=e.map(function(se){return s.formatter(se)})||[],d=this.formatter(r),g=this.textFilterParams,m=g.api,C=g.colDef,E=g.column,b=g.columnApi,L=g.context,j=g.textFormatter;if(n.type===Qr.BLANK)return this.isBlank(r);if(n.type===Qr.NOT_BLANK)return!this.isBlank(r);var ee={api:m,colDef:C,column:E,columnApi:b,context:L,node:i.node,data:i.data,filterOption:n.type,value:d,textFormatter:j};return a.some(function(se){return s.matcher(Be(Be({},ee),{filterText:se}))})},t.prototype.getModelAsString=function(e){var r;return null!==(r=this.filterModelFormatter.getModelAsString(e))&&void 0!==r?r:""},t.DEFAULT_FILTER_OPTIONS=[Qr.CONTAINS,Qr.NOT_CONTAINS,Qr.EQUALS,Qr.NOT_EQUAL,Qr.STARTS_WITH,Qr.ENDS_WITH,Qr.BLANK,Qr.NOT_BLANK],t.DEFAULT_FORMATTER=function(e){return e},t.DEFAULT_LOWERCASE_FORMATTER=function(e){return null==e?null:e.toString().toLowerCase()},t.DEFAULT_MATCHER=function(e){var n=e.value,i=e.filterText;if(null==i)return!1;switch(e.filterOption){case t.CONTAINS:return n.indexOf(i)>=0;case t.NOT_CONTAINS:return n.indexOf(i)<0;case t.EQUALS:return n===i;case t.NOT_EQUAL:return n!=i;case t.STARTS_WITH:return 0===n.indexOf(i);case t.ENDS_WITH:var s=n.lastIndexOf(i);return s>=0&&s===n.length-i.length;default:return!1}},t}(Qr),Ht=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Hr=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},xr=function(o){function t(e){var r=o.call(this)||this;return r.params=e,r.valueChangedListener=function(){},r}return Ht(t,o),t.prototype.setupGui=function(e){var n,r=this;this.eFloatingFilterTextInput=this.createManagedBean(new h(null===(n=this.params)||void 0===n?void 0:n.config));var i=this.eFloatingFilterTextInput.getGui();e.appendChild(i),this.addManagedListener(i,"input",function(s){return r.valueChangedListener(s)}),this.addManagedListener(i,"keydown",function(s){return r.valueChangedListener(s)})},t.prototype.setEditable=function(e){this.eFloatingFilterTextInput.setDisabled(!e)},t.prototype.setAutoComplete=function(e){this.eFloatingFilterTextInput.setAutoComplete(e)},t.prototype.getValue=function(){return this.eFloatingFilterTextInput.getValue()},t.prototype.setValue=function(e,r){this.eFloatingFilterTextInput.setValue(e,r)},t.prototype.setValueChangedListener=function(e){this.valueChangedListener=e},t.prototype.setParams=function(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)},t.prototype.setAriaLabel=function(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)},t}(Le),Or=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Ht(t,o),t.prototype.postConstruct=function(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>\n        ')},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.onParentModelChanged=function(e,r){this.isEventFromFloatingFilter(r)||this.isEventFromDataChange(r)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))},t.prototype.init=function(e){this.setupFloatingFilterInputService(e),o.prototype.init.call(this,e),this.setTextInputParams(e)},t.prototype.setupFloatingFilterInputService=function(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)},t.prototype.setTextInputParams=function(e){var r;this.params=e;var n=null!==(r=e.browserAutoComplete)&&void 0!==r&&r;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:n}),this.applyActive=Os.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){var i=Os.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),s=He(this.syncUpWithParentFilter.bind(this),i);this.floatingFilterInputService.setValueChangedListener(s)}},t.prototype.onParamsUpdated=function(e){o.prototype.onParamsUpdated.call(this,e),this.setTextInputParams(e)},t.prototype.recreateFloatingFilterInputService=function(e){var r=this.floatingFilterInputService.getValue();un(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(r,!0)},t.prototype.getAriaLabel=function(e){return this.columnModel.getDisplayNameForColumn(e.column,"header",!0)+" "+this.localeService.getLocaleTextFunc()("ariaFilterInput","Filter Input")},t.prototype.syncUpWithParentFilter=function(e){var r=this;if(!this.applyActive||e.key===Ce.ENTER){var i=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(i=ct.trimInput(i),this.floatingFilterInputService.setValue(i,!0)),this.params.parentFilterInstance(function(s){s&&s.onFloatingFilterChanged(r.getLastType()||null,i||null)})}},t.prototype.setEditable=function(e){this.floatingFilterInputService.setEditable(e)},Hr([A("columnModel")],t.prototype,"columnModel",void 0),Hr([tt("eFloatingFilterInputContainer")],t.prototype,"eFloatingFilterInputContainer",void 0),Hr([we],t.prototype,"postConstruct",null),t}(qa),dn=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),fi=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.valueChangedListener=function(){},e.numberInputActive=!0,e}return dn(t,o),t.prototype.setupGui=function(e){var r=this;this.eFloatingFilterNumberInput=this.createManagedBean(new S),this.eFloatingFilterTextInput=this.createManagedBean(new h),this.eFloatingFilterTextInput.setDisabled(!0);var n=this.eFloatingFilterNumberInput.getGui(),i=this.eFloatingFilterTextInput.getGui();e.appendChild(n),e.appendChild(i),this.setupListeners(n,function(s){return r.valueChangedListener(s)}),this.setupListeners(i,function(s){return r.valueChangedListener(s)})},t.prototype.setEditable=function(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)},t.prototype.setAutoComplete=function(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)},t.prototype.getValue=function(){return this.getActiveInputElement().getValue()},t.prototype.setValue=function(e,r){this.getActiveInputElement().setValue(e,r)},t.prototype.getActiveInputElement=function(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput},t.prototype.setValueChangedListener=function(e){this.valueChangedListener=e},t.prototype.setupListeners=function(e,r){this.addManagedListener(e,"input",r),this.addManagedListener(e,"keydown",r)},t.prototype.setParams=function(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)},t.prototype.setAriaLabel=function(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)},t}(Le),Jo=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return dn(t,o),t.prototype.init=function(e){var r;o.prototype.init.call(this,e),this.filterModelFormatter=new I(this.localeService,this.optionsFactory,null===(r=e.filterParams)||void 0===r?void 0:r.numberFormatter)},t.prototype.onParamsUpdated=function(e){Z(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),o.prototype.onParamsUpdated.call(this,e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},t.prototype.getDefaultFilterOptions=function(){return ce.DEFAULT_FILTER_OPTIONS},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},t.prototype.createFloatingFilterInputService=function(e){return this.allowedCharPattern=Z(e.filterParams),this.createManagedBean(this.allowedCharPattern?new xr({config:{allowedCharPattern:this.allowedCharPattern}}):new fi)},t}(Or),po=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Kl=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return po(t,o),t.prototype.init=function(e){o.prototype.init.call(this,e),this.filterModelFormatter=new wt(this.localeService,this.optionsFactory)},t.prototype.onParamsUpdated=function(e){o.prototype.onParamsUpdated.call(this,e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},t.prototype.getDefaultFilterOptions=function(){return ct.DEFAULT_FILTER_OPTIONS},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},t.prototype.createFloatingFilterInputService=function(){return this.createManagedBean(new xr)},t}(Or),_n=function(){function o(t,e){var r=this;void 0===e&&(e=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new mr,this.eElement=t,this.preventMouseClick=e;var n=this.onTouchStart.bind(this),i=this.onTouchMove.bind(this),s=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",n,{passive:!0}),this.eElement.addEventListener("touchmove",i,{passive:!0}),this.eElement.addEventListener("touchend",s,{passive:!1}),this.destroyFuncs.push(function(){r.eElement.removeEventListener("touchstart",n,{passive:!0}),r.eElement.removeEventListener("touchmove",i,{passive:!0}),r.eElement.removeEventListener("touchend",s,{passive:!1})})}return o.prototype.getActiveTouch=function(t){for(var e=0;e<t.length;e++)if(t[e].identifier===this.touchStart.identifier)return t[e];return null},o.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},o.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},o.prototype.onTouchStart=function(t){var e=this;if(!this.touching){this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;var r=this.touchStart;window.setTimeout(function(){e.touching&&e.touchStart===r&&!e.moved&&(e.moved=!0,e.eventService.dispatchEvent({type:o.EVENT_LONG_TAP,touchStart:e.touchStart,touchEvent:t}))},500)}},o.prototype.onTouchMove=function(t){if(this.touching){var e=this.getActiveTouch(t.touches);e&&!ja(e,this.touchStart,4)&&(this.moved=!0)}},o.prototype.onTouchEnd=function(t){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:o.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&t.cancelable&&t.preventDefault(),this.touching=!1)},o.prototype.checkForDoubleTap=function(){var t=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&t-this.lastTapTime>o.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:o.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=t},o.prototype.destroy=function(){this.destroyFuncs.forEach(function(t){return t()})},o.EVENT_TAP="tap",o.EVENT_DOUBLE_TAP="doubleTap",o.EVENT_LONG_TAP="longTap",o.DOUBLE_TAP_MILLIS=500,o}(),Xo=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Pi=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},aa=function(o){function t(e){var r=o.call(this)||this;return e||r.setTemplate(t.TEMPLATE),r}return Xo(t,o),t.prototype.attachCustomElements=function(e,r,n,i,s){this.eSortOrder=e,this.eSortAsc=r,this.eSortDesc=n,this.eSortMixed=i,this.eSortNone=s},t.prototype.setupSort=function(e,r){var n=this;void 0===r&&(r=!1),this.column=e,this.suppressOrder=r,this.setupMultiSortIndicator(),this.column.getColDef().sortable&&(this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addManagedListener(this.eventService,M.EVENT_SORT_CHANGED,function(){return n.onSortChanged()}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return n.onSortChanged()}),this.onSortChanged())},t.prototype.addInIcon=function(e,r,n){if(null!=r){var i=Zr(e,this.gridOptionsService,n);i&&r.appendChild(i)}},t.prototype.onSortChanged=function(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()},t.prototype.updateIcons=function(){var e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc&&sr(this.eSortAsc,"asc"===e,{skipAriaHidden:!0}),this.eSortDesc&&sr(this.eSortDesc,"desc"===e,{skipAriaHidden:!0}),this.eSortNone){var i=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.is("unSortIcon");sr(this.eSortNone,!i&&null==e,{skipAriaHidden:!0})}},t.prototype.setupMultiSortIndicator=function(){var e=this;this.addInIcon("sortUnSort",this.eSortMixed,this.column);var r=this.column.getColDef().showRowGroup;this.gridOptionsService.isColumnsSortingCoupledToGroup()&&r&&(this.addManagedListener(this.eventService,M.EVENT_SORT_CHANGED,function(){return e.updateMultiSortIndicator()}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.updateMultiSortIndicator()}),this.updateMultiSortIndicator())},t.prototype.updateMultiSortIndicator=function(){if(this.eSortMixed){var e="mixed"===this.sortController.getDisplaySortForColumn(this.column);sr(this.eSortMixed,e,{skipAriaHidden:!0})}},t.prototype.updateSortOrder=function(){var r,e=this;if(this.eSortOrder){var n=this.sortController.getColumnsWithSortingOrdered(),i=null!==(r=this.sortController.getDisplaySortIndexForColumn(this.column))&&void 0!==r?r:-1,s=n.some(function(d){var g;return null!==(g=e.sortController.getDisplaySortIndexForColumn(d))&&void 0!==g&&g});sr(this.eSortOrder,i>=0&&s,{skipAriaHidden:!0}),i>=0?this.eSortOrder.innerHTML=(i+1).toString():un(this.eSortOrder)}},t.TEMPLATE='<span class="ag-sort-indicator-container">\n            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>\n        </span>',Pi([tt("eSortOrder")],t.prototype,"eSortOrder",void 0),Pi([tt("eSortAsc")],t.prototype,"eSortAsc",void 0),Pi([tt("eSortDesc")],t.prototype,"eSortDesc",void 0),Pi([tt("eSortMixed")],t.prototype,"eSortMixed",void 0),Pi([tt("eSortNone")],t.prototype,"eSortNone",void 0),Pi([A("columnModel")],t.prototype,"columnModel",void 0),Pi([A("sortController")],t.prototype,"sortController",void 0),t}(qt),$i=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Fi=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},bs=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.lastMovingChanged=0,e}return $i(t,o),t.prototype.destroy=function(){o.prototype.destroy.call(this)},t.prototype.refresh=function(e){return this.params=e,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&(this.setDisplayName(e),!0)},t.prototype.workOutTemplate=function(){var e=Y(this.params.template,t.TEMPLATE);return e&&e.trim?e.trim():e},t.prototype.init=function(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(e.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(e)},t.prototype.setDisplayName=function(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;var r=Xr(this.currentDisplayName);this.eText&&(this.eText.innerHTML=r)}},t.prototype.setupIcons=function(e){this.addInIcon("menu",this.eMenu,e),this.addInIcon("filter",this.eFilter,e)},t.prototype.addInIcon=function(e,r,n){if(null!=r){var i=Zr(e,this.gridOptionsService,n);i&&r.appendChild(i)}},t.prototype.setupTap=function(){var e=this,r=this.gridOptionsService;if(!r.is("suppressTouch")){var n=new _n(this.getGui(),!0),i=r.is("suppressMenuHide"),s=i&&w(this.eMenu),a=s?new _n(this.eMenu,!0):n;this.params.enableMenu&&this.addManagedListener(a,_n[s?"EVENT_TAP":"EVENT_LONG_TAP"],function(C){r.api.showColumnMenuAfterMouseClick(e.params.column,C.touchStart)}),this.params.enableSorting&&this.addManagedListener(n,_n.EVENT_TAP,function(C){i&&e.eMenu.contains(C.touchStart.target)||e.sortController.progressSort(e.params.column,!1,"uiColumnSorted")}),this.addDestroyFunc(function(){return n.destroy()}),s&&this.addDestroyFunc(function(){return a.destroy()})}},t.prototype.workOutShowMenu=function(){var e=!this.gridOptionsService.is("suppressMenuHide"),r=xn()&&e;return this.params.enableMenu&&!r},t.prototype.setMenu=function(){var e=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return void Qn(this.eMenu);var r=this.gridOptionsService.is("suppressMenuHide");this.addManagedListener(this.eMenu,"click",function(){return e.showMenu(e.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",r)}},t.prototype.showMenu=function(e){e||(e=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,e,"columnMenu")},t.prototype.workOutSort=function(){return this.params.enableSorting},t.prototype.setupSort=function(){var e=this;if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new aa(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),this.currentSort){var r="ctrl"===this.gridOptionsService.get("multiSortKey");this.addManagedListener(this.params.column,T.EVENT_MOVING_CHANGED,function(){e.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(i){var s=e.params.column.isMoving(),a=(new Date).getTime();s||a-e.lastMovingChanged<50||e.params.progressSort(r?i.ctrlKey||i.metaKey:i.shiftKey)});var n=function(){if(e.addOrRemoveCssClass("ag-header-cell-sorted-asc",e.params.column.isSortAscending()),e.addOrRemoveCssClass("ag-header-cell-sorted-desc",e.params.column.isSortDescending()),e.addOrRemoveCssClass("ag-header-cell-sorted-none",e.params.column.isSortNone()),e.params.column.getColDef().showRowGroup){var i=e.columnModel.getSourceColumnsForGroupColumn(e.params.column),s=i?.every(function(d){return e.params.column.getSort()==d.getSort()});e.addOrRemoveCssClass("ag-header-cell-sorted-mixed",!s)}};this.addManagedListener(this.eventService,M.EVENT_SORT_CHANGED,n),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,n)}},t.prototype.setupFilterIcon=function(){this.eFilter&&(this.addManagedListener(this.params.column,T.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},t.prototype.onFilterChanged=function(){var e=this.params.column.isFilterActive();sr(this.eFilter,e,{skipAriaHidden:!0})},t.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n            </div>\n        </div>',Fi([A("sortController")],t.prototype,"sortController",void 0),Fi([A("menuFactory")],t.prototype,"menuFactory",void 0),Fi([A("columnModel")],t.prototype,"columnModel",void 0),Fi([tt("eFilter")],t.prototype,"eFilter",void 0),Fi([tt("eSortIndicator")],t.prototype,"eSortIndicator",void 0),Fi([tt("eMenu")],t.prototype,"eMenu",void 0),Fi([tt("eLabel")],t.prototype,"eLabel",void 0),Fi([tt("eText")],t.prototype,"eText",void 0),Fi([tt("eSortOrder")],t.prototype,"eSortOrder",void 0),Fi([tt("eSortAsc")],t.prototype,"eSortAsc",void 0),Fi([tt("eSortDesc")],t.prototype,"eSortDesc",void 0),Fi([tt("eSortMixed")],t.prototype,"eSortMixed",void 0),Fi([tt("eSortNone")],t.prototype,"eSortNone",void 0),t}(qt),up=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),zu=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},qc=function(o){function t(){return o.call(this,t.TEMPLATE)||this}return up(t,o),t.prototype.destroy=function(){o.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},t.prototype.checkWarnings=function(){this.params.template&&At(function(){return console.warn("AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},"HeaderGroupComp.templateNotSupported")},t.prototype.setupExpandIcons=function(){var e=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var r=function(s){if(!xe(s)){var a=!e.params.columnGroup.isExpanded();e.columnModel.setColumnGroupOpened(e.params.columnGroup.getProvidedColumnGroup(),a,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,r),this.addTouchAndClickListeners(this.eOpenIcon,r);var n=function(s){ge(s)};this.addManagedListener(this.eCloseIcon,"dblclick",n),this.addManagedListener(this.eOpenIcon,"dblclick",n),this.addManagedListener(this.getGui(),"dblclick",r),this.updateIconVisibility();var i=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(i,O.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(i,O.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},t.prototype.addTouchAndClickListeners=function(e,r){var n=new _n(e,!0);this.addManagedListener(n,_n.EVENT_TAP,r),this.addDestroyFunc(function(){return n.destroy()}),this.addManagedListener(e,"click",r)},t.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var r=this.params.columnGroup.isExpanded();sr(this.eOpenIcon,r),sr(this.eCloseIcon,!r)}else sr(this.eOpenIcon,!1),sr(this.eCloseIcon,!1)},t.prototype.addInIcon=function(e,r){var n=Zr(e,this.gridOptionsService,null);n&&this.getRefElement(r).appendChild(n)},t.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return sr(this.eOpenIcon,!1),void sr(this.eCloseIcon,!1)},t.prototype.setupLabel=function(){var e,r=this.params,n=r.displayName,i=r.columnGroup;if(w(n)){var s=Xr(n);this.getRefElement("agLabel").innerHTML=s}this.addOrRemoveCssClass("ag-sticky-label",!(null!==(e=i.getColGroupDef())&&void 0!==e&&e.suppressStickyLabel))},t.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',zu([A("columnModel")],t.prototype,"columnModel",void 0),zu([tt("agOpened")],t.prototype,"eOpenIcon",void 0),zu([tt("agClosed")],t.prototype,"eCloseIcon",void 0),t}(qt),Ff=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),la=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Ff(t,o),t.prototype.isPopup=function(){return!0},t.prototype.setParentComponent=function(e){e.addCssClass("ag-has-popup"),o.prototype.setParentComponent.call(this,e)},t.prototype.destroy=function(){var e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),o.prototype.destroy.call(this)},t}(qt),Mf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),dp=function(o){function t(){return o.call(this,t.TEMPLATE)||this}return Mf(t,o),t.prototype.init=function(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),w(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()},t.prototype.onKeyDown=function(e){var r=e.key;(r===Ce.LEFT||r===Ce.UP||r===Ce.RIGHT||r===Ce.DOWN||e.shiftKey&&r===Ce.ENTER)&&e.stopPropagation()},t.prototype.afterGuiAttached=function(){var e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},t.prototype.getValue=function(){var e=this.eTextArea.getValue();return w(e)||w(this.params.value)?this.params.parseValue(e):this.params.value},t.TEMPLATE='<div class="ag-large-text">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);n>3&&i&&Object.defineProperty(t,e,i)}([tt("eTextArea")],t.prototype,"eTextArea",void 0),t}(la),If=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Zc=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},pp=function(o){function t(){var e=o.call(this,'<div class="ag-cell-edit-wrapper">\n                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>\n            </div>')||this;return e.startedByEnter=!1,e}return If(t,o),t.prototype.init=function(e){this.focusAfterAttached=e.cellStartedEdit;var r=this,n=r.eSelect,i=r.valueFormatterService,s=r.gridOptionsService,a=e.values,d=e.value,g=e.eventKey;if(W(a))console.warn("AG Grid: no values found for select cellEditor");else{this.startedByEnter=null!=g&&g===Ce.ENTER;var m=!1;a.forEach(function(L){var j={value:L},ee=i.formatValue(e.column,null,L);j.text=null!=ee?ee:L,n.addOption(j),m=m||d===L}),m?n.setValue(e.value,!0):e.values.length&&n.setValue(e.values[0],!0);var C=e.valueListGap,E=e.valueListMaxWidth,b=e.valueListMaxHeight;null!=C&&n.setPickerGap(C),null!=b&&n.setPickerMaxHeight(b),null!=E&&n.setPickerMaxWidth(E),"fullRow"!==s.get("editType")&&this.addManagedListener(this.eSelect,na.EVENT_ITEM_SELECTED,function(){return e.stopEditing()})}},t.prototype.afterGuiAttached=function(){var e=this;this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(function(){e.isAlive()&&e.eSelect.showPicker()})},t.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},t.prototype.getValue=function(){return this.eSelect.getValue()},t.prototype.isPopup=function(){return!1},Zc([A("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Zc([tt("eSelect")],t.prototype,"eSelect",void 0),t}(la),hi=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ku=function(o){function t(e){var r=o.call(this,'\n            <div class="ag-cell-edit-wrapper">\n                '+e.getTemplate()+"\n            </div>")||this;return r.cellEditorInput=e,r}return hi(t,o),t.prototype.init=function(e){this.params=e;var n,r=this.eInput;if(this.cellEditorInput.init(r,e),e.cellStartedEdit){this.focusAfterAttached=!0;var i=e.eventKey;i===Ce.BACKSPACE||e.eventKey===Ce.DELETE?n="":i&&1===i.length?n=i:(n=this.cellEditorInput.getStartValue(),i!==Ce.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,n=this.cellEditorInput.getStartValue();null!=n&&r.setStartValue(n),this.addManagedListener(r.getGui(),"keydown",function(s){var a=s.key;(a===Ce.PAGE_UP||a===Ce.PAGE_DOWN)&&s.preventDefault()})},t.prototype.afterGuiAttached=function(){var e,r,n=this.localeService.getLocaleTextFunc(),i=this.eInput;if(i.setInputAriaLabel(n("ariaInputEditor","Input Editor")),this.focusAfterAttached){Cn()||i.getFocusableElement().focus();var s=i.getInputElement();this.highlightAllOnFocus?s.select():null===(r=(e=this.cellEditorInput).setCaret)||void 0===r||r.call(e)}},t.prototype.focusIn=function(){var e=this.eInput,r=e.getFocusableElement(),n=e.getInputElement();r.focus(),n.select()},t.prototype.getValue=function(){return this.cellEditorInput.getValue()},t.prototype.isPopup=function(){return!1},function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);n>3&&i&&Object.defineProperty(t,e,i)}([tt("eInput")],t.prototype,"eInput",void 0),t}(la),Lf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Yu=function(){function o(){}return o.prototype.getTemplate=function(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'},o.prototype.init=function(t,e){this.eInput=t,this.params=e,null!=e.maxLength&&t.setMaxLength(e.maxLength)},o.prototype.getValue=function(){var t=this.eInput.getValue();return w(t)||w(this.params.value)?this.params.parseValue(t):this.params.value},o.prototype.getStartValue=function(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value},o.prototype.setCaret=function(){var t=this.eInput.getValue(),e=w(t)&&t.length||0;e&&this.eInput.getInputElement().setSelectionRange(e,e)},o}(),ua=function(o){function t(){return o.call(this,new Yu)||this}return Lf(t,o),t}(Ku),fp=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Za=function(o){function t(){var e=o.call(this,t.TEMPLATE)||this;return e.refreshCount=0,e}return fp(t,o),t.prototype.init=function(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e)},t.prototype.showDelta=function(e,r){var n=Math.abs(r),i=e.formatValue(n),s=w(i)?i:n,a=r>=0;this.eDelta.innerHTML=a?"\u2191"+s:"\u2193"+s,this.eDelta.classList.toggle("ag-value-change-delta-up",a),this.eDelta.classList.toggle("ag-value-change-delta-down",!a)},t.prototype.setTimerToRemoveDelta=function(){var e=this;this.refreshCount++;var r=this.refreshCount;window.setTimeout(function(){r===e.refreshCount&&e.hideDeltaValue()},2e3)},t.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),un(this.eDelta)},t.prototype.refresh=function(e){var r=e.value;return r!==this.lastValue&&(w(e.valueFormatted)?this.eValue.innerHTML=e.valueFormatted:w(e.value)?this.eValue.innerHTML=r:un(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering())&&("number"==typeof r&&"number"==typeof this.lastValue&&this.showDelta(e,r-this.lastValue),this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=r,!0)},t.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);n>3&&i&&Object.defineProperty(t,e,i)}([A("filterManager")],t.prototype,"filterManager",void 0),t}(qt),Yl=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),vp=function(o){function t(){var e=o.call(this,t.TEMPLATE)||this;return e.refreshCount=0,e.eCurrent=e.queryForHtmlElement(".ag-value-slide-current"),e}return Yl(t,o),t.prototype.init=function(e){this.refresh(e)},t.prototype.addSlideAnimation=function(){var e=this;this.refreshCount++;var r=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=wn('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){r===e.refreshCount&&e.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){r===e.refreshCount&&(e.getGui().removeChild(e.ePrevious),e.ePrevious=null)},3e3)},t.prototype.refresh=function(e){var r=e.value;return W(r)&&(r=""),r!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=r,w(e.valueFormatted)?this.eCurrent.innerHTML=e.valueFormatted:w(e.value)?this.eCurrent.innerHTML=r:un(this.eCurrent),!0)},t.TEMPLATE='<span>\n            <span class="ag-value-slide-current"></span>\n        </span>',function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);n>3&&i&&Object.defineProperty(t,e,i)}([A("filterManager")],t.prototype,"filterManager",void 0),t}(qt),ca=function(){return ca=Object.assign||function(o){for(var t,e=1,r=arguments.length;e<r;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o},ca.apply(this,arguments)},er=function(){function o(t){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=o.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}return o.prototype.setData=function(t){this.setDataCommon(t,!1)},o.prototype.updateData=function(t){this.setDataCommon(t,!0)},o.prototype.setDataCommon=function(t,e){var r=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();var n=this.createDataChangedEvent(t,r,e);this.dispatchLocalEvent(n)},o.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},o.prototype.createDataChangedEvent=function(t,e,r){return{type:o.EVENT_DATA_CHANGED,node:this,oldData:e,newData:t,update:r}},o.prototype.createLocalRowEvent=function(t){return{type:t,node:this}},o.prototype.getRowIndexString=function(){return"top"===this.rowPinned?"t-"+this.rowIndex:"bottom"===this.rowPinned?"b-"+this.rowIndex:this.rowIndex.toString()},o.prototype.createDaemonNode=function(){var t=new o(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t},o.prototype.setDataAndId=function(t,e){var r=w(this.id)?this.createDaemonNode():null,n=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(e),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,r);var i=this.createDataChangedEvent(t,n,!1);this.dispatchLocalEvent(i)},o.prototype.checkRowSelectable=function(){var t=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(!t||t(this))},o.prototype.setRowSelectable=function(t){if(this.selectable!==t&&(this.selectable=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_SELECTABLE_CHANGED)),this.beans.gridOptionsService.is("groupSelectsChildren"))){var r=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:r??!1,source:"selectableChanged"})}},o.prototype.setId=function(t){var e=this.beans.gridOptionsService.getCallback("getRowId");if(e)if(this.data){var r=this.getGroupKeys(!0);this.id=e({data:this.data,parentKeys:r.length>0?r:void 0,level:this.level}),null!==this.id&&"string"==typeof this.id&&this.id.startsWith(o.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with "+o.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),null!==this.id&&"string"!=typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=t},o.prototype.getGroupKeys=function(t){void 0===t&&(t=!1);var e=[],r=this;for(t&&(r=r.parent);r&&r.level>=0;)e.push(r.key),r=r.parent;return e.reverse(),e},o.prototype.isPixelInRange=function(t){return!(!w(this.rowTop)||!w(this.rowHeight))&&t>=this.rowTop&&t<this.rowTop+this.rowHeight},o.prototype.setFirstChild=function(t){this.firstChild!==t&&(this.firstChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_FIRST_CHILD_CHANGED)))},o.prototype.setLastChild=function(t){this.lastChild!==t&&(this.lastChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_LAST_CHILD_CHANGED)))},o.prototype.setChildIndex=function(t){this.childIndex!==t&&(this.childIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_CHILD_INDEX_CHANGED)))},o.prototype.setRowTop=function(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_TOP_CHANGED)),this.setDisplayed(null!==t))},o.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},o.prototype.setDisplayed=function(t){this.displayed!==t&&(this.displayed=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_DISPLAYED_CHANGED)))},o.prototype.setDragging=function(t){this.dragging!==t&&(this.dragging=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_DRAGGING_CHANGED)))},o.prototype.setHighlighted=function(t){t!==this.highlighted&&(this.highlighted=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_HIGHLIGHT_CHANGED)))},o.prototype.setHovered=function(t){this.hovered!==t&&(this.hovered=t)},o.prototype.isHovered=function(){return this.hovered},o.prototype.setAllChildrenCount=function(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},o.prototype.setMaster=function(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_MASTER_CHANGED)))},o.prototype.setGroup=function(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_GROUP_CHANGED)))},o.prototype.setRowHeight=function(t,e){void 0===e&&(e=!1),this.rowHeight=t,this.rowHeightEstimated=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_HEIGHT_CHANGED))},o.prototype.setRowAutoHeight=function(t,e){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[e.getId()]=t,null!=t&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=He(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},o.prototype.checkAutoHeights=function(){var t=this,e=!1,r=!0,n=0,i=this.__autoHeights;if(null!=i&&(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(function(d){var g=i[d.getId()];if(null==g){if(!t.beans.columnModel.isColSpanActive())return void(e=!0);var m=[];switch(d.getPinned()){case"left":m=t.beans.columnModel.getDisplayedLeftColumnsForRow(t);break;case"right":m=t.beans.columnModel.getDisplayedRightColumnsForRow(t);break;case null:m=t.beans.columnModel.getViewportCenterColumnsForRow(t)}if(m.includes(d))return void(e=!0);g=-1}else r=!1;g>n&&(n=g)}),!e&&((r||n<10)&&(n=this.beans.gridOptionsService.getRowHeightForNode(this).height),n!=this.rowHeight))){this.setRowHeight(n);var a=this.beans.rowModel;a.onRowHeightChangedDebounced&&a.onRowHeightChangedDebounced()}},o.prototype.setRowIndex=function(t){this.rowIndex!==t&&(this.rowIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_ROW_INDEX_CHANGED)))},o.prototype.setUiLevel=function(t){this.uiLevel!==t&&(this.uiLevel=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_UI_LEVEL_CHANGED)))},o.prototype.setExpanded=function(t,e){if(this.expanded!==t){this.expanded=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_EXPANDED_CHANGED));var r=Object.assign({},this.createGlobalRowEvent(M.EVENT_ROW_GROUP_OPENED),{expanded:t,event:e||null});this.beans.rowNodeEventThrottle.dispatchExpanded(r),this.sibling&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},o.prototype.createGlobalRowEvent=function(t){return{type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi}},o.prototype.dispatchLocalEvent=function(t){this.eventService&&this.eventService.dispatchEvent(t)},o.prototype.setDataValue=function(t,e,r){var g,s="string"!=typeof t?t:null!==(g=this.beans.columnModel.getGridColumn(t))&&void 0!==g?g:this.beans.columnModel.getPrimaryColumn(t),a=this.getValueFromValueService(s);if(this.beans.gridOptionsService.is("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(s,a,e,r),!1;var d=this.beans.valueService.setValue(this,s,e,r);return this.dispatchCellChangedEvent(s,e,a),this.checkRowSelectable(),d},o.prototype.getValueFromValueService=function(t){var e=this.leafGroup&&this.beans.columnModel.isPivotMode(),r=this.group&&this.expanded&&!this.footer&&!e,i=this.beans.gridOptionsService.getGroupIncludeFooter()({node:this}),s=this.beans.gridOptionsService.is("groupSuppressBlankHeader");return this.beans.valueService.getValue(t,this,!1,r&&i&&!s)},o.prototype.dispatchEventForSaveValueReadOnly=function(t,e,r,n){var i={type:M.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:t,colDef:t.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,data:this.data,node:this,oldValue:e,newValue:r,value:r,source:n};this.beans.eventService.dispatchEvent(i)},o.prototype.setGroupValue=function(t,e){var r=this.beans.columnModel.getGridColumn(t);W(this.groupData)&&(this.groupData={});var n=r.getColId(),i=this.groupData[n];i!==e&&(this.groupData[n]=e,this.dispatchCellChangedEvent(r,e,i))},o.prototype.setAggData=function(t){var e=this,r=Ft([this.aggData,t]),n=this.aggData;this.aggData=t,this.eventService&&r.forEach(function(i){var s=e.aggData?e.aggData[i]:void 0,a=n?n[i]:void 0;if(s!==a){var d=e.beans.columnModel.lookupGridColumn(i);d&&e.dispatchCellChangedEvent(d,s,a)}})},o.prototype.updateHasChildren=function(){var t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gridOptionsService.isRowModelType("serverSide")){var r=this.beans.gridOptionsService.is("treeData"),n=this.beans.gridOptionsService.get("isServerSideGroup");t=!this.stub&&!this.footer&&(r?!!n&&n(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(o.EVENT_HAS_CHILDREN_CHANGED)))},o.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},o.prototype.isEmptyRowGroupNode=function(){return this.group&&he(this.childrenAfterGroup)},o.prototype.dispatchCellChangedEvent=function(t,e,r){this.dispatchLocalEvent({type:o.EVENT_CELL_CHANGED,node:this,column:t,newValue:e,oldValue:r})},o.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},o.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},o.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},o.prototype.depthFirstSearch=function(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(e){return e.depthFirstSearch(t)}),t(this)},o.prototype.calculateSelectedFromChildren=function(){var t,e=!1,r=!1,n=!1;if(null===(t=this.childrenAfterGroup)||void 0===t||!t.length)return this.selectable?this.selected:null;for(var i=0;i<this.childrenAfterGroup.length;i++){var s=this.childrenAfterGroup[i],a=s.isSelected();if(!s.selectable){var d=s.calculateSelectedFromChildren();if(null===d)continue;a=d}switch(a){case!0:e=!0;break;case!1:r=!0;break;default:n=!0}}return n||e&&r?void 0:!!e||!r&&(this.selectable?this.selected:null)},o.prototype.setSelectedInitialValue=function(t){this.selected=t},o.prototype.selectThisNode=function(t,e,r){if(void 0===r&&(r="api"),!this.selectable&&t||this.selected===t)return!1;if(this.selected=t,this.eventService){this.dispatchLocalEvent(this.createLocalRowEvent(o.EVENT_ROW_SELECTED));var s=this.sibling;s&&s.footer&&s.dispatchLocalEvent(s.createLocalRowEvent(o.EVENT_ROW_SELECTED))}var a=ca(ca({},this.createGlobalRowEvent(M.EVENT_ROW_SELECTED)),{event:e||null,source:r});return this.beans.eventService.dispatchEvent(a),!0},o.prototype.setSelected=function(t,e,r){void 0===e&&(e=!1),void 0===r&&(r="api"),"boolean"!=typeof r?this.setSelectedParams({newValue:t,clearSelection:e,rangeSelect:!1,source:r}):console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.")},o.prototype.setSelectedParams=function(t){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):void 0===this.id?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(ca(ca({},t),{nodes:[this.footer?this.sibling:this]}))},o.prototype.isRowPinned=function(){return"top"===this.rowPinned||"bottom"===this.rowPinned},o.prototype.isParentOfNode=function(t){for(var e=this.parent;e;){if(e===t)return!0;e=e.parent}return!1},o.prototype.addEventListener=function(t,e){this.eventService||(this.eventService=new mr),this.eventService.addEventListener(t,e)},o.prototype.removeEventListener=function(t,e){this.eventService&&(this.eventService.removeEventListener(t,e),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},o.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(o.EVENT_MOUSE_ENTER))},o.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(o.EVENT_MOUSE_LEAVE))},o.prototype.getFirstChildOfFirstChild=function(t){for(var e=this,r=!0,n=!1,i=null;r&&!n;){var s=e.parent;w(s)&&e.firstChild?s.rowGroupColumn===t&&(n=!0,i=s):r=!1,e=s}return n?i:null},o.prototype.isFullWidthCell=function(){if(this.detail)return!0;var t=this.beans.gridOptionsService.getCallback("isFullWidthRow");return!!t&&t({rowNode:this})},o.prototype.getRoute=function(){if(null!=this.key){for(var t=[],e=this;null!=e.key;)t.push(e.key),e=e.parent;return t.reverse()}},o.prototype.createFooter=function(){var t=this;if(!this.sibling){var e=new Set(["eventService","__objectId","sticky"]),r=new o(this.beans);Object.keys(this).forEach(function(n){e.has(n)||(r[n]=t[n])}),r.footer=!0,r.setRowTop(null),r.setRowIndex(null),r.oldRowTop=null,r.id="rowGroupFooter_"+this.id,r.sibling=this,this.sibling=r}},o.prototype.destroyFooter=function(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)},o.ID_PREFIX_ROW_GROUP="row-group-",o.ID_PREFIX_TOP_PINNED="t-",o.ID_PREFIX_BOTTOM_PINNED="b-",o.OBJECT_ID_SEQUENCE=0,o.EVENT_ROW_SELECTED="rowSelected",o.EVENT_DATA_CHANGED="dataChanged",o.EVENT_CELL_CHANGED="cellChanged",o.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",o.EVENT_MASTER_CHANGED="masterChanged",o.EVENT_GROUP_CHANGED="groupChanged",o.EVENT_MOUSE_ENTER="mouseEnter",o.EVENT_MOUSE_LEAVE="mouseLeave",o.EVENT_HEIGHT_CHANGED="heightChanged",o.EVENT_TOP_CHANGED="topChanged",o.EVENT_DISPLAYED_CHANGED="displayedChanged",o.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",o.EVENT_LAST_CHILD_CHANGED="lastChildChanged",o.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",o.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",o.EVENT_EXPANDED_CHANGED="expandedChanged",o.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",o.EVENT_SELECTABLE_CHANGED="selectableChanged",o.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",o.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",o.EVENT_DRAGGING_CHANGED="draggingChanged",o}(),yp=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),da=function(){return da=Object.assign||function(o){for(var t,e=1,r=arguments.length;e<r;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o},da.apply(this,arguments)},$u=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},$l=function(o){function t(){return o.call(this,'\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return yp(t,o),t.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0),Oa(this.eCheckbox.getInputElement(),"polite")},t.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},t.prototype.onDataChanged=function(){this.onSelectionChanged()},t.prototype.onSelectableChanged=function(){this.showOrHideSelect()},t.prototype.onSelectionChanged=function(){var e=this.localeService.getLocaleTextFunc(),r=this.rowNode.isSelected(),n=Dn(e,r),i=e("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(r,!0),this.eCheckbox.setInputAriaLabel(i+" ("+n+")")},t.prototype.onClicked=function(e,r,n){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:n.shiftKey,groupSelectsFiltered:r,event:n,source:"checkboxSelected"})},t.prototype.init=function(e){var r=this;if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",function(a){ge(a)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(a){ge(a);var d=r.gridOptionsService.is("groupSelectsFiltered"),g=r.eCheckbox.getValue();r.shouldHandleIndeterminateState(g,d)?0===r.onClicked(!0,d,a||{})&&r.onClicked(!1,d,a):g?r.onClicked(!1,d,a):r.onClicked(!0,d,a||{})}),this.addManagedListener(this.rowNode,er.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,er.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,er.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsService.get("isRowSelectable")||"function"==typeof this.getIsVisible()){var s=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,s),this.addManagedListener(this.rowNode,er.EVENT_DATA_CHANGED,s),this.addManagedListener(this.rowNode,er.EVENT_CELL_CHANGED,s),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},t.prototype.shouldHandleIndeterminateState=function(e,r){return r&&(void 0===this.eCheckbox.getPreviousValue()||void 0===e)&&this.gridOptionsService.isRowModelType("clientSide")},t.prototype.showOrHideSelect=function(){var e,r,n,i,s=this.rowNode.selectable,a=this.getIsVisible();if(s)if("function"==typeof a){var d=null===(e=this.overrides)||void 0===e?void 0:e.callbackParams,g=null===(r=this.column)||void 0===r?void 0:r.createColumnFunctionCallbackParams(this.rowNode);s=!!g&&a(da(da({},d),g))}else s=a??!1;if(null===(n=this.column)||void 0===n?void 0:n.getColDef().showDisabledCheckboxes)return this.eCheckbox.setDisabled(!s),this.setVisible(!0),void this.setDisplayed(!0);null!==(i=this.overrides)&&void 0!==i&&i.removeHidden?this.setDisplayed(s):this.setVisible(s)},t.prototype.getIsVisible=function(){var e,r;return this.overrides?this.overrides.isVisible:null===(r=null===(e=this.column)||void 0===e?void 0:e.getColDef())||void 0===r?void 0:r.checkboxSelection},$u([tt("eCheckbox")],t.prototype,"eCheckbox",void 0),$u([we],t.prototype,"postConstruct",null),t}(qt),Hf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ps=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},pa=function(o){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&o[t],r=0;if(e)return e.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&r>=o.length&&(o=void 0),{value:o&&o[r++],done:!o}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ei=function(o){return o[o.ToolPanel=0]="ToolPanel",o[o.HeaderCell=1]="HeaderCell",o[o.RowDrag=2]="RowDrag",o[o.ChartPanel=3]="ChartPanel",o[o.AdvancedFilterBuilder=4]="AdvancedFilterBuilder",o}(ei||{}),fa=function(o){return o[o.Up=0]="Up",o[o.Down=1]="Down",o}(fa||{}),es=function(o){return o[o.Left=0]="Left",o[o.Right=1]="Right",o}(es||{}),En=function(o){function t(){var r=null!==o&&o.apply(this,arguments)||this;return r.dragSourceAndParamsList=[],r.dropTargets=[],r}var e;return Hf(t,o),e=t,t.prototype.init=function(){this.ePinnedIcon=Oi("columnMovePin",this.gridOptionsService,null),this.eHideIcon=Oi("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=Oi("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=Oi("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=Oi("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=Oi("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=Oi("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=Oi("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=Oi("dropNotAllowed",this.gridOptionsService,null)},t.prototype.addDragSource=function(r,n){void 0===n&&(n=!1);var i={eElement:r.eElement,dragStartPixels:r.dragStartPixels,onDragStart:this.onDragStart.bind(this,r),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:n};this.dragSourceAndParamsList.push({params:i,dragSource:r}),this.dragService.addDragSource(i)},t.prototype.removeDragSource=function(r){var n=this.dragSourceAndParamsList.find(function(i){return i.dragSource===r});n&&(this.dragService.removeDragSource(n.params),Q(this.dragSourceAndParamsList,n))},t.prototype.clearDragSourceParamsList=function(){var r=this;this.dragSourceAndParamsList.forEach(function(n){return r.dragService.removeDragSource(n.params)}),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0},t.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},t.prototype.onDragStart=function(r,n){this.dragging=!0,this.dragSource=r,this.eventLastTime=n,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},t.prototype.onDragStop=function(r){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var n=this.createDropTargetEvent(this.lastDropTarget,r,null,null,!1);this.lastDropTarget.onDragStop(n)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},t.prototype.onDragging=function(r,n){var s,a,d,g,i=this,m=this.getHorizontalDirection(r),C=this.getVerticalDirection(r);this.eventLastTime=r,this.positionGhost(r);var E=this.dropTargets.filter(function(j){return i.isMouseOnDropTarget(r,j)}),b=this.findCurrentDropTarget(r,E);if(b!==this.lastDropTarget)this.leaveLastTargetIfExists(r,m,C,n),null!==this.lastDropTarget&&null===b&&(null===(a=(s=this.dragSource).onGridExit)||void 0===a||a.call(s,this.dragItem)),null===this.lastDropTarget&&null!==b&&(null===(g=(d=this.dragSource).onGridEnter)||void 0===g||g.call(d,this.dragItem)),this.enterDragTargetIfExists(b,r,m,C,n),this.lastDropTarget=b;else if(b&&b.onDragging){var L=this.createDropTargetEvent(b,r,m,C,n);b.onDragging(L)}},t.prototype.getAllContainersFromDropTarget=function(r){var n=r.getSecondaryContainers?r.getSecondaryContainers():null,i=[[r.getContainer()]];return n?i.concat(n):i},t.prototype.allContainersIntersect=function(r,n){var i,s;try{for(var a=pa(n),d=a.next();!d.done;d=a.next()){var m=d.value.getBoundingClientRect();if(0===m.width||0===m.height)return!1;if(!(r.clientX>=m.left&&r.clientX<m.right&&r.clientY>=m.top&&r.clientY<m.bottom))return!1}}catch(b){i={error:b}}finally{try{d&&!d.done&&(s=a.return)&&s.call(a)}finally{if(i)throw i.error}}return!0},t.prototype.isMouseOnDropTarget=function(r,n){var i,s,a=this.getAllContainersFromDropTarget(n),d=!1;try{for(var g=pa(a),m=g.next();!m.done;m=g.next())if(this.allContainersIntersect(r,m.value)){d=!0;break}}catch(E){i={error:E}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}return!(n.targetContainsSource&&!n.getContainer().contains(this.dragSource.eElement))&&d&&n.isInterestedIn(this.dragSource.type,this.dragSource.eElement)},t.prototype.findCurrentDropTarget=function(r,n){var i,s,a,d,g=n.length;if(0===g)return null;if(1===g)return n[0];var C=this.gridOptionsService.getRootNode().elementsFromPoint(r.clientX,r.clientY);try{for(var E=pa(C),b=E.next();!b.done;b=E.next()){var L=b.value;try{for(var j=(a=void 0,pa(n)),ee=j.next();!ee.done;ee=j.next()){var se=ee.value;if(-1!==tr(this.getAllContainersFromDropTarget(se)).indexOf(L))return se}}catch(Te){a={error:Te}}finally{try{ee&&!ee.done&&(d=j.return)&&d.call(j)}finally{if(a)throw a.error}}}}catch(Te){i={error:Te}}finally{try{b&&!b.done&&(s=E.return)&&s.call(E)}finally{if(i)throw i.error}}return null},t.prototype.enterDragTargetIfExists=function(r,n,i,s,a){if(r){if(r.onDragEnter){var d=this.createDropTargetEvent(r,n,i,s,a);r.onDragEnter(d)}this.setGhostIcon(r.getIconName?r.getIconName():null)}},t.prototype.leaveLastTargetIfExists=function(r,n,i,s){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var a=this.createDropTargetEvent(this.lastDropTarget,r,n,i,s);this.lastDropTarget.onDragLeave(a)}this.setGhostIcon(null)}},t.prototype.addDropTarget=function(r){this.dropTargets.push(r)},t.prototype.removeDropTarget=function(r){this.dropTargets=this.dropTargets.filter(function(n){return n.getContainer()!==r.getContainer()})},t.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(r){return r.external})},t.prototype.findExternalZone=function(r){return this.dropTargets.filter(function(i){return i.external}).find(function(i){return i.getContainer()===r.getContainer()})||null},t.prototype.getHorizontalDirection=function(r){var n=this.eventLastTime&&this.eventLastTime.clientX,i=r.clientX;return n===i?null:n>i?es.Left:es.Right},t.prototype.getVerticalDirection=function(r){var n=this.eventLastTime&&this.eventLastTime.clientY,i=r.clientY;return n===i?null:n>i?fa.Up:fa.Down},t.prototype.createDropTargetEvent=function(r,n,i,s,a){var d=r.getContainer(),g=d.getBoundingClientRect(),m=this;return{event:n,x:n.clientX-g.left,y:n.clientY-g.top,vDirection:s,hDirection:i,dragSource:m.dragSource,fromNudge:a,dragItem:m.dragItem,api:m.gridApi,columnApi:m.columnApi,dropZoneTarget:d}},t.prototype.positionGhost=function(r){var n=this.eGhost;if(n){var s=n.getBoundingClientRect().height,a=Al()-2,d=Bo()-2,g=Ha(n.offsetParent),E=r.clientY-g.top-s/2,b=r.clientX-g.left-10,L=this.gridOptionsService.getDocument(),j=L.defaultView||window,ee=j.pageYOffset||L.documentElement.scrollTop,se=j.pageXOffset||L.documentElement.scrollLeft;a>0&&b+n.clientWidth>a+se&&(b=a+se-n.clientWidth),b<0&&(b=0),d>0&&E+n.clientHeight>d+ee&&(E=d+ee-n.clientHeight),E<0&&(E=0),n.style.left=b+"px",n.style.top=E+"px"}},t.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},t.prototype.createGhost=function(){this.eGhost=wn(e.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);var r=this.environment.getTheme().theme;r&&this.eGhost.classList.add(r),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var n=this.eGhost.querySelector(".ag-dnd-ghost-label"),i=this.dragSource.dragItemName;dt(i)&&(i=i()),n.innerHTML=Xr(i)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var s=this.gridOptionsService.getDocument(),a=null;try{a=s.fullscreenElement}catch{}finally{if(!a){var d=this.gridOptionsService.getRootNode();a=d.querySelector("body")||(d instanceof ShadowRoot?d:d?.documentElement)}}this.eGhostParent=a,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},t.prototype.setGhostIcon=function(r,n){void 0===n&&(n=!1),un(this.eGhostIcon);var i=null;switch(r||(r=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():e.ICON_NOT_ALLOWED),r){case e.ICON_PINNED:i=this.ePinnedIcon;break;case e.ICON_MOVE:i=this.eMoveIcon;break;case e.ICON_LEFT:i=this.eLeftIcon;break;case e.ICON_RIGHT:i=this.eRightIcon;break;case e.ICON_GROUP:i=this.eGroupIcon;break;case e.ICON_AGGREGATE:i=this.eAggregateIcon;break;case e.ICON_PIVOT:i=this.ePivotIcon;break;case e.ICON_NOT_ALLOWED:i=this.eDropNotAllowedIcon;break;case e.ICON_HIDE:i=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",n),(i!==this.eHideIcon||!this.gridOptionsService.is("suppressDragLeaveHidesColumns"))&&i&&this.eGhostIcon.appendChild(i)},t.ICON_PINNED="pinned",t.ICON_MOVE="move",t.ICON_LEFT="left",t.ICON_RIGHT="right",t.ICON_GROUP="group",t.ICON_AGGREGATE="aggregate",t.ICON_PIVOT="pivot",t.ICON_NOT_ALLOWED="notAllowed",t.ICON_HIDE="hide",t.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',Ps([A("dragService")],t.prototype,"dragService",void 0),Ps([A("mouseEventService")],t.prototype,"mouseEventService",void 0),Ps([A("columnApi")],t.prototype,"columnApi",void 0),Ps([A("gridApi")],t.prototype,"gridApi",void 0),Ps([we],t.prototype,"init",null),Ps([yr],t.prototype,"clearDragSourceParamsList",null),e=Ps([je("dragAndDropService")],t)}(Le),Qi=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ja=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Ql=function(o){function t(e,r,n,i,s,a){var d=o.call(this)||this;return d.cellValueFn=e,d.rowNode=r,d.column=n,d.customGui=i,d.dragStartPixels=s,d.suppressVisibilityChange=a,d.dragSource=null,d}return Qi(t,o),t.prototype.isCustomGui=function(){return null!=this.customGui},t.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Zr("rowDrag",this.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var e=this.gridOptionsService.is("rowDragManaged")?new Vf(this,this.beans,this.rowNode,this.column):new Cp(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}},t.prototype.setDragElement=function(e,r){this.setTemplateFromElement(e),this.addDragSource(r)},t.prototype.getSelectedNodes=function(){if(!this.gridOptionsService.is("rowDragMultiRow"))return[this.rowNode];var r=this.beans.selectionService.getSelectedNodes();return-1!==r.indexOf(this.rowNode)?r:[this.rowNode]},t.prototype.checkCompatibility=function(){var e=this.gridOptionsService.is("rowDragManaged");this.gridOptionsService.is("treeData")&&e&&At(function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")},"RowDragComp.managedAndTreeData")},t.prototype.getDragItem=function(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}},t.prototype.getRowDragText=function(e){if(e){var r=e.getColDef();if(r.rowDragText)return r.rowDragText}return this.gridOptionsService.get("rowDragText")},t.prototype.addDragSource=function(e){var r=this;void 0===e&&(e=4),this.dragSource&&this.removeDragSource();var n=this.getRowDragText(this.column),i=this.localeService.getLocaleTextFunc();this.dragSource={type:ei.RowDrag,eElement:this.getGui(),dragItemName:function(){var s,a=r.getDragItem(),d=(null===(s=a.rowNodes)||void 0===s?void 0:s.length)||1;return n?n(a,d):1===d?r.cellValueFn():d+" "+i("rowDragRows","rows")},getDragItem:function(){return r.getDragItem()},dragStartPixels:e,dragSourceDomDataKey:this.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},t.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},Ja([A("beans")],t.prototype,"beans",void 0),Ja([we],t.prototype,"postConstruct",null),Ja([yr],t.prototype,"removeDragSource",null),t}(qt),mp=function(o){function t(e,r,n){var i=o.call(this)||this;return i.parent=e,i.rowNode=r,i.column=n,i}return Qi(t,o),t.prototype.setDisplayedOrVisible=function(e){var r={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,r);else{var n=!0,i=!1;this.column&&(n=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),i=dt(this.column.getColDef().rowDrag)),i?(this.parent.setDisplayed(!0,r),this.parent.setVisible(n,r)):(this.parent.setDisplayed(n,r),this.parent.setVisible(!0,r))}},t}(Le),Cp=function(o){function t(e,r,n,i){var s=o.call(this,e,n,i)||this;return s.beans=r,s}return Qi(t,o),t.prototype.postConstruct=function(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,er.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,er.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,er.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,M.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.gridOptionsService.is("suppressRowDrag");this.setDisplayedOrVisible(e)},Ja([we],t.prototype,"postConstruct",null),t}(mp),Vf=function(o){function t(e,r,n,i){var s=o.call(this,e,n,i)||this;return s.beans=r,s}return Qi(t,o),t.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,M.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,M.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,M.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,er.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,er.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var r=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),n=r&&r.shouldPreventRowMove(),i=this.gridOptionsService.is("suppressRowDrag"),s=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(n&&!s||i)},Ja([we],t.prototype,"postConstruct",null),t}(mp),Bf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),qi=function(){return qi=Object.assign||function(o){for(var t,e=1,r=arguments.length;e<r;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o},qi.apply(this,arguments)},ha=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Jc=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Bf(t,o),t.prototype.init=function(e,r,n,i,s,a,d){this.params=d,this.eGui=r,this.eCheckbox=n,this.eExpanded=i,this.eContracted=s,this.comp=e,this.compClass=a;var g=d.node,m=d.value,C=d.colDef;if(!this.isTopLevelFooter()){if(this.isEmbeddedRowMismatch())return;if(!0!==C?.showRowGroup&&null==m&&!g.master)return;if(g.footer&&this.gridOptionsService.is("groupHideOpenParents")&&(C&&C.showRowGroup)!==(g.rowGroupColumn&&g.rowGroupColumn.getColId()))return}this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded()},t.prototype.destroy=function(){o.prototype.destroy.call(this),this.expandListener=null},t.prototype.refreshAriaExpanded=function(){var e=this.params,r=e.node,n=e.eParentOfValue;if(this.expandListener&&(this.expandListener=this.expandListener()),this.isExpandable()){var i=function(){Ai(n,!!r.expanded)};this.expandListener=this.addManagedListener(r,er.EVENT_EXPANDED_CHANGED,i)||null,i()}else Cl(n)},t.prototype.isTopLevelFooter=function(){if(!this.gridOptionsService.is("groupIncludeTotalFooter")||null!=this.params.value||-1!=this.params.node.level)return!1;var e=this.params.colDef;if(null==e||!0===e.showRowGroup)return!0;var n=this.columnModel.getRowGroupColumns();return!n||0===n.length||n[0].getId()===e.showRowGroup},t.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsService.is("embedFullWidthRows"))return!1;var e="left"===this.params.pinned,r="right"===this.params.pinned,n=!e&&!r;return this.gridOptionsService.is("enableRtl")?this.columnModel.isPinningLeft()?!r:!n:this.columnModel.isPinningLeft()?!e:!n},t.prototype.findDisplayedGroupNode=function(){var e=this.params.column,r=this.params.node;if(this.showingValueForOpenedParent)for(var n=r.parent;null!=n;){if(n.rowGroupColumn&&e.isRowGroupDisplayed(n.rowGroupColumn.getId())){this.displayedGroupNode=n;break}n=n.parent}W(this.displayedGroupNode)&&(this.displayedGroupNode=r)},t.prototype.setupShowingValueForOpenedParent=function(){var e=this.params.node,r=this.params.column;if(this.gridOptionsService.is("groupHideOpenParents"))if(e.groupData){if(null!=e.rowGroupColumn){var i=e.rowGroupColumn.getId();if(r.isRowGroupDisplayed(i))return void(this.showingValueForOpenedParent=!1)}var a=null!=e.groupData[r.getId()];this.showingValueForOpenedParent=a}else this.showingValueForOpenedParent=!1;else this.showingValueForOpenedParent=!1},t.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},t.prototype.addGroupValue=function(){var e=this.adjustParamsWithDetailsFromRelatedColumn(),r=this.getInnerCompDetails(e),i=e.value,s=e.valueFormatted;null==s&&(s=""===i&&this.params.node.group?this.localeService.getLocaleTextFunc()("blanks","(Blanks)"):i??null),this.comp.setInnerRenderer(r,s)},t.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var e=this.displayedGroupNode.rowGroupColumn,r=this.params.column;if(!e)return this.params;if(null!=r&&!r.isRowGroupDisplayed(e.getId()))return this.params;var s=this.params,a=this.params,m=this.valueFormatterService.formatValue(e,a.node,a.value);return qi(qi({},s),{valueFormatted:m})},t.prototype.addFooterValue=function(){var e=this.params.footerValueGetter,r="";if(e){var n=Wt(this.params);n.value=this.params.value,"function"==typeof e?r=e(n):"string"==typeof e?r=this.expressionService.evaluate(e,n):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else r="Total "+(null!=this.params.value?this.params.value:"");var i=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(i,r)},t.prototype.getInnerCompDetails=function(e){var r=this;if(e.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),e);var n=this.userComponentFactory.getInnerRendererDetails(e,e),i=function(m){return m&&m.componentClass==r.compClass};if(n&&!i(n))return n;var s=this.displayedGroupNode.rowGroupColumn,a=s?s.getColDef():void 0;if(a){var d=this.userComponentFactory.getCellRendererDetails(a,e);if(d&&!i(d))return d;if(i(d)&&a.cellRendererParams&&a.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(a.cellRendererParams,e)}},t.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,er.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},t.prototype.updateChildCount=function(){var e=this.displayedGroupNode.allChildrenCount,r=this.isShowRowGroupForThisRow();this.comp.setChildCount(r&&null!=e&&e>=0?"("+e+")":"")},t.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsService.is("treeData"))return!0;var e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;var r=this.params.column;return null==r||r.isRowGroupDisplayed(e.getId())},t.prototype.addExpandAndContract=function(){var e,r=this.params,n=Zr("groupExpanded",this.gridOptionsService,null),i=Zr("groupContracted",this.gridOptionsService,null);n&&this.eExpanded.appendChild(n),i&&this.eContracted.appendChild(i);var s=r.eGridCell;!((null===(e=this.params.column)||void 0===e?void 0:e.isCellEditable(r.node))&&this.gridOptionsService.is("enableGroupEdit"))&&this.isExpandable()&&!r.suppressDoubleClickExpand&&this.addManagedListener(s,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(s,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(r.node,er.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var d=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,er.EVENT_ALL_CHILDREN_COUNT_CHANGED,d),this.addManagedListener(this.displayedGroupNode,er.EVENT_MASTER_CHANGED,d),this.addManagedListener(this.displayedGroupNode,er.EVENT_GROUP_CHANGED,d),this.addManagedListener(this.displayedGroupNode,er.EVENT_HAS_CHILDREN_CHANGED,d)},t.prototype.onExpandClicked=function(e){xe(e)||(ge(e),this.onExpandOrContract(e))},t.prototype.onExpandOrContract=function(e){var r=this.displayedGroupNode,n=!r.expanded;!n&&r.sticky&&this.scrollToStickyNode(r),r.setExpanded(n,e)},t.prototype.scrollToStickyNode=function(e){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(e.rowTop-e.stickyRowTop)},t.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var e=this.displayedGroupNode,r=this.columnModel.isPivotMode()&&e.leafGroup;if(!e.isExpandable()||e.footer||r)return!1;var i=this.params.column;return null==i||"string"!=typeof i.getColDef().showRowGroup||this.isShowRowGroupForThisRow()},t.prototype.showExpandAndContractIcons=function(){var e=this,n=e.displayedGroupNode,i=e.columnModel,s=e.params.node,a=this.isExpandable();if(a){var d=!!this.showingValueForOpenedParent||s.expanded;this.comp.setExpandedDisplayed(d),this.comp.setContractedDisplayed(!d)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var g=i.isPivotMode(),m=g&&n.leafGroup,C=a&&!m,E=s.footer&&-1===s.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",C),this.comp.addOrRemoveCssClass("ag-row-group",C),g?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",m):E||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!C)},t.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},t.prototype.setupIndent=function(){this.params.suppressPadding||(this.addManagedListener(this.params.node,er.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},t.prototype.setIndent=function(){if(!this.gridOptionsService.is("groupHideOpenParents")){var e=this.params,r=e.node,n=!!e.colDef,i=this.gridOptionsService.is("treeData"),a=!n||i||!0===e.colDef.showRowGroup?r.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+a,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},t.prototype.addFullWidthRowDraggerIfNeeded=function(){var e=this;if(this.params.fullWidth&&this.params.rowDrag){var r=new Ql(function(){return e.params.value},this.params.node);this.createManagedBean(r,this.context),this.eGui.insertAdjacentElement("afterbegin",r.getGui())}},t.prototype.isUserWantsSelected=function(){var e=this.params.checkbox;return"function"==typeof e||!0===e},t.prototype.addCheckboxIfNeeded=function(){var e=this,r=this.displayedGroupNode,n=this.isUserWantsSelected()&&!r.footer&&!r.rowPinned&&!r.detail;if(n){var i=new $l;this.getContext().createBean(i),i.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(i.getGui()),this.addDestroyFunc(function(){return e.getContext().destroyBean(i)})}this.comp.setCheckboxVisible(n)},t.prototype.onKeyDown=function(e){e.key!==Ce.ENTER||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(e)},t.prototype.onCellDblClicked=function(e){xe(e)||q(this.eExpanded,e)||q(this.eContracted,e)||this.onExpandOrContract(e)},ha([A("expressionService")],t.prototype,"expressionService",void 0),ha([A("valueFormatterService")],t.prototype,"valueFormatterService",void 0),ha([A("columnModel")],t.prototype,"columnModel",void 0),ha([A("userComponentFactory")],t.prototype,"userComponentFactory",void 0),ha([A("ctrlsService")],t.prototype,"ctrlsService",void 0),t}(Le),Xc=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Fs=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},ga=function(o){function t(){return o.call(this,t.TEMPLATE)||this}return Xc(t,o),t.prototype.init=function(e){var r=this,n={setInnerRenderer:function(d,g){return r.setRenderDetails(d,g)},setChildCount:function(d){return r.eChildCount.innerHTML=d},addOrRemoveCssClass:function(d,g){return r.addOrRemoveCssClass(d,g)},setContractedDisplayed:function(d){return sr(r.eContracted,d)},setExpandedDisplayed:function(d){return sr(r.eExpanded,d)},setCheckboxVisible:function(d){return r.eCheckbox.classList.toggle("ag-invisible",!d)}},i=this.createManagedBean(new Jc),s=!e.colDef,a=this.getGui();i.init(n,a,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),s&&ln(a,"gridcell")},t.prototype.setRenderDetails=function(e,r){var n=this;if(e){var i=e.newAgStackInstance();if(!i)return;i.then(function(s){if(s){var a=function(){return n.context.destroyBean(s)};n.isAlive()?(n.eValue.appendChild(s.getGui()),n.addDestroyFunc(a)):a()}})}else this.eValue.innerText=r},t.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),o.prototype.destroy.call(this)},t.prototype.refresh=function(){return!1},t.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',Fs([tt("eExpanded")],t.prototype,"eExpanded",void 0),Fs([tt("eContracted")],t.prototype,"eContracted",void 0),Fs([tt("eCheckbox")],t.prototype,"eCheckbox",void 0),Fs([tt("eValue")],t.prototype,"eValue",void 0),Fs([tt("eChildCount")],t.prototype,"eChildCount",void 0),t}(qt),Ut=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ql=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},ed=function(o){function t(){return o.call(this,t.TEMPLATE)||this}return Ut(t,o),t.prototype.init=function(e){e.node.failedLoad?this.setupFailed():this.setupLoading()},t.prototype.setupFailed=function(){var e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")},t.prototype.setupLoading=function(){var e=Zr("groupLoading",this.gridOptionsService,null);e&&this.eLoadingIcon.appendChild(e);var r=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=r("loadingOoo","Loading")},t.prototype.refresh=function(e){return!1},t.prototype.destroy=function(){o.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',ql([tt("eLoadingIcon")],t.prototype,"eLoadingIcon",void 0),ql([tt("eLoadingText")],t.prototype,"eLoadingText",void 0),t}(qt),va=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),kf=function(o){function t(){return o.call(this)||this}return va(t,o),t.prototype.destroy=function(){o.prototype.destroy.call(this)},t.prototype.init=function(e){var r,n=null!==(r=this.gridOptionsService.get("overlayLoadingTemplate"))&&void 0!==r?r:t.DEFAULT_LOADING_OVERLAY_TEMPLATE,i=this.localeService.getLocaleTextFunc(),s=n.replace("[LOADING...]",i("loadingOoo","Loading..."));this.setTemplate(s)},t.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',t}(qt),td=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),wp=function(o){function t(){return o.call(this)||this}return td(t,o),t.prototype.destroy=function(){o.prototype.destroy.call(this)},t.prototype.init=function(e){var r,n=null!==(r=this.gridOptionsService.get("overlayNoRowsTemplate"))&&void 0!==r?r:t.DEFAULT_NO_ROWS_TEMPLATE,i=this.localeService.getLocaleTextFunc(),s=n.replace("[NO_ROWS_TO_SHOW]",i("noRowsToShow","No Rows To Show"));this.setTemplate(s)},t.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',t}(qt),kn=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Wf=function(o){function t(){return o.call(this,'<div class="ag-tooltip"></div>')||this}return kn(t,o),t.prototype.init=function(e){var r=e.value;this.getGui().innerHTML=Xr(r)},t}(la),Uf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Sp=function(){function o(){}return o.prototype.getTemplate=function(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'},o.prototype.init=function(t,e){this.eInput=t,this.params=e,null!=e.max&&t.setMax(e.max),null!=e.min&&t.setMin(e.min),null!=e.precision&&t.setPrecision(e.precision),null!=e.step&&t.setStep(e.step),e.showStepperButtons&&t.getInputElement().classList.add("ag-number-field-input-stepper")},o.prototype.getValue=function(){var t=this.eInput.getValue();if(!w(t)&&!w(this.params.value))return this.params.value;var e=this.params.parseValue(t);if(null==e)return e;if("string"==typeof e){if(""===e)return null;e=Number(e)}return isNaN(e)?null:e},o.prototype.getStartValue=function(){return this.params.value},o}(),jf=function(o){function t(){return o.call(this,new Sp)||this}return Uf(t,o),t}(Ku),_p=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),zf=function(){function o(){}return o.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},o.prototype.init=function(t,e){this.eInput=t,this.params=e,null!=e.min&&t.setMin(e.min),null!=e.max&&t.setMax(e.max),null!=e.step&&t.setStep(e.step)},o.prototype.getValue=function(){var t=this.eInput.getDate();return w(t)||w(this.params.value)?t??null:this.params.value},o.prototype.getStartValue=function(){var t=this.params.value;if(t instanceof Date)return cr(t,!1)},o}(),Kf=function(o){function t(){return o.call(this,new zf)||this}return _p(t,o),t}(Ku),Yf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ti=function(){function o(t){this.getDataTypeService=t}return o.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},o.prototype.init=function(t,e){this.eInput=t,this.params=e,null!=e.min&&t.setMin(e.min),null!=e.max&&t.setMax(e.max),null!=e.step&&t.setStep(e.step)},o.prototype.getValue=function(){var t=this.formatDate(this.eInput.getDate());return w(t)||w(this.params.value)?this.params.parseValue(t??""):this.params.value},o.prototype.getStartValue=function(){var t,e;return cr(null!==(e=this.parseDate(null!==(t=this.params.value)&&void 0!==t?t:void 0))&&void 0!==e?e:null,!1)},o.prototype.parseDate=function(t){return this.getDataTypeService().getDateParserFunction()(t)},o.prototype.formatDate=function(t){return this.getDataTypeService().getDateFormatterFunction()(t)},o}(),rd=function(o){function t(){var e=o.call(this,new ti(function(){return e.dataTypeService}))||this;return e}return Yf(t,o),function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);n>3&&i&&Object.defineProperty(t,e,i)}([A("dataTypeService")],t.prototype,"dataTypeService",void 0),t}(Ku),$f=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Qf=function(o){function t(){return o.call(this,t.TEMPLATE)||this}return $f(t,o),t.prototype.init=function(e){var r=this;this.params=e,this.updateCheckbox(e),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(i){if(ge(i),!r.eCheckbox.isDisabled()){var s=r.eCheckbox.getValue();r.onCheckboxChanged(s)}}),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",function(i){ge(i)});var n=this.gridOptionsService.getDocument();this.addManagedListener(this.params.eGridCell,"keydown",function(i){if(i.key===Ce.SPACE&&!r.eCheckbox.isDisabled()){r.params.eGridCell===n.activeElement&&r.eCheckbox.toggle();var s=r.eCheckbox.getValue();r.onCheckboxChanged(s),i.preventDefault()}})},t.prototype.refresh=function(e){return this.params=e,this.updateCheckbox(e),!0},t.prototype.updateCheckbox=function(e){var r,n,i,s,a=!0;if(e.node.group&&e.column){var d=e.column.getColId();d.startsWith(Bi)?s=null==e.value||""===e.value?void 0:"true"===e.value:e.node.aggData&&void 0!==e.node.aggData[d]?s=null!==(r=e.value)&&void 0!==r?r:void 0:a=!1}else s=null!==(n=e.value)&&void 0!==n?n:void 0;if(a){this.eCheckbox.setValue(s);var g=null!=e.disabled?e.disabled:!(null!==(i=e.column)&&void 0!==i&&i.isCellEditable(e.node));this.eCheckbox.setDisabled(g);var m=this.localeService.getLocaleTextFunc(),C=Dn(m,s),E=g?C:m("ariaToggleCellValue","Press SPACE to toggle cell value")+" ("+C+")";this.eCheckbox.setInputAriaLabel(E)}else this.eCheckbox.setDisplayed(!1)},t.prototype.onCheckboxChanged=function(e){var r=this.params,n=r.column,i=r.node,s=r.rowIndex,a=r.value,d={type:M.EVENT_CELL_EDITING_STARTED,column:n,colDef:n?.getColDef(),data:i.data,node:i,rowIndex:s,rowPinned:i.rowPinned,value:a};this.eventService.dispatchEvent(d);var g=this.params.node.setDataValue(this.params.column,e,"edit"),m={type:M.EVENT_CELL_EDITING_STOPPED,column:n,colDef:n?.getColDef(),data:i.data,node:i,rowIndex:s,rowPinned:i.rowPinned,value:a,oldValue:a,newValue:e,valueChanged:g};this.eventService.dispatchEvent(m)},t.TEMPLATE='\n        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">\n            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n        </div>',function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);n>3&&i&&Object.defineProperty(t,e,i)}([tt("eCheckbox")],t.prototype,"eCheckbox",void 0),t}(qt),qf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ep=function(o){function t(){return o.call(this,'\n            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return qf(t,o),t.prototype.init=function(e){var n,r=this;this.params=e;var i=null!==(n=e.value)&&void 0!==n?n:void 0;this.eCheckbox.setValue(i),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(i),this.addManagedListener(this.eCheckbox,M.EVENT_FIELD_VALUE_CHANGED,function(s){return r.setAriaLabel(s.selected)})},t.prototype.getValue=function(){return this.eCheckbox.getValue()},t.prototype.focusIn=function(){this.eCheckbox.getFocusableElement().focus()},t.prototype.afterGuiAttached=function(){this.params.cellStartedEdit&&this.focusIn()},t.prototype.isPopup=function(){return!1},t.prototype.setAriaLabel=function(e){var r=this.localeService.getLocaleTextFunc(),n=Dn(r,e),i=r("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(i+" ("+n+")")},function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);n>3&&i&&Object.defineProperty(t,e,i)}([tt("eCheckbox")],t.prototype,"eCheckbox",void 0),t}(la),Rp=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),id=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Ap=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i},Dp=function(o,t){for(var e=0,r=t.length,n=o.length;e<r;e++,n++)o[n]=t[e];return o},Zf=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.agGridDefaults={agDateInput:f,agColumnHeader:bs,agColumnGroupHeader:qc,agSortIndicator:aa,agTextColumnFloatingFilter:Kl,agNumberColumnFloatingFilter:Jo,agDateColumnFloatingFilter:Uu,agReadOnlyFloatingFilter:Nu,agAnimateShowChangeCellRenderer:Za,agAnimateSlideCellRenderer:vp,agGroupCellRenderer:ga,agGroupRowRenderer:ga,agLoadingCellRenderer:ed,agCheckboxCellRenderer:Qf,agCellEditor:ua,agTextCellEditor:ua,agNumberCellEditor:jf,agDateCellEditor:Kf,agDateStringCellEditor:rd,agSelectCellEditor:pp,agLargeTextCellEditor:dp,agCheckboxCellEditor:Ep,agTextColumnFilter:ct,agNumberColumnFilter:ce,agDateColumnFilter:sa,agLoadingOverlay:kf,agNoRowsOverlay:wp,agTooltipComponent:Wf},e.enterpriseAgDefaultCompsModule={agSetColumnFilter:Re.SetFilterModule,agSetColumnFloatingFilter:Re.SetFilterModule,agMultiColumnFilter:Re.MultiFilterModule,agMultiColumnFloatingFilter:Re.MultiFilterModule,agGroupColumnFilter:Re.RowGroupingModule,agGroupColumnFloatingFilter:Re.RowGroupingModule,agRichSelect:Re.RichSelectModule,agRichSelectCellEditor:Re.RichSelectModule,agDetailCellRenderer:Re.MasterDetailModule,agSparklineCellRenderer:Re.SparklinesModule},e.jsComps={},e}return Rp(t,o),t.prototype.init=function(){var e=this;null!=this.gridOptions.components&&rt(this.gridOptions.components,function(r,n){return e.registerJsComponent(r,n)})},t.prototype.registerDefaultComponent=function(e,r){this.agGridDefaults[e]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[e]=r},t.prototype.registerJsComponent=function(e,r){this.jsComps[e]=r},t.prototype.retrieve=function(e,r){var n=this,i=function(C,E){return{componentFromFramework:E,component:C}},s=this.getFrameworkOverrides().frameworkComponent(r,this.gridOptions.components);if(null!=s)return i(s,!0);var a=this.jsComps[r];if(a)return i(a,this.getFrameworkOverrides().isFrameworkComponent(a));var g=this.agGridDefaults[r];if(g)return i(g,!1);var m=this.enterpriseAgDefaultCompsModule[r];return m?it.__assertRegistered(m,"AG Grid '"+e+"' component: "+r,this.context.getGridId()):At(function(){n.warnAboutMissingComponent(e,r)},"MissingComp"+r),null},t.prototype.warnAboutMissingComponent=function(e,r){var i=Lo(r,Dp(Dp([],Ap(Object.keys(this.agGridDefaults).filter(function(s){return!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(s)}))),Ap(Object.keys(this.jsComps))),!0,.8).values;console.warn("AG Grid: Could not find '"+r+"' component. It was configured as \""+e+": '"+r+"'\" but it wasn't found in the list of registered components."),i.length>0&&console.warn("         Did you mean: ["+i.slice(0,3)+"]?"),console.warn("If using a custom component check it has been registered as described in: https://ag-grid.com/javascript-data-grid/components/")},id([A("gridOptions")],t.prototype,"gridOptions",void 0),id([we],t.prototype,"init",null),id([je("userComponentRegistry")],t)}(Le),xp={propertyName:"dateComponent",cellRenderer:!1},Op={propertyName:"headerComponent",cellRenderer:!1},Jf={propertyName:"headerGroupComponent",cellRenderer:!1},Qu={propertyName:"cellRenderer",cellRenderer:!0},Tp={propertyName:"cellEditor",cellRenderer:!1},Xa={propertyName:"innerRenderer",cellRenderer:!0},od={propertyName:"loadingOverlayComponent",cellRenderer:!1},bp={propertyName:"noRowsOverlayComponent",cellRenderer:!1},Pp={propertyName:"tooltipComponent",cellRenderer:!1},el={propertyName:"filter",cellRenderer:!1},Fp={propertyName:"floatingFilterComponent",cellRenderer:!1},xo={propertyName:"toolPanel",cellRenderer:!1},ya={propertyName:"statusPanel",cellRenderer:!1},Xf={propertyName:"fullWidthCellRenderer",cellRenderer:!0},Mp={propertyName:"loadingCellRenderer",cellRenderer:!0},eh={propertyName:"groupRowRenderer",cellRenderer:!0},th={propertyName:"detailCellRenderer",cellRenderer:!0},rh=function(){function o(){}return o.getFloatingFilterType=function(t){return this.filterToFloatingFilterMapping[t]},o.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},o}(),nh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),tl=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},ih=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return nh(t,o),t.prototype.getHeaderCompDetails=function(e,r){return this.getCompDetails(e,Op,"agColumnHeader",r)},t.prototype.getHeaderGroupCompDetails=function(e){var r=e.columnGroup.getColGroupDef();return this.getCompDetails(r,Jf,"agColumnGroupHeader",e)},t.prototype.getFullWidthCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,Xf,null,e,!0)},t.prototype.getFullWidthLoadingCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,Mp,"agLoadingCellRenderer",e,!0)},t.prototype.getFullWidthGroupCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,eh,"agGroupRowRenderer",e,!0)},t.prototype.getFullWidthDetailCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,th,"agDetailCellRenderer",e,!0)},t.prototype.getInnerRendererDetails=function(e,r){return this.getCompDetails(e,Xa,null,r)},t.prototype.getFullWidthGroupRowInnerCellRenderer=function(e,r){return this.getCompDetails(e,Xa,null,r)},t.prototype.getCellRendererDetails=function(e,r){return this.getCompDetails(e,Qu,null,r)},t.prototype.getCellEditorDetails=function(e,r){return this.getCompDetails(e,Tp,"agCellEditor",r,!0)},t.prototype.getFilterDetails=function(e,r,n){return this.getCompDetails(e,el,n,r,!0)},t.prototype.getDateCompDetails=function(e){return this.getCompDetails(this.gridOptions,xp,"agDateInput",e,!0)},t.prototype.getLoadingOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,od,"agLoadingOverlay",e,!0)},t.prototype.getNoRowsOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,bp,"agNoRowsOverlay",e,!0)},t.prototype.getTooltipCompDetails=function(e){return this.getCompDetails(e.colDef,Pp,"agTooltipComponent",e,!0)},t.prototype.getSetFilterCellRendererDetails=function(e,r){return this.getCompDetails(e,Qu,null,r)},t.prototype.getFloatingFilterCompDetails=function(e,r,n){return this.getCompDetails(e,Fp,n,r)},t.prototype.getToolPanelCompDetails=function(e,r){return this.getCompDetails(e,xo,null,r,!0)},t.prototype.getStatusPanelCompDetails=function(e,r){return this.getCompDetails(e,ya,null,r,!0)},t.prototype.getCompDetails=function(e,r,n,i,s){var a=this;void 0===s&&(s=!1);var d=r.propertyName,g=r.cellRenderer,m=this.getCompKeys(e,r,i),C=m.compName,E=m.jsComp,b=m.fwComp,L=m.paramsFromSelector,j=m.popupFromSelector,ee=m.popupPositionFromSelector,se=function(St){var _t=a.userComponentRegistry.retrieve(d,St);_t&&(E=_t.componentFromFramework?void 0:_t.component,b=_t.componentFromFramework?_t.component:void 0)};if(null!=C&&se(C),null==E&&null==b&&null!=n&&se(n),E&&g&&!this.agComponentUtils.doesImplementIComponent(E)&&(E=this.agComponentUtils.adaptFunction(d,E)),E||b){var fe=this.mergeParamsWithApplicationProvidedParams(e,r,i,L),Te=null==E,ke=E||b;return{componentFromFramework:Te,componentClass:ke,params:fe,type:r,popupFromSelector:j,popupPositionFromSelector:ee,newAgStackInstance:function(){return a.newAgStackInstance(ke,Te,fe,r)}}}s&&console.error("AG Grid: Could not find component "+C+", did you forget to configure this component?")},t.prototype.getCompKeys=function(e,r,n){var a,d,g,m,C,E,i=this,s=r.propertyName;if(e){var b=e,L=b[s+"Selector"],j=L?L(n):null,ee=function(se){"string"==typeof se?a=se:null!=se&&!0!==se&&(i.getFrameworkOverrides().isFrameworkComponent(se)?g=se:d=se)};j?(ee(j.component),m=j.params,C=j.popup,E=j.popupPosition):ee(b[s])}return{compName:a,jsComp:d,fwComp:g,paramsFromSelector:m,popupFromSelector:C,popupPositionFromSelector:E}},t.prototype.newAgStackInstance=function(e,r,n,i){var d;if(r){var g=this.componentMetadataProvider.retrieve(i.propertyName);d=this.frameworkComponentWrapper.wrap(e,g.mandatoryMethodList,g.optionalMethodList,i)}else d=new e;var m=this.initComponent(d,n);return null==m?pi.resolve(d):m.then(function(){return d})},t.prototype.mergeParamsWithApplicationProvidedParams=function(e,r,n,i){void 0===i&&(i=null);var s={context:this.gridOptionsService.context,columnApi:this.gridOptionsService.columnApi,api:this.gridOptionsService.api};qe(s,n);var d=e&&e[r.propertyName+"Params"];return"function"==typeof d?qe(s,d(n)):"object"==typeof d&&qe(s,d),qe(s,i),s},t.prototype.initComponent=function(e,r){if(this.context.createBean(e),null!=e.init)return e.init(r)},t.prototype.getDefaultFloatingFilterType=function(e,r){if(null==e)return null;var n=null,i=this.getCompKeys(e,el),s=i.compName,a=i.jsComp,d=i.fwComp;return s?n=rh.getFloatingFilterType(s):null==a&&null==d&&!0===e.filter&&(n=r()),n},tl([A("gridOptions")],t.prototype,"gridOptions",void 0),tl([A("agComponentUtils")],t.prototype,"agComponentUtils",void 0),tl([A("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),tl([A("userComponentRegistry")],t.prototype,"userComponentRegistry",void 0),tl([xt("frameworkComponentWrapper")],t.prototype,"frameworkComponentWrapper",void 0),tl([je("userComponentFactory")],t)}(Le),sd=function(o){return o[o.SINGLE_SHEET=0]="SINGLE_SHEET",o[o.MULTI_SHEET=1]="MULTI_SHEET",o}(sd||{}),oh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ad=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},sh=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.dragEndFunctions=[],e.dragSources=[],e}return oh(t,o),t.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},t.prototype.removeListener=function(e){var r=e.dragSource.eElement;r.removeEventListener("mousedown",e.mouseDownListener),e.touchEnabled&&r.removeEventListener("touchstart",e.touchStartListener,{passive:!0})},t.prototype.removeDragSource=function(e){var r=this.dragSources.find(function(n){return n.dragSource===e});r&&(this.removeListener(r),Q(this.dragSources,r))},t.prototype.isDragging=function(){return this.dragging},t.prototype.addDragSource=function(e){var r=this,n=this.onMouseDown.bind(this,e),i=e.eElement,s=e.includeTouch,a=e.stopPropagationForTouch;i.addEventListener("mousedown",n);var d=null,g=this.gridOptionsService.is("suppressTouch");s&&!g&&i.addEventListener("touchstart",d=function(m){hs(m.target)||(m.cancelable&&(m.preventDefault(),a&&m.stopPropagation()),r.onTouchStart(e,m))},{passive:!1}),this.dragSources.push({dragSource:e,mouseDownListener:n,touchStartListener:d,touchEnabled:!!s})},t.prototype.getStartTarget=function(){return this.startTarget},t.prototype.onTouchStart=function(e,r){var n=this;this.currentDragParams=e,this.dragging=!1;var i=r.touches[0];this.touchLastTime=i,this.touchStart=i;var a=function(C){return n.onTouchUp(C,e.eElement)},g=r.target,m=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:function(C){C.cancelable&&C.preventDefault()},options:{passive:!1}},{target:g,type:"touchmove",listener:function(C){return n.onTouchMove(C,e.eElement)},options:{passive:!0}},{target:g,type:"touchend",listener:a,options:{passive:!0}},{target:g,type:"touchcancel",listener:a,options:{passive:!0}}];this.addTemporaryEvents(m),0===e.dragStartPixels&&this.onCommonMove(i,this.touchStart,e.eElement)},t.prototype.onMouseDown=function(e,r){var n=this,i=r;if(!(e.skipMouseEvent&&e.skipMouseEvent(r)||i._alreadyProcessedByDragService||(i._alreadyProcessedByDragService=!0,0!==r.button))){this.shouldPreventMouseEvent(r)&&r.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=r,this.startTarget=r.target;var g=this.gridOptionsService.getRootNode();this.addTemporaryEvents([{target:g,type:"mousemove",listener:function(C){return n.onMouseMove(C,e.eElement)}},{target:g,type:"mouseup",listener:function(C){return n.onMouseUp(C,e.eElement)}},{target:g,type:"contextmenu",listener:function(C){return C.preventDefault()}}]),0===e.dragStartPixels&&this.onMouseMove(r,e.eElement)}},t.prototype.addTemporaryEvents=function(e){e.forEach(function(r){r.target.addEventListener(r.type,r.listener,r.options)}),this.dragEndFunctions.push(function(){e.forEach(function(r){r.target.removeEventListener(r.type,r.listener,r.options)})})},t.prototype.isEventNearStartEvent=function(e,r){var n=this.currentDragParams.dragStartPixels;return ja(e,r,w(n)?n:4)},t.prototype.getFirstActiveTouch=function(e){for(var r=0;r<e.length;r++)if(e[r].identifier===this.touchStart.identifier)return e[r];return null},t.prototype.onCommonMove=function(e,r,n){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,r))return;this.dragging=!0,this.eventService.dispatchEvent({type:M.EVENT_DRAG_STARTED,target:n}),this.currentDragParams.onDragStart(r),this.currentDragParams.onDragging(r)}this.currentDragParams.onDragging(e)},t.prototype.onTouchMove=function(e,r){var n=this.getFirstActiveTouch(e.touches);n&&this.onCommonMove(n,this.touchStart,r)},t.prototype.onMouseMove=function(e,r){this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,r)},t.prototype.shouldPreventMouseEvent=function(e){var r=this.gridOptionsService.is("enableCellTextSelection"),n=Cn();return(r&&"mousemove"===e.type||n)&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)},t.prototype.isOverFormFieldElement=function(e){var r=e.target,n=r?.tagName.toLocaleLowerCase();return!!n?.match("^a$|textarea|input|select|button")},t.prototype.onTouchUp=function(e,r){var n=this.getFirstActiveTouch(e.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,r)},t.prototype.onMouseUp=function(e,r){this.onUpCommon(e,r)},t.prototype.onUpCommon=function(e,r){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:M.EVENT_DRAG_STOPPED,target:r})),this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(i){return i()}),this.dragEndFunctions.length=0},ad([A("mouseEventService")],t.prototype,"mouseEventService",void 0),ad([yr],t.prototype,"removeAllListeners",null),ad([je("dragService")],t)}(Le),Ip=function(){function o(t){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=t.scrollContainer,this.scrollHorizontally=-1!==t.scrollAxis.indexOf("x"),this.scrollVertically=-1!==t.scrollAxis.indexOf("y"),this.scrollByTick=null!=t.scrollByTick?t.scrollByTick:20,t.onScrollCallback&&(this.onScrollCallback=t.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=t.getVerticalPosition,this.setVerticalPosition=t.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=t.getHorizontalPosition,this.setHorizontalPosition=t.setHorizontalPosition),this.shouldSkipVerticalScroll=t.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=t.shouldSkipHorizontalScroll||function(){return!1}}return o.prototype.check=function(t,e){void 0===e&&(e=!1);var r=e||this.shouldSkipVerticalScroll();if(!r||!this.shouldSkipHorizontalScroll()){var n=this.scrollContainer.getBoundingClientRect(),i=this.scrollByTick;this.tickLeft=t.clientX<n.left+i,this.tickRight=t.clientX>n.right-i,this.tickUp=t.clientY<n.top+i&&!r,this.tickDown=t.clientY>n.bottom-i&&!r,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},o.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},o.prototype.doTick=function(){var t;if(this.tickCount++,t=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var e=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(e-t),this.tickDown&&this.setVerticalPosition(e+t)}if(this.scrollHorizontally){var r=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(r-t),this.tickRight&&this.setHorizontalPosition(r+t)}this.onScrollCallback&&this.onScrollCallback()},o.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},o}(),Lp=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ld=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},qu="ag-list-item-hovered",Ms=(function(o){function t(e,r,n){var i=o.call(this)||this;return i.comp=e,i.virtualList=r,i.params=n,i.currentDragValue=null,i.lastHoveredListItem=null,i}Lp(t,o),t.prototype.postConstruct=function(){this.addManagedListener(this.params.eventSource,this.params.listItemDragStartEvent,this.listItemDragStart.bind(this)),this.addManagedListener(this.params.eventSource,this.params.listItemDragEndEvent,this.listItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()},t.prototype.listItemDragStart=function(e){this.currentDragValue=this.params.getCurrentDragValue(e),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)},t.prototype.listItemDragEnd=function(){var e=this;window.setTimeout(function(){e.currentDragValue=null,e.moveBlocked=!1},10)},t.prototype.createDropTarget=function(){var e=this;this.dragAndDropService.addDropTarget({isInterestedIn:function(n){return n===e.params.dragSourceType},getIconName:function(){return En[e.moveBlocked?"ICON_NOT_ALLOWED":"ICON_MOVE"]},getContainer:function(){return e.comp.getGui()},onDragging:function(n){return e.onDragging(n)},onDragStop:function(){return e.onDragStop()},onDragLeave:function(){return e.onDragLeave()}})},t.prototype.createAutoScrollService=function(){var e=this.virtualList.getGui();this.autoScrollService=new Ip({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(r){return e.scrollTop=r}})},t.prototype.onDragging=function(e){if(this.currentDragValue&&!this.moveBlocked){var r=this.getListDragItem(e),n=this.virtualList.getComponentAt(r.rowIndex);if(n){var i=n.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===r.rowIndex&&this.lastHoveredListItem.position===r.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredListItem=r,xi(i,qu),xi(i,"ag-item-highlight-"+r.position))}}},t.prototype.getListDragItem=function(e){var r=this.virtualList.getGui(),n=parseFloat(window.getComputedStyle(r).paddingTop),i=this.virtualList.getRowHeight(),s=this.virtualList.getScrollTop(),a=Math.max(0,(e.y-n+s)/i),d=this.params.getNumRows(this.comp)-1,g=0|Math.min(d,a);return{rowIndex:g,position:Math.round(a)>a||a>d?"bottom":"top",component:this.virtualList.getComponentAt(g)}},t.prototype.onDragStop=function(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearHoveredItems(),this.autoScrollService.ensureCleared())},t.prototype.onDragLeave=function(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()},t.prototype.clearHoveredItems=function(){this.virtualList.getGui().querySelectorAll("."+qu).forEach(function(r){[qu,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(function(n){r.classList.remove(n)})}),this.lastHoveredListItem=null},ld([A("dragAndDropService")],t.prototype,"dragAndDropService",void 0),ld([we],t.prototype,"postConstruct",null)}(Le),function(o){return o[o.Above=0]="Above",o[o.Below=1]="Below",o}(Ms||{})),Mr=function(o){return o.EVERYTHING="group",o.FILTER="filter",o.SORT="sort",o.MAP="map",o.AGGREGATE="aggregate",o.FILTER_AGGREGATES="filter_aggregates",o.PIVOT="pivot",o.NOTHING="nothing",o}(Mr||{}),_r=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i};function ma(o){return null!=o&&null!=o.getFrameworkComponentInstance?o.getFrameworkComponentInstance():o}var ah=function(){function o(){this.detailGridInfoMap={},this.destroyCalled=!1}return o.prototype.registerOverlayWrapperComp=function(t){this.overlayWrapperComp=t},o.prototype.registerSideBarComp=function(t){this.sideBarComp=t},o.prototype.init=function(){var t=this;switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl()})},o.prototype.__getAlignedGridService=function(){return this.alignedGridsService},o.prototype.__getContext=function(){return this.context},o.prototype.getSetterMethod=function(t){return"set"+t.charAt(0).toUpperCase()+t.substring(1)},o.prototype.__setPropertyOnly=function(t,e){return this.gos.__setPropertyOnly(t,e)},o.prototype.__updateProperty=function(t,e,r,n){void 0===n&&(n=void 0),this.gos.set(t,e,r,{},n);var i=this.getSetterMethod(t);this[i]&&this[i](e)},o.prototype.getGridId=function(){return this.context.getGridId()},o.prototype.addDetailGridInfo=function(t,e){this.detailGridInfoMap[t]=e},o.prototype.removeDetailGridInfo=function(t){this.detailGridInfoMap[t]=void 0},o.prototype.getDetailGridInfo=function(t){return this.detailGridInfoMap[t]},o.prototype.forEachDetailGridInfo=function(t){var e=0;rt(this.detailGridInfoMap,function(r,n){w(n)&&(t(n,e),e++)})},o.prototype.getDataAsCsv=function(t){if(it.__assertRegistered(Re.CsvExportModule,"api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(t)},o.prototype.exportDataAsCsv=function(t){it.__assertRegistered(Re.CsvExportModule,"api.exportDataAsCSv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(t)},o.prototype.getExcelExportMode=function(t){var e=this.gos.get("defaultExcelExportParams");return Object.assign({exportMode:"xlsx"},e,t).exportMode},o.prototype.assertNotExcelMultiSheet=function(t,e){if(!it.__assertRegistered(Re.ExcelExportModule,"api."+t,this.context.getGridId()))return!1;var r=this.getExcelExportMode(e);return this.excelCreator.getFactoryMode(r)!==sd.MULTI_SHEET||(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1)},o.prototype.getDataAsExcel=function(t){if(this.assertNotExcelMultiSheet("getDataAsExcel",t))return this.excelCreator.getDataAsExcel(t)},o.prototype.exportDataAsExcel=function(t){this.assertNotExcelMultiSheet("exportDataAsExcel",t)&&this.excelCreator.exportDataAsExcel(t)},o.prototype.getSheetDataForExcel=function(t){if(it.__assertRegistered(Re.ExcelExportModule,"api.getSheetDataForExcel",this.context.getGridId())){var e=this.getExcelExportMode(t);return this.excelCreator.setFactoryMode(sd.MULTI_SHEET,e),this.excelCreator.getSheetDataForExcel(t)}},o.prototype.getMultipleSheetsAsExcel=function(t){if(it.__assertRegistered(Re.ExcelExportModule,"api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(t)},o.prototype.exportMultipleSheetsAsExcel=function(t){if(it.__assertRegistered(Re.ExcelExportModule,"api.exportMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.exportMultipleSheetsAsExcel(t)},o.prototype.setTreeData=function(t){this.gos.set("treeData",t)},o.prototype.setGridAriaProperty=function(t,e){if(t){var r=this.ctrlsService.getGridBodyCtrl().getGui(),n="aria-"+t;null===e?r.removeAttribute(n):r.setAttribute(n,e)}},o.prototype.logMissingRowModel=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];console.error("AG Grid: api."+t+" can only be called when gridOptions.rowModelType is "+e.join(" or "))},o.prototype.setServerSideDatasource=function(t){this.serverSideRowModel?this.serverSideRowModel.setDatasource(t):this.logMissingRowModel("setServerSideDatasource","serverSide")},o.prototype.setCacheBlockSize=function(t){this.serverSideRowModel?(this.gos.set("cacheBlockSize",t),this.serverSideRowModel.resetRootStore()):this.logMissingRowModel("setCacheBlockSize","serverSide")},o.prototype.setDatasource=function(t){this.gos.isRowModelType("infinite")?this.rowModel.setDatasource(t):this.logMissingRowModel("setDatasource","infinite")},o.prototype.setViewportDatasource=function(t){this.gos.isRowModelType("viewport")?this.rowModel.setViewportDatasource(t):this.logMissingRowModel("setViewportDatasource","viewport")},o.prototype.setRowData=function(t){null==this.immutableService?this.logMissingRowModel("setRowData","clientSide"):this.immutableService.isActive()?this.immutableService.setRowData(t):(this.selectionService.reset(),this.clientSideRowModel.setRowData(t))},o.prototype.setPinnedTopRowData=function(t){this.pinnedRowModel.setPinnedTopRowData(t)},o.prototype.setPinnedBottomRowData=function(t){this.pinnedRowModel.setPinnedBottomRowData(t)},o.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},o.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},o.prototype.getPinnedTopRow=function(t){return this.pinnedRowModel.getPinnedTopRow(t)},o.prototype.getPinnedBottomRow=function(t){return this.pinnedRowModel.getPinnedBottomRow(t)},o.prototype.setColumnDefs=function(t,e){void 0===e&&(e="api"),this.columnModel.setColumnDefs(t,e),this.gos.set("columnDefs",t,!0,{source:e})},o.prototype.setAutoGroupColumnDef=function(t,e){void 0===e&&(e="api"),this.gos.set("autoGroupColumnDef",t,!0,{source:e})},o.prototype.setDefaultColDef=function(t,e){void 0===e&&(e="api"),this.gos.set("defaultColDef",t,!0,{source:e})},o.prototype.setColumnTypes=function(t,e){void 0===e&&(e="api"),this.gos.set("columnTypes",t,!0,{source:e})},o.prototype.expireValueCache=function(){this.valueCache.expire()},o.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},o.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},o.prototype.setAlwaysShowHorizontalScroll=function(t){this.gos.set("alwaysShowHorizontalScroll",t)},o.prototype.setAlwaysShowVerticalScroll=function(t){this.gos.set("alwaysShowVerticalScroll",t)},o.prototype.refreshCells=function(t){void 0===t&&(t={}),this.rowRenderer.refreshCells(t)},o.prototype.flashCells=function(t){void 0===t&&(t={}),this.rowRenderer.flashCells(t)},o.prototype.redrawRows=function(t){void 0===t&&(t={}),this.rowRenderer.redrawRows(t?t.rowNodes:void 0)},o.prototype.setFunctionsReadOnly=function(t){this.gos.set("functionsReadOnly",t)},o.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(t){return t.refresh()})},o.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},o.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},o.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},o.prototype.getModel=function(){return this.rowModel},o.prototype.setRowNodeExpanded=function(t,e,r){t&&(r&&t.parent&&-1!==t.parent.level&&this.setRowNodeExpanded(t.parent,e,r),t.setExpanded(e))},o.prototype.onGroupExpandedOrCollapsed=function(){W(this.clientSideRowModel)?this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide"):this.clientSideRowModel.refreshModel({step:Mr.MAP})},o.prototype.refreshClientSideRowModel=function(t){W(this.clientSideRowModel)?this.logMissingRowModel("refreshClientSideRowModel","clientSide"):this.clientSideRowModel.refreshModel(t)},o.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},o.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},o.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},o.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}},o.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")},o.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):this.logMissingRowModel("expandAll","clientSide","serverSide")},o.prototype.addRenderedRowListener=function(t,e,r){this.rowRenderer.addRenderedRowListener(t,e,r)},o.prototype.getQuickFilter=function(){return this.gos.get("quickFilterText")},o.prototype.setQuickFilter=function(t){this.gos.set("quickFilterText",t)},o.prototype.setExcludeHiddenColumnsFromQuickFilter=function(t){li("30","setExcludeHiddenColumnsFromQuickFilter",void 0,"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `setIncludeHiddenColumnsInQuickFilter`"),this.setIncludeHiddenColumnsInQuickFilter(!t)},o.prototype.setIncludeHiddenColumnsInQuickFilter=function(t){this.gos.set("includeHiddenColumnsInQuickFilter",t)},o.prototype.setQuickFilterParser=function(t){this.gos.set("quickFilterParser",t)},o.prototype.setQuickFilterMatcher=function(t){this.gos.set("quickFilterMatcher",t)},o.prototype.getAdvancedFilterModel=function(){return it.__assertRegistered(Re.AdvancedFilterModule,"api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null},o.prototype.setAdvancedFilterModel=function(t){this.gos.set("advancedFilterModel",t)},o.prototype.setEnableAdvancedFilter=function(t){this.gos.set("enableAdvancedFilter",t)},o.prototype.setIncludeHiddenColumnsInAdvancedFilter=function(t){this.gos.set("includeHiddenColumnsInAdvancedFilter",t)},o.prototype.setAdvancedFilterParent=function(t){this.gos.set("advancedFilterParent",t)},o.prototype.setAdvancedFilterBuilderParams=function(t){this.gos.set("advancedFilterBuilderParams",t)},o.prototype.showAdvancedFilterBuilder=function(){it.__assertRegistered(Re.AdvancedFilterModule,"api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.showAdvancedFilterBuilder("api")},o.prototype.setNodesSelected=function(t){t.nodes.every(function(a){return a.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):void 0!==a.id||(console.warn("AG Grid: cannot select node until id for node is known"),!1)})&&this.selectionService.setNodesSelected({nodes:t.nodes,source:t.source??"api",newValue:t.newValue})},o.prototype.selectAll=function(t){void 0===t&&(t="apiSelectAll"),this.selectionService.selectAllRowNodes({source:t})},o.prototype.deselectAll=function(t){void 0===t&&(t="apiSelectAll"),this.selectionService.deselectAllRowNodes({source:t})},o.prototype.selectAllFiltered=function(t){void 0===t&&(t="apiSelectAllFiltered"),this.selectionService.selectAllRowNodes({source:t,justFiltered:!0})},o.prototype.deselectAllFiltered=function(t){void 0===t&&(t="apiSelectAllFiltered"),this.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})},o.prototype.getServerSideSelectionState=function(){return W(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getServerSideSelectionState()},o.prototype.setServerSideSelectionState=function(t){W(this.serverSideRowModel)?this.logMissingRowModel("setServerSideSelectionState","serverSide"):this.selectionService.setServerSideSelectionState(t)},o.prototype.selectAllOnCurrentPage=function(t){void 0===t&&(t="apiSelectAllCurrentPage"),this.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})},o.prototype.deselectAllOnCurrentPage=function(t){void 0===t&&(t="apiSelectAllCurrentPage"),this.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})},o.prototype.sizeColumnsToFit=function(t){this.gridBodyCtrl.sizeColumnsToFit(t)},o.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},o.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},o.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},o.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},o.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},o.prototype.getBestCostNodeSelection=function(){if(!W(this.clientSideRowModel))return this.selectionService.getBestCostNodeSelection();this.logMissingRowModel("getBestCostNodeSelection","clientSide")},o.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},o.prototype.ensureColumnVisible=function(t,e){void 0===e&&(e="auto"),this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(t,e)},o.prototype.ensureIndexVisible=function(t,e){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t,e)},o.prototype.ensureNodeVisible=function(t,e){void 0===e&&(e=null),this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(t,e)},o.prototype.forEachLeafNode=function(t){W(this.clientSideRowModel)?this.logMissingRowModel("forEachLeafNode","clientSide"):this.clientSideRowModel.forEachLeafNode(t)},o.prototype.forEachNode=function(t,e){this.rowModel.forEachNode(t,e)},o.prototype.forEachNodeAfterFilter=function(t){W(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilter","clientSide"):this.clientSideRowModel.forEachNodeAfterFilter(t)},o.prototype.forEachNodeAfterFilterAndSort=function(t){W(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide"):this.clientSideRowModel.forEachNodeAfterFilterAndSort(t)},o.prototype.getFilterInstance=function(t,e){return this.filterManager.getFilterInstance(t,e)},o.prototype.destroyFilter=function(t){var e=this.columnModel.getPrimaryColumn(t);if(e)return this.filterManager.destroyFilter(e,"api")},o.prototype.getStatusPanel=function(t){if(it.__assertRegistered(Re.StatusBarModule,"api.getStatusPanel",this.context.getGridId()))return ma(this.statusBarService.getStatusPanel(t))},o.prototype.getColumnDef=function(t){var e=this.columnModel.getPrimaryColumn(t);return e?e.getColDef():null},o.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},o.prototype.onFilterChanged=function(t){void 0===t&&(t="api"),this.filterManager.onFilterChanged({source:t})},o.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},o.prototype.setFilterModel=function(t){this.filterManager.setFilterModel(t)},o.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},o.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},o.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},o.prototype.setFocusedCell=function(t,e,r){this.focusService.setFocusedCell({rowIndex:t,column:e,rowPinned:r,forceBrowserFocus:!0})},o.prototype.setSuppressRowDrag=function(t){this.gos.set("suppressRowDrag",t)},o.prototype.setSuppressMoveWhenRowDragging=function(t){this.gos.set("suppressMoveWhenRowDragging",t)},o.prototype.setSuppressRowClickSelection=function(t){this.gos.set("suppressRowClickSelection",t)},o.prototype.addRowDropZone=function(t){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(t)},o.prototype.removeRowDropZone=function(t){var e=this.dragAndDropService.findExternalZone(t);e&&this.dragAndDropService.removeDropTarget(e)},o.prototype.getRowDropZoneParams=function(t){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(t)},o.prototype.setHeaderHeight=function(t){this.gos.set("headerHeight",t)},o.prototype.setDomLayout=function(t){this.gos.set("domLayout",t)},o.prototype.setEnableCellTextSelection=function(t){this.gridBodyCtrl.setCellTextSelection(t)},o.prototype.setFillHandleDirection=function(t){this.gos.set("fillHandleDirection",t)},o.prototype.setGroupHeaderHeight=function(t){this.gos.set("groupHeaderHeight",t)},o.prototype.setFloatingFiltersHeight=function(t){this.gos.set("floatingFiltersHeight",t)},o.prototype.setPivotHeaderHeight=function(t){this.gos.set("pivotHeaderHeight",t)},o.prototype.setPivotGroupHeaderHeight=function(t){this.gos.set("pivotGroupHeaderHeight",t)},o.prototype.setPivotMode=function(t){this.columnModel.setPivotMode(t)},o.prototype.setAnimateRows=function(t){this.gos.set("animateRows",t)},o.prototype.setIsExternalFilterPresent=function(t){this.gos.set("isExternalFilterPresent",t)},o.prototype.setDoesExternalFilterPass=function(t){this.gos.set("doesExternalFilterPass",t)},o.prototype.setNavigateToNextCell=function(t){this.gos.set("navigateToNextCell",t)},o.prototype.setTabToNextCell=function(t){this.gos.set("tabToNextCell",t)},o.prototype.setTabToNextHeader=function(t){this.gos.set("tabToNextHeader",t)},o.prototype.setNavigateToNextHeader=function(t){this.gos.set("navigateToNextHeader",t)},o.prototype.setRowGroupPanelShow=function(t){this.gos.set("rowGroupPanelShow",t)},o.prototype.setGetGroupRowAgg=function(t){this.gos.set("getGroupRowAgg",t)},o.prototype.setGetBusinessKeyForNode=function(t){this.gos.set("getBusinessKeyForNode",t)},o.prototype.setGetChildCount=function(t){this.gos.set("getChildCount",t)},o.prototype.setProcessRowPostCreate=function(t){this.gos.set("processRowPostCreate",t)},o.prototype.setGetRowId=function(t){this.gos.set("getRowId",t)},o.prototype.setGetRowClass=function(t){this.gos.set("getRowClass",t)},o.prototype.setIsFullWidthRow=function(t){this.gos.set("isFullWidthRow",t)},o.prototype.setIsRowSelectable=function(t){this.gos.set("isRowSelectable",t)},o.prototype.setIsRowMaster=function(t){this.gos.set("isRowMaster",t)},o.prototype.setPostSortRows=function(t){this.gos.set("postSortRows",t)},o.prototype.setGetDocument=function(t){this.gos.set("getDocument",t)},o.prototype.setGetContextMenuItems=function(t){this.gos.set("getContextMenuItems",t)},o.prototype.setGetMainMenuItems=function(t){this.gos.set("getMainMenuItems",t)},o.prototype.setProcessCellForClipboard=function(t){this.gos.set("processCellForClipboard",t)},o.prototype.setSendToClipboard=function(t){this.gos.set("sendToClipboard",t)},o.prototype.setProcessCellFromClipboard=function(t){this.gos.set("processCellFromClipboard",t)},o.prototype.setProcessSecondaryColDef=function(t){li("28.0","setProcessSecondaryColDef","setProcessPivotResultColDef"),this.setProcessPivotResultColDef(t)},o.prototype.setProcessSecondaryColGroupDef=function(t){li("28.0","setProcessSecondaryColGroupDef","setProcessPivotResultColGroupDef"),this.setProcessPivotResultColGroupDef(t)},o.prototype.setProcessPivotResultColDef=function(t){this.gos.set("processPivotResultColDef",t)},o.prototype.setProcessPivotResultColGroupDef=function(t){this.gos.set("processPivotResultColGroupDef",t)},o.prototype.setPostProcessPopup=function(t){this.gos.set("postProcessPopup",t)},o.prototype.setInitialGroupOrderComparator=function(t){this.gos.set("initialGroupOrderComparator",t)},o.prototype.setGetChartToolbarItems=function(t){this.gos.set("getChartToolbarItems",t)},o.prototype.setPaginationNumberFormatter=function(t){this.gos.set("paginationNumberFormatter",t)},o.prototype.setGetServerSideStoreParams=function(t){li("28.0","setGetServerSideStoreParams","setGetServerSideGroupLevelParams"),this.setGetServerSideGroupLevelParams(t)},o.prototype.setGetServerSideGroupLevelParams=function(t){this.gos.set("getServerSideGroupLevelParams",t)},o.prototype.setIsServerSideGroupOpenByDefault=function(t){this.gos.set("isServerSideGroupOpenByDefault",t)},o.prototype.setIsApplyServerSideTransaction=function(t){this.gos.set("isApplyServerSideTransaction",t)},o.prototype.setIsServerSideGroup=function(t){this.gos.set("isServerSideGroup",t)},o.prototype.setGetServerSideGroupKey=function(t){this.gos.set("getServerSideGroupKey",t)},o.prototype.setGetRowStyle=function(t){this.gos.set("getRowStyle",t)},o.prototype.setGetRowHeight=function(t){this.gos.set("getRowHeight",t)},o.prototype.assertSideBarLoaded=function(t){return it.__assertRegistered(Re.SideBarModule,"api."+t,this.context.getGridId())},o.prototype.isSideBarVisible=function(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarComp.isDisplayed()},o.prototype.setSideBarVisible=function(t){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarComp.setDisplayed(t)},o.prototype.setSideBarPosition=function(t){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarComp.setSideBarPosition(t)},o.prototype.openToolPanel=function(t){this.assertSideBarLoaded("openToolPanel")&&this.sideBarComp.openToolPanel(t,"api")},o.prototype.closeToolPanel=function(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarComp.close("api")},o.prototype.getOpenedToolPanel=function(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarComp.openedItem():null},o.prototype.refreshToolPanel=function(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarComp.refresh()},o.prototype.isToolPanelShowing=function(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarComp.isToolPanelShowing()},o.prototype.getToolPanelInstance=function(t){if(this.assertSideBarLoaded("getToolPanelInstance"))return ma(this.sideBarComp.getToolPanelInstance(t))},o.prototype.getSideBar=function(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarComp.getDef()},o.prototype.setSideBar=function(t){this.gos.set("sideBar",t)},o.prototype.setSuppressClipboardPaste=function(t){this.gos.set("suppressClipboardPaste",t)},o.prototype.resetRowHeights=function(){if(w(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}},o.prototype.setGroupRemoveSingleChildren=function(t){this.gos.set("groupRemoveSingleChildren",t)},o.prototype.setGroupRemoveLowestSingleChildren=function(t){this.gos.set("groupRemoveLowestSingleChildren",t)},o.prototype.setGroupDisplayType=function(t){this.gos.set("groupDisplayType",t)},o.prototype.setGroupIncludeFooter=function(t){this.gos.set("groupIncludeFooter",t)},o.prototype.setGroupIncludeTotalFooter=function(t){this.gos.set("groupIncludeTotalFooter",t)},o.prototype.setRowClass=function(t){this.gos.set("rowClass",t)},o.prototype.setDeltaSort=function(t){this.gos.set("deltaSort",t)},o.prototype.setRowCount=function(t,e){if(this.serverSideRowModel)return this.columnModel.isRowGroupEmpty()?void this.serverSideRowModel.setRowCount(t,e):void console.error("AG Grid: setRowCount cannot be used while using row grouping.");this.infiniteRowModel?this.infiniteRowModel.setRowCount(t,e):this.logMissingRowModel("setRowCount","infinite","serverSide")},o.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},o.prototype.getValue=function(t,e){var r=this.columnModel.getPrimaryColumn(t);return W(r)&&(r=this.columnModel.getGridColumn(t)),W(r)?null:this.valueService.getValue(r,e)},o.prototype.addEventListener=function(t,e){var r=this.gos.useAsyncEvents();this.eventService.addEventListener(t,e,r)},o.prototype.addGlobalListener=function(t){var e=this.gos.useAsyncEvents();this.eventService.addGlobalListener(t,e)},o.prototype.removeEventListener=function(t,e){var r=this.gos.useAsyncEvents();this.eventService.removeEventListener(t,e,r)},o.prototype.removeGlobalListener=function(t){var e=this.gos.useAsyncEvents();this.eventService.removeGlobalListener(t,e)},o.prototype.dispatchEvent=function(t){this.eventService.dispatchEvent(t)},o.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0,this.dispatchEvent({type:M.EVENT_GRID_PRE_DESTROYED});var t=this.ctrlsService.getGridCtrl();t&&t.destroyGridUi(),this.context.destroy()}},o.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout($r.bind(window,this,"Grid API"),100)},o.prototype.warnIfDestroyed=function(t){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+t+" was called on a grid that was destroyed."),this.destroyCalled},o.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.filterManager.resetQuickFilterCache()},o.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(it.__assertRegistered(Re.RangeSelectionModule,"api.getCellRanges",this.context.getGridId()),null)},o.prototype.addCellRange=function(t){this.rangeService?this.rangeService.addCellRange(t):it.__assertRegistered(Re.RangeSelectionModule,"api.addCellRange",this.context.getGridId())},o.prototype.clearRangeSelection=function(){this.rangeService&&this.rangeService.removeAllCellRanges(),it.__assertRegistered(Re.RangeSelectionModule,"gridApi.clearRangeSelection",this.context.getGridId())},o.prototype.undoCellEditing=function(){this.undoRedoService.undo("api")},o.prototype.redoCellEditing=function(){this.undoRedoService.redo("api")},o.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},o.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},o.prototype.getChartModels=function(){if(it.__assertRegistered(Re.GridChartsModule,"api.getChartModels",this.context.getGridId()))return this.chartService.getChartModels()},o.prototype.getChartRef=function(t){if(it.__assertRegistered(Re.GridChartsModule,"api.getChartRef",this.context.getGridId()))return this.chartService.getChartRef(t)},o.prototype.getChartImageDataURL=function(t){if(it.__assertRegistered(Re.GridChartsModule,"api.getChartImageDataURL",this.context.getGridId()))return this.chartService.getChartImageDataURL(t)},o.prototype.downloadChart=function(t){if(it.__assertRegistered(Re.GridChartsModule,"api.downloadChart",this.context.getGridId()))return this.chartService.downloadChart(t)},o.prototype.openChartToolPanel=function(t){if(it.__assertRegistered(Re.GridChartsModule,"api.openChartToolPanel",this.context.getGridId()))return this.chartService.openChartToolPanel(t)},o.prototype.closeChartToolPanel=function(t){if(it.__assertRegistered(Re.GridChartsModule,"api.closeChartToolPanel",this.context.getGridId()))return this.chartService.closeChartToolPanel(t.chartId)},o.prototype.createRangeChart=function(t){if(it.__assertRegistered(Re.GridChartsModule,"api.createRangeChart",this.context.getGridId()))return this.chartService.createRangeChart(t)},o.prototype.createPivotChart=function(t){if(it.__assertRegistered(Re.GridChartsModule,"api.createPivotChart",this.context.getGridId()))return this.chartService.createPivotChart(t)},o.prototype.createCrossFilterChart=function(t){if(it.__assertRegistered(Re.GridChartsModule,"api.createCrossFilterChart",this.context.getGridId()))return this.chartService.createCrossFilterChart(t)},o.prototype.updateChart=function(t){it.__assertRegistered(Re.GridChartsModule,"api.updateChart",this.context.getGridId())&&this.chartService.updateChart(t)},o.prototype.restoreChart=function(t,e){if(it.__assertRegistered(Re.GridChartsModule,"api.restoreChart",this.context.getGridId()))return this.chartService.restoreChart(t,e)},o.prototype.copyToClipboard=function(t){it.__assertRegistered(Re.ClipboardModule,"api.copyToClipboard",this.context.getGridId())&&this.clipboardService.copyToClipboard(t)},o.prototype.cutToClipboard=function(t){it.__assertRegistered(Re.ClipboardModule,"api.cutToClipboard",this.context.getGridId())&&this.clipboardService.cutToClipboard(t,"api")},o.prototype.copySelectedRowsToClipboard=function(t){it.__assertRegistered(Re.ClipboardModule,"api.copySelectedRowsToClipboard",this.context.getGridId())&&this.clipboardService.copySelectedRowsToClipboard(t)},o.prototype.copySelectedRangeToClipboard=function(t){it.__assertRegistered(Re.ClipboardModule,"api.copySelectedRangeToClipboard",this.context.getGridId())&&this.clipboardService.copySelectedRangeToClipboard(t)},o.prototype.copySelectedRangeDown=function(){it.__assertRegistered(Re.ClipboardModule,"api.copySelectedRangeDown",this.context.getGridId())&&this.clipboardService.copyRangeDown()},o.prototype.pasteFromClipboard=function(){it.__assertRegistered(Re.ClipboardModule,"api.pasteFromClipboard",this.context.getGridId())&&this.clipboardService.pasteFromClipboard()},o.prototype.showColumnMenuAfterButtonClick=function(t,e){var r=this.columnModel.getGridColumn(t);this.menuFactory.showMenuAfterButtonClick(r,e,"columnMenu")},o.prototype.showColumnMenuAfterMouseClick=function(t,e){var r=this.columnModel.getGridColumn(t);r||(r=this.columnModel.getPrimaryColumn(t)),r?this.menuFactory.showMenuAfterMouseEvent(r,e):console.error("AG Grid: column '"+t+"' not found")},o.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},o.prototype.setPopupParent=function(t){this.gos.set("popupParent",t)},o.prototype.tabToNextCell=function(t){return this.navigationService.tabToNextCell(!1,t)},o.prototype.tabToPreviousCell=function(t){return this.navigationService.tabToNextCell(!0,t)},o.prototype.getCellRendererInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellRendererInstances(t).map(ma)},o.prototype.getCellEditorInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellEditorInstances(t).map(ma)},o.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},o.prototype.stopEditing=function(t){void 0===t&&(t=!1),this.rowRenderer.stopEditing(t)},o.prototype.startEditingCell=function(t){var e=this.columnModel.getGridColumn(t.colKey);if(e){var r={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:e};null==t.rowPinned&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t.rowIndex);var i=this.navigationService.getCellByPosition(r);i&&(this.focusService.isCellFocused(r)||this.focusService.setFocusedCell(r),i.startRowOrCellEdit(t.key))}else console.warn("AG Grid: no column found for "+t.colKey)},o.prototype.addAggFunc=function(t,e){this.aggFuncService&&this.aggFuncService.addAggFunc(t,e)},o.prototype.addAggFuncs=function(t){this.aggFuncService&&this.aggFuncService.addAggFuncs(t)},o.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},o.prototype.applyServerSideTransaction=function(t){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(t);this.logMissingRowModel("applyServerSideTransaction","serverSide")},o.prototype.applyServerSideTransactionAsync=function(t,e){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(t,e);this.logMissingRowModel("applyServerSideTransactionAsync","serverSide")},o.prototype.applyServerSideRowData=function(t){var e,r,n=null!==(e=t.startRow)&&void 0!==e?e:0,i=null!==(r=t.route)&&void 0!==r?r:[];n<0?console.warn("AG Grid: invalid value "+t.startRow+" for startRow, the value should be >= 0"):this.serverSideRowModel?this.serverSideRowModel.applyRowData(t.successParams,n,i):this.logMissingRowModel("setServerSideDatasource","serverSide")},o.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():this.logMissingRowModel("retryServerSideLoads","serverSide")},o.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide")},o.prototype.applyTransaction=function(t){if(this.clientSideRowModel)return this.clientSideRowModel.updateRowData(t);this.logMissingRowModel("applyTransaction","clientSide")},o.prototype.applyTransactionAsync=function(t,e){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(t,e):this.logMissingRowModel("applyTransactionAsync","clientSide")},o.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():this.logMissingRowModel("flushAsyncTransactions","clientSide")},o.prototype.setSuppressModelUpdateAfterUpdateTransaction=function(t){this.gos.set("suppressModelUpdateAfterUpdateTransaction",t)},o.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")},o.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")},o.prototype.refreshServerSide=function(t){this.serverSideRowModel?this.serverSideRowModel.refreshStore(t):this.logMissingRowModel("refreshServerSide","serverSide")},o.prototype.refreshServerSideStore=function(t){return li("28.0","refreshServerSideStore","refreshServerSide"),this.refreshServerSide(t)},o.prototype.getServerSideStoreState=function(){return li("28.0","getServerSideStoreState","getServerSideGroupLevelState"),this.getServerSideGroupLevelState()},o.prototype.getServerSideGroupLevelState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])},o.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")},o.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")},o.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},o.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},o.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},o.prototype.getDisplayedRowAtIndex=function(t){return this.rowModel.getRow(t)},o.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},o.prototype.setDataTypeDefinitions=function(t){this.gos.set("dataTypeDefinitions",t)},o.prototype.setPagination=function(t){this.gos.set("pagination",t)},o.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},o.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},o.prototype.paginationSetPageSize=function(t){this.gos.set("paginationPageSize",t)},o.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},o.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},o.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},o.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},o.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},o.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},o.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},o.prototype.paginationGoToPage=function(t){this.paginationProxy.goToPage(t)},_r([xt("immutableService")],o.prototype,"immutableService",void 0),_r([xt("csvCreator")],o.prototype,"csvCreator",void 0),_r([xt("excelCreator")],o.prototype,"excelCreator",void 0),_r([A("rowRenderer")],o.prototype,"rowRenderer",void 0),_r([A("navigationService")],o.prototype,"navigationService",void 0),_r([A("filterManager")],o.prototype,"filterManager",void 0),_r([A("columnModel")],o.prototype,"columnModel",void 0),_r([A("selectionService")],o.prototype,"selectionService",void 0),_r([A("gridOptionsService")],o.prototype,"gos",void 0),_r([A("valueService")],o.prototype,"valueService",void 0),_r([A("alignedGridsService")],o.prototype,"alignedGridsService",void 0),_r([A("eventService")],o.prototype,"eventService",void 0),_r([A("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),_r([A("context")],o.prototype,"context",void 0),_r([A("rowModel")],o.prototype,"rowModel",void 0),_r([A("sortController")],o.prototype,"sortController",void 0),_r([A("paginationProxy")],o.prototype,"paginationProxy",void 0),_r([A("focusService")],o.prototype,"focusService",void 0),_r([A("dragAndDropService")],o.prototype,"dragAndDropService",void 0),_r([xt("rangeService")],o.prototype,"rangeService",void 0),_r([xt("clipboardService")],o.prototype,"clipboardService",void 0),_r([xt("aggFuncService")],o.prototype,"aggFuncService",void 0),_r([A("menuFactory")],o.prototype,"menuFactory",void 0),_r([xt("contextMenuFactory")],o.prototype,"contextMenuFactory",void 0),_r([A("valueCache")],o.prototype,"valueCache",void 0),_r([A("animationFrameService")],o.prototype,"animationFrameService",void 0),_r([xt("statusBarService")],o.prototype,"statusBarService",void 0),_r([xt("chartService")],o.prototype,"chartService",void 0),_r([xt("undoRedoService")],o.prototype,"undoRedoService",void 0),_r([xt("rowNodeBlockLoader")],o.prototype,"rowNodeBlockLoader",void 0),_r([xt("ssrmTransactionManager")],o.prototype,"serverSideTransactionManager",void 0),_r([A("ctrlsService")],o.prototype,"ctrlsService",void 0),_r([we],o.prototype,"init",null),_r([yr],o.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),_r([je("gridApi")],o)}(),lh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Jl=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Np=function(o){function t(){var r=null!==o&&o.apply(this,arguments)||this;return r.quickFilter=null,r.quickFilterParts=null,r}var e;return lh(t,o),e=t,t.prototype.postConstruct=function(){var r=this;this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return r.resetQuickFilterCache()}),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,function(){return r.resetQuickFilterCache()}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return r.resetQuickFilterCache()}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VISIBLE,function(){r.gridOptionsService.is("includeHiddenColumnsInQuickFilter")||r.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",function(n){return r.setQuickFilter(n.currentValue)}),this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter",function(){return r.onIncludeHiddenColumnsInQuickFilterChanged()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.parser=this.gridOptionsService.get("quickFilterParser"),this.matcher=this.gridOptionsService.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],function(){return r.setQuickFilterParserAndMatcher()})},t.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},t.prototype.doesRowPassQuickFilter=function(r){var n=this,i=this.gridOptionsService.is("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(i,r):this.quickFilterParts.every(function(s){return i?n.doesRowPassQuickFilterCache(r,s):n.doesRowPassQuickFilterNoCache(r,s)})},t.prototype.resetQuickFilterCache=function(){this.rowModel.forEachNode(function(r){return r.quickFilterAggregateText=null})},t.prototype.setQuickFilterParts=function(){var n=this.quickFilter,i=this.parser;this.quickFilterParts=n?i?i(n):n.split(" "):null},t.prototype.parseQuickFilter=function(r){return w(r)?this.gridOptionsService.isRowModelType("clientSide")?r.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},t.prototype.setQuickFilter=function(r){if(null==r||"string"==typeof r){var n=this.parseQuickFilter(r);this.quickFilter!==n&&(this.quickFilter=n,this.setQuickFilterParts(),this.dispatchEvent({type:e.EVENT_QUICK_FILTER_CHANGED}))}else console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof r)},t.prototype.setQuickFilterParserAndMatcher=function(){var r=this.gridOptionsService.get("quickFilterParser"),n=this.gridOptionsService.get("quickFilterMatcher"),i=r!==this.parser||n!==this.matcher;this.parser=r,this.matcher=n,i&&(this.setQuickFilterParts(),this.dispatchEvent({type:e.EVENT_QUICK_FILTER_CHANGED}))},t.prototype.onIncludeHiddenColumnsInQuickFilterChanged=function(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchEvent({type:e.EVENT_QUICK_FILTER_CHANGED})},t.prototype.doesRowPassQuickFilterNoCache=function(r,n){var i=this;return this.columnModel.getAllColumnsForQuickFilter().some(function(a){var d=i.getQuickFilterTextForColumn(a,r);return w(d)&&d.indexOf(n)>=0})},t.prototype.doesRowPassQuickFilterCache=function(r,n){return this.checkGenerateQuickFilterAggregateText(r),r.quickFilterAggregateText.indexOf(n)>=0},t.prototype.doesRowPassQuickFilterMatcher=function(r,n){var i;return r?(this.checkGenerateQuickFilterAggregateText(n),i=n.quickFilterAggregateText):i=this.getQuickFilterAggregateText(n),(0,this.matcher)(this.quickFilterParts,i)},t.prototype.checkGenerateQuickFilterAggregateText=function(r){r.quickFilterAggregateText||(r.quickFilterAggregateText=this.getQuickFilterAggregateText(r))},t.prototype.getQuickFilterTextForColumn=function(r,n){var i=this.valueService.getValue(r,n,!0),s=r.getColDef();return s.getQuickFilterText&&(i=s.getQuickFilterText({value:i,node:n,data:n.data,column:r,colDef:s,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context})),w(i)?i.toString().toUpperCase():null},t.prototype.getQuickFilterAggregateText=function(r){var n=this,i=[];return this.columnModel.getAllColumnsForQuickFilter().forEach(function(a){var d=n.getQuickFilterTextForColumn(a,r);w(d)&&i.push(d)}),i.join(e.QUICK_FILTER_SEPARATOR)},t.EVENT_QUICK_FILTER_CHANGED="quickFilterChanged",t.QUICK_FILTER_SEPARATOR="\n",Jl([A("valueService")],t.prototype,"valueService",void 0),Jl([A("columnModel")],t.prototype,"columnModel",void 0),Jl([A("rowModel")],t.prototype,"rowModel",void 0),Jl([we],t.prototype,"postConstruct",null),e=Jl([je("quickFilterService")],t)}(Le),uh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ri=function(){return ri=Object.assign||function(o){for(var t,e=1,r=arguments.length;e<r;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o},ri.apply(this,arguments)},Oo=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},ch=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.allColumnFilters=new Map,e.allColumnListeners=new Map,e.activeAggregateFilters=[],e.activeColumnFilters=[],e.processingFilterChange=!1,e.filterModelUpdateQueue=[],e}return uh(t,o),t.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,M.EVENT_GRID_COLUMNS_CHANGED,function(){return e.onColumnsChanged()}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VALUE_CHANGED,function(){return e.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,function(){return e.updateAdvancedFilterColumns()}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VISIBLE,function(){return e.updateAdvancedFilterColumns()}),this.allowShowChangeAfterFilter=this.gridOptionsService.is("allowShowChangeAfterFilter"),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",function(){return e.updateAggFiltering()}),this.addManagedPropertyListener("advancedFilterModel",function(r){return e.setAdvancedFilterModel(r.currentValue)}),this.addManagedListener(this.eventService,M.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,function(r){return e.onAdvancedFilterEnabledChanged(r.enabled)}),this.addManagedListener(this.eventService,M.EVENT_DATA_TYPES_INFERRED,function(){return e.processFilterModelUpdateQueue()}),this.addManagedListener(this.quickFilterService,Np.EVENT_QUICK_FILTER_CHANGED,function(){return e.onFilterChanged({source:"quickFilter"})})},t.prototype.isExternalFilterPresentCallback=function(){var e=this.gridOptionsService.getCallback("isExternalFilterPresent");return"function"==typeof e&&e({})},t.prototype.doesExternalFilterPass=function(e){var r=this.gridOptionsService.get("doesExternalFilterPass");return"function"==typeof r&&r(e)},t.prototype.setFilterModel=function(e){var r=this;if(this.isAdvancedFilterEnabled())this.warnAdvancedFilters();else if(this.dataTypeService.isPendingInference())this.filterModelUpdateQueue.push(e);else{var n=[],i=this.getFilterModel();if(e){var s=Tl(Object.keys(e));this.allColumnFilters.forEach(function(a,d){n.push(r.setModelOnFilterWrapper(a.filterPromise,e[d])),s.delete(d)}),s.forEach(function(a){var d=r.columnModel.getPrimaryColumn(a)||r.columnModel.getGridColumn(a);if(d)if(d.isFilterAllowed()){var g=r.getOrCreateFilterWrapper(d,"NO_UI");g?n.push(r.setModelOnFilterWrapper(g.filterPromise,e[a])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+a)}else console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+a);else console.warn("AG Grid: setFilterModel() - no column found for colId: "+a)})}else this.allColumnFilters.forEach(function(a){n.push(r.setModelOnFilterWrapper(a.filterPromise,null))});pi.all(n).then(function(){var a=r.getFilterModel(),d=[];r.allColumnFilters.forEach(function(g,m){Vt.jsonEquals(i?i[m]:null,a?a[m]:null)||d.push(g.column)}),d.length>0&&r.onFilterChanged({columns:d,source:"api"})})}},t.prototype.setModelOnFilterWrapper=function(e,r){return new pi(function(n){e.then(function(i){"function"!=typeof i.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),n()),(i.setModel(r)||pi.resolve()).then(function(){return n()})})})},t.prototype.getFilterModel=function(){var e={};return this.allColumnFilters.forEach(function(r,n){var s=r.filterPromise.resolveNow(null,function(d){return d});if(null==s)return null;if("function"==typeof s.getModel){var a=s.getModel();w(a)&&(e[n]=a)}else console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel")}),e},t.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},t.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},t.prototype.isExternalFilterPresent=function(){return this.externalFilterPresent},t.prototype.isChildFilterPresent=function(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()},t.prototype.isAdvancedFilterPresent=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()},t.prototype.onAdvancedFilterEnabledChanged=function(e){var n,r=this;e?this.allColumnFilters.size&&(this.allColumnFilters.forEach(function(i){return r.disposeFilterWrapper(i,"advancedFilterEnabled")}),this.onFilterChanged({source:"advancedFilter"})):null!==(n=this.advancedFilterService)&&void 0!==n&&n.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))},t.prototype.isAdvancedFilterEnabled=function(){var e;return null===(e=this.advancedFilterService)||void 0===e?void 0:e.isEnabled()},t.prototype.isAdvancedFilterHeaderActive=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()},t.prototype.doAggregateFiltersPass=function(e,r){return this.doColumnFiltersPass(e,r,!0)},t.prototype.updateActiveFilters=function(){var e=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var r=function(s){return!!s&&(s.isFilterActive?s.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1))},n=!!this.gridOptionsService.getGroupAggFiltering();this.allColumnFilters.forEach(function(s){if(s.filterPromise.resolveNow(!1,r)){var a=s.filterPromise.resolveNow(null,function(d){return d});!function(s){if(!s.isPrimary())return!0;var d=!e.columnModel.isPivotActive();return!(!s.isValueActive()||!d)&&(!!e.columnModel.isPivotMode()||n)}(s.column)?e.activeColumnFilters.push(a):e.activeAggregateFilters.push(a)}})},t.prototype.updateFilterFlagInColumns=function(e,r){this.allColumnFilters.forEach(function(n){var i=n.filterPromise.resolveNow(!1,function(s){return s.isFilterActive()});n.column.setFilterActive(i,e,r)})},t.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()},t.prototype.doColumnFiltersPass=function(e,r,n){for(var a=n?this.activeAggregateFilters:this.activeColumnFilters,d=n?e.aggData:e.data,g=0;g<a.length;g++){var m=a[g];if(null!=m&&m!==r){if("function"!=typeof m.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!m.doesFilterPass({node:e,data:d}))return!1}}return!0},t.prototype.resetQuickFilterCache=function(){this.quickFilterService.resetQuickFilterCache()},t.prototype.refreshFiltersForAggregations=function(){this.gridOptionsService.getGroupAggFiltering()&&this.onFilterChanged()},t.prototype.callOnFilterChangedOutsideRenderCycle=function(e){var r=this,n=function(){return r.onFilterChanged(e)};this.rowRenderer.isRefreshInProgress()?setTimeout(n,0):n()},t.prototype.onFilterChanged=function(e){void 0===e&&(e={});var r=e.source,n=e.filterInstance,i=e.additionalEventAttributes,s=e.columns;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",i),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(function(d){d.filterPromise&&d.filterPromise.then(function(g){g&&g!==n&&g.onAnyFilterChanged&&g.onAnyFilterChanged()})});var a={source:r,type:M.EVENT_FILTER_CHANGED,columns:s||[]};i&&qe(a,i),this.processingFilterChange=!0,this.eventService.dispatchEvent(a),this.processingFilterChange=!1},t.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},t.prototype.isQuickFilterPresent=function(){return this.quickFilterService.isQuickFilterPresent()},t.prototype.updateAggFiltering=function(){this.aggFiltering=!!this.gridOptionsService.getGroupAggFiltering()},t.prototype.isAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&(this.aggFiltering||this.columnModel.isPivotMode())},t.prototype.isNonAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&!(this.aggFiltering||this.columnModel.isPivotMode())},t.prototype.doesRowPassOtherFilters=function(e,r){return this.doesRowPassFilter({rowNode:r,filterInstanceToSkip:e})},t.prototype.doesRowPassAggregateFilters=function(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))},t.prototype.doesRowPassFilter=function(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))},t.prototype.onNewRowsLoaded=function(e){this.allColumnFilters.forEach(function(r){r.filterPromise.then(function(n){n.onNewRowsLoaded&&n.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(e,{afterDataChange:!0}),this.updateActiveFilters()},t.prototype.createValueGetter=function(e){var r=this;return function(n){return r.valueService.getValue(e,n.node,!0)}},t.prototype.getFilterComponent=function(e,r,n){var i;if(void 0===n&&(n=!0),n)return(null===(i=this.getOrCreateFilterWrapper(e,r))||void 0===i?void 0:i.filterPromise)||null;var s=this.cachedFilter(e);return s?s.filterPromise:null},t.prototype.isFilterActive=function(e){var r=this.cachedFilter(e);return!!r&&r.filterPromise.resolveNow(!1,function(n){return n.isFilterActive()})},t.prototype.getOrCreateFilterWrapper=function(e,r){var n=this;if(!e.isFilterAllowed())return null;var i=this.cachedFilter(e);if(i)"NO_UI"!==r&&this.putIntoGui(i,r);else{i=this.createFilterWrapper(e,r);var s=e.getColId();this.allColumnFilters.set(s,i),this.allColumnListeners.set(s,this.addManagedListener(e,T.EVENT_COL_DEF_CHANGED,function(){return n.checkDestroyFilter(s)}))}return i},t.prototype.cachedFilter=function(e){return this.allColumnFilters.get(e.getColId())},t.prototype.getDefaultFilter=function(e){var r;if(it.__isRegistered(Re.SetFilterModule,this.context.getGridId()))r="agSetColumnFilter";else{var n=e.getColDef().cellDataType;r="number"===n?"agNumberColumnFilter":"date"===n||"dateString"===n?"agDateColumnFilter":"agTextColumnFilter"}return r},t.prototype.getDefaultFloatingFilter=function(e){var r;if(it.__isRegistered(Re.SetFilterModule,this.context.getGridId()))r="agSetColumnFloatingFilter";else{var n=e.getColDef().cellDataType;r="number"===n?"agNumberColumnFloatingFilter":"date"===n||"dateString"===n?"agDateColumnFloatingFilter":"agTextColumnFloatingFilter"}return r},t.prototype.createFilterInstance=function(e){var s,r=this,n=this.getDefaultFilter(e),i=e.getColDef(),a=ri(ri({},this.createFilterParams(e,i)),{filterModifiedCallback:function(){r.eventService.dispatchEvent({type:M.EVENT_FILTER_MODIFIED,column:e,filterInstance:s})},filterChangedCallback:function(g){var m,C=null!==(m=g?.source)&&void 0!==m?m:"api";r.callOnFilterChangedOutsideRenderCycle({filterInstance:s,additionalEventAttributes:g,columns:[e],source:C})},doesRowPassOtherFilter:function(g){return r.doesRowPassOtherFilters(s,g)}}),d=this.userComponentFactory.getFilterDetails(i,a,n);return d?{filterPromise:function(){var g=d.newAgStackInstance();return g&&g.then(function(m){return s=m}),g},compDetails:d}:{filterPromise:null,compDetails:null}},t.prototype.createFilterParams=function(e,r){return{column:e,colDef:Wt(r),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(e),doesRowPassOtherFilter:function(){return!0},api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},t.prototype.createFilterWrapper=function(e,r){var n,i={column:e,filterPromise:null,compiledElement:null,guiPromise:pi.resolve(null),compDetails:null},s=this.createFilterInstance(e),a=s.filterPromise,d=s.compDetails;return i.filterPromise=null!==(n=a?.())&&void 0!==n?n:null,i.compDetails=d,a&&this.putIntoGui(i,r),i},t.prototype.putIntoGui=function(e,r){var n=this,i=document.createElement("div");i.className="ag-filter",e.guiPromise=new pi(function(s){e.filterPromise.then(function(a){var d=a.getGui();w(d)||console.warn("AG Grid: getGui method from filter returned "+d+", it should be a DOM element or an HTML template string."),"string"==typeof d&&(d=wn(d)),i.appendChild(d),s(i),n.eventService.dispatchEvent({type:M.EVENT_FILTER_OPENED,column:e.column,source:r,eGui:i})})})},t.prototype.onColumnsChanged=function(){var e=this,r=[];this.allColumnFilters.forEach(function(n,i){!(n.column.isPrimary()?e.columnModel.getPrimaryColumn(i):e.columnModel.getGridColumn(i))&&(r.push(n.column),e.disposeFilterWrapper(n,"columnChanged"),e.disposeColumnListener(i))}),r.length>0?this.onFilterChanged({columns:r,source:"api"}):this.updateDependantFilters()},t.prototype.updateDependantFilters=function(){var e=this,r=this.columnModel.getGroupAutoColumns();r?.forEach(function(n){"agGroupColumnFilter"===n.getColDef().filter&&e.getOrCreateFilterWrapper(n,"NO_UI")})},t.prototype.isFilterAllowed=function(e){var r,n;if(this.isAdvancedFilterEnabled())return!1;if(!e.isFilterAllowed())return!1;var s=this.allColumnFilters.get(e.getColId());return null===(n=null===(r=s?.filterPromise)||void 0===r?void 0:r.resolveNow(!0,function(a){var d,g;return"function"!=typeof(null===(d=a)||void 0===d?void 0:d.isFilterAllowed)||(null===(g=a)||void 0===g?void 0:g.isFilterAllowed())}))||void 0===n||n},t.prototype.getFloatingFilterCompDetails=function(e,r){var n=this,i=e.getColDef(),s=this.createFilterParams(e,i),a=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(i,el,s),d=this.userComponentFactory.getDefaultFloatingFilterType(i,function(){return n.getDefaultFloatingFilter(e)});return null==d&&(d="agReadOnlyFloatingFilter"),this.userComponentFactory.getFloatingFilterCompDetails(i,{column:e,filterParams:a,currentParentModel:function(){return n.getCurrentFloatingFilterParentModel(e)},parentFilterInstance:function(C){var E=n.getFilterComponent(e,"NO_UI");E?.then(function(b){C(ma(b))})},showParentFilter:r,suppressFilterButton:!1},d)},t.prototype.getCurrentFloatingFilterParentModel=function(e){var r=this.getFilterComponent(e,"NO_UI",!1);return r?r.resolveNow(null,function(n){return n&&n.getModel()}):null},t.prototype.destroyFilter=function(e,r){void 0===r&&(r="api");var n=e.getColId(),i=this.allColumnFilters.get(n);this.disposeColumnListener(n),i&&(this.disposeFilterWrapper(i,r),this.onFilterChanged({columns:[e],source:"api"}))},t.prototype.disposeColumnListener=function(e){var r=this.allColumnListeners.get(e);r&&(this.allColumnListeners.delete(e),r())},t.prototype.disposeFilterWrapper=function(e,r){var n=this;e.filterPromise.then(function(i){(i.setModel(null)||pi.resolve()).then(function(){n.getContext().destroyBean(i),e.column.setFilterActive(!1,"filterDestroyed"),n.allColumnFilters.delete(e.column.getColId()),n.eventService.dispatchEvent({type:M.EVENT_FILTER_DESTROYED,source:r,column:e.column})})})},t.prototype.checkDestroyFilter=function(e){var r=this.allColumnFilters.get(e);if(r){var n=r.column,i=(n.isFilterAllowed()?this.createFilterInstance(n):{compDetails:null}).compDetails;this.areFilterCompsDifferent(r.compDetails,i)&&this.destroyFilter(n,"columnChanged")}},t.prototype.areFilterCompsDifferent=function(e,r){if(!r||!e)return!0;var n=e.componentClass,i=r.componentClass;return!(n===i||n?.render&&i?.render&&n.render===i.render)},t.prototype.getAdvancedFilterModel=function(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null},t.prototype.setAdvancedFilterModel=function(e){this.isAdvancedFilterEnabled()&&(this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"}))},t.prototype.showAdvancedFilterBuilder=function(e){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(e,!0)},t.prototype.updateAdvancedFilterColumns=function(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})},t.prototype.hasFloatingFilters=function(){if(this.isAdvancedFilterEnabled())return!1;var e=this.columnModel.getAllGridColumns();return!!e&&e.some(function(r){return r.getColDef().floatingFilter})},t.prototype.getFilterInstance=function(e,r){if(!this.isAdvancedFilterEnabled()){var n=this.getFilterInstanceImpl(e,function(s){if(r){var a=ma(s);r(a)}});return ma(n)}this.warnAdvancedFilters()},t.prototype.getFilterInstanceImpl=function(e,r){var n=this.columnModel.getPrimaryColumn(e);if(n){var i=this.getFilterComponent(n,"NO_UI"),s=i&&i.resolveNow(null,function(a){return a});return s?setTimeout(r,0,s):i&&i.then(function(a){r(a)}),s}},t.prototype.warnAdvancedFilters=function(){At(function(){console.warn("AG Grid: Column Filter API methods have been disabled as Advanced Filters are enabled.")},"advancedFiltersCompatibility")},t.prototype.setupAdvancedFilterHeaderComp=function(e){var r;null===(r=this.advancedFilterService)||void 0===r||r.getCtrl().setupHeaderComp(e)},t.prototype.getHeaderRowCount=function(){return this.isAdvancedFilterHeaderActive()?1:0},t.prototype.getHeaderHeight=function(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0},t.prototype.processFilterModelUpdateQueue=function(){var e=this;this.filterModelUpdateQueue.forEach(function(r){return e.setFilterModel(r)}),this.filterModelUpdateQueue=[]},t.prototype.destroy=function(){var e=this;o.prototype.destroy.call(this),this.allColumnFilters.forEach(function(r){return e.disposeFilterWrapper(r,"gridDestroyed")}),this.allColumnListeners.clear()},Oo([A("valueService")],t.prototype,"valueService",void 0),Oo([A("columnModel")],t.prototype,"columnModel",void 0),Oo([A("rowModel")],t.prototype,"rowModel",void 0),Oo([A("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Oo([A("rowRenderer")],t.prototype,"rowRenderer",void 0),Oo([A("dataTypeService")],t.prototype,"dataTypeService",void 0),Oo([A("quickFilterService")],t.prototype,"quickFilterService",void 0),Oo([xt("advancedFilterService")],t.prototype,"advancedFilterService",void 0),Oo([we],t.prototype,"init",null),Oo([je("filterManager")],t)}(Le),dh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Zu=function(o){function t(e,r){var n=o.call(this,e)||this;return n.ctrl=r,n}return dh(t,o),t.prototype.getCtrl=function(){return this.ctrl},t}(qt),ph=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Xl=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},fh=function(o){function t(e){return o.call(this,t.TEMPLATE,e)||this}return ph(t,o),t.prototype.postConstruct=function(){var e=this,r=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:function(i,s){return e.addOrRemoveCssClass(i,s)},addOrRemoveBodyCssClass:function(i,s){return e.eFloatingFilterBody.classList.toggle(i,s)},setButtonWrapperDisplayed:function(i){return sr(e.eButtonWrapper,i)},setCompDetails:function(i){return e.setCompDetails(i)},getFloatingFilterComp:function(){return e.compPromise},setWidth:function(i){return r.style.width=i},setMenuIcon:function(i){return e.eButtonShowMainFilter.appendChild(i)}},r,this.eButtonShowMainFilter,this.eFloatingFilterBody)},t.prototype.setCompDetails=function(e){var r=this;if(!e)return this.destroyFloatingFilterComp(),void(this.compPromise=null);this.compPromise=e.newAgStackInstance(),this.compPromise.then(function(n){return r.afterCompCreated(n)})},t.prototype.destroyFloatingFilterComp=function(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))},t.prototype.afterCompCreated=function(e){if(e){if(!this.isAlive())return void this.destroyBean(e);this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}},t.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',Xl([tt("eFloatingFilterBody")],t.prototype,"eFloatingFilterBody",void 0),Xl([tt("eButtonWrapper")],t.prototype,"eButtonWrapper",void 0),Xl([tt("eButtonShowMainFilter")],t.prototype,"eButtonShowMainFilter",void 0),Xl([we],t.prototype,"postConstruct",null),Xl([yr],t.prototype,"destroyFloatingFilterComp",null),t}(Zu),hh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Rn=function(o){return o.AUTO_HEIGHT="ag-layout-auto-height",o.NORMAL="ag-layout-normal",o.PRINT="ag-layout-print",o}(Rn||{}),cd=function(o){function t(e){var r=o.call(this)||this;return r.view=e,r}return hh(t,o),t.prototype.postConstruct=function(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},t.prototype.updateLayoutClasses=function(){var e=this.getDomLayout(),r={autoHeight:"autoHeight"===e,normal:"normal"===e,print:"print"===e};this.view.updateLayoutClasses(r.autoHeight?Rn.AUTO_HEIGHT:r.print?Rn.PRINT:Rn.NORMAL,r)},t.prototype.getDomLayout=function(){var e,r=null!==(e=this.gridOptionsService.get("domLayout"))&&void 0!==e?e:"normal";return-1===["normal","print","autoHeight"].indexOf(r)?(At(function(){return console.warn("AG Grid: "+r+" is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.")},"warn about dom layout values"),"normal"):r},function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);n>3&&i&&Object.defineProperty(t,e,i)}([we],t.prototype,"postConstruct",null),t}(Le),gh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ju=function(){return Ju=Object.assign||function(o){for(var t,e=1,r=arguments.length;e<r;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o},Ju.apply(this,arguments)},Is=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},ni=function(o){return o[o.Vertical=0]="Vertical",o[o.Horizontal=1]="Horizontal",o}(ni||{}),gi=function(o){return o[o.Container=0]="Container",o[o.FakeContainer=1]="FakeContainer",o}(gi||{}),vh=function(o){function t(e){var r=o.call(this)||this;return r.lastScrollSource=[null,null],r.scrollLeft=-1,r.nextScrollTop=-1,r.scrollTop=-1,r.eBodyViewport=e,r.resetLastHScrollDebounced=He(function(){return r.lastScrollSource[ni.Horizontal]=null},500),r.resetLastVScrollDebounced=He(function(){return r.lastScrollSource[ni.Vertical]=null},500),r}return gh(t,o),t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsService.is("enableRtl"),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(r){e.centerRowContainerCtrl=r.centerRowContainerCtrl,e.onDisplayedColumnsWidthChanged(),e.addScrollListener()})},t.prototype.addScrollListener=function(){var e=this.ctrlsService.getFakeHScrollComp(),r=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),e.onScrollCallback(this.onFakeHScroll.bind(this));var n=this.gridOptionsService.is("debounceVerticalScrollbar"),i=n?He(this.onVScroll.bind(this),100):this.onVScroll.bind(this),s=n?He(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",i),r.onScrollCallback(s)},t.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},t.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(e){if(null!=this.centerRowContainerCtrl){void 0===e&&(e=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var n=this.enableRtl?e:-e,i=this.ctrlsService.getTopCenterRowContainerCtrl(),s=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),a=this.ctrlsService.getBottomCenterRowContainerCtrl(),d=this.ctrlsService.getFakeHScrollComp();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(-n),a.setContainerTranslateX(n),i.setContainerTranslateX(n),s.setContainerTranslateX(n);var m=this.centerRowContainerCtrl.getViewportElement(),C=this.lastScrollSource[ni.Horizontal]===gi.Container;e=Math.abs(e),C?d.setScrollPosition(e):vs(m,e,this.enableRtl)}},t.prototype.isControllingScroll=function(e,r){return null==this.lastScrollSource[r]?(this.lastScrollSource[r]=e,!0):this.lastScrollSource[r]===e},t.prototype.onFakeHScroll=function(){this.isControllingScroll(gi.FakeContainer,ni.Horizontal)&&this.onHScrollCommon(gi.FakeContainer)},t.prototype.onHScroll=function(){this.isControllingScroll(gi.Container,ni.Horizontal)&&this.onHScrollCommon(gi.Container)},t.prototype.onHScrollCommon=function(e){var i,r=this.centerRowContainerCtrl.getViewportElement();this.shouldBlockScrollUpdate(ni.Horizontal,r.scrollLeft,!0)||(i=e===gi.Container?so(r,this.enableRtl):this.ctrlsService.getFakeHScrollComp().getScrollPosition(),this.doHorizontalScroll(Math.round(i)),this.resetLastHScrollDebounced())},t.prototype.onFakeVScroll=function(){this.isControllingScroll(gi.FakeContainer,ni.Vertical)&&this.onVScrollCommon(gi.FakeContainer)},t.prototype.onVScroll=function(){this.isControllingScroll(gi.Container,ni.Vertical)&&this.onVScrollCommon(gi.Container)},t.prototype.onVScrollCommon=function(e){var r;r=e===gi.Container?this.eBodyViewport.scrollTop:this.ctrlsService.getFakeVScrollComp().getScrollPosition(),!this.shouldBlockScrollUpdate(ni.Vertical,r,!0)&&(this.animationFrameService.setScrollTop(r),this.nextScrollTop=r,e===gi.Container?this.ctrlsService.getFakeVScrollComp().setScrollPosition(r):this.eBodyViewport.scrollTop=r,this.gridOptionsService.is("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())},t.prototype.doHorizontalScroll=function(e){var r=this.ctrlsService.getFakeHScrollComp().getScrollPosition();this.scrollLeft===e&&e===r||(this.scrollLeft=e,this.fireScrollEvent(ni.Horizontal),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowContainerCtrl.onHorizontalViewportChanged(!0))},t.prototype.fireScrollEvent=function(e){var r=this,n={type:M.EVENT_BODY_SCROLL,direction:e===ni.Horizontal?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(n),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var i=Ju(Ju({},n),{type:M.EVENT_BODY_SCROLL_END});r.eventService.dispatchEvent(i)},100)},t.prototype.shouldBlockScrollUpdate=function(e,r,n){return void 0===n&&(n=!1),!(n&&!xn())&&(e===ni.Vertical?this.shouldBlockVerticalScroll(r):this.shouldBlockHorizontalScroll(r))},t.prototype.shouldBlockVerticalScroll=function(e){var r=$n(this.eBodyViewport);return e<0||e+r>this.eBodyViewport.scrollHeight},t.prototype.shouldBlockHorizontalScroll=function(e){var r=this.centerRowContainerCtrl.getCenterWidth(),n=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&gs()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+r>n},t.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent(ni.Vertical)},t.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(gi.Container)},t.prototype.scrollGridIfNeeded=function(){var e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e},t.prototype.setHorizontalScrollPosition=function(e,r){void 0===r&&(r=!1);var i=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();!r&&this.shouldBlockScrollUpdate(ni.Horizontal,e)&&(e=this.enableRtl&&gs()?e>0?0:i:Math.min(Math.max(e,0),i)),vs(this.centerRowContainerCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)},t.prototype.setVerticalScrollPosition=function(e){this.eBodyViewport.scrollTop=e},t.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},t.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},t.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},t.prototype.scrollHorizontally=function(e){var r=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(r+e),this.centerRowContainerCtrl.getViewportElement().scrollLeft-r},t.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},t.prototype.ensureNodeVisible=function(e,r){void 0===r&&(r=null);for(var n=this.rowModel.getRowCount(),i=-1,s=0;s<n;s++){var a=this.rowModel.getRow(s);if("function"==typeof e){if(a&&e(a)){i=s;break}}else if(e===a||e===a.data){i=s;break}}i>=0&&this.ensureIndexVisible(i,r)},t.prototype.ensureIndexVisible=function(e,r){if(!this.gridOptionsService.isDomLayout("print")){var n=this.paginationProxy.getRowCount();if("number"!=typeof e||e<0||e>=n)return void console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+e);this.gridOptionsService.is("pagination")&&!this.gridOptionsService.is("suppressPaginationPanel")||this.paginationProxy.goToPageWithIndex(e);var m,d=this.ctrlsService.getGridBodyCtrl().getStickyTopHeight(),g=this.paginationProxy.getRow(e);do{var C=g.rowTop,E=g.rowHeight,b=this.paginationProxy.getPixelOffset(),L=g.rowTop-b,j=L+g.rowHeight,ee=this.getVScrollPosition(),se=this.heightScaler.getDivStretchOffset(),fe=ee.top+se,Te=ee.bottom+se,ke=Te-fe,St=this.heightScaler.getScrollPositionForPixel(L),_t=this.heightScaler.getScrollPositionForPixel(j-ke),Gt=Math.min((St+_t)/2,L),Bt=null;"top"===r?Bt=St:"bottom"===r?Bt=_t:"middle"===r?Bt=Gt:fe+d>L?Bt=St-d:Te<j&&(Bt=_t),null!==Bt&&(this.setVerticalScrollPosition(Bt),this.rowRenderer.redraw({afterScroll:!0})),m=C!==g.rowTop||E!==g.rowHeight}while(m);this.animationFrameService.flushAllFrames()}},t.prototype.ensureColumnVisible=function(e,r){void 0===r&&(r="auto");var n=this.columnModel.getGridColumn(e);if(n&&!n.isPinned()&&this.columnModel.isColumnDisplayed(n)){var i=this.getPositionedHorizontalScroll(n,r);null!==i&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(i),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},t.prototype.getPositionedHorizontalScroll=function(e,r){var n=this.isColumnOutsideViewport(e),i=n.columnBeforeStart,s=n.columnAfterEnd,a=this.centerRowContainerCtrl.getCenterWidth()<e.getActualWidth(),d=this.centerRowContainerCtrl.getCenterWidth(),g=this.enableRtl,m=(g?i:s)||a,C=g?s:i;"auto"!==r&&(m="start"===r,C="end"===r);var E="middle"===r;if(m||C||E){var b=this.getColumnBounds(e),L=b.colLeft,ee=b.colRight;return E?b.colMiddle-d/2:m?g?ee:L:g?L-d:ee-d}return null},t.prototype.isColumnOutsideViewport=function(e){var r=this.getViewportBounds(),n=r.start,i=r.end,s=this.getColumnBounds(e),a=s.colLeft,d=s.colRight,g=this.enableRtl;return{columnBeforeStart:g?n>d:i<d,columnAfterEnd:g?i<a:n>a}},t.prototype.getColumnBounds=function(e){var r=this.enableRtl,n=this.columnModel.getBodyContainerWidth(),i=e.getActualWidth(),s=e.getLeft(),a=r?-1:1,d=r?n-s:s;return{colLeft:d,colMiddle:d+i/2*a,colRight:d+i*a}},t.prototype.getViewportBounds=function(){var e=this.centerRowContainerCtrl.getCenterWidth(),r=this.centerRowContainerCtrl.getCenterViewportScrollLeft();return{start:r,end:e+r,width:e}},Is([A("ctrlsService")],t.prototype,"ctrlsService",void 0),Is([A("animationFrameService")],t.prototype,"animationFrameService",void 0),Is([A("paginationProxy")],t.prototype,"paginationProxy",void 0),Is([A("rowModel")],t.prototype,"rowModel",void 0),Is([A("rowContainerHeightService")],t.prototype,"heightScaler",void 0),Is([A("rowRenderer")],t.prototype,"rowRenderer",void 0),Is([A("columnModel")],t.prototype,"columnModel",void 0),Is([we],t.prototype,"postConstruct",null),t}(Le),yh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),dd=function(){return dd=Object.assign||function(o){for(var t,e=1,r=arguments.length;e<r;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o},dd.apply(this,arguments)},Zi=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},wh=function(o){function t(e){var r=o.call(this)||this;return r.isMultiRowDrag=!1,r.isGridSorted=!1,r.isGridFiltered=!1,r.isRowGroupActive=!1,r.eContainer=e,r}return yh(t,o),t.prototype.postConstruct=function(){var e=this;this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel);var r=function(){e.onSortChanged(),e.onFilterChanged(),e.onRowGroupChanged()};this.addManagedListener(this.eventService,M.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_MODEL_UPDATED,function(){r()}),r(),this.ctrlsService.whenReady(function(){var n=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new Ip({scrollContainer:n.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return n.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(i){return n.getScrollFeature().setVerticalScrollPosition(i)},onScrollCallback:function(){e.onDragging(e.lastDraggingEvent)}})})},t.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},t.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},t.prototype.onRowGroupChanged=function(){var e=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!he(e)},t.prototype.getContainer=function(){return this.eContainer},t.prototype.isInterestedIn=function(e){return e===ei.RowDrag},t.prototype.getIconName=function(){return this.gridOptionsService.is("rowDragManaged")&&this.shouldPreventRowMove()?En.ICON_NOT_ALLOWED:En.ICON_MOVE},t.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},t.prototype.getRowNodes=function(e){var r=this;if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];var n=this.gridOptionsService.is("rowDragMultiRow"),i=function(o,t){for(var e=0,r=t.length,n=o.length;e<r;e++,n++)o[n]=t[e];return o}([],function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i}(this.selectionService.getSelectedNodes())).sort(function(a,d){return null==a.rowIndex||null==d.rowIndex?0:r.getRowIndexNumber(a)-r.getRowIndexNumber(d)}),s=e.dragItem.rowNode;return n&&-1!==i.indexOf(s)?(this.isMultiRowDrag=!0,i):(this.isMultiRowDrag=!1,[s])},t.prototype.onDragEnter=function(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent(M.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach(function(r){r.setDragging(!0)}),this.onEnterOrDragging(e)},t.prototype.onDragging=function(e){this.onEnterOrDragging(e)},t.prototype.isFromThisGrid=function(e){return e.dragSource.dragSourceDomDataKey===this.gridOptionsService.getDomDataKey()},t.prototype.isDropZoneWithinThisGrid=function(e){return!this.ctrlsService.getGridBodyCtrl().getGui().contains(e.dropZoneTarget)},t.prototype.onEnterOrDragging=function(e){this.dispatchGridEvent(M.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;var r=this.mouseEventService.getNormalisedPosition(e).y;this.gridOptionsService.is("rowDragManaged")&&this.doManagedDrag(e,r),this.autoScrollService.check(e.event)},t.prototype.doManagedDrag=function(e,r){var n=this.isFromThisGrid(e),i=this.gridOptionsService.is("rowDragManaged"),s=e.dragItem.rowNodes;i&&this.shouldPreventRowMove()||(this.gridOptionsService.is("suppressMoveWhenRowDragging")||!n?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(s[0],r):this.moveRows(s,r))},t.prototype.getRowIndexNumber=function(e){return parseInt(te(e.getRowIndexString().split("-")),10)},t.prototype.moveRowAndClearHighlight=function(e){var r=this,n=this.clientSideRowModel.getLastHighlightedRowNode(),i=n&&n.highlighted===Ms.Below,s=this.mouseEventService.getNormalisedPosition(e).y,a=e.dragItem.rowNodes,d=i?1:0;if(this.isFromThisGrid(e))a.forEach(function(C){C.rowTop<s&&(d-=1)}),this.moveRows(a,s,d);else{var g=this.gridOptionsService.getCallback("getRowId"),m=this.clientSideRowModel.getRowIndexAtPixel(s)+1;this.clientSideRowModel.getHighlightPosition(s)===Ms.Above&&m--,this.clientSideRowModel.updateRowData({add:a.map(function(C){return C.data}).filter(function(C){return!r.clientSideRowModel.getRowNode(g?g({data:C,level:0}):C.id)}),addIndex:m})}this.clearRowHighlight()},t.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},t.prototype.moveRows=function(e,r,n){void 0===n&&(n=0),this.clientSideRowModel.ensureRowsAtPixel(e,r,n)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},t.prototype.addRowDropZone=function(e){var r=this;if(e.getContainer())if(this.dragAndDropService.findExternalZone(e))console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var n={getContainer:e.getContainer};e.fromGrid?(e.fromGrid=void 0,n=e):(e.onDragEnter&&(n.onDragEnter=function(i){e.onDragEnter(r.draggingToRowDragEvent(M.EVENT_ROW_DRAG_ENTER,i))}),e.onDragLeave&&(n.onDragLeave=function(i){e.onDragLeave(r.draggingToRowDragEvent(M.EVENT_ROW_DRAG_LEAVE,i))}),e.onDragging&&(n.onDragging=function(i){e.onDragging(r.draggingToRowDragEvent(M.EVENT_ROW_DRAG_MOVE,i))}),e.onDragStop&&(n.onDragStop=function(i){e.onDragStop(r.draggingToRowDragEvent(M.EVENT_ROW_DRAG_END,i))})),this.dragAndDropService.addDropTarget(dd({isInterestedIn:function(i){return i===ei.RowDrag},getIconName:function(){return En.ICON_MOVE},external:!0},n))}else At(function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")},"add-drop-zone-empty-target")},t.prototype.getRowDropZone=function(e){var r=this,n=this.getContainer.bind(this),i=this.onDragEnter.bind(this),s=this.onDragLeave.bind(this),a=this.onDragging.bind(this),d=this.onDragStop.bind(this);return e?{getContainer:n,onDragEnter:e.onDragEnter?function(g){i(g),e.onDragEnter(r.draggingToRowDragEvent(M.EVENT_ROW_DRAG_ENTER,g))}:i,onDragLeave:e.onDragLeave?function(g){s(g),e.onDragLeave(r.draggingToRowDragEvent(M.EVENT_ROW_DRAG_LEAVE,g))}:s,onDragging:e.onDragging?function(g){a(g),e.onDragging(r.draggingToRowDragEvent(M.EVENT_ROW_DRAG_MOVE,g))}:a,onDragStop:e.onDragStop?function(g){d(g),e.onDragStop(r.draggingToRowDragEvent(M.EVENT_ROW_DRAG_END,g))}:d,fromGrid:!0}:{getContainer:n,onDragEnter:i,onDragLeave:s,onDragging:a,onDragStop:d,fromGrid:!0}},t.prototype.draggingToRowDragEvent=function(e,r){var a,d,n=this.mouseEventService.getNormalisedPosition(r).y,s=-1;switch(n>this.paginationProxy.getCurrentPageHeight()||(s=this.rowModel.getRowIndexAtPixel(n),a=this.rowModel.getRow(s)),r.vDirection){case fa.Down:d="down";break;case fa.Up:d="up";break;default:d=null}return{type:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,event:r.event,node:r.dragItem.rowNode,nodes:r.dragItem.rowNodes,overIndex:s,overNode:a,y:n,vDirection:d}},t.prototype.dispatchGridEvent=function(e,r){var n=this.draggingToRowDragEvent(e,r);this.eventService.dispatchEvent(n)},t.prototype.onDragLeave=function(e){this.dispatchGridEvent(M.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gridOptionsService.is("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(e)&&(this.isMultiRowDrag=!1)},t.prototype.onDragStop=function(e){this.dispatchGridEvent(M.EVENT_ROW_DRAG_END,e),this.stopDragging(e),this.gridOptionsService.is("rowDragManaged")&&(this.gridOptionsService.is("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&!this.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)},t.prototype.stopDragging=function(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(function(r){r.setDragging(!1)})},Zi([A("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Zi([A("rowModel")],t.prototype,"rowModel",void 0),Zi([A("paginationProxy")],t.prototype,"paginationProxy",void 0),Zi([A("columnModel")],t.prototype,"columnModel",void 0),Zi([A("focusService")],t.prototype,"focusService",void 0),Zi([A("sortController")],t.prototype,"sortController",void 0),Zi([A("filterManager")],t.prototype,"filterManager",void 0),Zi([A("selectionService")],t.prototype,"selectionService",void 0),Zi([A("mouseEventService")],t.prototype,"mouseEventService",void 0),Zi([A("ctrlsService")],t.prototype,"ctrlsService",void 0),Zi([xt("rangeService")],t.prototype,"rangeService",void 0),Zi([we],t.prototype,"postConstruct",null),t}(Le),Sh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),vi=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},eu=function(o){return o.ANIMATION_ON="ag-row-animation",o.ANIMATION_OFF="ag-row-no-animation",o}(eu||{}),Gp="ag-force-vertical-scroll",pd=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.stickyTopHeight=0,e}return Sh(t,o),t.prototype.getScrollFeature=function(){return this.bodyScrollFeature},t.prototype.getBodyViewportElement=function(){return this.eBodyViewport},t.prototype.setComp=function(e,r,n,i,s,a){this.comp=e,this.eGridBody=r,this.eBodyViewport=n,this.eTop=i,this.eBottom=s,this.eStickyTop=a,this.setCellTextSelection(this.gridOptionsService.is("enableCellTextSelection")),this.createManagedBean(new cd(this.comp)),this.bodyScrollFeature=this.createManagedBean(new vh(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([i,n,s,a]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(i),this.ctrlsService.registerGridBodyCtrl(this)},t.prototype.getComp=function(){return this.comp},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,M.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},t.prototype.addFocusListeners=function(e){var r=this;e.forEach(function(n){r.addManagedListener(n,"focusin",function(i){var a=jo(i.target,"ag-root",n);n.classList.toggle("ag-has-focus",!a)}),r.addManagedListener(n,"focusout",function(i){var s=i.target,a=i.relatedTarget,d=n.contains(a),g=jo(a,"ag-root",n);jo(s,"ag-root",n)||(!d||g)&&n.classList.remove("ag-has-focus")})})},t.prototype.setColumnMovingCss=function(e){this.comp.setColumnMovingCss("ag-column-moving",e)},t.prototype.setCellTextSelection=function(e){void 0===e&&(e=!1),this.comp.setCellSelectableCss("ag-selectable",e)},t.prototype.onScrollVisibilityChanged=function(){var e=this,r=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(r),this.setStickyTopWidth(r);var s="calc(100% + "+((r&&this.gridOptionsService.getScrollbarWidth()||0)+(Qs()?16:0))+"px)";this.animationFrameService.requestAnimationFrame(function(){return e.comp.setBodyViewportWidth(s)})},t.prototype.onGridColumnsChanged=function(){var e=this.columnModel.getAllGridColumns();this.comp.setColumnCount(e?e.length:0)},t.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(e){if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1})},t.prototype.addStopEditingWhenGridLosesFocus=function(){var e=this;if(this.gridOptionsService.is("stopEditingWhenCellsLoseFocus")){var r=function(i){var s=i.relatedTarget;if(null!==La(s)){var a=n.some(function(g){return g.contains(s)})&&e.mouseEventService.isElementInThisGrid(s);if(!a){var d=e.popupService;a=d.getActivePopups().some(function(g){return g.contains(s)})||d.isElementWithinCustomPopup(s)}a||e.rowRenderer.stopEditing()}else e.rowRenderer.stopEditing()},n=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];n.forEach(function(i){return e.addManagedListener(i,"focusout",r)})}},t.prototype.updateRowCount=function(){var e=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),r=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1;this.comp.setRowCount(-1===r?-1:e+r)},t.prototype.registerBodyViewportResizeListener=function(e){this.comp.registerBodyViewportResizeListener(e)},t.prototype.setVerticalScrollPaddingVisible=function(e){this.comp.setPinnedTopBottomOverflowY(e?"scroll":"hidden")},t.prototype.isVerticalScrollShowing=function(){var e=this.gridOptionsService.is("alwaysShowVerticalScroll"),r=e?Gp:null,n=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(r,e),e||n&&Va(this.eBodyViewport)},t.prototype.setupRowAnimationCssClass=function(){var e=this,r=function(){var n=e.gridOptionsService.isAnimateRows()&&!e.rowContainerHeightService.isStretching();e.comp.setRowAnimationCssOnBodyViewport(n?eu.ANIMATION_ON:eu.ANIMATION_OFF,n)};r(),this.addManagedListener(this.eventService,M.EVENT_HEIGHT_SCALE_CHANGED,r),this.addManagedPropertyListener("animateRows",r)},t.prototype.getGridBodyElement=function(){return this.eGridBody},t.prototype.addBodyViewportListener=function(){var e=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",e),this.mockContextMenuForIPad(e),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()},t.prototype.addFullWidthContainerWheelListener=function(){var e=this,r=this.eBodyViewport.querySelector(".ag-full-width-container"),n=this.eBodyViewport.querySelector(".ag-center-cols-viewport");r&&n&&this.addManagedListener(r,"wheel",function(i){return e.onFullWidthContainerWheel(i,n)})},t.prototype.onFullWidthContainerWheel=function(e,r){!e.deltaX||Math.abs(e.deltaY)>Math.abs(e.deltaX)||!this.mouseEventService.isEventFromThisGrid(e)||(e.preventDefault(),r.scrollBy({left:e.deltaX}))},t.prototype.onBodyViewportContextMenu=function(e,r,n){if(e||n){this.gridOptionsService.is("preventDefaultOnContextMenu")&&(e||n).preventDefault();var s=(e||r).target;if(s===this.eBodyViewport||s===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement()){if(!this.contextMenuFactory)return;e?this.contextMenuFactory.onContextMenu(e,null,null,null,null,this.eGridBody):n&&this.contextMenuFactory.onContextMenu(null,n,null,null,null,this.eGridBody)}}},t.prototype.mockContextMenuForIPad=function(e){if(xn()){var r=new _n(this.eBodyViewport);this.addManagedListener(r,_n.EVENT_LONG_TAP,function(i){e(void 0,i.touchStart,i.touchEvent)}),this.addDestroyFunc(function(){return r.destroy()})}},t.prototype.onBodyViewportWheel=function(e){this.gridOptionsService.is("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()},t.prototype.onStickyTopWheel=function(e){e.preventDefault(),e.offsetY&&this.scrollVertically(e.deltaY)},t.prototype.getGui=function(){return this.eGridBody},t.prototype.scrollVertically=function(e){var r=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(r+e),this.eBodyViewport.scrollTop-r},t.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new wh(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},t.prototype.getRowDragFeature=function(){return this.rowDragFeature},t.prototype.onPinnedRowDataChanged=function(){this.setFloatingHeights()},t.prototype.setFloatingHeights=function(){var e=this.pinnedRowModel,r=e.getPinnedTopTotalHeight();r&&(r+=1);var n=e.getPinnedBottomTotalHeight();n&&(n+=1),this.comp.setTopHeight(r),this.comp.setBottomHeight(n),this.comp.setTopDisplay(r?"inherit":"none"),this.comp.setBottomDisplay(n?"inherit":"none"),this.setStickyTopOffsetTop()},t.prototype.setStickyTopHeight=function(e){void 0===e&&(e=0),this.comp.setStickyTopHeight(e+"px"),this.stickyTopHeight=e},t.prototype.getStickyTopHeight=function(){return this.stickyTopHeight},t.prototype.setStickyTopWidth=function(e){if(e){var r=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - "+r+"px)")}else this.comp.setStickyTopWidth("100%")},t.prototype.onHeaderHeightChanged=function(){this.setStickyTopOffsetTop()},t.prototype.setStickyTopOffsetTop=function(){var r=this.ctrlsService.getGridHeaderCtrl().getHeaderHeight()+this.filterManager.getHeaderHeight(),n=this.pinnedRowModel.getPinnedTopTotalHeight(),i=0;r>0&&(i+=r+1),n>0&&(i+=n+1),this.comp.setStickyTopTop(i+"px")},t.prototype.sizeColumnsToFit=function(e,r){var n=this,s=this.isVerticalScrollShowing()?this.gridOptionsService.getScrollbarWidth():0,d=zo(this.eGridBody)-s;d>0?this.columnModel.sizeColumnsToFit(d,"sizeColumnsToFit",!1,e):void 0===r?window.setTimeout(function(){n.sizeColumnsToFit(e,100)},0):100===r?window.setTimeout(function(){n.sizeColumnsToFit(e,500)},100):500===r?window.setTimeout(function(){n.sizeColumnsToFit(e,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},t.prototype.addScrollEventListener=function(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})},t.prototype.removeScrollEventListener=function(e){this.eBodyViewport.removeEventListener("scroll",e)},vi([A("animationFrameService")],t.prototype,"animationFrameService",void 0),vi([A("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),vi([A("ctrlsService")],t.prototype,"ctrlsService",void 0),vi([A("columnModel")],t.prototype,"columnModel",void 0),vi([A("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),vi([xt("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),vi([A("headerNavigationService")],t.prototype,"headerNavigationService",void 0),vi([A("dragAndDropService")],t.prototype,"dragAndDropService",void 0),vi([A("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),vi([A("rowRenderer")],t.prototype,"rowRenderer",void 0),vi([A("popupService")],t.prototype,"popupService",void 0),vi([A("mouseEventService")],t.prototype,"mouseEventService",void 0),vi([A("rowModel")],t.prototype,"rowModel",void 0),vi([A("filterManager")],t.prototype,"filterManager",void 0),t}(Le),Xu=function(o){return o[o.FILL=0]="FILL",o[o.RANGE=1]="RANGE",o}(Xu||{}),tu=function(o){return o[o.VALUE=0]="VALUE",o[o.DIMENSION=1]="DIMENSION",o}(tu||{}),ru="ag-cell-range-selected",ec=function(){function o(t,e){this.beans=t,this.cellCtrl=e}return o.prototype.setComp=function(t,e){this.cellComp=t,this.eGui=e,this.onRangeSelectionChanged()},o.prototype.onRangeSelectionChanged=function(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(ru,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(ru+"-1",1===this.rangeCount),this.cellComp.addOrRemoveCssClass(ru+"-2",2===this.rangeCount),this.cellComp.addOrRemoveCssClass(ru+"-3",3===this.rangeCount),this.cellComp.addOrRemoveCssClass(ru+"-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),Ui(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},o.prototype.updateRangeBorders=function(){var t=this.getRangeBorders(),e=this.isSingleCell(),n=!e&&t.right,i=!e&&t.bottom,s=!e&&t.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!e&&t.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",n),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",i),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",s)},o.prototype.isSingleCell=function(){var t=this.beans.rangeService;return 1===this.rangeCount&&t&&!t.isMoreThanOneCell()},o.prototype.getHasChartRange=function(){var t=this.beans.rangeService;if(!this.rangeCount||!t)return!1;var e=t.getCellRanges();return e.length>0&&e.every(function(r){return It([tu.DIMENSION,tu.VALUE],r.type)})},o.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},o.prototype.getRangeBorders=function(){var C,E,t=this,e=this.beans.gridOptionsService.is("enableRtl"),r=!1,n=!1,i=!1,s=!1,a=this.cellCtrl.getCellPosition().column,d=this.beans,g=d.rangeService,m=d.columnModel;e?(C=m.getDisplayedColAfter(a),E=m.getDisplayedColBefore(a)):(C=m.getDisplayedColBefore(a),E=m.getDisplayedColAfter(a));var b=g.getCellRanges().filter(function(fe){return g.isCellInSpecificRange(t.cellCtrl.getCellPosition(),fe)});C||(s=!0),E||(n=!0);for(var L=0;L<b.length&&!(r&&n&&i&&s);L++){var j=b[L],ee=g.getRangeStartRow(j),se=g.getRangeEndRow(j);!r&&this.beans.rowPositionUtils.sameRow(ee,this.cellCtrl.getCellPosition())&&(r=!0),!i&&this.beans.rowPositionUtils.sameRow(se,this.cellCtrl.getCellPosition())&&(i=!0),!s&&C&&j.columns.indexOf(C)<0&&(s=!0),!n&&E&&j.columns.indexOf(E)<0&&(n=!0)}return{top:r,right:n,bottom:i,left:s}},o.prototype.refreshHandle=function(){if(this.beans.rangeService){var t=this.shouldHaveSelectionHandle();this.selectionHandle&&!t&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),t&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}},o.prototype.shouldHaveSelectionHandle=function(){var t=this.beans,e=t.gridOptionsService,r=t.rangeService,n=r.getCellRanges(),i=n.length;if(this.rangeCount<1||i<1)return!1;var s=te(n),a=this.cellCtrl.getCellPosition(),d=e.is("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),g=e.is("enableRangeHandle"),m=1===i&&!this.cellCtrl.isEditing()&&(d||g);if(this.hasChartRange){var E=n[0].type===tu.DIMENSION&&r.isCellInSpecificRange(a,n[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",E),m=s.type===tu.VALUE}return m&&null!=s.endRow&&r.isContiguousRange(s)&&r.isBottomRightCell(s,a)},o.prototype.addSelectionHandle=function(){var t=this.beans,e=t.gridOptionsService,n=te(t.rangeService.getCellRanges()).type,s=e.is("enableFillHandle")&&W(n)?Xu.FILL:Xu.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==s&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(s)),this.selectionHandle.refresh(this.cellCtrl)},o.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},o}(),Ph=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Fh=function(o){function t(e,r){var n=o.call(this)||this;return n.cellCtrl=e,n.beans=r,n.column=e.getColumn(),n.rowNode=e.getRowNode(),n.setupColSpan(),n.setupRowSpan(),n}return Ph(t,o),t.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},t.prototype.setComp=function(e){this.eGui=e,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},t.prototype.onDisplayColumnsChanged=function(){var e=this.getColSpanningList();Ye(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())},t.prototype.setupColSpan=function(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},t.prototype.onWidthChanged=function(){if(this.eGui){var e=this.getCellWidth();this.eGui.style.width=e+"px"}},t.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(e,r){return e+r.getActualWidth()},0):this.column.getActualWidth()},t.prototype.getColSpanningList=function(){var e=this.column.getColSpan(this.rowNode),r=[];if(1===e)r.push(this.column);else for(var n=this.column,i=this.column.getPinned(),s=0;n&&s<e&&(r.push(n),(n=this.beans.columnModel.getDisplayedColAfter(n))&&!W(n)&&i===n.getPinned());s++);return r},t.prototype.onLeftChanged=function(){if(this.eGui){var e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}},t.prototype.getCellLeft=function(){return(this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?te(this.colsSpanning):this.column).getLeft()},t.prototype.modifyLeftForPrintLayout=function(e){if(!this.cellCtrl.isPrintLayout()||"left"===this.column.getPinned())return e;var r=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===this.column.getPinned()?r+this.beans.columnModel.getBodyContainerWidth()+(e||0):r+(e||0)},t.prototype.applyRowSpan=function(){if(1!==this.rowSpan){var e=this.beans.gridOptionsService.getRowHeightAsNumber();this.eGui.style.height=e*this.rowSpan+"px",this.eGui.style.zIndex="1"}},t.prototype.destroy=function(){o.prototype.destroy.call(this)},t}(Le),Mh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ih=function(o){function t(e,r){var n=o.call(this)||this;return n.staticClasses=[],n.cellCtrl=e,n.beans=r,n.column=e.getColumn(),n.rowNode=e.getRowNode(),n}return Mh(t,o),t.prototype.setComp=function(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},t.prototype.applyCellClassRules=function(){var e=this,r=this.column.getColDef(),n={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:r,column:this.column,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.beans.stylingService.processClassRules(r.cellClassRules,n,function(i){return e.cellComp.addOrRemoveCssClass(i,!0)},function(i){return e.cellComp.addOrRemoveCssClass(i,!1)})},t.prototype.applyUserStyles=function(){var e=this.column.getColDef();if(e.cellStyle){var r;if("function"==typeof e.cellStyle){var n={column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};r=(0,e.cellStyle)(n)}else r=e.cellStyle;r&&this.cellComp.setUserStyles(r)}},t.prototype.applyClassesFromColDef=function(){var e=this,r=this.column.getColDef(),n={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:r,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.staticClasses.length&&this.staticClasses.forEach(function(i){return e.cellComp.addOrRemoveCssClass(i,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(r,n),this.staticClasses.length&&this.staticClasses.forEach(function(i){return e.cellComp.addOrRemoveCssClass(i,!0)})},t.prototype.destroy=function(){o.prototype.destroy.call(this)},t}(Le),Lh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),fd=function(o){function t(e,r){var n=o.call(this)||this;return n.ctrl=e,n.beans=r,n}return Lh(t,o),t.prototype.setComp=function(e){this.eGui=e,this.setupTooltip()},t.prototype.setBrowserTooltip=function(e){var r="title";null!=e&&""!=e?this.eGui.setAttribute(r,e):this.eGui.removeAttribute(r)},t.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsService.is("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?this.setBrowserTooltip(this.tooltip):this.createTooltipFeatureIfNeeded()},t.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},t.prototype.createTooltipFeatureIfNeeded=function(){var r,n,i,s,e=this;null==this.genericTooltipFeature&&(this.genericTooltipFeature=this.createManagedBean(new Fn({getTooltipParams:function(){return e.getTooltipParams()},getGui:function(){return e.ctrl.getGui()}},null===(n=(r=this.ctrl).getTooltipShowDelayOverride)||void 0===n?void 0:n.call(r),null===(s=(i=this.ctrl).getTooltipHideDelayOverride)||void 0===s?void 0:s.call(i)),this.beans.context))},t.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.setBrowserTooltip(this.tooltip)},t.prototype.getTooltipParams=function(){var e=this,r=this.ctrl,n=r.getColumn?r.getColumn():void 0,i=r.getColDef?r.getColDef():void 0,s=r.getRowNode?r.getRowNode():void 0;return{location:r.getLocation(),colDef:i,column:n,rowIndex:r.getRowIndex?r.getRowIndex():void 0,node:s,data:s?s.data:void 0,value:this.getTooltipText(),valueFormatted:r.getValueFormatted?r.getValueFormatted():void 0,hideTooltipCallback:function(){return e.genericTooltipFeature.hideTooltip(!0)}}},t.prototype.getTooltipText=function(){return this.tooltip},t.prototype.destroy=function(){o.prototype.destroy.call(this)},t}(Le),Zt=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Vp=function(){function o(){}return o.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsService.is("masterDetail"),this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)},Zt([A("resizeObserverService")],o.prototype,"resizeObserverService",void 0),Zt([A("paginationProxy")],o.prototype,"paginationProxy",void 0),Zt([A("context")],o.prototype,"context",void 0),Zt([A("columnApi")],o.prototype,"columnApi",void 0),Zt([A("gridApi")],o.prototype,"gridApi",void 0),Zt([A("gridOptionsService")],o.prototype,"gridOptionsService",void 0),Zt([A("expressionService")],o.prototype,"expressionService",void 0),Zt([A("environment")],o.prototype,"environment",void 0),Zt([A("rowRenderer")],o.prototype,"rowRenderer",void 0),Zt([A("templateService")],o.prototype,"templateService",void 0),Zt([A("valueService")],o.prototype,"valueService",void 0),Zt([A("eventService")],o.prototype,"eventService",void 0),Zt([A("columnModel")],o.prototype,"columnModel",void 0),Zt([A("headerNavigationService")],o.prototype,"headerNavigationService",void 0),Zt([A("navigationService")],o.prototype,"navigationService",void 0),Zt([A("columnAnimationService")],o.prototype,"columnAnimationService",void 0),Zt([xt("rangeService")],o.prototype,"rangeService",void 0),Zt([A("focusService")],o.prototype,"focusService",void 0),Zt([xt("contextMenuFactory")],o.prototype,"contextMenuFactory",void 0),Zt([A("popupService")],o.prototype,"popupService",void 0),Zt([A("valueFormatterService")],o.prototype,"valueFormatterService",void 0),Zt([A("stylingService")],o.prototype,"stylingService",void 0),Zt([A("columnHoverService")],o.prototype,"columnHoverService",void 0),Zt([A("userComponentFactory")],o.prototype,"userComponentFactory",void 0),Zt([A("userComponentRegistry")],o.prototype,"userComponentRegistry",void 0),Zt([A("animationFrameService")],o.prototype,"animationFrameService",void 0),Zt([A("dragService")],o.prototype,"dragService",void 0),Zt([A("dragAndDropService")],o.prototype,"dragAndDropService",void 0),Zt([A("sortController")],o.prototype,"sortController",void 0),Zt([A("filterManager")],o.prototype,"filterManager",void 0),Zt([A("rowContainerHeightService")],o.prototype,"rowContainerHeightService",void 0),Zt([A("frameworkOverrides")],o.prototype,"frameworkOverrides",void 0),Zt([A("cellPositionUtils")],o.prototype,"cellPositionUtils",void 0),Zt([A("rowPositionUtils")],o.prototype,"rowPositionUtils",void 0),Zt([A("selectionService")],o.prototype,"selectionService",void 0),Zt([xt("selectionHandleFactory")],o.prototype,"selectionHandleFactory",void 0),Zt([A("rowCssClassCalculator")],o.prototype,"rowCssClassCalculator",void 0),Zt([A("rowModel")],o.prototype,"rowModel",void 0),Zt([A("ctrlsService")],o.prototype,"ctrlsService",void 0),Zt([A("ctrlsFactory")],o.prototype,"ctrlsFactory",void 0),Zt([A("agStackComponentsRegistry")],o.prototype,"agStackComponentsRegistry",void 0),Zt([A("valueCache")],o.prototype,"valueCache",void 0),Zt([A("rowNodeEventThrottle")],o.prototype,"rowNodeEventThrottle",void 0),Zt([A("localeService")],o.prototype,"localeService",void 0),Zt([A("valueParserService")],o.prototype,"valueParserService",void 0),Zt([we],o.prototype,"postConstruct",null),Zt([je("beans")],o)}(),Nh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gh=function(o){function t(e,r,n){var i=o.call(this)||this;return i.cellCtrl=e,i.beans=r,i.column=n,i}return Nh(t,o),t.prototype.onMouseEvent=function(e,r){if(!xe(r))switch(e){case"click":this.onCellClicked(r);break;case"mousedown":case"touchstart":this.onMouseDown(r);break;case"dblclick":this.onCellDoubleClicked(r);break;case"mouseout":this.onMouseOut(r);break;case"mouseover":this.onMouseOver(r)}},t.prototype.onCellClicked=function(e){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(e),void e.preventDefault();var r=this.beans,n=r.eventService,i=r.rangeService,s=r.gridOptionsService;i&&(e.ctrlKey||e.metaKey)&&i.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&i.intersectLastRange(!0);var d=this.cellCtrl.createEvent(e,M.EVENT_CELL_CLICKED);n.dispatchEvent(d);var g=this.column.getColDef();g.onCellClicked&&window.setTimeout(function(){return g.onCellClicked(d)},0),(s.is("singleClickEdit")||g.singleClickEdit)&&!s.is("suppressClickEdit")&&(!e.shiftKey||0==i?.getCellRanges().length)&&this.cellCtrl.startRowOrCellEdit()},t.prototype.isDoubleClickOnIPad=function(){if(!xn()||P("dblclick"))return!1;var e=(new Date).getTime(),r=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,r},t.prototype.onCellDoubleClicked=function(e){var r=this.column.getColDef(),n=this.cellCtrl.createEvent(e,M.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(n),"function"==typeof r.onCellDoubleClicked&&window.setTimeout(function(){return r.onCellDoubleClicked(n)},0),!this.beans.gridOptionsService.is("singleClickEdit")&&!this.beans.gridOptionsService.is("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit(null,e)},t.prototype.onMouseDown=function(e){var r=e.ctrlKey,n=e.metaKey,i=e.shiftKey,s=e.target,d=this.cellCtrl,g=this.beans,m=g.eventService,C=g.rangeService,E=g.focusService;if(!this.isRightClickInExistingRange(e)){var b=C&&0!=C.getCellRanges().length;if(!i||!b){var L=Cn()&&!d.isEditing()&&!hs(s);d.focusCell(L)}if(i&&b&&!E.isCellFocused(d.getCellPosition())){e.preventDefault();var j=E.getFocusedCell();if(j){var ee=j.column,se=j.rowIndex,fe=j.rowPinned,Te=g.rowRenderer.getRowByPosition({rowIndex:se,rowPinned:fe}),ke=Te?.getCellCtrl(ee);ke?.isEditing()&&ke.stopEditing(),E.setFocusedCell({column:ee,rowIndex:se,rowPinned:fe,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(s)){if(C){var St=this.cellCtrl.getCellPosition();i?C.extendLatestRangeToCell(St):C.setRangeToCell(St,r||n)}m.dispatchEvent(this.cellCtrl.createEvent(e,M.EVENT_CELL_MOUSE_DOWN))}}},t.prototype.isRightClickInExistingRange=function(e){var r=this.beans.rangeService;if(r){var n=r.isCellInAnyRange(this.cellCtrl.getCellPosition()),i=2===e.button||e.ctrlKey&&this.beans.gridOptionsService.is("allowContextMenuWithControlKey");if(n&&i)return!0}return!1},t.prototype.containsWidget=function(e){return jo(e,"ag-selection-checkbox",3)},t.prototype.onMouseOut=function(e){if(!this.mouseStayingInsideCell(e)){var r=this.cellCtrl.createEvent(e,M.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(r),this.beans.columnHoverService.clearMouseOver()}},t.prototype.onMouseOver=function(e){if(!this.mouseStayingInsideCell(e)){var r=this.cellCtrl.createEvent(e,M.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(r),this.beans.columnHoverService.setMouseOver([this.column])}},t.prototype.mouseStayingInsideCell=function(e){if(!e.target||!e.relatedTarget)return!1;var r=this.cellCtrl.getGui(),n=r.contains(e.target),i=r.contains(e.relatedTarget);return n&&i},t.prototype.destroy=function(){},t}(Vp),Hh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vh=function(o){function t(e,r,n,i,s){var a=o.call(this)||this;return a.cellCtrl=e,a.beans=r,a.rowNode=i,a.rowCtrl=s,a}return Hh(t,o),t.prototype.setComp=function(e){this.eGui=e},t.prototype.onKeyDown=function(e){var r=e.key;switch(r){case Ce.ENTER:this.onEnterKeyDown(e);break;case Ce.F2:this.onF2KeyDown(e);break;case Ce.ESCAPE:this.onEscapeKeyDown(e);break;case Ce.TAB:this.onTabKeyDown(e);break;case Ce.BACKSPACE:case Ce.DELETE:this.onBackspaceOrDeleteKeyDown(r,e);break;case Ce.DOWN:case Ce.UP:case Ce.RIGHT:case Ce.LEFT:this.onNavigationKeyDown(e,r)}},t.prototype.onNavigationKeyDown=function(e,r){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,r,this.cellCtrl.getCellPosition(),!0),e.preventDefault())},t.prototype.onShiftRangeSelect=function(e){if(this.beans.rangeService){var r=this.beans.rangeService.extendLatestRangeInDirection(e);r&&this.beans.navigationService.ensureCellVisible(r)}},t.prototype.onTabKeyDown=function(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)},t.prototype.onBackspaceOrDeleteKeyDown=function(e,r){var n=this,i=n.cellCtrl,s=n.beans,a=n.rowNode,d=s.gridOptionsService,g=s.rangeService,m=s.eventService;i.isEditing()||(m.dispatchEvent({type:M.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),_o(e,d.is("enableCellEditingOnBackspace"))?g&&d.is("enableRangeSelection")?g.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"}):i.isCellEditable()&&a.setDataValue(i.getColumn(),null,"cellClear"):i.startRowOrCellEdit(e,r),m.dispatchEvent({type:M.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))},t.prototype.onEnterKeyDown=function(e){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey):this.beans.gridOptionsService.is("enterNavigatesVertically")?this.beans.navigationService.navigateToNextCell(null,e.shiftKey?Ce.UP:Ce.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(Ce.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault())},t.prototype.onF2KeyDown=function(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(Ce.F2,e)},t.prototype.onEscapeKeyDown=function(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},t.prototype.processCharacter=function(e){if(e.target===this.eGui&&!this.cellCtrl.isEditing()){var i=e.key;" "===i?this.onSpaceKeyDown(e):(this.cellCtrl.startRowOrCellEdit(i,e),e.preventDefault())}},t.prototype.onSpaceKeyDown=function(e){var r=this.beans.gridOptionsService;if(!this.cellCtrl.isEditing()&&r.isRowSelection()){var n=this.rowNode.isSelected(),i=!n;if(i||!r.is("suppressRowDeselection")){var s=this.beans.gridOptionsService.is("groupSelectsFiltered"),a=this.rowNode.setSelectedParams({newValue:i,rangeSelect:e.shiftKey,groupSelectsFiltered:s,event:e,source:"spaceKey"});void 0===n&&0===a&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:s,event:e,source:"spaceKey"})}}e.preventDefault()},t.prototype.destroy=function(){o.prototype.destroy.call(this)},t}(Le),Bh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Wh=function(o){function t(e,r,n){var i=o.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return i.rowNode=e,i.column=r,i.eCell=n,i}return Bh(t,o),t.prototype.postConstruct=function(){this.getGui().appendChild(Zr("rowDrag",this.gridOptionsService,null)),this.addGuiEventListener("mousedown",function(r){r.stopPropagation()}),this.addDragSource(),this.checkVisibility()},t.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},t.prototype.onDragStart=function(e){var r=this,n=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0),n?n({rowNode:this.rowNode,dragEvent:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):function(){try{var a=JSON.stringify(r.rowNode.data);e.dataTransfer.setData("application/json",a),e.dataTransfer.setData("text/plain",a)}catch{}}()},t.prototype.checkVisibility=function(){var e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)},function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);n>3&&i&&Object.defineProperty(t,e,i)}([we],t.prototype,"postConstruct",null),t}(qt),Uh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),nu=function(){return nu=Object.assign||function(o){for(var t,e=1,r=arguments.length;e<r;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o},nu.apply(this,arguments)},Zh=0,Ca=function(o){function t(e,r,n,i){var s=o.call(this)||this;s.cellRangeFeature=null,s.cellPositionFeature=null,s.cellCustomStyleFeature=null,s.tooltipFeature=null,s.cellMouseListenerFeature=null,s.cellKeyboardListenerFeature=null,s.suppressRefreshCell=!1,s.onCellCompAttachedFuncs=[],s.column=e,s.rowNode=r,s.beans=n,s.rowCtrl=i,s.instanceId=e.getId()+"-"+Zh++;var a=s.column.getColDef();return s.colIdSanitised=Xr(s.column.getId()),s.beans.gridOptionsService.is("suppressCellFocus")||(s.tabIndex=-1),s.isCellRenderer=null!=a.cellRenderer||null!=a.cellRendererSelector,s.createCellPosition(),s.addFeatures(),s.updateAndFormatValue(!0),s}return Uh(t,o),t.prototype.shouldRestoreFocus=function(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)},t.prototype.addFeatures=function(){var e=this;this.cellPositionFeature=new Fh(this,this.beans),this.addDestroyFunc(function(){var n;null===(n=e.cellPositionFeature)||void 0===n||n.destroy(),e.cellPositionFeature=null}),this.cellCustomStyleFeature=new Ih(this,this.beans),this.addDestroyFunc(function(){var n;null===(n=e.cellCustomStyleFeature)||void 0===n||n.destroy(),e.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new Gh(this,this.beans,this.column),this.addDestroyFunc(function(){var n;null===(n=e.cellMouseListenerFeature)||void 0===n||n.destroy(),e.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new Vh(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(function(){var n;null===(n=e.cellKeyboardListenerFeature)||void 0===n||n.destroy(),e.cellKeyboardListenerFeature=null}),this.beans.rangeService&&this.beans.gridOptionsService.is("enableRangeSelection")&&(this.cellRangeFeature=new ec(this.beans,this),this.addDestroyFunc(function(){var n;null===(n=e.cellRangeFeature)||void 0===n||n.destroy(),e.cellRangeFeature=null})),this.column.isTooltipEnabled()&&this.addTooltipFeature()},t.prototype.addTooltipFeature=function(){var e=this;this.tooltipFeature=new fd({getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getRowIndex:function(){return e.cellPosition.rowIndex},getRowNode:function(){return e.rowNode},getGui:function(){return e.getGui()},getLocation:function(){return"cell"},getTooltipValue:function(){var i=e.column.getColDef(),s=e.rowNode.data;if(i.tooltipField&&w(s))return Rr(s,i.tooltipField,e.column.isTooltipFieldContainsDots());var a=i.tooltipValueGetter;return a?a({location:"cell",api:e.beans.gridOptionsService.api,columnApi:e.beans.gridOptionsService.columnApi,context:e.beans.gridOptionsService.context,colDef:e.column.getColDef(),column:e.column,rowIndex:e.cellPosition.rowIndex,node:e.rowNode,data:e.rowNode.data,value:e.value,valueFormatted:e.valueFormatted}):null},getValueFormatted:function(){return e.valueFormatted}},this.beans),this.addDestroyFunc(function(){var i;null===(i=e.tooltipFeature)||void 0===i||i.destroy(),e.tooltipFeature=null})},t.prototype.setComp=function(e,r,n,i,s){var a,d,g,m;this.cellComp=e,this.eGui=r,this.printLayout=i,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),n&&this.setupAutoHeight(n),this.setAriaColIndex(),null===(a=this.cellPositionFeature)||void 0===a||a.setComp(r),null===(d=this.cellCustomStyleFeature)||void 0===d||d.setComp(e),null===(g=this.tooltipFeature)||void 0===g||g.setComp(r),null===(m=this.cellKeyboardListenerFeature)||void 0===m||m.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,r),s&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(function(C){return C()}),this.onCellCompAttachedFuncs=[])},t.prototype.setupAutoHeight=function(e){var r=this;if(this.column.isAutoHeight()){var n=e.parentElement,i=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,s=function(g){if(!r.editing&&r.isAlive()){var m=Bn(n),se=e.offsetHeight+(m.paddingTop+m.paddingBottom+m.borderBottomWidth+m.borderTopWidth);if(g<5){var fe=r.beans.gridOptionsService.getDocument();if(!fe||!fe.contains(e)||0==se)return void r.beans.frameworkOverrides.setTimeout(function(){return s(g+1)},0)}var St=Math.max(se,i);r.rowNode.setRowAutoHeight(St,r.column)}},a=function(){return s(0)};a();var d=this.beans.resizeObserverService.observeResize(e,a);this.addDestroyFunc(function(){d(),r.rowNode.setRowAutoHeight(void 0,r.column)})}},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.getIncludeSelection=function(){return this.includeSelection},t.prototype.getIncludeRowDrag=function(){return this.includeRowDrag},t.prototype.getIncludeDndSource=function(){return this.includeDndSource},t.prototype.getColumnIdSanitised=function(){return this.colIdSanitised},t.prototype.getTabIndex=function(){return this.tabIndex},t.prototype.getIsCellRenderer=function(){return this.isCellRenderer},t.prototype.getValueToDisplay=function(){return null!=this.valueFormatted?this.valueFormatted:this.value},t.prototype.showValue=function(e){void 0===e&&(e=!1);var n,r=this.getValueToDisplay();if(this.isCellRenderer){var i=this.createCellRendererParams();n=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),i)}this.cellComp.setRenderDetails(n,r,e),this.refreshHandle()},t.prototype.setupControlComps=function(){var e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},t.prototype.isForceWrapper=function(){return this.beans.gridOptionsService.is("enableCellTextSelection")||this.column.isAutoHeight()},t.prototype.isIncludeControl=function(e){return!(null!=this.rowNode.rowPinned||"function"!=typeof e&&!0!==e)},t.prototype.refreshShouldDestroy=function(){var e=this.column.getColDef(),r=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),i=this.includeDndSource!=this.isIncludeControl(e.dndSource);return r||n||i},t.prototype.startEditing=function(e,r,n){var i=this;if(void 0===e&&(e=null),void 0===r&&(r=!1),void 0===n&&(n=null),this.isCellEditable()&&!this.editing){if(!this.cellComp)return void this.onCellCompAttachedFuncs.push(function(){i.startEditing(e,r,n)});var s=this.createCellEditorParams(e,r),a=this.column.getColDef(),d=this.beans.userComponentFactory.getCellEditorDetails(a,s),g=null!=d?.popupFromSelector?d.popupFromSelector:!!a.cellEditorPopup,m=null!=d?.popupPositionFromSelector?d.popupPositionFromSelector:a.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(d,g,m);var C=this.createEvent(n,M.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(C)}},t.prototype.setEditing=function(e){this.editing!==e&&(this.editing=e,this.refreshHandle())},t.prototype.stopRowOrCellEdit=function(e){void 0===e&&(e=!1),"fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.stopRowEditing(e):this.stopEditing(e)},t.prototype.onPopupEditorClosed=function(){this.isEditing()&&this.stopEditingAndFocus()},t.prototype.takeValueFromCellEditor=function(e){var r={newValueExists:!1};if(e)return r;var n=this.cellComp.getCellEditor();return n?n.isCancelAfterEnd&&n.isCancelAfterEnd()?r:{newValue:n.getValue(),newValueExists:!0}:r},t.prototype.saveNewValue=function(e,r){if(r===e)return!1;this.suppressRefreshCell=!0;var n=this.rowNode.setDataValue(this.column,r,"edit");return this.suppressRefreshCell=!1,n},t.prototype.stopEditing=function(e){if(void 0===e&&(e=!1),!this.editing)return!1;var r=this.takeValueFromCellEditor(e),n=r.newValue,i=r.newValueExists,s=this.rowNode.getValueFromValueService(this.column),a=!1;return i&&(a=this.saveNewValue(s,n)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(s,n,!e&&!!a),a},t.prototype.dispatchEditingStoppedEvent=function(e,r,n){var i=nu(nu({},this.createEvent(null,M.EVENT_CELL_EDITING_STOPPED)),{oldValue:e,newValue:r,valueChanged:n});this.beans.eventService.dispatchEvent(i)},t.prototype.createCellEditorParams=function(e,r){return{value:this.rowNode.getValueFromValueService(this.column),eventKey:e,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsService.api,cellStartedEdit:r,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},t.prototype.createCellRendererParams=function(){var e=this;return{value:this.value,valueFormatted:this.valueFormatted,getValue:function(){return e.rowNode.getValueFromValueService(e.column)},setValue:function(n){return e.beans.valueService.setValue(e.rowNode,e.column,n)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(n,i,s,a){return e.registerRowDragger(n,i,a)}}},t.prototype.parseValue=function(e){return this.beans.valueParserService.parseValue(this.column,this.rowNode,e,this.getValue())},t.prototype.setFocusOutOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusOut&&e.focusOut()}},t.prototype.setFocusInOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusIn?e.focusIn():this.focusCell(!0)}},t.prototype.onCellChanged=function(e){this.cellComp&&e.column===this.column&&this.refreshCell({})},t.prototype.refreshCell=function(e){var r,n,i;if(!this.suppressRefreshCell&&!this.editing&&this.cellComp){var s=this.column.getColDef(),a=null!=e&&!!e.newData,d=null!=e&&!!e.suppressFlash||!!s.suppressCellFlash,m=e&&e.forceRefresh||null==s.field&&null==s.valueGetter&&null==s.showRowGroup||a,C=this.updateAndFormatValue();if(m||C){this.showValue(a);var b=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!d&&!b&&(this.beans.gridOptionsService.is("enableCellChangeFlash")||s.enableCellChangeFlash)&&this.flashCell(),null===(r=this.cellCustomStyleFeature)||void 0===r||r.applyUserStyles(),null===(n=this.cellCustomStyleFeature)||void 0===n||n.applyClassesFromColDef()}this.refreshToolTip(),null===(i=this.cellCustomStyleFeature)||void 0===i||i.applyCellClassRules()}},t.prototype.stopEditingAndFocus=function(e,r){void 0===e&&(e=!1),void 0===r&&(r=!1),this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit(r)},t.prototype.navigateAfterEdit=function(e){this.beans.gridOptionsService.is("enterNavigatesVerticallyAfterEdit")&&this.beans.navigationService.navigateToNextCell(null,e?Ce.UP:Ce.DOWN,this.getCellPosition(),!1)},t.prototype.flashCell=function(e){this.animateCell("data-changed",e&&e.flashDelay,e&&e.fadeDelay)},t.prototype.animateCell=function(e,r,n){var s,a,i=this;if(this.cellComp){var d="ag-cell-"+e,g="ag-cell-"+e+"-animation",m=this.beans.gridOptionsService;r||(r=null!==(s=m.getNum("cellFlashDelay"))&&void 0!==s?s:500),w(n)||(n=null!==(a=m.getNum("cellFadeDelay"))&&void 0!==a?a:1e3),this.cellComp.addOrRemoveCssClass(d,!0),this.cellComp.addOrRemoveCssClass(g,!1),window.setTimeout(function(){i.isAlive()&&(i.cellComp.addOrRemoveCssClass(d,!1),i.cellComp.addOrRemoveCssClass(g,!0),i.eGui.style.transition="background-color "+n+"ms",window.setTimeout(function(){i.isAlive()&&(i.cellComp.addOrRemoveCssClass(g,!1),i.eGui.style.transition="")},n))},r)}},t.prototype.onFlashCells=function(e){if(this.cellComp){var r=this.beans.cellPositionUtils.createId(this.getCellPosition());e.cells[r]&&this.animateCell("highlight")}},t.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},t.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},t.prototype.formatValue=function(e){var r;return null!==(r=this.callValueFormatter(e))&&void 0!==r?r:e},t.prototype.callValueFormatter=function(e){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,e)},t.prototype.updateAndFormatValue=function(e){void 0===e&&(e=!1);var r=this.value,n=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),!!e||!this.valuesAreEqual(r,this.value)||this.valueFormatted!=n},t.prototype.valuesAreEqual=function(e,r){var n=this.column.getColDef();return n.equals?n.equals(e,r):e===r},t.prototype.getComp=function(){return this.cellComp},t.prototype.getValue=function(){return this.value},t.prototype.getValueFormatted=function(){return this.valueFormatted},t.prototype.addDomData=function(){var e=this,r=this.getGui();this.beans.gridOptionsService.setDomData(r,t.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return e.beans.gridOptionsService.setDomData(r,t.DOM_DATA_KEY_CELL_CTRL,null)})},t.prototype.createEvent=function(e,r){return{type:r,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex}},t.prototype.processCharacter=function(e){var r;null===(r=this.cellKeyboardListenerFeature)||void 0===r||r.processCharacter(e)},t.prototype.onKeyDown=function(e){var r;null===(r=this.cellKeyboardListenerFeature)||void 0===r||r.onKeyDown(e)},t.prototype.onMouseEvent=function(e,r){var n;null===(n=this.cellMouseListenerFeature)||void 0===n||n.onMouseEvent(e,r)},t.prototype.getGui=function(){return this.eGui},t.prototype.refreshToolTip=function(){var e;null===(e=this.tooltipFeature)||void 0===e||e.refreshToolTip()},t.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},t.prototype.onLeftChanged=function(){var e;this.cellComp&&(null===(e=this.cellPositionFeature)||void 0===e||e.onLeftChanged())},t.prototype.onDisplayedColumnsChanged=function(){this.eGui&&this.setAriaColIndex()},t.prototype.setAriaColIndex=function(){var e=this.beans.columnModel.getAriaColumnIndex(this.column);mo(this.getGui(),e)},t.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},t.prototype.onWidthChanged=function(){var e;return null===(e=this.cellPositionFeature)||void 0===e?void 0:e.onWidthChanged()},t.prototype.getColumn=function(){return this.column},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getBeans=function(){return this.beans},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.appendChild=function(e){this.eGui.appendChild(e)},t.prototype.refreshHandle=function(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},t.prototype.getCellPosition=function(){return this.cellPosition},t.prototype.isEditing=function(){return this.editing},t.prototype.startRowOrCellEdit=function(e,r){void 0===r&&(r=null),this.cellComp&&("fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.startRowEditing(e,this):this.startEditing(e,!0,r))},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},t.prototype.updateRangeBordersIfRangeCount=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},t.prototype.onRangeSelectionChanged=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.isRangeSelectionEnabled=function(){return null!=this.cellRangeFeature},t.prototype.focusCell=function(e){void 0===e&&(e=!1),this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})},t.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",e)}},t.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",e)}},t.prototype.onCellFocused=function(e){if(!this.beans.gridOptionsService.is("suppressCellFocus")){var r=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp)return void(r&&e?.forceBrowserFocus&&(this.focusEventToRestore=e));this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass("ag-cell-focus",r),r&&e&&e.forceBrowserFocus&&this.cellComp.getFocusableElement().focus({preventScroll:!!e.preventScrollOnBrowserFocus});var i="fullRow"===this.beans.gridOptionsService.get("editType");!r&&!i&&this.editing&&this.stopRowOrCellEdit()}},t.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:p(this.rowNode.rowPinned),column:this.column}},t.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass("ag-cell-not-inline-editing",!0);var e=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",e),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!e)},t.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsService.is("columnHoverHighlight")){var e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",e)}},t.prototype.onColDefChanged=function(){this.cellComp&&(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},t.prototype.setWrapText=function(){var e=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",e)},t.prototype.dispatchCellContextMenuEvent=function(e){var r=this.column.getColDef(),n=this.createEvent(e,M.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(n),r.onCellContextMenu&&window.setTimeout(function(){return r.onCellContextMenu(n)},0)},t.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},t.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},t.prototype.destroy=function(){this.onCellCompAttachedFuncs=[],o.prototype.destroy.call(this)},t.prototype.createSelectionCheckbox=function(){var e=new $l;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e},t.prototype.createDndSource=function(){var e=new Wh(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(e),e},t.prototype.registerRowDragger=function(e,r,n){var i=this;if(this.customRowDragComp)this.customRowDragComp.setDragElement(e,r);else{var s=this.createRowDragComp(e,r,n);s&&(this.customRowDragComp=s,this.addDestroyFunc(function(){i.beans.context.destroyBean(s),i.customRowDragComp=null}))}},t.prototype.createRowDragComp=function(e,r,n){var i=this,s=this.beans.gridOptionsService.is("pagination"),a=this.beans.gridOptionsService.is("rowDragManaged"),d=this.beans.gridOptionsService.isRowModelType("clientSide");if(a){if(!d)return void At(function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")},"CellComp.addRowDragging");if(s)return void At(function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")},"CellComp.addRowDragging")}var g=new Ql(function(){return i.value},this.rowNode,this.column,e,r,n);return this.beans.context.createBean(g),g},t.DOM_DATA_KEY_CELL_CTRL="cellCtrl",t}(Le),Jh=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),hd=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i},gd=function(o,t){for(var e=0,r=t.length,n=o.length;e<r;e++,n++)o[n]=t[e];return o},Mi=function(o){return o.Normal="Normal",o.FullWidth="FullWidth",o.FullWidthLoading="FullWidthLoading",o.FullWidthGroup="FullWidthGroup",o.FullWidthDetail="FullWidthDetail",o}(Mi||{}),eg=0,To=function(o){function t(e,r,n,i,s){var a=o.call(this)||this;return a.allRowGuis=[],a.active=!0,a.centerCellCtrls={list:[],map:{}},a.leftCellCtrls={list:[],map:{}},a.rightCellCtrls={list:[],map:{}},a.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},a.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},a.lastMouseDownOnDragger=!1,a.emptyStyle={},a.updateColumnListsPending=!1,a.rowId=null,a.businessKeySanitised=null,a.beans=r,a.gridOptionsService=r.gridOptionsService,a.rowNode=e,a.paginationPage=r.paginationProxy.getCurrentPage(),a.useAnimationFrameForCreate=i,a.printLayout=s,a.instanceId=e.id+"-"+eg++,a.rowId=Xr(e.id),a.initRowBusinessKey(),a.rowFocused=r.focusService.isRowFocused(a.rowNode.rowIndex,a.rowNode.rowPinned),a.rowLevel=r.rowCssClassCalculator.calculateRowLevel(a.rowNode),a.setRowType(),a.setAnimateFlags(n),a.rowStyles=a.processStylesFromGridOptions(),a.isFullWidth()&&!a.gridOptionsService.is("suppressCellFocus")&&(a.tabIndex=-1),a.addListeners(),a}return Jh(t,o),t.prototype.initRowBusinessKey=function(){this.businessKeyForNodeFunc=this.gridOptionsService.get("getBusinessKeyForNode"),this.updateRowBusinessKey()},t.prototype.updateRowBusinessKey=function(){if("function"==typeof this.businessKeyForNodeFunc){var e=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=Xr(e)}},t.prototype.getRowId=function(){return this.rowId},t.prototype.getRowStyles=function(){return this.rowStyles},t.prototype.getTabIndex=function(){return this.tabIndex},t.prototype.isSticky=function(){return this.rowNode.sticky},t.prototype.getBeans=function(){return this.beans},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e,r,n){var i={rowComp:e,element:r,containerType:n};this.allRowGuis.push(i),n===Tn.LEFT?this.leftGui=i:n===Tn.RIGHT?this.rightGui=i:n===Tn.FULL_WIDTH?this.fullWidthGui=i:this.centerGui=i,this.initialiseRowComp(i),"FullWidthLoading"!==this.rowType&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()},t.prototype.unsetComp=function(e){switch(this.allRowGuis=this.allRowGuis.filter(function(r){return r.containerType!==e}),e){case Tn.LEFT:this.leftGui=void 0;break;case Tn.RIGHT:this.rightGui=void 0;break;case Tn.FULL_WIDTH:this.fullWidthGui=void 0;break;case Tn.CENTER:this.centerGui=void 0}},t.prototype.isCacheable=function(){return this.rowType===Mi.FullWidthDetail&&this.gridOptionsService.is("keepDetailRows")},t.prototype.setCached=function(e){var r=e?"none":"";this.allRowGuis.forEach(function(n){return n.element.style.display=r})},t.prototype.initialiseRowComp=function(e){var r=this,n=this.gridOptionsService;this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),n.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);var i=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(function(a){return i.addOrRemoveCssClass(a,!0)}),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&Ai(e.element,1==this.rowNode.expanded),this.setRowCompRowId(i),this.setRowCompRowBusinessKey(i),n.setDomData(e.element,t.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(function(){return n.setDomData(e.element,t.DOM_DATA_KEY_ROW_CTRL,null)}),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,e.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e.element),this.isFullWidth()&&this.setupFullWidth(e),n.is("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(function(){r.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()},t.prototype.setRowCompRowBusinessKey=function(e){null!=this.businessKeySanitised&&e.setRowBusinessKey(this.businessKeySanitised)},t.prototype.getBusinessKey=function(){return this.businessKeySanitised},t.prototype.setRowCompRowId=function(e){this.rowId=Xr(this.rowNode.id),null!=this.rowId&&e.setRowId(this.rowId)},t.prototype.executeSlideAndFadeAnimations=function(e){var r=this,n=e.containerType;this.slideInAnimation[n]&&(hr(function(){r.onTopChanged()}),this.slideInAnimation[n]=!1),this.fadeInAnimation[n]&&(hr(function(){e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[n]=!1)},t.prototype.addRowDraggerToRow=function(e){if(this.gridOptionsService.is("enableRangeSelection"))At(function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");else{var r=this.beans.localeService.getLocaleTextFunc(),n=new Ql(function(){return"1 "+r("rowDragRow","row")},this.rowNode,void 0,e.element,void 0,!0);this.createManagedBean(n,this.beans.context)}},t.prototype.setupFullWidth=function(e){var r=this.getPinnedForContainer(e.containerType),n=this.createFullWidthParams(e.element,r);if(this.rowType!=Mi.FullWidthDetail||it.__assertRegistered(Re.MasterDetailModule,"cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId())){var i;switch(this.rowType){case Mi.FullWidthDetail:i=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(n);break;case Mi.FullWidthGroup:i=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(n);break;case Mi.FullWidthLoading:i=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(n);break;default:i=this.beans.userComponentFactory.getFullWidthCellRendererDetails(n)}e.rowComp.showFullWidth(i)}},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.getFullWidthCellRenderer=function(){var e,r;return null===(r=null===(e=this.fullWidthGui)||void 0===e?void 0:e.rowComp)||void 0===r?void 0:r.getFullWidthCellRenderer()},t.prototype.getCellElement=function(e){var r=this.getCellCtrl(e);return r?r.getGui():null},t.prototype.executeProcessRowPostCreateFunc=function(){var e=this.gridOptionsService.getCallback("processRowPostCreate");e&&this.areAllContainersReady()&&e({eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})},t.prototype.areAllContainersReady=function(){var e=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),r=!!this.centerGui,n=!!this.rightGui||!this.beans.columnModel.isPinningRight();return e&&r&&n},t.prototype.setRowType=function(){var e=this.rowNode.stub,r=this.rowNode.isFullWidthCell(),n=this.beans.doingMasterDetail&&this.rowNode.detail,i=this.beans.columnModel.isPivotMode(),a=!!this.rowNode.group&&!this.rowNode.footer&&this.gridOptionsService.isGroupUseEntireRow(i);this.rowType=e?Mi.FullWidthLoading:n?Mi.FullWidthDetail:r?Mi.FullWidth:a?Mi.FullWidthGroup:Mi.Normal},t.prototype.updateColumnLists=function(e,r){var n=this;if(void 0===e&&(e=!1),void 0===r&&(r=!1),!this.isFullWidth()){if(e||this.gridOptionsService.is("suppressAnimationFrame")||this.printLayout)return void this.updateColumnListsImpl(r);this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){n.active&&n.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},t.prototype.createCellCtrls=function(e,r,n){var i=this;void 0===n&&(n=null);var s={list:[],map:{}},a=function(d,g){s.list.push(g),s.map[d]=g};return r.forEach(function(d){var g=d.getInstanceId(),m=e.map[g];m||(m=new Ca(d,i.rowNode,i.beans,i)),a(g,m)}),e.list.forEach(function(d){if(null==s.map[d.getColumn().getInstanceId()]){if(!i.isCellEligibleToBeRemoved(d,n))return void a(d.getColumn().getInstanceId(),d);d.destroy()}}),s},t.prototype.updateColumnListsImpl=function(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)},t.prototype.setCellCtrls=function(e){var r=this;this.allRowGuis.forEach(function(n){var i=r.getCellCtrlsForContainer(n.containerType);n.rowComp.setCellCtrls(i,e)})},t.prototype.getCellCtrlsForContainer=function(e){switch(e){case Tn.LEFT:return this.leftCellCtrls.list;case Tn.RIGHT:return this.rightCellCtrls.list;case Tn.FULL_WIDTH:return[];case Tn.CENTER:return this.centerCellCtrls.list;default:throw new Error("Unhandled case: "+e)}},t.prototype.createAllCellCtrls=function(){var e=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,e.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var r=e.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,r);var n=e.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,n,"left");var i=e.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,i,"right")}},t.prototype.isCellEligibleToBeRemoved=function(e,r){var n=!0;if(e.getColumn().getPinned()!=r)return n;var a=e.isEditing(),d=this.beans.focusService.isCellFocused(e.getCellPosition());if(a||d){var m=e.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(m)>=0)&&n}return n},t.prototype.getDomOrder=function(){return this.gridOptionsService.is("ensureDomOrder")||this.gridOptionsService.isDomLayout("print")},t.prototype.listenOnDomOrder=function(e){var r=this,n=function(){e.rowComp.setDomOrder(r.getDomOrder())};this.addManagedPropertyListener("domLayout",n),this.addManagedPropertyListener("ensureDomOrder",n)},t.prototype.setAnimateFlags=function(e){if(!this.isSticky()&&e){var r=w(this.rowNode.oldRowTop),n=this.beans.columnModel.isPinningLeft(),i=this.beans.columnModel.isPinningRight();if(r){if(this.isFullWidth()&&!this.gridOptionsService.is("embedFullWidthRows"))return void(this.slideInAnimation.fullWidth=!0);this.slideInAnimation.center=!0,this.slideInAnimation.left=n,this.slideInAnimation.right=i}else{if(this.isFullWidth()&&!this.gridOptionsService.is("embedFullWidthRows"))return void(this.fadeInAnimation.fullWidth=!0);this.fadeInAnimation.center=!0,this.fadeInAnimation.left=n,this.fadeInAnimation.right=i}}},t.prototype.isEditing=function(){return this.editingRow},t.prototype.stopRowEditing=function(e){this.stopEditing(e)},t.prototype.isFullWidth=function(){return this.rowType!==Mi.Normal},t.prototype.getRowType=function(){return this.rowType},t.prototype.refreshFullWidth=function(){var e=this,r=function(g,m){if(!g)return!0;var C=g.rowComp.getFullWidthCellRenderer();if(!C||!C.refresh)return!1;var E=e.createFullWidthParams(g.element,m);return C.refresh(E)},n=r(this.fullWidthGui,null),i=r(this.centerGui,null),s=r(this.leftGui,"left"),a=r(this.rightGui,"right");return n&&i&&s&&a},t.prototype.addListeners=function(){var e=this;this.addManagedListener(this.rowNode,er.EVENT_HEIGHT_CHANGED,function(){return e.onRowHeightChanged()}),this.addManagedListener(this.rowNode,er.EVENT_ROW_SELECTED,function(){return e.onRowSelected()}),this.addManagedListener(this.rowNode,er.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,er.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,er.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,er.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,er.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,er.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,er.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,er.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,er.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,er.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var r=this.beans.eventService;this.addManagedListener(r,M.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(r,M.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(r,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(r,M.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(r,M.EVENT_CELL_FOCUSED,this.onCellFocused.bind(this)),this.addManagedListener(r,M.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusCleared.bind(this)),this.addManagedListener(r,M.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(r,M.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(r,M.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},t.prototype.onColumnMoved=function(){this.updateColumnLists()},t.prototype.addListenersForCellComps=function(){var e=this;this.addManagedListener(this.rowNode,er.EVENT_ROW_INDEX_CHANGED,function(){e.getAllCellCtrls().forEach(function(r){return r.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,er.EVENT_CELL_CHANGED,function(r){e.getAllCellCtrls().forEach(function(n){return n.onCellChanged(r)})})},t.prototype.onRowNodeDataChanged=function(e){var r=this;this.isFullWidth()!==!!this.rowNode.isFullWidthCell()?this.beans.rowRenderer.redrawRow(this.rowNode):this.isFullWidth()?this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode):(this.getAllCellCtrls().forEach(function(s){return s.refreshCell({suppressFlash:!e.update,newData:!e.update})}),this.allRowGuis.forEach(function(s){r.setRowCompRowId(s.rowComp),r.updateRowBusinessKey(),r.setRowCompRowBusinessKey(s.rowComp)}),this.onRowSelected(),this.postProcessCss())},t.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},t.prototype.postProcessCss=function(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},t.prototype.onRowNodeHighlightChanged=function(){var e=this.rowNode.highlighted;this.allRowGuis.forEach(function(r){var i=e===Ms.Below;r.rowComp.addOrRemoveCssClass("ag-row-highlight-above",e===Ms.Above),r.rowComp.addOrRemoveCssClass("ag-row-highlight-below",i)})},t.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},t.prototype.postProcessRowDragging=function(){var e=this.rowNode.dragging;this.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass("ag-row-dragging",e)})},t.prototype.updateExpandedCss=function(){var e=this.rowNode.isExpandable(),r=1==this.rowNode.expanded;this.allRowGuis.forEach(function(n){n.rowComp.addOrRemoveCssClass("ag-row-group",e),n.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&r),n.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!r),Ai(n.element,e&&r)})},t.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},t.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists(!1,!0)},t.prototype.getRowPosition=function(){return{rowPinned:p(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},t.prototype.onKeyboardNavigate=function(e){var r=this.allRowGuis.find(function(g){return g.element.contains(e.target)});if((r?r.element:null)===e.target){var s=this.rowNode,a=this.beans.focusService.getFocusedCell();this.beans.navigationService.navigateToNextCell(e,e.key,{rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:a&&a.column},!0),e.preventDefault()}},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented&&!xe(e)){var r=this.allRowGuis.find(function(a){return a.element.contains(e.target)}),n=r?r.element:null,i=n===e.target,s=null;i||(s=this.beans.focusService.findNextFocusableElement(n,!1,e.shiftKey)),(this.isFullWidth()&&i||!s)&&this.beans.navigationService.onTabKeyDown(this,e)}},t.prototype.onFullWidthRowFocused=function(e){var r,n=this.rowNode,i=!!e&&this.isFullWidth()&&e.rowIndex===n.rowIndex&&e.rowPinned==n.rowPinned,s=this.fullWidthGui?this.fullWidthGui.element:null===(r=this.centerGui)||void 0===r?void 0:r.element;s&&(s.classList.toggle("ag-full-width-focus",i),i&&s.focus({preventScroll:!0}))},t.prototype.refreshCell=function(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),this.updateColumnLists()},t.prototype.removeCellCtrl=function(e,r){var n={list:[],map:{}};return e.list.forEach(function(i){i!==r&&(n.list.push(i),n.map[i.getInstanceId()]=i)}),n},t.prototype.onMouseEvent=function(e,r){switch(e){case"dblclick":this.onRowDblClick(r);break;case"click":this.onRowClick(r);break;case"touchstart":case"mousedown":this.onRowMouseDown(r)}},t.prototype.createRowEvent=function(e,r){return{type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,event:r}},t.prototype.createRowEventWithSource=function(e,r){var n=this.createRowEvent(e,r);return n.source=this,n},t.prototype.onRowDblClick=function(e){if(!xe(e)){var r=this.createRowEventWithSource(M.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(r)}},t.prototype.onRowMouseDown=function(e){if(this.lastMouseDownOnDragger=jo(e.target,"ag-row-drag",3),this.isFullWidth()){var r=this.rowNode,n=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:r.rowIndex,column:n.getAllDisplayedColumns()[0],rowPinned:r.rowPinned,forceBrowserFocus:!0})}},t.prototype.onRowClick=function(e){if(!xe(e)&&!this.lastMouseDownOnDragger){var n=this.createRowEventWithSource(M.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(n);var i=e.ctrlKey||e.metaKey,s=e.shiftKey;if(!(this.gridOptionsService.is("groupSelectsChildren")&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.gridOptionsService.isRowSelection()||this.gridOptionsService.is("suppressRowClickSelection"))){var d=this.gridOptionsService.is("rowMultiSelectWithClick"),g=!this.gridOptionsService.is("suppressRowDeselection"),m="rowClicked";this.rowNode.isSelected()?d?this.rowNode.setSelectedParams({newValue:!1,event:e,source:m}):i?g&&this.rowNode.setSelectedParams({newValue:!1,event:e,source:m}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!s,rangeSelect:s,event:e,source:m}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!d&&!i,rangeSelect:s,event:e,source:m})}}},t.prototype.setupDetailRowAutoHeight=function(e){var r=this;if(this.rowType===Mi.FullWidthDetail&&this.gridOptionsService.is("detailRowAutoHeight")){var n=function(){var s=e.clientHeight;null!=s&&s>0&&r.beans.frameworkOverrides.setTimeout(function(){r.rowNode.setRowHeight(s),r.beans.clientSideRowModel?r.beans.clientSideRowModel.onRowHeightChanged():r.beans.serverSideRowModel&&r.beans.serverSideRowModel.onRowHeightChanged()},0)},i=this.beans.resizeObserverService.observeResize(e,n);this.addDestroyFunc(i),n()}},t.prototype.createFullWidthParams=function(e,r){var n=this;return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,eGridCell:e,eParentOfValue:e,pinned:r,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(s,a,d,g){return n.addFullWidthRowDragging(s,a,d,g)}}},t.prototype.addFullWidthRowDragging=function(e,r,n,i){if(void 0===n&&(n=""),this.isFullWidth()){var s=new Ql(function(){return n},this.rowNode,void 0,e,r,i);this.createManagedBean(s,this.beans.context)}},t.prototype.onUiLevelChanged=function(){var e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){var r="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(i){i.rowComp.addOrRemoveCssClass(r,!0),i.rowComp.addOrRemoveCssClass(n,!1)})}this.rowLevel=e},t.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},t.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},t.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},t.prototype.refreshFirstAndLastRowStyles=function(){var e=this.isFirstRowOnPage(),r=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(function(n){return n.rowComp.addOrRemoveCssClass("ag-row-first",e)})),this.lastRowOnPage!==r&&(this.lastRowOnPage=r,this.allRowGuis.forEach(function(n){return n.rowComp.addOrRemoveCssClass("ag-row-last",r)}))},t.prototype.stopEditing=function(e){var r,n;if(void 0===e&&(e=!1),!this.stoppingRowEdit){var i=this.getAllCellCtrls(),s=this.editingRow;this.stoppingRowEdit=!0;var a=!1;try{for(var d=function(o){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&o[t],r=0;if(e)return e.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&r>=o.length&&(o=void 0),{value:o&&o[r++],done:!o}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),g=d.next();!g.done;g=d.next()){var C=g.value.stopEditing(e);s&&!e&&!a&&C&&(a=!0)}}catch(b){r={error:b}}finally{try{g&&!g.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}if(a){var E=this.createRowEvent(M.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(E)}s&&this.setEditingRow(!1),this.stoppingRowEdit=!1}},t.prototype.setInlineEditingCss=function(e){this.allRowGuis.forEach(function(r){r.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),r.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)})},t.prototype.setEditingRow=function(e){this.editingRow=e,this.allRowGuis.forEach(function(n){return n.rowComp.addOrRemoveCssClass("ag-row-editing",e)});var r=this.createRowEvent(e?M.EVENT_ROW_EDITING_STARTED:M.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(r)},t.prototype.startRowEditing=function(e,r,n){void 0===e&&(e=null),void 0===r&&(r=null),void 0===n&&(n=null),this.editingRow||this.getAllCellCtrls().reduce(function(s,a){var d=a===r;return a.startEditing(d?e:null,d,n),!!s||a.isEditing()},!1)&&this.setEditingRow(!0)},t.prototype.getAllCellCtrls=function(){return 0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length?this.centerCellCtrls.list:gd(gd(gd([],hd(this.centerCellCtrls.list)),hd(this.leftCellCtrls.list)),hd(this.rightCellCtrls.list))},t.prototype.postProcessClassesFromGridOptions=function(){var e=this,r=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!r||!r.length||r.forEach(function(n){e.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass(n,!0)})})},t.prototype.postProcessRowClassRules=function(){var e=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,function(r){e.allRowGuis.forEach(function(n){return n.rowComp.addOrRemoveCssClass(r,!0)})},function(r){e.allRowGuis.forEach(function(n){return n.rowComp.addOrRemoveCssClass(r,!1)})})},t.prototype.setStylesFromGridOptions=function(e,r){var n=this;e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(r,function(i){return i.rowComp.setUserStyles(n.rowStyles)})},t.prototype.getPinnedForContainer=function(e){return e===Tn.LEFT?"left":e===Tn.RIGHT?"right":null},t.prototype.getInitialRowClasses=function(e){var r=this.getPinnedForContainer(e),n={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[e],rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:r};return this.beans.rowCssClassCalculator.getInitialRowClasses(n)},t.prototype.processStylesFromGridOptions=function(){var e=this.gridOptionsService.get("rowStyle");if(!e||"function"!=typeof e){var n,r=this.gridOptionsService.getCallback("getRowStyle");return r&&(n=r({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})),n||e?Object.assign({},e,n):this.emptyStyle}console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},t.prototype.onRowSelected=function(e){var r=this,n=!!this.rowNode.isSelected();this.forEachGui(e,function(i){i.rowComp.addOrRemoveCssClass("ag-row-selected",n),Ui(i.element,!!n||void 0);var s=r.createAriaLabel();ci(i.element,s??"")})},t.prototype.createAriaLabel=function(){var e=this.rowNode.isSelected();if(!e||!this.gridOptionsService.is("suppressRowDeselection"))return this.beans.localeService.getLocaleTextFunc()(e?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(e?"deselect":"select")+" this row.")},t.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},t.prototype.addHoverFunctionality=function(e){var r=this;this.active&&(this.addManagedListener(e,"mouseenter",function(){return r.rowNode.onMouseEnter()}),this.addManagedListener(e,"mouseleave",function(){return r.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,er.EVENT_MOUSE_ENTER,function(){!r.beans.dragService.isDragging()&&!r.gridOptionsService.is("suppressRowHoverHighlight")&&(e.classList.add("ag-row-hover"),r.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,er.EVENT_MOUSE_LEAVE,function(){e.classList.remove("ag-row-hover"),r.rowNode.setHovered(!1)}))},t.prototype.roundRowTopToBounds=function(e){var n=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.applyPaginationOffset(n.top,!0)-100,s=this.applyPaginationOffset(n.bottom,!0)+100;return Math.min(Math.max(i,e),s)},t.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},t.prototype.forEachGui=function(e,r){e?r(e):this.allRowGuis.forEach(r)},t.prototype.onRowHeightChanged=function(e){if(null!=this.rowNode.rowHeight){var r=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),s=this.gridOptionsService.isGetRowHeightFunction()?this.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,a=s?Math.min(n,s)-2+"px":void 0;this.forEachGui(e,function(d){d.element.style.height=r+"px",a&&d.element.style.setProperty("--ag-line-height",a)})}},t.prototype.addEventListener=function(e,r){o.prototype.addEventListener.call(this,e,r)},t.prototype.removeEventListener=function(e,r){o.prototype.removeEventListener.call(this,e,r)},t.prototype.destroyFirstPass=function(){this.active=!1,this.gridOptionsService.isAnimateRows()&&this.setupRemoveAnimation(),this.rowNode.setHovered(!1);var e=this.createRowEvent(M.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(e),this.beans.eventService.dispatchEvent(e),o.prototype.destroy.call(this)},t.prototype.setupRemoveAnimation=function(){if(!this.isSticky())if(null!=this.rowNode.rowTop){var r=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(r)}else this.allRowGuis.forEach(function(n){return n.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})},t.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var e=function(r){return r.list.forEach(function(n){return n.destroy()}),{list:[],map:{}}};this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)},t.prototype.setFocusedClasses=function(e){var r=this;this.forEachGui(e,function(n){n.rowComp.addOrRemoveCssClass("ag-row-focus",r.rowFocused),n.rowComp.addOrRemoveCssClass("ag-row-no-focus",!r.rowFocused)})},t.prototype.onCellFocused=function(){this.onCellFocusChanged()},t.prototype.onCellFocusCleared=function(){this.onCellFocusChanged()},t.prototype.onCellFocusChanged=function(){var e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)},t.prototype.onPaginationChanged=function(){var e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},t.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},t.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},t.prototype.applyPaginationOffset=function(e,r){return void 0===r&&(r=!1),this.rowNode.isRowPinned()||this.rowNode.sticky?e:e+this.beans.paginationProxy.getPixelOffset()*(r?1:-1)},t.prototype.setRowTop=function(e){if(!this.printLayout&&w(e)){var r=this.applyPaginationOffset(e),i=this.rowNode.isRowPinned()||this.rowNode.sticky?r:this.beans.rowContainerHeightService.getRealPixelPosition(r);this.setRowTopStyle(i+"px")}},t.prototype.getInitialRowTop=function(e){return this.gridOptionsService.is("suppressRowTransform")?this.getInitialRowTopShared(e):void 0},t.prototype.getInitialTransform=function(e){return this.gridOptionsService.is("suppressRowTransform")?void 0:"translateY("+this.getInitialRowTopShared(e)+")"},t.prototype.getInitialRowTopShared=function(e){if(this.printLayout)return"";var r;if(this.isSticky())r=this.rowNode.stickyRowTop;else{var n=this.slideInAnimation[e]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,i=this.applyPaginationOffset(n);r=this.rowNode.isRowPinned()?i:this.beans.rowContainerHeightService.getRealPixelPosition(i)}return r+"px"},t.prototype.setRowTopStyle=function(e){var r=this.gridOptionsService.is("suppressRowTransform");this.allRowGuis.forEach(function(n){return r?n.rowComp.setTop(e):n.rowComp.setTransform("translateY("+e+")")})},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getCellCtrl=function(e){var r=null;return this.getAllCellCtrls().forEach(function(n){n.getColumn()==e&&(r=n)}),null!=r||this.getAllCellCtrls().forEach(function(n){n.getColSpanningList().indexOf(e)>=0&&(r=n)}),r},t.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},t.prototype.getRowIndex=function(){return this.rowNode.getRowIndexString()},t.prototype.updateRowIndexes=function(e){var r=this.rowNode.getRowIndexString(),n=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),i=this.rowNode.rowIndex%2==0,s=n+this.rowNode.rowIndex+1;this.forEachGui(e,function(a){a.rowComp.setRowIndex(r),a.rowComp.addOrRemoveCssClass("ag-row-even",i),a.rowComp.addOrRemoveCssClass("ag-row-odd",!i),Wi(a.element,s)})},t.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},t.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},t.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},t.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},t.DOM_DATA_KEY_ROW_CTRL="renderedRow",t}(Le),tg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),yi=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},vd=function(o){function t(e){var r=o.call(this)||this;return r.element=e,r}return tg(t,o),t.prototype.postConstruct=function(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()},t.prototype.addKeyboardListeners=function(){var e="keydown",r=this.processKeyboardEvent.bind(this,e);this.addManagedListener(this.element,e,r)},t.prototype.addMouseListeners=function(){var e=this;["dblclick","contextmenu","mouseover","mouseout","click",P("touchstart")?"touchstart":"mousedown"].forEach(function(i){var s=e.processMouseEvent.bind(e,i);e.addManagedListener(e.element,i,s)})},t.prototype.processMouseEvent=function(e,r){if(this.mouseEventService.isEventFromThisGrid(r)&&!xe(r)){var n=this.getRowForEvent(r),i=this.mouseEventService.getRenderedCellForEvent(r);"contextmenu"===e?this.handleContextMenuMouseEvent(r,null,n,i):(i&&i.onMouseEvent(e,r),n&&n.onMouseEvent(e,r))}},t.prototype.mockContextMenuForIPad=function(){var e=this;if(xn()){var r=new _n(this.element);this.addManagedListener(r,_n.EVENT_LONG_TAP,function(i){var s=e.getRowForEvent(i.touchEvent),a=e.mouseEventService.getRenderedCellForEvent(i.touchEvent);e.handleContextMenuMouseEvent(null,i.touchEvent,s,a)}),this.addDestroyFunc(function(){return r.destroy()})}},t.prototype.getRowForEvent=function(e){for(var r=e.target;r;){var n=this.gridOptionsService.getDomData(r,To.DOM_DATA_KEY_ROW_CTRL);if(n)return n;r=r.parentElement}return null},t.prototype.handleContextMenuMouseEvent=function(e,r,n,i){var s=n?n.getRowNode():null,a=i?i.getColumn():null,d=null;a&&(i.dispatchCellContextMenuEvent(e||r),d=this.valueService.getValue(a,s));var m=this.ctrlsService.getGridBodyCtrl(),C=i?i.getGui():m.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(e,r,s,a,d,C)},t.prototype.getControlsForEventTarget=function(e){return{cellCtrl:ne(this.gridOptionsService,e,Ca.DOM_DATA_KEY_CELL_CTRL),rowCtrl:ne(this.gridOptionsService,e,To.DOM_DATA_KEY_ROW_CTRL)}},t.prototype.processKeyboardEvent=function(e,r){var n=this.getControlsForEventTarget(r.target),i=n.cellCtrl,s=n.rowCtrl;r.defaultPrevented||(i?this.processCellKeyboardEvent(i,e,r):s&&s.isFullWidth()&&this.processFullWidthRowKeyboardEvent(s,e,r))},t.prototype.processCellKeyboardEvent=function(e,r,n){var i=e.getRowNode(),s=e.getColumn(),a=e.isEditing();if(Wa(this.gridOptionsService,n,i,s,a)||"keydown"!==r||(!a&&this.navigationService.handlePageScrollingKey(n)||e.onKeyDown(n),this.doGridOperations(n,e.isEditing()),ar(n)&&e.processCharacter(n)),"keydown"===r){var m=e.createEvent(n,M.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(m)}},t.prototype.processFullWidthRowKeyboardEvent=function(e,r,n){var i=e.getRowNode(),s=this.focusService.getFocusedCell();if(!Wa(this.gridOptionsService,n,i,s&&s.column,!1)&&"keydown"===r)switch(n.key){case Ce.PAGE_HOME:case Ce.PAGE_END:case Ce.PAGE_UP:case Ce.PAGE_DOWN:this.navigationService.handlePageScrollingKey(n,!0);break;case Ce.UP:case Ce.DOWN:e.onKeyboardNavigate(n);break;case Ce.TAB:e.onTabKeyDown(n)}if("keydown"===r){var m=e.createRowEvent(M.EVENT_CELL_KEY_DOWN,n);this.eventService.dispatchEvent(m)}},t.prototype.doGridOperations=function(e,r){if((e.ctrlKey||e.metaKey)&&!r&&this.mouseEventService.isEventFromThisGrid(e)){var n=Ua(e);if(n===Ce.A)return this.onCtrlAndA(e);if(n===Ce.C)return this.onCtrlAndC(e);if(n===Ce.D)return this.onCtrlAndD(e);if(n===Ce.V)return this.onCtrlAndV(e);if(n===Ce.X)return this.onCtrlAndX(e);if(n===Ce.Y)return this.onCtrlAndY();if(n===Ce.Z)return this.onCtrlAndZ(e)}},t.prototype.onCtrlAndA=function(e){var r=this,n=r.pinnedRowModel,s=r.rangeService;if(s&&r.paginationProxy.isRowsToRender()){var a=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i}([n.isEmpty("top"),n.isEmpty("bottom")],2),m=a[0]?null:"top",C=void 0,E=void 0;a[1]?(C=null,E=this.paginationProxy.getRowCount()-1):(C="bottom",E=n.getPinnedBottomRowData().length-1);var b=this.columnModel.getAllDisplayedColumns();if(he(b))return;s.setCellRange({rowStartIndex:0,rowStartPinned:m,rowEndIndex:E,rowEndPinned:C,columnStart:b[0],columnEnd:te(b)})}e.preventDefault()},t.prototype.onCtrlAndC=function(e){if(this.clipboardService&&!this.gridOptionsService.is("enableCellTextSelection")){var r=this.getControlsForEventTarget(e.target),n=r.cellCtrl,i=r.rowCtrl;n?.isEditing()||i?.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}},t.prototype.onCtrlAndX=function(e){if(this.clipboardService&&!this.gridOptionsService.is("enableCellTextSelection")&&!this.gridOptionsService.is("suppressCutToClipboard")){var r=this.getControlsForEventTarget(e.target),n=r.cellCtrl,i=r.rowCtrl;n?.isEditing()||i?.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}},t.prototype.onCtrlAndV=function(e){var r=this.getControlsForEventTarget(e.target),n=r.cellCtrl,i=r.rowCtrl;n?.isEditing()||i?.isEditing()||this.clipboardService&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()},t.prototype.onCtrlAndD=function(e){this.clipboardService&&!this.gridOptionsService.is("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()},t.prototype.onCtrlAndZ=function(e){this.gridOptionsService.is("undoRedoCellEditing")&&(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))},t.prototype.onCtrlAndY=function(){this.undoRedoService.redo("ui")},yi([A("mouseEventService")],t.prototype,"mouseEventService",void 0),yi([A("valueService")],t.prototype,"valueService",void 0),yi([xt("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),yi([A("ctrlsService")],t.prototype,"ctrlsService",void 0),yi([A("navigationService")],t.prototype,"navigationService",void 0),yi([A("focusService")],t.prototype,"focusService",void 0),yi([A("undoRedoService")],t.prototype,"undoRedoService",void 0),yi([A("columnModel")],t.prototype,"columnModel",void 0),yi([A("paginationProxy")],t.prototype,"paginationProxy",void 0),yi([A("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),yi([xt("rangeService")],t.prototype,"rangeService",void 0),yi([xt("clipboardService")],t.prototype,"clipboardService",void 0),yi([we],t.prototype,"postConstruct",null),t}(Le),Wp=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),iu=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Up=function(o){function t(e){var r=o.call(this)||this;return r.centerContainerCtrl=e,r}return Wp(t,o),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.listenForResize()}),this.addManagedListener(this.eventService,M.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},t.prototype.listenForResize=function(){var e=this,r=function(){return e.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(r),this.gridBodyCtrl.registerBodyViewportResizeListener(r)},t.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},t.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();var e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},t.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},t.prototype.getBodyHeight=function(){return this.bodyHeight},t.prototype.checkBodyHeight=function(){var r=$n(this.gridBodyCtrl.getBodyViewportElement());this.bodyHeight!==r&&(this.bodyHeight=r,this.eventService.dispatchEvent({type:M.EVENT_BODY_HEIGHT_CHANGED}))},t.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},t.prototype.updateScrollVisibleServiceImpl=function(){var e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)},t.prototype.isHorizontalScrollShowing=function(){return this.centerContainerCtrl.isHorizontalScrollShowing()},t.prototype.onHorizontalViewportChanged=function(){var e=this.centerContainerCtrl.getCenterWidth(),r=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(e,r)},iu([A("ctrlsService")],t.prototype,"ctrlsService",void 0),iu([A("columnModel")],t.prototype,"columnModel",void 0),iu([A("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),iu([we],t.prototype,"postConstruct",null),t}(Le),jp=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),zp=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},rg=function(o){function t(e){var r=o.call(this)||this;return r.element=e,r}return jp(t,o),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,M.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},t.prototype.onPinnedLeftWidthChanged=function(){var e=this.pinnedWidthService.getPinnedLeftWidth();sr(this.element,e>0),qn(this.element,e)},t.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedLeftWidth()},zp([A("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),zp([we],t.prototype,"postConstruct",null),t}(Le),ng=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ou=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},rc=function(o){function t(e){var r=o.call(this)||this;return r.element=e,r}return ng(t,o),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,M.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},t.prototype.onPinnedRightWidthChanged=function(){var e=this.pinnedWidthService.getPinnedRightWidth();sr(this.element,e>0),qn(this.element,e)},t.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedRightWidth()},ou([A("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),ou([we],t.prototype,"postConstruct",null),t}(Le),ig=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Kp=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},nc=function(o){function t(e,r){var n=o.call(this)||this;return n.eContainer=e,n.eViewport=r,n}return ig(t,o),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,M.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},t.prototype.onHeightChanged=function(){var e=this.maxDivHeightScaler.getUiContainerHeight(),r=null!=e?e+"px":"";this.eContainer.style.height=r,this.eViewport&&(this.eViewport.style.height=r)},Kp([A("rowContainerHeightService")],t.prototype,"maxDivHeightScaler",void 0),Kp([we],t.prototype,"postConstruct",null),t}(Le),Yp=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),yd=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},og=function(o){function t(e){var r=o.call(this)||this;return r.eContainer=e,r}return Yp(t,o),t.prototype.postConstruct=function(){var e=this;if(this.gridOptionsService.is("enableRangeSelection")&&!W(this.rangeService)){var r={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(r),this.addDestroyFunc(function(){return e.dragService.removeDragSource(r)})}},yd([xt("rangeService")],t.prototype,"rangeService",void 0),yd([A("dragService")],t.prototype,"dragService",void 0),yd([we],t.prototype,"postConstruct",null),t}(Le),sg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),md=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Cd=function(o){function t(e,r){void 0===r&&(r=!1);var n=o.call(this)||this;return n.callback=e,n.addSpacer=r,n}return sg(t,o),t.prototype.postConstruct=function(){var e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,M.EVENT_LEFT_PINNED_WIDTH_CHANGED,e),this.addSpacer&&(this.addManagedListener(this.eventService,M.EVENT_RIGHT_PINNED_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,M.EVENT_SCROLL_VISIBILITY_CHANGED,e),this.addManagedListener(this.eventService,M.EVENT_SCROLLBAR_WIDTH_CHANGED,e)),this.setWidth()},t.prototype.setWidth=function(){var a,e=this.columnModel,r=this.gridOptionsService.isDomLayout("print"),n=e.getBodyContainerWidth(),i=e.getDisplayedColumnsLeftWidth(),s=e.getDisplayedColumnsRightWidth();r?a=n+i+s:(a=n,this.addSpacer&&0===(this.gridOptionsService.is("enableRtl")?i:s)&&this.scrollVisibleService.isVerticalScrollShowing()&&(a+=this.gridOptionsService.getScrollbarWidth())),this.callback(a)},md([A("columnModel")],t.prototype,"columnModel",void 0),md([A("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),md([we],t.prototype,"postConstruct",null),t}(Le),ag=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ls=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},ic=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i},oc=function(o,t){for(var e=0,r=t.length,n=o.length;e<r;e++,n++)o[n]=t[e];return o},Fe=function(o){return o.LEFT="left",o.RIGHT="right",o.CENTER="center",o.FULL_WIDTH="fullWidth",o.TOP_LEFT="topLeft",o.TOP_RIGHT="topRight",o.TOP_CENTER="topCenter",o.TOP_FULL_WIDTH="topFullWidth",o.STICKY_TOP_LEFT="stickyTopLeft",o.STICKY_TOP_RIGHT="stickyTopRight",o.STICKY_TOP_CENTER="stickyTopCenter",o.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",o.BOTTOM_LEFT="bottomLeft",o.BOTTOM_RIGHT="bottomRight",o.BOTTOM_CENTER="bottomCenter",o.BOTTOM_FULL_WIDTH="bottomFullWidth",o}(Fe||{}),Tn=function(o){return o.LEFT="left",o.RIGHT="right",o.CENTER="center",o.FULL_WIDTH="fullWidth",o}(Tn||{}),fo=zn([[Fe.CENTER,"ag-center-cols-container"],[Fe.LEFT,"ag-pinned-left-cols-container"],[Fe.RIGHT,"ag-pinned-right-cols-container"],[Fe.FULL_WIDTH,"ag-full-width-container"],[Fe.TOP_CENTER,"ag-floating-top-container"],[Fe.TOP_LEFT,"ag-pinned-left-floating-top"],[Fe.TOP_RIGHT,"ag-pinned-right-floating-top"],[Fe.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[Fe.STICKY_TOP_CENTER,"ag-sticky-top-container"],[Fe.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[Fe.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[Fe.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[Fe.BOTTOM_CENTER,"ag-floating-bottom-container"],[Fe.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[Fe.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[Fe.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),ug=zn([[Fe.CENTER,"ag-center-cols-viewport"],[Fe.TOP_CENTER,"ag-floating-top-viewport"],[Fe.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[Fe.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),$p=function(o){function t(e){var r=o.call(this)||this;return r.visible=!0,r.EMPTY_CTRLS=[],r.name=e,r.isFullWithContainer=r.name===Fe.TOP_FULL_WIDTH||r.name===Fe.STICKY_TOP_FULL_WIDTH||r.name===Fe.BOTTOM_FULL_WIDTH||r.name===Fe.FULL_WIDTH,r}return ag(t,o),t.getRowContainerCssClasses=function(e){return{container:fo.get(e),viewport:ug.get(e)}},t.getPinned=function(e){switch(e){case Fe.BOTTOM_LEFT:case Fe.TOP_LEFT:case Fe.STICKY_TOP_LEFT:case Fe.LEFT:return"left";case Fe.BOTTOM_RIGHT:case Fe.TOP_RIGHT:case Fe.STICKY_TOP_RIGHT:case Fe.RIGHT:return"right";default:return null}},t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsService.is("enableRtl"),this.embedFullWidthRows=this.gridOptionsService.is("embedFullWidthRows"),this.forContainers([Fe.CENTER],function(){return e.viewportSizeFeature=e.createManagedBean(new Up(e))})},t.prototype.registerWithCtrlsService=function(){switch(this.name){case Fe.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case Fe.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case Fe.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case Fe.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case Fe.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case Fe.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case Fe.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case Fe.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case Fe.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case Fe.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case Fe.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case Fe.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this)}},t.prototype.forContainers=function(e,r){e.indexOf(this.name)>=0&&r()},t.prototype.getContainerElement=function(){return this.eContainer},t.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},t.prototype.setComp=function(e,r,n){var i=this;this.comp=e,this.eContainer=r,this.eViewport=n,this.createManagedBean(new vd(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var a=[Fe.STICKY_TOP_CENTER,Fe.STICKY_TOP_LEFT,Fe.STICKY_TOP_RIGHT],d=[Fe.BOTTOM_CENTER,Fe.BOTTOM_LEFT,Fe.BOTTOM_RIGHT],g=[Fe.CENTER,Fe.LEFT,Fe.RIGHT],m=oc(oc(oc(oc([],ic([Fe.TOP_CENTER,Fe.TOP_LEFT,Fe.TOP_RIGHT])),ic(d)),ic(g)),ic(a)),C=[Fe.CENTER,Fe.LEFT,Fe.RIGHT,Fe.FULL_WIDTH],E=[Fe.CENTER,Fe.TOP_CENTER,Fe.STICKY_TOP_CENTER,Fe.BOTTOM_CENTER],L=[Fe.RIGHT,Fe.BOTTOM_RIGHT,Fe.TOP_RIGHT,Fe.STICKY_TOP_RIGHT];this.forContainers([Fe.LEFT,Fe.BOTTOM_LEFT,Fe.TOP_LEFT,Fe.STICKY_TOP_LEFT],function(){i.pinnedWidthFeature=i.createManagedBean(new rg(i.eContainer)),i.addManagedListener(i.eventService,M.EVENT_LEFT_PINNED_WIDTH_CHANGED,function(){return i.onPinnedWidthChanged()})}),this.forContainers(L,function(){i.pinnedWidthFeature=i.createManagedBean(new rc(i.eContainer)),i.addManagedListener(i.eventService,M.EVENT_RIGHT_PINNED_WIDTH_CHANGED,function(){return i.onPinnedWidthChanged()})}),this.forContainers(C,function(){return i.createManagedBean(new nc(i.eContainer,i.name===Fe.CENTER?n:void 0))}),this.forContainers(m,function(){return i.createManagedBean(new og(i.eContainer))}),this.forContainers(E,function(){return i.createManagedBean(new Cd(function(j){return i.comp.setContainerWidth(j+"px")}))}),Qs()&&(this.forContainers([Fe.CENTER],function(){i.addManagedListener(i.eventService,i.enableRtl?M.EVENT_LEFT_PINNED_WIDTH_CHANGED:M.EVENT_RIGHT_PINNED_WIDTH_CHANGED,function(){return i.refreshPaddingForFakeScrollbar()})}),this.refreshPaddingForFakeScrollbar()),this.addListeners(),this.registerWithCtrlsService()},t.prototype.refreshPaddingForFakeScrollbar=function(){var e=this,r=e.enableRtl,n=e.columnModel,i=e.eContainer,s=r?Fe.LEFT:Fe.RIGHT;this.forContainers([Fe.CENTER,s],function(){var a=n.getContainerWidth(s);i.style[r?"marginLeft":"marginRight"]=a?"16px":"0px"})},t.prototype.addListeners=function(){var e=this;this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return e.onDisplayedColumnsChanged()}),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){return e.onDisplayedColumnsWidthChanged()}),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_ROWS_CHANGED,function(r){return e.onDisplayedRowsChanged(r.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},t.prototype.listenOnDomOrder=function(){var e=this;if([Fe.STICKY_TOP_CENTER,Fe.STICKY_TOP_LEFT,Fe.STICKY_TOP_RIGHT,Fe.STICKY_TOP_FULL_WIDTH].indexOf(this.name)>=0)this.comp.setDomOrder(!0);else{var i=function(){var s=e.gridOptionsService.is("ensureDomOrder"),a=e.gridOptionsService.isDomLayout("print");e.comp.setDomOrder(s||a)};this.addManagedPropertyListener("domLayout",i),i()}},t.prototype.stopHScrollOnPinnedRows=function(){var e=this;this.forContainers([Fe.TOP_CENTER,Fe.STICKY_TOP_CENTER,Fe.BOTTOM_CENTER],function(){e.addManagedListener(e.eViewport,"scroll",function(){return e.eViewport.scrollLeft=0})})},t.prototype.onDisplayedColumnsChanged=function(){var e=this;this.forContainers([Fe.CENTER],function(){return e.onHorizontalViewportChanged()})},t.prototype.onDisplayedColumnsWidthChanged=function(){var e=this;this.forContainers([Fe.CENTER],function(){return e.onHorizontalViewportChanged()})},t.prototype.addPreventScrollWhileDragging=function(){var e=this,r=function(n){e.dragService.isDragging()&&n.cancelable&&n.preventDefault()};this.eContainer.addEventListener("touchmove",r,{passive:!1}),this.addDestroyFunc(function(){return e.eContainer.removeEventListener("touchmove",r)})},t.prototype.onHorizontalViewportChanged=function(e){void 0===e&&(e=!1);var r=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(r,n,e)},t.prototype.getCenterWidth=function(){return zo(this.eViewport)},t.prototype.getCenterViewportScrollLeft=function(){return so(this.eViewport,this.enableRtl)},t.prototype.registerViewportResizeListener=function(e){var r=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(function(){return r()})},t.prototype.isViewportVisible=function(){return wo(this.eViewport)},t.prototype.getViewportScrollLeft=function(){return so(this.eViewport,this.enableRtl)},t.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsService.is("alwaysShowHorizontalScroll")||Sn(this.eViewport)},t.prototype.getViewportElement=function(){return this.eViewport},t.prototype.setContainerTranslateX=function(e){this.eContainer.style.transform="translateX("+e+"px)"},t.prototype.getHScrollPosition=function(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}},t.prototype.setCenterViewportScrollLeft=function(e){vs(this.eViewport,e,this.enableRtl)},t.prototype.isContainerVisible=function(){return!t.getPinned(this.name)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0},t.prototype.onPinnedWidthChanged=function(){var e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged()),Qs()&&this.refreshPaddingForFakeScrollbar()},t.prototype.onDisplayedRowsChanged=function(e){var r=this;if(void 0===e&&(e=!1),this.visible){var n=this.gridOptionsService.isDomLayout("print"),s=this.getRowCtrls().filter(function(a){var d=a.isFullWidth(),g=r.embedFullWidthRows||n;return r.isFullWithContainer?!g&&d:g||!d});this.comp.setRowCtrls(s,e)}else this.comp.setRowCtrls(this.EMPTY_CTRLS,!1)},t.prototype.getRowCtrls=function(){switch(this.name){case Fe.TOP_CENTER:case Fe.TOP_LEFT:case Fe.TOP_RIGHT:case Fe.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case Fe.STICKY_TOP_CENTER:case Fe.STICKY_TOP_LEFT:case Fe.STICKY_TOP_RIGHT:case Fe.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case Fe.BOTTOM_CENTER:case Fe.BOTTOM_LEFT:case Fe.BOTTOM_RIGHT:case Fe.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}},Ls([A("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Ls([A("dragService")],t.prototype,"dragService",void 0),Ls([A("ctrlsService")],t.prototype,"ctrlsService",void 0),Ls([A("columnModel")],t.prototype,"columnModel",void 0),Ls([A("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Ls([A("animationFrameService")],t.prototype,"animationFrameService",void 0),Ls([A("rowRenderer")],t.prototype,"rowRenderer",void 0),Ls([we],t.prototype,"postConstruct",null),t}(Le),wa=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),jt=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},cg='<div class="ag-root ag-unselectable" role="treegrid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="'+Fe.TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="'+Fe.TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="'+Fe.TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="'+Fe.TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-body" ref="eBody" role="presentation">\n            <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n                <ag-row-container ref="leftContainer" name="'+Fe.LEFT+'"></ag-row-container>\n                <ag-row-container ref="centerContainer" name="'+Fe.CENTER+'"></ag-row-container>\n                <ag-row-container ref="rightContainer" name="'+Fe.RIGHT+'"></ag-row-container>\n                <ag-row-container ref="fullWidthContainer" name="'+Fe.FULL_WIDTH+'"></ag-row-container>\n            </div>\n            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>\n        </div>\n        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">\n            <ag-row-container ref="stickyTopLeftContainer" name="'+Fe.STICKY_TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="stickyTopCenterContainer" name="'+Fe.STICKY_TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="stickyTopRightContainer" name="'+Fe.STICKY_TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="stickyTopFullWidthContainer" name="'+Fe.STICKY_TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="'+Fe.BOTTOM_LEFT+'"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="'+Fe.BOTTOM_CENTER+'"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="'+Fe.BOTTOM_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="'+Fe.BOTTOM_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>',mi=function(o){function t(){return o.call(this,cg)||this}return wa(t,o),t.prototype.init=function(){var e=this,r=function(i,s){var a=i+"px";s.style.minHeight=a,s.style.height=a},n={setRowAnimationCssOnBodyViewport:function(i,s){return e.setRowAnimationCssOnBodyViewport(i,s)},setColumnCount:function(i){return ba(e.getGui(),i)},setRowCount:function(i){return wl(e.getGui(),i)},setTopHeight:function(i){return r(i,e.eTop)},setBottomHeight:function(i){return r(i,e.eBottom)},setTopDisplay:function(i){return e.eTop.style.display=i},setBottomDisplay:function(i){return e.eBottom.style.display=i},setStickyTopHeight:function(i){return e.eStickyTop.style.height=i},setStickyTopTop:function(i){return e.eStickyTop.style.top=i},setStickyTopWidth:function(i){return e.eStickyTop.style.width=i},setColumnMovingCss:function(i,s){return e.addOrRemoveCssClass(i,s)},updateLayoutClasses:function(i,s){[e.eBodyViewport.classList,e.eBody.classList].forEach(function(d){d.toggle(Rn.AUTO_HEIGHT,s.autoHeight),d.toggle(Rn.NORMAL,s.normal),d.toggle(Rn.PRINT,s.print)}),e.addOrRemoveCssClass(Rn.AUTO_HEIGHT,s.autoHeight),e.addOrRemoveCssClass(Rn.NORMAL,s.normal),e.addOrRemoveCssClass(Rn.PRINT,s.print)},setAlwaysVerticalScrollClass:function(i,s){return e.eBodyViewport.classList.toggle(Gp,s)},registerBodyViewportResizeListener:function(i){var s=e.resizeObserverService.observeResize(e.eBodyViewport,i);e.addDestroyFunc(function(){return s()})},setPinnedTopBottomOverflowY:function(i){return e.eTop.style.overflowY=e.eBottom.style.overflowY=i},setCellSelectableCss:function(i,s){[e.eTop,e.eBodyViewport,e.eBottom].forEach(function(a){return a.classList.toggle(i,s)})},setBodyViewportWidth:function(i){return e.eBodyViewport.style.width=i}};this.ctrl=this.createManagedBean(new pd),this.ctrl.setComp(n,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService||"multiple"===this.gridOptionsService.get("rowSelection"))&&Ta(this.getGui(),!0)},t.prototype.setRowAnimationCssOnBodyViewport=function(e,r){var n=this.eBodyViewport.classList;n.toggle(eu.ANIMATION_ON,r),n.toggle(eu.ANIMATION_OFF,!r)},t.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},jt([A("resizeObserverService")],t.prototype,"resizeObserverService",void 0),jt([xt("rangeService")],t.prototype,"rangeService",void 0),jt([tt("eBodyViewport")],t.prototype,"eBodyViewport",void 0),jt([tt("eStickyTop")],t.prototype,"eStickyTop",void 0),jt([tt("eTop")],t.prototype,"eTop",void 0),jt([tt("eBottom")],t.prototype,"eBottom",void 0),jt([tt("gridHeader")],t.prototype,"headerRootComp",void 0),jt([tt("eBody")],t.prototype,"eBody",void 0),jt([we],t.prototype,"init",null),t}(qt),vn=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),wd=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Ns=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return vn(t,o),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},t.prototype.onDisplayedColumnsChanged=function(){this.update()},t.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},t.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},t.prototype.updateImpl=function(){var e=this.ctrlsService.getCenterRowContainerCtrl();if(e){var r={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(r)}},t.prototype.setScrollsVisible=function(e){this.horizontalScrollShowing===e.horizontalScrollShowing&&this.verticalScrollShowing===e.verticalScrollShowing||(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:M.EVENT_SCROLL_VISIBILITY_CHANGED}))},t.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},t.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},wd([A("ctrlsService")],t.prototype,"ctrlsService",void 0),wd([we],t.prototype,"postConstruct",null),wd([je("scrollVisibleService")],t)}(Le),dg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Qp=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},pg=function(o){function t(){var r=null!==o&&o.apply(this,arguments)||this;return r.gridInstanceId=e.gridInstanceSequence.next(),r}var e;return dg(t,o),e=t,t.prototype.stampTopLevelGridCompWithGridInstance=function(r){r[e.GRID_DOM_KEY]=this.gridInstanceId},t.prototype.getRenderedCellForEvent=function(r){return ne(this.gridOptionsService,r.target,Ca.DOM_DATA_KEY_CELL_CTRL)},t.prototype.isEventFromThisGrid=function(r){return this.isElementInThisGrid(r.target)},t.prototype.isElementInThisGrid=function(r){for(var n=r;n;){var i=n[e.GRID_DOM_KEY];if(w(i))return i===this.gridInstanceId;n=n.parentElement}return!1},t.prototype.getCellPositionForEvent=function(r){var n=this.getRenderedCellForEvent(r);return n?n.getCellPosition():null},t.prototype.getNormalisedPosition=function(r){var s,a,n=this.gridOptionsService.isDomLayout("normal");if(null!=r.clientX||null!=r.clientY?(s=r.clientX,a=r.clientY):(s=r.x,a=r.y),n){var d=this.ctrlsService.getGridBodyCtrl(),g=d.getScrollFeature().getVScrollPosition();s+=d.getScrollFeature().getHScrollPosition().left,a+=g.top}return{x:s,y:a}},t.gridInstanceSequence=new Xn,t.GRID_DOM_KEY="__ag_grid_instance",Qp([A("ctrlsService")],t.prototype,"ctrlsService",void 0),e=Qp([je("mouseEventService")],t)}(Le),fg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),sc=function(){return sc=Object.assign||function(o){for(var t,e=1,r=arguments.length;e<r;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o},sc.apply(this,arguments)},Wn=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},hg=function(o){function t(){var e=o.call(this)||this;return e.onPageDown=z(e.onPageDown,100),e.onPageUp=z(e.onPageUp,100),e}return fg(t,o),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){e.gridBodyCon=r.gridBodyCtrl})},t.prototype.handlePageScrollingKey=function(e,r){void 0===r&&(r=!1);var n=e.key,i=e.altKey,s=e.ctrlKey||e.metaKey,a=!!this.rangeService&&e.shiftKey,d=this.mouseEventService.getCellPositionForEvent(e),g=!1;switch(n){case Ce.PAGE_HOME:case Ce.PAGE_END:!s&&!i&&(this.onHomeOrEndKey(n),g=!0);break;case Ce.LEFT:case Ce.RIGHT:case Ce.UP:case Ce.DOWN:if(!d)return!1;s&&!i&&!a&&(this.onCtrlUpDownLeftRight(n,d),g=!0);break;case Ce.PAGE_DOWN:case Ce.PAGE_UP:!s&&!i&&(g=this.handlePageUpDown(n,d,r))}return g&&e.preventDefault(),g},t.prototype.handlePageUpDown=function(e,r,n){return n&&(r=this.focusService.getFocusedCell()),!!r&&(e===Ce.PAGE_UP?this.onPageUp(r):this.onPageDown(r),!0)},t.prototype.navigateTo=function(e){var r=e.scrollIndex,n=e.scrollType,i=e.scrollColumn,s=e.focusIndex,a=e.focusColumn;w(i)&&!i.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(i),w(r)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(r,n),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(s),this.focusService.setFocusedCell({rowIndex:s,column:a,rowPinned:null,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:s,rowPinned:null,column:a})},t.prototype.onPageDown=function(e){var n=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.getViewportHeight(),s=this.paginationProxy.getPixelOffset(),d=this.paginationProxy.getRowIndexAtPixel(n.top+i+s);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,d):this.navigateToNextPage(e,d)},t.prototype.onPageUp=function(e){var n=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.paginationProxy.getPixelOffset(),a=this.paginationProxy.getRowIndexAtPixel(n.top+i);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,a,!0):this.navigateToNextPage(e,a,!0)},t.prototype.navigateToNextPage=function(e,r,n){void 0===n&&(n=!1);var L,i=this.getViewportHeight(),s=this.paginationProxy.getPageFirstRow(),a=this.paginationProxy.getPageLastRow(),d=this.paginationProxy.getPixelOffset(),g=this.paginationProxy.getRow(e.rowIndex),m=n?g?.rowHeight-i-d:i-d,E=this.paginationProxy.getRowIndexAtPixel(g?.rowTop+m+d);E===e.rowIndex&&(r=E=e.rowIndex+(n?-1:1)),n?(L="bottom",E<s&&(E=s),r<s&&(r=s)):(L="top",E>a&&(E=a),r>a&&(r=a)),this.isRowTallerThanView(E)&&(r=E,L="top"),this.navigateTo({scrollIndex:r,scrollType:L,scrollColumn:null,focusIndex:E,focusColumn:e.column})},t.prototype.navigateToNextPageWithAutoHeight=function(e,r,n){var i=this;void 0===n&&(n=!1),this.navigateTo({scrollIndex:r,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:r,focusColumn:e.column}),setTimeout(function(){var s=i.getNextFocusIndexForAutoHeight(e,n);i.navigateTo({scrollIndex:r,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:s,focusColumn:e.column,isAsync:!0})},50)},t.prototype.getNextFocusIndexForAutoHeight=function(e,r){var n;void 0===r&&(r=!1);for(var i=r?-1:1,s=this.getViewportHeight(),a=this.paginationProxy.getPageLastRow(),d=0,g=e.rowIndex;g>=0&&g<=a;){var m=this.paginationProxy.getRow(g);if(m){var C=null!==(n=m.rowHeight)&&void 0!==n?n:0;if(d+C>s)break;d+=C}g+=i}return Math.max(0,Math.min(g,a))},t.prototype.getViewportHeight=function(){var r=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.gridOptionsService.getScrollbarWidth(),i=r.bottom-r.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(i-=n),i},t.prototype.isRowTallerThanView=function(e){var r=this.paginationProxy.getRow(e);if(!r)return!1;var n=r.rowHeight;return"number"==typeof n&&n>this.getViewportHeight()},t.prototype.onCtrlUpDownLeftRight=function(e,r){var n=this.cellNavigationService.getNextCellToFocus(e,r,!0),i=n.rowIndex,s=n.column;this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:s,focusIndex:i,focusColumn:s})},t.prototype.onHomeOrEndKey=function(e){var r=e===Ce.PAGE_HOME,n=this.columnModel.getAllDisplayedColumns(),i=r?n[0]:te(n),s=r?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:i,focusIndex:s,focusColumn:i})},t.prototype.onTabKeyDown=function(e,r){var n=r.shiftKey;if(this.tabToNextCellCommon(e,n,r))r.preventDefault();else if(n){var s=e.getRowPosition(),a=s.rowIndex;(s.rowPinned?0===a:a===this.paginationProxy.getPageFirstRow())&&(0===this.gridOptionsService.getNum("headerHeight")?this.focusService.focusNextGridCoreContainer(!0,!0):(r.preventDefault(),this.focusService.focusPreviousFromFirstCell(r)))}else e instanceof Ca&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(n)&&r.preventDefault()},t.prototype.tabToNextCell=function(e,r){var n=this.focusService.getFocusedCell();if(!n)return!1;var i=this.getCellByPosition(n);return!!(i||(i=this.rowRenderer.getRowByPosition(n),i&&i.isFullWidth()))&&this.tabToNextCellCommon(i,e,r)},t.prototype.tabToNextCellCommon=function(e,r,n){var i=e.isEditing();if(!i&&e instanceof Ca){var a=e.getRowCtrl();a&&(i=a.isEditing())}return(i?"fullRow"===this.gridOptionsService.get("editType")?this.moveToNextEditingRow(e,r,n):this.moveToNextEditingCell(e,r,n):this.moveToNextCellNotEditing(e,r))||!!this.focusService.getFocusedHeader()},t.prototype.moveToNextEditingCell=function(e,r,n){void 0===n&&(n=null);var i=e.getCellPosition();e.getGui().focus(),e.stopEditing();var s=this.findNextCellToFocusOn(i,r,!0);return null!=s&&(s.startEditing(null,!0,n),s.focusCell(!1),!0)},t.prototype.moveToNextEditingRow=function(e,r,n){void 0===n&&(n=null);var i=e.getCellPosition(),s=this.findNextCellToFocusOn(i,r,!0);if(null==s)return!1;var a=s.getCellPosition(),d=this.isCellEditable(i),g=this.isCellEditable(a),m=a&&i.rowIndex===a.rowIndex&&i.rowPinned===a.rowPinned;return d&&e.setFocusOutOnEditor(),m||(e.getRowCtrl().stopEditing(),s.getRowCtrl().startRowEditing(void 0,void 0,n)),g?(s.setFocusInOnEditor(),s.focusCell()):s.focusCell(!0),!0},t.prototype.moveToNextCellNotEditing=function(e,r){var i,n=this.columnModel.getAllDisplayedColumns();i=e instanceof To?sc(sc({},e.getRowPosition()),{column:r?n[0]:te(n)}):e.getCellPosition();var s=this.findNextCellToFocusOn(i,r,!1);if(s instanceof Ca)s.focusCell(!0);else if(s)return this.tryToFocusFullWidthRow(s.getRowPosition(),r);return w(s)},t.prototype.findNextCellToFocusOn=function(e,r,n){for(var i=e;;){e!==i&&(e=i),r||(i=this.getLastCellOfColSpan(i)),i=this.cellNavigationService.getNextTabbedCell(i,r);var s=this.gridOptionsService.getCallback("tabToNextCell");if(w(s)){var d=s({backwards:r,editing:n,previousCellPosition:e,nextCellPosition:i||null});w(d)?(d.floating&&(At(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),d.rowPinned=d.floating),i={rowIndex:d.rowIndex,column:d.column,rowPinned:d.rowPinned}):i=null}if(!i)return null;if(i.rowIndex<0){var g=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:g+i.rowIndex,column:i.column},fromCell:!0}),null}var m="fullRow"===this.gridOptionsService.get("editType");if(!n||m||this.isCellEditable(i)){this.ensureCellVisible(i);var E=this.getCellByPosition(i);if(!E){var b=this.rowRenderer.getRowByPosition(i);if(!b||!b.isFullWidth()||n)continue;return b}if(!E.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(i),E}}},t.prototype.isCellEditable=function(e){var r=this.lookupRowNodeForCell(e);return!!r&&e.column.isCellEditable(r)},t.prototype.getCellByPosition=function(e){var r=this.rowRenderer.getRowByPosition(e);return r?r.getCellCtrl(e.column):null},t.prototype.lookupRowNodeForCell=function(e){return"top"===e.rowPinned?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):"bottom"===e.rowPinned?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)},t.prototype.navigateToNextCell=function(e,r,n,i){for(var s=n,a=!1;s&&(s===n||!this.isValidNavigateCell(s));)this.gridOptionsService.is("enableRtl")?r===Ce.LEFT&&(s=this.getLastCellOfColSpan(s)):r===Ce.RIGHT&&(s=this.getLastCellOfColSpan(s)),a=W(s=this.cellNavigationService.getNextCellToFocus(r,s));if(a&&e&&e.key===Ce.UP&&(s={rowIndex:-1,rowPinned:null,column:n.column}),i){var d=this.gridOptionsService.getCallback("navigateToNextCell");if(w(d)){var m=d({key:r,previousCellPosition:n,nextCellPosition:s||null,event:e});w(m)?(m.floating&&(At(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),m.rowPinned=m.floating),s={rowPinned:m.rowPinned,rowIndex:m.rowIndex,column:m.column}):s=null}}if(s){if(s.rowIndex<0){var C=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:C+s.rowIndex,column:n.column},event:e||void 0,fromCell:!0})}var E=this.getNormalisedPosition(s);E?this.focusPosition(E):this.tryToFocusFullWidthRow(s)}},t.prototype.getNormalisedPosition=function(e){this.ensureCellVisible(e);var r=this.getCellByPosition(e);return r?(e=r.getCellPosition(),this.ensureCellVisible(e),e):null},t.prototype.tryToFocusFullWidthRow=function(e,r){void 0===r&&(r=!1);var n=this.columnModel.getAllDisplayedColumns(),i=this.rowRenderer.getRowByPosition(e);if(!i||!i.isFullWidth())return!1;var s=this.focusService.getFocusedCell(),a={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(r?te(n):n[0])};this.focusPosition(a);var d=null!=s&&this.rowPositionUtils.before(a,s);return this.eventService.dispatchEvent({type:M.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:a.rowIndex,rowPinned:a.rowPinned,column:a.column,isFullWidthCell:!0,floating:a.rowPinned,fromBelow:d}),!0},t.prototype.focusPosition=function(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(e)},t.prototype.isValidNavigateCell=function(e){return!!this.rowPositionUtils.getRowNode(e)},t.prototype.getLastCellOfColSpan=function(e){var r=this.getCellByPosition(e);if(!r)return e;var n=r.getColSpanningList();return 1===n.length?e:{rowIndex:e.rowIndex,column:te(n),rowPinned:e.rowPinned}},t.prototype.ensureCellVisible=function(e){var r=this.gridOptionsService.isGroupRowsSticky(),n=this.rowModel.getRow(e.rowIndex);!(r&&n?.sticky)&&W(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)},Wn([A("mouseEventService")],t.prototype,"mouseEventService",void 0),Wn([A("paginationProxy")],t.prototype,"paginationProxy",void 0),Wn([A("focusService")],t.prototype,"focusService",void 0),Wn([xt("rangeService")],t.prototype,"rangeService",void 0),Wn([A("columnModel")],t.prototype,"columnModel",void 0),Wn([A("rowModel")],t.prototype,"rowModel",void 0),Wn([A("ctrlsService")],t.prototype,"ctrlsService",void 0),Wn([A("rowRenderer")],t.prototype,"rowRenderer",void 0),Wn([A("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Wn([A("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Wn([A("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Wn([A("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Wn([we],t.prototype,"postConstruct",null),Wn([je("navigationService")],t)}(Le),rs=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ac=function(o){function t(e){var r=o.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return r.params=e,r}return rs(t,o),t.prototype.postConstruct=function(){this.gridOptionsService.setDomData(this.getGui(),t.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},t.prototype.addKeyDownListener=function(){var e=this,r=this.getGui(),n=this.params;this.addManagedListener(r,"keydown",function(s){Wa(e.gridOptionsService,s,n.node,n.column,!0)||n.onKeyDown(s)})},t.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);n>3&&i&&Object.defineProperty(t,e,i)}([we],t.prototype,"postConstruct",null),t}(la),rn=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),pn=function(o){function t(e,r,n,i,s){var a=o.call(this)||this;a.rendererVersion=0,a.editorVersion=0,a.beans=e,a.column=r.getColumn(),a.rowNode=r.getRowNode(),a.rowCtrl=r.getRowCtrl(),a.eRow=i,a.cellCtrl=r,a.setTemplate('<div comp-id="'+a.getCompId()+'"/>');var d=a.getGui();a.forceWrapper=r.isForceWrapper(),a.refreshWrapper(!1);var g=function(E,b){null!=b&&""!=b?d.setAttribute(E,b):d.removeAttribute(E)};ln(d,"gridcell"),g("col-id",r.getColumnIdSanitised());var m=r.getTabIndex();return void 0!==m&&g("tabindex",m.toString()),r.setComp({addOrRemoveCssClass:function(E,b){return a.addOrRemoveCssClass(E,b)},setUserStyles:function(E){return en(d,E)},getFocusableElement:function(){return a.getFocusableElement()},setIncludeSelection:function(E){return a.includeSelection=E},setIncludeRowDrag:function(E){return a.includeRowDrag=E},setIncludeDndSource:function(E){return a.includeDndSource=E},setRenderDetails:function(E,b,L){return a.setRenderDetails(E,b,L)},setEditDetails:function(E,b,L){return a.setEditDetails(E,b,L)},getCellEditor:function(){return a.cellEditor||null},getCellRenderer:function(){return a.cellRenderer||null},getParentOfValue:function(){return a.getParentOfValue()}},a.getGui(),a.eCellWrapper,n,s),a}return rn(t,o),t.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},t.prototype.setRenderDetails=function(e,r,n){if(!this.cellEditor||this.cellEditorPopupWrapper){this.firstRender=null==this.firstRender;var s=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!n&&!s&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(r))}},t.prototype.setEditDetails=function(e,r,n){e?this.createCellEditorInstance(e,r,n):this.destroyEditor()},t.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},t.prototype.refreshWrapper=function(e){var r=this.includeRowDrag||this.includeDndSource||this.includeSelection,n=r||this.forceWrapper,i=n&&null==this.eCellWrapper;i&&(this.eCellWrapper=wn('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));var s=!n&&null!=this.eCellWrapper;s&&(Qn(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!n);var a=!e&&n,d=a&&null==this.eCellValue;d&&(this.eCellValue=wn('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var g=!a&&null!=this.eCellValue;g&&(Qn(this.eCellValue),this.eCellValue=void 0);var m=i||s||d||g;return m&&this.removeControls(),e||r&&this.addControls(),m},t.prototype.addControls=function(){this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))},t.prototype.createCellEditorInstance=function(e,r,n){var i=this,s=this.editorVersion,a=e.newAgStackInstance();if(a){var d=e.params;a.then(function(m){return i.afterCellEditorCreated(s,m,d,r,n)}),W(this.cellEditor)&&d.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},t.prototype.insertValueWithoutCellRenderer=function(e){var r=this.getParentOfValue();un(r);var n=null!=e?Xr(e):null;null!=n&&(r.innerHTML=n)},t.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},t.prototype.destroyRenderer=function(){this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),Qn(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},t.prototype.destroyEditor=function(){var e=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),Qn(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},t.prototype.refreshCellRenderer=function(e){if(null==this.cellRenderer||null==this.cellRenderer.refresh||this.cellRendererClass!==e.componentClass)return!1;var r=this.cellRenderer.refresh(e.params);return!0===r||void 0===r},t.prototype.createCellRendererInstance=function(e){var r=this,n=this.beans.gridOptionsService.is("suppressAnimationFrame"),s=this.rendererVersion,a=e.componentClass,d=function(){if(r.rendererVersion===s&&r.isAlive()){var m=e.newAgStackInstance(),C=r.afterCellRendererCreated.bind(r,s,a);m&&m.then(C)}};!n&&this.firstRender?this.beans.animationFrameService.createTask(d,this.rowNode.rowIndex,"createTasksP2"):d()},t.prototype.getCtrl=function(){return this.cellCtrl},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getCellRenderer=function(){return this.cellRenderer},t.prototype.getCellEditor=function(){return this.cellEditor},t.prototype.afterCellRendererCreated=function(e,r,n){if(this.isAlive()&&e===this.rendererVersion){if(this.cellRenderer=n,this.cellRendererClass=r,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){var s=this.getParentOfValue();un(s),s.appendChild(this.cellRendererGui)}}else this.beans.context.destroyBean(n)},t.prototype.afterCellEditorCreated=function(e,r,n,i,s){if(e!==this.editorVersion)this.beans.context.destroyBean(r);else{if(r.isCancelBeforeStart&&r.isCancelBeforeStart())return this.beans.context.destroyBean(r),void this.cellCtrl.stopEditing(!0);if(!r.getGui)return console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),void this.beans.context.destroyBean(r);this.cellEditor=r,this.cellEditorGui=r.getGui();var g=i||void 0!==r.isPopup&&r.isPopup();g?this.addPopupCellEditor(n,s):this.addInCellEditor(),this.refreshEditStyles(!0,g),r.afterGuiAttached&&r.afterGuiAttached()}},t.prototype.refreshEditStyles=function(e,r){var n;this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!r),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!r),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!r),null===(n=this.rowCtrl)||void 0===n||n.setInlineEditingCss(e)},t.prototype.addInCellEditor=function(){var e=this.getGui(),r=this.beans.gridOptionsService.getDocument();e.contains(r.activeElement)&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)},t.prototype.addPopupCellEditor=function(e,r){var n=this;"fullRow"===this.beans.gridOptionsService.get("editType")&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var i=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new ac(e));var s=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&s.appendChild(this.cellEditorGui);var a=this.beans.popupService,d=this.beans.gridOptionsService.is("stopEditingWhenCellsLoseFocus"),g=r??(i.getPopupPosition?i.getPopupPosition():"over"),m=this.beans.gridOptionsService.is("enableRtl"),C={ePopup:s,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:g,alignSide:m?"right":"left",keepWithinBounds:!0},E=a.positionPopupByComponent.bind(a,C),b=this.beans.localeService.getLocaleTextFunc(),L=a.addPopup({modal:d,eChild:s,closeOnEsc:!0,closedCallback:function(){n.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:E,ariaLabel:b("ariaLabelCellEditor","Cell Editor")});L&&(this.hideEditorPopup=L.hideFunc)},t.prototype.detach=function(){this.eRow.removeChild(this.getGui())},t.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),o.prototype.destroy.call(this)},t.prototype.clearParentOfValue=function(){var e=this.getGui(),r=this.beans.gridOptionsService.getDocument();e.contains(r.activeElement)&&Vo()&&e.focus({preventScroll:!0}),un(this.getParentOfValue())},t}(qt),Zp=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),gg=function(o){function t(e,r,n){var i=o.call(this)||this;i.cellComps={},i.beans=r,i.rowCtrl=e,i.setTemplate('<div comp-id="'+i.getCompId()+'" style="'+i.getInitialStyle(n)+'"/>');var s=i.getGui(),a=s.style;i.domOrder=i.rowCtrl.getDomOrder(),ln(s,"row");var d=i.rowCtrl.getTabIndex();return null!=d&&s.setAttribute("tabindex",d.toString()),e.setComp({setDomOrder:function(m){return i.domOrder=m},setCellCtrls:function(m){return i.setCellCtrls(m)},showFullWidth:function(m){return i.showFullWidth(m)},getFullWidthCellRenderer:function(){return i.getFullWidthCellRenderer()},addOrRemoveCssClass:function(m,C){return i.addOrRemoveCssClass(m,C)},setUserStyles:function(m){return en(s,m)},setTop:function(m){return a.top=m},setTransform:function(m){return a.transform=m},setRowIndex:function(m){return s.setAttribute("row-index",m)},setRowId:function(m){return s.setAttribute("row-id",m)},setRowBusinessKey:function(m){return s.setAttribute("row-business-key",m)}},i.getGui(),n),i.addDestroyFunc(function(){e.unsetComp(n)}),i}return Zp(t,o),t.prototype.getInitialStyle=function(e){var r=this.rowCtrl.getInitialTransform(e),n=this.rowCtrl.getInitialRowTop(e);return r?"transform: "+r:"top: "+n},t.prototype.showFullWidth=function(e){var r=this,i=e.newAgStackInstance();i&&i.then(function(s){if(r.isAlive()){var a=s.getGui();r.getGui().appendChild(a),r.rowCtrl.setupDetailRowAutoHeight(a),r.setFullWidthRowComp(s)}else r.beans.context.destroyBean(s)})},t.prototype.setCellCtrls=function(e){var r=this,n=Object.assign({},this.cellComps);e.forEach(function(s){var a=s.getInstanceId();null==r.cellComps[a]?r.newCellComp(s):n[a]=null});var i=vt(n).filter(function(s){return null!=s});this.destroyCells(i),this.ensureDomOrder(e)},t.prototype.ensureDomOrder=function(e){var r=this;if(this.domOrder){var n=[];e.forEach(function(i){var s=r.cellComps[i.getInstanceId()];s&&n.push(s.getGui())}),ea(this.getGui(),n)}},t.prototype.newCellComp=function(e){var r=new pn(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=r,this.getGui().appendChild(r.getGui())},t.prototype.destroy=function(){o.prototype.destroy.call(this),this.destroyAllCells()},t.prototype.destroyAllCells=function(){var e=vt(this.cellComps).filter(function(r){return null!=r});this.destroyCells(e)},t.prototype.setFullWidthRowComp=function(e){var r=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(function(){r.fullWidthCellRenderer=r.beans.context.destroyBean(r.fullWidthCellRenderer)})},t.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},t.prototype.destroyCells=function(e){var r=this;e.forEach(function(n){if(n){var i=n.getCtrl().getInstanceId();r.cellComps[i]===n&&(n.detach(),n.destroy(),r.cellComps[i]=null)}})},t}(qt),vg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Sd=function(){return Sd=Object.assign||function(o){for(var t,e=1,r=arguments.length;e<r;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o},Sd.apply(this,arguments)},su=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},mg=function(o){function t(){var e=o.call(this,function yg(){var o=qt.elementGettingCreated.getAttribute("name"),t=$p.getRowContainerCssClasses(o);return o===Fe.CENTER||o===Fe.TOP_CENTER||o===Fe.STICKY_TOP_CENTER||o===Fe.BOTTOM_CENTER?'<div class="'+t.viewport+'" ref="eViewport" role="presentation">\n                <div class="'+t.container+'" ref="eContainer"></div>\n            </div>':'<div class="'+t.container+'" ref="eContainer"></div>'}())||this;return e.rowComps={},e.name=qt.elementGettingCreated.getAttribute("name"),e.type=function lg(o){switch(o){case Fe.CENTER:case Fe.TOP_CENTER:case Fe.STICKY_TOP_CENTER:case Fe.BOTTOM_CENTER:return Tn.CENTER;case Fe.LEFT:case Fe.TOP_LEFT:case Fe.STICKY_TOP_LEFT:case Fe.BOTTOM_LEFT:return Tn.LEFT;case Fe.RIGHT:case Fe.TOP_RIGHT:case Fe.STICKY_TOP_RIGHT:case Fe.BOTTOM_RIGHT:return Tn.RIGHT;case Fe.FULL_WIDTH:case Fe.TOP_FULL_WIDTH:case Fe.STICKY_TOP_FULL_WIDTH:case Fe.BOTTOM_FULL_WIDTH:return Tn.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}(e.name),e}return vg(t,o),t.prototype.postConstruct=function(){var e=this,r={setViewportHeight:function(i){return e.eViewport.style.height=i},setRowCtrls:function(i){return e.setRowCtrls(i)},setDomOrder:function(i){e.domOrder=i},setContainerWidth:function(i){return e.eContainer.style.width=i}};this.createManagedBean(new $p(this.name)).setComp(r,this.eContainer,this.eViewport)},t.prototype.preDestroy=function(){this.setRowCtrls([])},t.prototype.setRowCtrls=function(e){var r=this,n=Sd({},this.rowComps);this.rowComps={},this.lastPlacedElement=null,e.forEach(function(s){var a=s.getInstanceId(),d=n[a];if(d)r.rowComps[a]=d,delete n[a],r.ensureDomOrder(d.getGui());else{if(!s.getRowNode().displayed)return;var g=new gg(s,r.beans,r.type);r.rowComps[a]=g,r.appendRow(g.getGui())}}),vt(n).forEach(function(s){r.eContainer.removeChild(s.getGui()),s.destroy()}),ln(this.eContainer,e.length?"rowgroup":"presentation")},t.prototype.appendRow=function(e){this.domOrder?Pu(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e},t.prototype.ensureDomOrder=function(e){this.domOrder&&(Ol(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)},su([A("beans")],t.prototype,"beans",void 0),su([tt("eViewport")],t.prototype,"eViewport",void 0),su([tt("eContainer")],t.prototype,"eContainer",void 0),su([we],t.prototype,"postConstruct",null),su([yr],t.prototype,"preDestroy",null),t}(qt),_d=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},au=function(){function o(t){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=t}return o.prototype.onDragEnter=function(t){var e=this;if(this.clearColumnsList(),!this.gridOptionsService.is("functionsReadOnly")){var r=t.dragItem.columns;r&&r.forEach(function(n){n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?e.columnsToAggregate.push(n):n.isAllowRowGroup()?e.columnsToGroup.push(n):n.isAllowPivot()&&e.columnsToPivot.push(n)))})}},o.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?En.ICON_PINNED:En.ICON_MOVE:null},o.prototype.onDragLeave=function(t){this.clearColumnsList()},o.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},o.prototype.onDragging=function(t){},o.prototype.onDragStop=function(t){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},_d([A("columnModel")],o.prototype,"columnModel",void 0),_d([A("gridOptionsService")],o.prototype,"gridOptionsService",void 0),o}(),Sa=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Jp=function(){function o(t,e){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=t,this.eContainer=e,this.centerContainer=!w(t)}return o.prototype.init=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCon=t.ctrlsService.getGridBodyCtrl()})},o.prototype.getIconName=function(){return this.pinned?En.ICON_PINNED:En.ICON_MOVE},o.prototype.onDragEnter=function(t){var e=t.dragItem.columns;if(t.dragSource.type===ei.ToolPanel)this.setColumnsVisible(e,!0,"uiColumnDragged");else{var n=t.dragItem.visibleState,i=(e||[]).filter(function(s){return n[s.getId()]});this.setColumnsVisible(i,!0,"uiColumnDragged")}this.setColumnsPinned(e,this.pinned,"uiColumnDragged"),this.onDragging(t,!0,!0)},o.prototype.onDragLeave=function(){this.ensureIntervalCleared(),this.lastMovedInfo=null},o.prototype.setColumnsVisible=function(t,e,r){if(void 0===r&&(r="api"),t){var n=t.filter(function(i){return!i.getColDef().lockVisible});this.columnModel.setColumnsVisible(n,e,r)}},o.prototype.setColumnsPinned=function(t,e,r){if(void 0===r&&(r="api"),t){var n=t.filter(function(i){return!i.getColDef().lockPinned});this.columnModel.setColumnsPinned(n,e,r)}},o.prototype.onDragStop=function(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null},o.prototype.normaliseX=function(t){return this.gridOptionsService.is("enableRtl")&&(t=this.eContainer.clientWidth-t),this.centerContainer&&(t+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),t},o.prototype.checkCenterForScrolling=function(t){if(this.centerContainer){var e=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),r=e+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.is("enableRtl")?(this.needToMoveRight=t<e+50,this.needToMoveLeft=t>r-50):(this.needToMoveLeft=t<e+50,this.needToMoveRight=t>r-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},o.prototype.onDragging=function(t,e,r,n){var s,i=this;if(void 0===t&&(t=this.lastDraggingEvent),void 0===e&&(e=!1),void 0===r&&(r=!1),void 0===n&&(n=!1),n){if(this.lastMovedInfo){var a=this.lastMovedInfo;this.moveColumns(a.columns,a.toIndex,"uiColumnMoved",!0)}}else if(this.lastDraggingEvent=t,!W(t.hDirection)){var m=this.normaliseX(t.x);e||this.checkCenterForScrolling(m);var C=this.normaliseDirection(t.hDirection),E=t.dragSource.type,b=(null===(s=t.dragSource.getDragItem().columns)||void 0===s?void 0:s.filter(function(L){return!L.getColDef().lockPinned||L.getPinned()==i.pinned}))||[];this.attemptMoveColumns({dragSourceType:E,allMovingColumns:b,hDirection:C,mouseX:m,fromEnter:e,fakeEvent:r})}},o.prototype.normaliseDirection=function(t){if(!this.gridOptionsService.is("enableRtl"))return t;switch(t){case es.Left:return es.Right;case es.Right:return es.Left;default:console.error("AG Grid: Unknown direction "+t)}},o.prototype.attemptMoveColumns=function(t){var e=t.dragSourceType,r=t.hDirection,n=t.mouseX,i=t.fromEnter,s=t.fakeEvent,a=r===es.Left,d=r===es.Right,g=t.allMovingColumns;if(e===ei.HeaderCell){var m=[];g.forEach(function(gt){for(var Tt,Bt=null,rr=gt.getParent();null!=rr&&1===rr.getDisplayedLeafColumns().length;)Bt=rr,rr=rr.getParent();null!=Bt?(null!==(Tt=Bt.getColGroupDef())&&void 0!==Tt&&Tt.marryChildren?Bt.getProvidedColumnGroup().getLeafColumns():Bt.getLeafColumns()).forEach(function(Hi){m.includes(Hi)||m.push(Hi)}):m.includes(gt)||m.push(gt)}),g=m}var C=g.slice();this.columnModel.sortColumnsLikeGridColumns(C);var E=this.calculateValidMoves(C,d,n),b=this.calculateOldIndex(C);if(0!==E.length){var L=E[0],j=null!==b&&!i;if(e==ei.HeaderCell&&(j=null!==b),!j||s||!(a&&L>=b||d&&L<=b)){for(var ee=this.columnModel.getAllDisplayedColumns(),se=[],fe=null,Te=0;Te<E.length;Te++){var ke=E[Te],St=this.columnModel.getProposedColumnOrder(C,ke);if(this.columnModel.doesOrderPassRules(St)){var _t=St.filter(function(gt){return ee.includes(gt)});if(null===fe)fe=_t;else if(!Vt.areEqual(_t,fe))break;var Gt=this.groupFragCount(St);se.push({move:ke,fragCount:Gt})}}0!==se.length&&(se.sort(function(gt,Tt){return gt.fragCount-Tt.fragCount}),this.moveColumns(g,se[0].move,"uiColumnMoved",!1))}}},o.prototype.calculateOldIndex=function(t){var e=this.columnModel.getAllGridColumns(),r=st(t.map(function(d){return e.indexOf(d)})),n=r[0];return te(r)-n!=r.length-1?null:n},o.prototype.moveColumns=function(t,e,r,n){this.columnModel.moveColumns(t,e,r,n),this.lastMovedInfo=n?null:{columns:t,toIndex:e}},o.prototype.groupFragCount=function(t){function e(s){for(var a=[],d=s.getOriginalParent();null!=d;)a.push(d),d=d.getOriginalParent();return a}for(var r=0,n=function(s){var a,d=e(t[s]),g=e(t[s+1]);a=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i}(d.length>g.length?[d,g]:[g,d],2),g=a[1],(d=a[0]).forEach(function(m){-1===g.indexOf(m)&&r++})},i=0;i<t.length-1;i++)n(i);return r},o.prototype.calculateValidMoves=function(t,e,r){if(this.gridOptionsService.is("suppressMovableColumns")||t.some(function(Gt){return Gt.getColDef().suppressMovable}))return[];var j,i=this.columnModel.getDisplayedColumns(this.pinned),s=this.columnModel.getAllGridColumns(),a=i.filter(function(Gt){return It(t,Gt)}),d=i.filter(function(Gt){return!It(t,Gt)}),g=s.filter(function(Gt){return!It(t,Gt)}),m=0,C=r;if(e){var E=0;a.forEach(function(Gt){return E+=Gt.getActualWidth()}),C-=E}if(C>0){for(var b=0;b<d.length&&!((C-=d[b].getActualWidth())<0);b++)m++;e&&m++}m>0?j=g.indexOf(d[m-1])+1:-1===(j=g.indexOf(d[0]))&&(j=0);var se=[j],fe=function(Gt,gt){return Gt-gt};if(e){for(var Te=j+1,ke=s.length-1;Te<=ke;)se.push(Te),Te++;se.sort(fe)}else{ke=s.length-1;for(var St=s[Te=j];Te<=ke&&this.isColumnHidden(i,St);)Te++,se.push(Te),St=s[Te];for(Te=j-1;Te>=0;)se.push(Te),Te--;se.sort(fe).reverse()}return se},o.prototype.isColumnHidden=function(t,e){return t.indexOf(e)<0},o.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?En.ICON_LEFT:En.ICON_RIGHT,!0))},o.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(En.ICON_MOVE))},o.prototype.moveInterval=function(){var t;this.intervalCount++,(t=10+5*this.intervalCount)>100&&(t=100);var e=null,r=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?e=r.scrollHorizontally(-t):this.needToMoveRight&&(e=r.scrollHorizontally(t)),0!==e)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var i=this.lastDraggingEvent.dragItem.columns.filter(function(a){return!a.getColDef().lockPinned});i.length>0&&(this.dragAndDropService.setGhostIcon(En.ICON_PINNED),this.failedMoveAttempts>7)&&(this.setColumnsPinned(i,this.needToMoveLeft?"left":"right","uiColumnDragged"),this.dragAndDropService.nudge())}},Sa([A("columnModel")],o.prototype,"columnModel",void 0),Sa([A("dragAndDropService")],o.prototype,"dragAndDropService",void 0),Sa([A("gridOptionsService")],o.prototype,"gridOptionsService",void 0),Sa([A("ctrlsService")],o.prototype,"ctrlsService",void 0),Sa([we],o.prototype,"init",null),o}(),lc=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),In=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},rl=function(o){function t(e,r){var n=o.call(this)||this;return n.pinned=e,n.eContainer=r,n}return lc(t,o),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){switch(e.pinned){case"left":e.eSecondaryContainers=[[r.gridBodyCtrl.getBodyViewportElement(),r.leftRowContainerCtrl.getContainerElement()],[r.bottomLeftRowContainerCtrl.getContainerElement()],[r.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":e.eSecondaryContainers=[[r.gridBodyCtrl.getBodyViewportElement(),r.rightRowContainerCtrl.getContainerElement()],[r.bottomRightRowContainerCtrl.getContainerElement()],[r.topRightRowContainerCtrl.getContainerElement()]];break;default:e.eSecondaryContainers=[[r.gridBodyCtrl.getBodyViewportElement(),r.centerRowContainerCtrl.getViewportElement()],[r.bottomCenterRowContainerCtrl.getViewportElement()],[r.topCenterRowContainerCtrl.getViewportElement()]]}})},t.prototype.isInterestedIn=function(e){return e===ei.HeaderCell||e===ei.ToolPanel&&this.gridOptionsService.is("allowDragFromColumnsToolPanel")},t.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},t.prototype.getContainer=function(){return this.eContainer},t.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new Jp(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new au(this.pinned)),this.dragAndDropService.addDropTarget(this)},t.prototype.getIconName=function(){return this.currentDropListener.getIconName()},t.prototype.isDropColumnInPivotMode=function(e){return this.columnModel.isPivotMode()&&e.dragSource.type===ei.ToolPanel},t.prototype.onDragEnter=function(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)},t.prototype.onDragLeave=function(e){this.currentDropListener.onDragLeave(e)},t.prototype.onDragging=function(e){this.currentDropListener.onDragging(e)},t.prototype.onDragStop=function(e){this.currentDropListener.onDragStop(e)},In([A("dragAndDropService")],t.prototype,"dragAndDropService",void 0),In([A("columnModel")],t.prototype,"columnModel",void 0),In([A("ctrlsService")],t.prototype,"ctrlsService",void 0),In([we],t.prototype,"postConstruct",null),In([we],t.prototype,"init",null),t}(Le),Xp=function(){function o(){}return o.getHeaderClassesFromColDef=function(t,e,r,n){return W(t)?[]:this.getColumnClassesFromCollDef(t.headerClass,t,e,r,n)},o.getToolPanelClassesFromColDef=function(t,e,r,n){return W(t)?[]:this.getColumnClassesFromCollDef(t.toolPanelClass,t,e,r,n)},o.getClassParams=function(t,e,r,n){return{colDef:t,column:r,columnGroup:n,api:e.api,columnApi:e.columnApi,context:e.context}},o.getColumnClassesFromCollDef=function(t,e,r,n,i){return W(t)?[]:"string"==typeof(s="function"==typeof t?t(this.getClassParams(e,r,n,i)):t)?[s]:Array.isArray(s)?function(o,t){for(var e=0,r=t.length,n=o.length;e<r;e++,n++)o[n]=t[e];return o}([],function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i}(s)):[];var s},o}(),_g=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),uc=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},ef=function(o){function t(e){var r=o.call(this,t.TEMPLATE,e)||this;return r.headerCompVersion=0,r.column=e.getColumnGroupChild(),r.pinned=e.getPinned(),r}return _g(t,o),t.prototype.postConstruct=function(){var a,d,e=this,r=this.getGui();a="col-id",null!=(d=this.column.getColId())&&""!=d?r.setAttribute(a,d):r.removeAttribute(a);var i={setWidth:function(a){return r.style.width=a},addOrRemoveCssClass:function(a,d){return e.addOrRemoveCssClass(a,d)},setAriaDescription:function(a){return kr(r,a)},setAriaSort:function(a){return a?Ou(r,a):zs(r)},setUserCompDetails:function(a){return e.setUserCompDetails(a)},getUserCompInstance:function(){return e.headerComp}};this.ctrl.setComp(i,this.getGui(),this.eResize,this.eHeaderCompWrapper);var s=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",s)},t.prototype.destroyHeaderComp=function(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},t.prototype.setUserCompDetails=function(e){var r=this;this.headerCompVersion++;var n=this.headerCompVersion;e.newAgStackInstance().then(function(i){return r.afterCompCreated(n,i)})},t.prototype.afterCompCreated=function(e,r){e==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=r,this.headerCompGui=r.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())):this.destroyBean(r)},t.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n        </div>',uc([tt("eResize")],t.prototype,"eResize",void 0),uc([tt("eHeaderCompWrapper")],t.prototype,"eHeaderCompWrapper",void 0),uc([we],t.prototype,"postConstruct",null),uc([yr],t.prototype,"destroyHeaderComp",null),t}(Zu),ns=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),lr=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},tf=function(o){function t(e){return o.call(this,t.TEMPLATE,e)||this}return ns(t,o),t.prototype.postConstruct=function(){var e=this,r=this.getGui();r.setAttribute("col-id",this.ctrl.getColId()),this.ctrl.setComp({addOrRemoveCssClass:function(s,a){return e.addOrRemoveCssClass(s,a)},setResizableDisplayed:function(s){return sr(e.eResize,s)},setWidth:function(s){return r.style.width=s},setAriaExpanded:function(s){return function(s,a){return null!=a?r.setAttribute(s,a):r.removeAttribute(s)}("aria-expanded",s)},setUserCompDetails:function(s){return e.setUserCompDetails(s)}},r,this.eResize)},t.prototype.setUserCompDetails=function(e){var r=this;e.newAgStackInstance().then(function(n){return r.afterHeaderCompCreated(n)})},t.prototype.afterHeaderCompCreated=function(e){var r=this,n=function(){return r.destroyBean(e)};if(this.isAlive()){var i=this.getGui(),s=e.getGui();i.appendChild(s),this.addDestroyFunc(n),this.ctrl.setDragSource(i)}else n()},t.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',lr([A("userComponentFactory")],t.prototype,"userComponentFactory",void 0),lr([tt("eResize")],t.prototype,"eResize",void 0),lr([we],t.prototype,"postConstruct",null),t}(Zu),Ji=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ed=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Un=function(o){return o.COLUMN_GROUP="group",o.COLUMN="column",o.FLOATING_FILTER="filter",o}(Un||{}),Vr=function(o){function t(e){var r=o.call(this)||this;return r.headerComps={},r.ctrl=e,r.setTemplate('<div class="'+r.ctrl.getHeaderRowClass()+'" role="row"></div>'),r}return Ji(t,o),t.prototype.init=function(){var e=this;this.getGui().style.transform=this.ctrl.getTransform(),Wi(this.getGui(),this.ctrl.getAriaRowIndex()),this.ctrl.setComp({setHeight:function(n){return e.getGui().style.height=n},setTop:function(n){return e.getGui().style.top=n},setHeaderCtrls:function(n,i){return e.setHeaderCtrls(n,i)},setWidth:function(n){return e.getGui().style.width=n}})},t.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([],!1)},t.prototype.setHeaderCtrls=function(e,r){var n=this;if(this.isAlive()){var i=this.headerComps;if(this.headerComps={},e.forEach(function(d){var g=d.getInstanceId(),m=i[g];delete i[g],null==m&&(m=n.createHeaderComp(d),n.getGui().appendChild(m.getGui())),n.headerComps[g]=m}),rt(i,function(d,g){n.getGui().removeChild(g.getGui()),n.destroyBean(g)}),r){var s=vt(this.headerComps);s.sort(function(d,g){return d.getCtrl().getColumnGroupChild().getLeft()-g.getCtrl().getColumnGroupChild().getLeft()});var a=s.map(function(d){return d.getGui()});ea(this.getGui(),a)}}},t.prototype.createHeaderComp=function(e){var r;switch(this.ctrl.getType()){case Un.COLUMN_GROUP:r=new tf(e);break;case Un.FLOATING_FILTER:r=new fh(e);break;default:r=new ef(e)}return this.createBean(r),r.setParentComponent(this),r},Ed([we],t.prototype,"init",null),Ed([yr],t.prototype,"destroyHeaderCtrls",null),t}(qt),Eg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),cc=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},dc=0,pc=function(o){function t(e,r){var n=o.call(this)||this;return n.lastFocusEvent=null,n.columnGroupChild=e,n.parentRowCtrl=r,n.instanceId=e.getUniqueId()+"-"+dc++,n}return Eg(t,o),t.prototype.shouldStopEventPropagation=function(e){var r=this.focusService.getFocusedHeader();return Fu(this.gridOptionsService,e,r.headerRowIndex,r.column)},t.prototype.getWrapperHasFocus=function(){return this.gridOptionsService.getDocument().activeElement===this.eGui},t.prototype.setGui=function(e){this.eGui=e,this.addDomData()},t.prototype.handleKeyDown=function(e){var r=this.getWrapperHasFocus();switch(e.key){case Ce.PAGE_DOWN:case Ce.PAGE_UP:case Ce.PAGE_HOME:case Ce.PAGE_END:r&&e.preventDefault()}},t.prototype.addDomData=function(){var e=this,r=t.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,r,this),this.addDestroyFunc(function(){return e.gridOptionsService.setDomData(e.eGui,r,null)})},t.prototype.getGui=function(){return this.eGui},t.prototype.focus=function(e){return!!this.eGui&&(this.lastFocusEvent=e||null,this.eGui.focus(),!0)},t.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},t.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},t.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.getColumnGroupChild=function(){return this.columnGroupChild},t.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",cc([A("focusService")],t.prototype,"focusService",void 0),cc([A("beans")],t.prototype,"beans",void 0),cc([A("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(Le),Rg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Rd=function(o){function t(e,r,n,i){var s=o.call(this)||this;return s.columnOrGroup=e,s.eCell=r,s.ariaEl=s.eCell.querySelector("[role=columnheader]")||s.eCell,s.colsSpanning=i,s.beans=n,s}return Rg(t,o),t.prototype.setColsSpanning=function(e){this.colsSpanning=e,this.onLeftChanged()},t.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsService.is("enableRtl")&&this.colsSpanning?te(this.colsSpanning):this.columnOrGroup},t.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,T.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))},t.prototype.setLeftFirstTime=function(){var e=this.beans.gridOptionsService.is("suppressColumnMoveAnimation"),r=w(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&r&&!e?this.animateInLeft():this.onLeftChanged()},t.prototype.animateInLeft=function(){var e=this,r=this.getColumnOrGroup(),n=r.getLeft(),i=r.getOldLeft(),s=this.modifyLeftForPrintLayout(r,i),a=this.modifyLeftForPrintLayout(r,n);this.setLeft(s),this.actualLeft=a,this.beans.columnAnimationService.executeNextVMTurn(function(){e.actualLeft===a&&e.setLeft(a)})},t.prototype.onLeftChanged=function(){var e=this.getColumnOrGroup(),r=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,r),this.setLeft(this.actualLeft)},t.prototype.modifyLeftForPrintLayout=function(e,r){if(!this.beans.gridOptionsService.isDomLayout("print")||"left"===e.getPinned())return r;var i=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===e.getPinned()?i+this.beans.columnModel.getBodyContainerWidth()+r:i+r},t.prototype.setLeft=function(e){var r;if(w(e)&&(this.eCell.style.left=e+"px"),this.columnOrGroup instanceof T)r=this.columnOrGroup;else{var i=this.columnOrGroup.getLeafColumns();if(!i.length)return;i.length>1&&Pa(this.ariaEl,i.length),r=i[0]}var s=this.beans.columnModel.getAriaColumnIndex(r);mo(this.ariaEl,s)},function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);n>3&&i&&Object.defineProperty(t,e,i)}([we],t.prototype,"postConstruct",null),t}(Le),Dg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),rf=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Ad=function(o){function t(e,r){var n=o.call(this)||this;return n.columns=e,n.element=r,n}return Dg(t,o),t.prototype.postConstruct=function(){this.gridOptionsService.is("columnHoverHighlight")&&this.addMouseHoverListeners()},t.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},t.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},t.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},rf([A("columnHoverService")],t.prototype,"columnHoverService",void 0),rf([we],t.prototype,"postConstruct",null),t}(Le),xg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Dd=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Og=function(o){function t(e,r){var n=o.call(this,e,r)||this;return n.iconCreated=!1,n.column=e,n}return xg(t,o),t.prototype.setComp=function(e,r,n,i){o.prototype.setGui.call(this,r),this.comp=e,this.eButtonShowMainFilter=n,this.eFloatingFilterBody=i,this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,T.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))},t.prototype.setupActive=function(){var e=this.column.getColDef();this.active=!!e.filter&&!!e.floatingFilter},t.prototype.setupUi=function(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),this.active&&!this.iconCreated){var e=Zr("filter",this.gridOptionsService,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}},t.prototype.setupFocus=function(){this.createManagedBean(new Qo(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},t.prototype.setupAria=function(){var e=this.localeService.getLocaleTextFunc();ci(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))},t.prototype.onTabKeyDown=function(e){if(this.gridOptionsService.getDocument().activeElement!==this.eGui){var s=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(s)return this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),void s.focus();var a=this.findNextColumnWithFloatingFilter(e.shiftKey);a&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:a},event:e})&&e.preventDefault()}},t.prototype.findNextColumnWithFloatingFilter=function(e){var r=this.beans.columnModel,n=this.column;do{if(!(n=e?r.getDisplayedColBefore(n):r.getDisplayedColAfter(n)))break}while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n},t.prototype.handleKeyDown=function(e){o.prototype.handleKeyDown.call(this,e);var r=this.getWrapperHasFocus();switch(e.key){case Ce.UP:case Ce.DOWN:r||e.preventDefault();case Ce.LEFT:case Ce.RIGHT:if(r)return;e.stopPropagation();case Ce.ENTER:r&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case Ce.ESCAPE:r||this.eGui.focus()}},t.prototype.onFocusIn=function(e){if(!this.eGui.contains(e.relatedTarget)){var n=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),i=!!e.relatedTarget&&jo(e.relatedTarget,"ag-floating-filter");if(n&&i&&e.target===this.eGui){var s=this.lastFocusEvent;s&&s&&s.key===Ce.TAB&&this.focusService.focusInto(this.eGui,s.shiftKey)}var g=this.getRowIndex();this.beans.focusService.setFocusedHeader(g,this.column)}},t.prototype.setupHover=function(){var e=this;this.createManagedBean(new Ad([this.column],this.eGui));var r=function(){if(e.gridOptionsService.is("columnHoverHighlight")){var n=e.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",n)}};this.addManagedListener(this.eventService,M.EVENT_COLUMN_HOVER_CHANGED,r),r()},t.prototype.setupLeft=function(){var e=new Rd(this.column,this.eGui,this.beans);this.createManagedBean(e)},t.prototype.setupFilterButton=function(){var e=this.column.getColDef();this.suppressFilterButton=!!e.floatingFilterComponentParams&&!!e.floatingFilterComponentParams.suppressFilterButton},t.prototype.setupUserComp=function(){var e=this;if(this.active){var r=this.filterManager.getFloatingFilterCompDetails(this.column,function(){return e.showParentFilter()});r&&this.setCompDetails(r)}},t.prototype.setCompDetails=function(e){this.userCompDetails=e,this.comp.setCompDetails(e)},t.prototype.showParentFilter=function(){this.menuFactory.showMenuAfterButtonClick(this.column,this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,"floatingFilter","filterMenuTab",["filterMenuTab"])},t.prototype.setupSyncWithFilter=function(){var e=this;if(this.active){var r=function(n){var i=e.comp.getFloatingFilterComp();i&&i.then(function(s){if(s){var a=e.filterManager.getCurrentFloatingFilterParentModel(e.column);s.onParentModelChanged(a,n)}})};this.destroySyncListener=this.addManagedListener(this.column,T.EVENT_FILTER_CHANGED,r),this.filterManager.isFilterActive(this.column)&&r(null)}},t.prototype.setupWidth=function(){var e=this,r=function(){var n=e.column.getActualWidth()+"px";e.comp.setWidth(n)};this.addManagedListener(this.column,T.EVENT_WIDTH_CHANGED,r),r()},t.prototype.setupFilterChangedListener=function(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,T.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)))},t.prototype.updateFilterButton=function(){!this.suppressFilterButton&&this.comp&&this.comp.setButtonWrapperDisplayed(this.filterManager.isFilterAllowed(this.column))},t.prototype.onColDefChanged=function(){var r,n,e=this,i=this.active;this.setupActive();var s=!i&&this.active;i&&!this.active&&(null===(r=this.destroySyncListener)||void 0===r||r.call(this),null===(n=this.destroyFilterChangedListener)||void 0===n||n.call(this));var a=this.active?this.filterManager.getFloatingFilterCompDetails(this.column,function(){return e.showParentFilter()}):null,d=this.comp.getFloatingFilterComp();d&&a?d.then(function(g){var m;!g||e.filterManager.areFilterCompsDifferent(null!==(m=e.userCompDetails)&&void 0!==m?m:null,a)?e.updateCompDetails(a,s):e.updateFloatingFilterParams(a)}):this.updateCompDetails(a,s)},t.prototype.updateCompDetails=function(e,r){this.setCompDetails(e),this.setupFilterButton(),this.setupUi(),r&&(this.setupSyncWithFilter(),this.setupFilterChangedListener())},t.prototype.updateFloatingFilterParams=function(e){var r;if(e){var n=e.params;null===(r=this.comp.getFloatingFilterComp())||void 0===r||r.then(function(i){i?.onParamsUpdated&&"function"==typeof i.onParamsUpdated&&i.onParamsUpdated(n)})}},Dd([A("filterManager")],t.prototype,"filterManager",void 0),Dd([A("columnHoverService")],t.prototype,"columnHoverService",void 0),Dd([A("menuFactory")],t.prototype,"menuFactory",void 0),t}(pc),Tg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),xd=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},bg=function(o){function t(e,r,n,i,s){var a=o.call(this)||this;return a.pinned=e,a.column=r,a.eResize=n,a.comp=i,a.ctrl=s,a}return Tg(t,o),t.prototype.postConstruct=function(){var i,s,e=this,r=this.column.getColDef(),n=[],d=function(){n.forEach(function(m){return m()}),n.length=0},g=function(){var m=e.column.isResizable(),C=!e.gridOptionsService.is("suppressAutoSize")&&!r.suppressAutoSize;(m!==i||C!==s)&&(i=m,s=C,d(),function(){if(sr(e.eResize,i),i){var m=e.horizontalResizeService.addResizeBar({eResizeBar:e.eResize,onResizeStart:e.onResizeStart.bind(e),onResizing:e.onResizing.bind(e,!1),onResizeEnd:e.onResizing.bind(e,!0)});if(n.push(m),s){var C=e.gridOptionsService.is("skipHeaderOnAutoSize"),E=function(){e.columnModel.autoSizeColumn(e.column,C,"uiColumnResized")};e.eResize.addEventListener("dblclick",E);var b=new _n(e.eResize);b.addEventListener(_n.EVENT_DOUBLE_TAP,E),e.addDestroyFunc(function(){e.eResize.removeEventListener("dblclick",E),b.removeEventListener(_n.EVENT_DOUBLE_TAP,E),b.destroy()})}}}())};g(),this.addDestroyFunc(d),this.ctrl.addRefreshFunction(g)},t.prototype.onResizing=function(e,r){var n=this.normaliseResizeAmount(r);this.columnModel.setColumnWidths([{key:this.column,newWidth:this.resizeStartWidth+n}],this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},t.prototype.onResizeStart=function(e){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=e,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},t.prototype.normaliseResizeAmount=function(e){var r=e,n="left"!==this.pinned,i="right"===this.pinned;return this.gridOptionsService.is("enableRtl")?n&&(r*=-1):i&&(r*=-1),r},xd([A("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),xd([A("columnModel")],t.prototype,"columnModel",void 0),xd([we],t.prototype,"postConstruct",null),t}(Le),Od=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),fc=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Td=function(o){function t(e){var r=o.call(this)||this;r.cbSelectAllVisible=!1,r.processingEventFromCheckbox=!1,r.column=e;var n=e.getColDef();return r.filteredOnly=!!n?.headerCheckboxSelectionFilteredOnly,r.currentPageOnly=!!n?.headerCheckboxSelectionCurrentPageOnly,r}return Od(t,o),t.prototype.onSpaceKeyDown=function(e){var r=this.cbSelectAll,n=this.gridOptionsService.getDocument();r.isDisplayed()&&!r.getGui().contains(n.activeElement)&&(e.preventDefault(),r.setValue(!r.getValue()))},t.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},t.prototype.setComp=function(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new Ts),this.cbSelectAll.addCssClass("ag-header-select-all"),ln(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,M.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,M.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),ml(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},t.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},t.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var e=this.selectionService.getSelectAllState(this.filteredOnly,this.currentPageOnly);this.cbSelectAll.setValue(e),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},t.prototype.refreshSelectAllLabel=function(){var e=this.localeService.getLocaleTextFunc(),n=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),i=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",this.cbSelectAllVisible?i+" ("+n+")":null),this.cbSelectAll.setInputAriaLabel(i+" ("+n+")"),this.headerCellCtrl.refreshAriaDescription()},t.prototype.checkSelectionType=function(e){return!("multiple"!==this.gridOptionsService.get("rowSelection")&&(console.warn("AG Grid: "+e+" is only available if using 'multiple' rowSelection."),1))},t.prototype.checkRightRowModelType=function(e){var r=this.rowModel.getType();return!("clientSide"!==r&&"serverSide"!==r&&(console.warn("AG Grid: "+e+" is only available if using 'clientSide' or 'serverSide' rowModelType, you are using "+r+"."),1))},t.prototype.onCbSelectAll=function(){if(!this.processingEventFromCheckbox&&this.cbSelectAllVisible){var e=this.cbSelectAll.getValue(),r="uiSelectAll";this.currentPageOnly?r="uiSelectAllCurrentPage":this.filteredOnly&&(r="uiSelectAllFiltered");var n={source:r,justFiltered:this.filteredOnly,justCurrentPage:this.currentPageOnly};e?this.selectionService.selectAllRowNodes(n):this.selectionService.deselectAllRowNodes(n)}},t.prototype.isCheckboxSelection=function(){var e=this.column.getColDef().headerCheckboxSelection;return"function"==typeof e&&(e=e({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsService.context})),!!e&&this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection")},fc([A("gridApi")],t.prototype,"gridApi",void 0),fc([A("columnApi")],t.prototype,"columnApi",void 0),fc([A("rowModel")],t.prototype,"rowModel",void 0),fc([A("selectionService")],t.prototype,"selectionService",void 0),t}(Le),Pg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),nf=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},lu=function(o){return o.TAB_GUARD="ag-tab-guard",o.TAB_GUARD_TOP="ag-tab-guard-top",o.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",o}(lu||{}),bn=function(o){function t(e){var r=o.call(this)||this;r.skipTabGuardFocus=!1;var i=e.eTopGuard,s=e.eBottomGuard,a=e.focusInnerElement,d=e.onFocusIn,g=e.onFocusOut,m=e.shouldStopEventPropagation,C=e.onTabKeyDown,E=e.handleKeyDown,b=e.eFocusableElement;return r.comp=e.comp,r.eTopGuard=i,r.eBottomGuard=s,r.providedFocusInnerElement=a,r.eFocusableElement=b,r.providedFocusIn=d,r.providedFocusOut=g,r.providedShouldStopEventPropagation=m,r.providedOnTabKeyDown=C,r.providedHandleKeyDown=E,r}return Pg(t,o),t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new Qo(this.eFocusableElement,{shouldStopEventPropagation:function(){return e.shouldStopEventPropagation()},onTabKeyDown:function(r){return e.onTabKeyDown(r)},handleKeyDown:function(r){return e.handleKeyDown(r)},onFocusIn:function(r){return e.onFocusIn(r)},onFocusOut:function(r){return e.onFocusOut(r)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(r){return e.addManagedListener(r,"focus",e.onFocus.bind(e))})},t.prototype.handleKeyDown=function(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)},t.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},t.prototype.shouldStopEventPropagation=function(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()},t.prototype.activateTabGuards=function(){var e=this.gridOptionsService.getNum("tabIndex")||0;this.comp.setTabIndex(e.toString())},t.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},t.prototype.onFocus=function(e){if(this.skipTabGuardFocus)this.skipTabGuardFocus=!1;else{var r=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(r):this.focusInnerElement(r)}},t.prototype.onFocusIn=function(e){this.providedFocusIn&&this.providedFocusIn(e)||this.deactivateTabGuards()},t.prototype.onFocusOut=function(e){this.providedFocusOut&&this.providedFocusOut(e)||this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards()},t.prototype.onTabKeyDown=function(e){var r=this;if(this.providedOnTabKeyDown)this.providedOnTabKeyDown(e);else if(!e.defaultPrevented){var n=this.tabGuardsAreActive();n&&this.deactivateTabGuards();var i=this.getNextFocusableElement(e.shiftKey);n&&setTimeout(function(){return r.activateTabGuards()},0),i&&(i.focus(),e.preventDefault())}},t.prototype.focusInnerElement=function(e){void 0===e&&(e=!1);var r=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(r.splice(0,1),r.splice(r.length-1,1)),r.length&&r[e?r.length-1:0].focus({preventScroll:!0})},t.prototype.getNextFocusableElement=function(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1);var r=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,r.focus()},nf([A("focusService")],t.prototype,"focusService",void 0),nf([we],t.prototype,"postConstruct",null),t}(Le),Ci=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),uu=function(){return uu=Object.assign||function(o){for(var t,e=1,r=arguments.length;e<r;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o},uu.apply(this,arguments)},Ii=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},nl=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}var e;return Ci(t,o),e=t,t.addKeyboardModeEvents=function(r,n){var i=e.instancesMonitored.get(r);i&&i.length>0?-1===i.indexOf(n)&&i.push(n):(e.instancesMonitored.set(r,[n]),r.addEventListener("keydown",e.toggleKeyboardMode),r.addEventListener("mousedown",e.toggleKeyboardMode))},t.removeKeyboardModeEvents=function(r,n){var i=e.instancesMonitored.get(r),s=[];i&&i.length&&(s=function(o,t){for(var e=0,r=t.length,n=o.length;e<r;e++,n++)o[n]=t[e];return o}([],function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i}(i)).filter(function(a){return a!==n}),e.instancesMonitored.set(r,s)),0===s.length&&(r.removeEventListener("keydown",e.toggleKeyboardMode),r.removeEventListener("mousedown",e.toggleKeyboardMode))},t.toggleKeyboardMode=function(r){var n=e.keyboardModeActive,i="keydown"===r.type;if(!(i&&(r.ctrlKey||r.metaKey||r.altKey)||n&&i||!n&&!i)){e.keyboardModeActive=i;var s=r.target.ownerDocument;if(s){var a=e.instancesMonitored.get(s);a&&a.forEach(function(d){d.dispatchEvent({type:i?M.EVENT_KEYBOARD_FOCUS:M.EVENT_MOUSE_FOCUS})})}}},t.prototype.init=function(){var r=this,n=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_MODE_CHANGED,n),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_GROUP_OPENED,n),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,n),this.ctrlsService.whenReady(function(i){r.gridCtrl=i.gridCtrl;var s=r.gridOptionsService.getDocument();e.addKeyboardModeEvents(s,r.gridCtrl),r.addDestroyFunc(function(){return r.unregisterGridCompController(r.gridCtrl)})})},t.prototype.unregisterGridCompController=function(r){var n=this.gridOptionsService.getDocument();e.removeKeyboardModeEvents(n,r)},t.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var r=this.focusedCellPosition.column,n=this.columnModel.getGridColumn(r.getId());r!==n&&this.clearFocusedCell()}},t.prototype.isKeyboardMode=function(){return e.keyboardModeActive},t.prototype.getFocusCellToUseAfterRefresh=function(){var r=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(r.activeElement,To.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},t.prototype.getFocusHeaderToUseAfterRefresh=function(){var r=this.gridOptionsService.getDocument();return this.gridOptionsService.is("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(r.activeElement,pc.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},t.prototype.isDomDataMissingInHierarchy=function(r,n){for(var i=r;i;){if(this.gridOptionsService.getDomData(i,n))return!1;i=i.parentNode}return!0},t.prototype.getFocusedCell=function(){return this.focusedCellPosition},t.prototype.shouldRestoreFocus=function(r){var n=this;return!!this.isCellRestoreFocused(r)&&(setTimeout(function(){n.restoredFocusedCellPosition=null},0),!0)},t.prototype.isCellRestoreFocused=function(r){return null!=this.restoredFocusedCellPosition&&this.cellPositionUtils.equals(r,this.restoredFocusedCellPosition)},t.prototype.setRestoreFocusedCell=function(r){"react"===this.getFrameworkOverrides().renderingEngine&&(this.restoredFocusedCellPosition=r)},t.prototype.getFocusEventParams=function(){var r=this.focusedCellPosition,n=r.rowIndex,i=r.rowPinned,a={rowIndex:n,rowPinned:i,column:r.column,isFullWidthCell:!1},d=this.rowRenderer.getRowByPosition({rowIndex:n,rowPinned:i});return d&&(a.isFullWidthCell=d.isFullWidth()),a},t.prototype.clearFocusedCell=function(){if(this.restoredFocusedCellPosition=null,null!=this.focusedCellPosition){var r=uu({type:M.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(r)}},t.prototype.setFocusedCell=function(r){var i=r.rowIndex,s=r.rowPinned,a=r.forceBrowserFocus,d=void 0!==a&&a,g=r.preventScrollOnBrowserFocus,m=void 0!==g&&g,C=this.columnModel.getGridColumn(r.column);if(C){this.focusedCellPosition=C?{rowIndex:i,rowPinned:p(s),column:C}:null;var E=uu(uu({type:M.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:d,preventScrollOnBrowserFocus:m,floating:null});this.eventService.dispatchEvent(E)}else this.focusedCellPosition=null},t.prototype.isCellFocused=function(r){return null!=this.focusedCellPosition&&this.cellPositionUtils.equals(r,this.focusedCellPosition)},t.prototype.isRowNodeFocused=function(r){return this.isRowFocused(r.rowIndex,r.rowPinned)},t.prototype.isHeaderWrapperFocused=function(r){if(null==this.focusedHeaderPosition)return!1;var n=r.getColumnGroupChild(),i=r.getRowIndex(),s=r.getPinned(),a=this.focusedHeaderPosition,d=a.column;return n===d&&i===a.headerRowIndex&&s==d.getPinned()},t.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},t.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},t.prototype.setFocusedHeader=function(r,n){this.focusedHeaderPosition={headerRowIndex:r,column:n}},t.prototype.focusHeaderPosition=function(r){var n=r.direction,i=r.fromTab,s=r.allowUserOverride,a=r.event,g=r.headerPosition;if(r.fromCell&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(g);if(s){var E,m=this.getFocusedHeader(),C=this.headerNavigationService.getHeaderRowCount();i?(E=this.gridOptionsService.getCallback("tabToNextHeader"))&&(g=E({backwards:"Before"===n,previousHeaderPosition:m,nextHeaderPosition:g,headerRowCount:C})):(E=this.gridOptionsService.getCallback("navigateToNextHeader"))&&a&&(g=E({key:a.key,previousHeaderPosition:m,nextHeaderPosition:g,headerRowCount:C,event:a}))}return!!g&&(-1===g.headerRowIndex?this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(g):this.focusGridView(g.column):(this.headerNavigationService.scrollToColumn(g.column,n),this.ctrlsService.getHeaderRowContainerCtrl(g.column.getPinned()).focusHeader(g.headerRowIndex,g.column,a)))},t.prototype.focusFirstHeader=function(){var r=this.columnModel.getAllDisplayedColumns()[0];return!!r&&(r.getParent()&&(r=this.columnModel.getColumnGroupAtLevel(r,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:r}}))},t.prototype.focusLastHeader=function(r){var n=this.headerNavigationService.getHeaderRowCount()-1,i=te(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:n,column:i},event:r})},t.prototype.focusPreviousFromFirstCell=function(r){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(r)},t.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},t.prototype.isRowFocused=function(r,n){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===r&&this.focusedCellPosition.rowPinned===p(n)},t.prototype.findFocusableElements=function(r,n,i){void 0===i&&(i=!1);var a=Na;n&&(a+=", "+n),i&&(a+=', [tabindex="-1"]');var E,d=Array.prototype.slice.apply(r.querySelectorAll(Qt)),g=Array.prototype.slice.apply(r.querySelectorAll(a));return g.length?(E=g,d.filter(function(b){return-1===E.indexOf(b)})):d},t.prototype.focusInto=function(r,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1);var s=this.findFocusableElements(r,null,i),a=n?te(s):s[0];return!!a&&(a.focus({preventScroll:!0}),!0)},t.prototype.findFocusableElementBeforeTabGuard=function(r,n){if(!n)return null;var i=this.findFocusableElements(r),s=i.indexOf(n);if(-1===s)return null;for(var a=-1,d=s-1;d>=0;d--)if(i[d].classList.contains(lu.TAB_GUARD_TOP)){a=d;break}return a<=0?null:i[a-1]},t.prototype.findNextFocusableElement=function(r,n,i){void 0===r&&(r=this.eGridDiv);var s=this.findFocusableElements(r,n?':not([tabindex="-1"])':null),d=this.gridOptionsService.getDocument().activeElement,m=(n?s.findIndex(function(C){return C.contains(d)}):s.indexOf(d))+(i?-1:1);return m<0||m>=s.length?null:s[m]},t.prototype.isTargetUnderManagedComponent=function(r,n){if(!n)return!1;var i=r.querySelectorAll("."+Qo.FOCUS_MANAGED_CLASS);if(!i.length)return!1;for(var s=0;s<i.length;s++)if(i[s].contains(n))return!0;return!1},t.prototype.findTabbableParent=function(r,n){void 0===n&&(n=5);for(var i=0;r&&null===La(r)&&++i<=n;)r=r.parentElement;return null===La(r)?null:r},t.prototype.focusGridView=function(r,n){if(this.gridOptionsService.is("suppressCellFocus"))return n?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var i=n?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!i)return!1;var s=i.rowIndex,a=i.rowPinned,d=this.getFocusedHeader();return!r&&d&&(r=d.column),!(null==s||!r)&&(this.navigationService.ensureCellVisible({rowIndex:s,column:r,rowPinned:a}),this.setFocusedCell({rowIndex:s,column:r,rowPinned:p(a),forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:s,rowPinned:a,column:r}),!0)},t.prototype.focusNextGridCoreContainer=function(r,n){return void 0===n&&(n=!1),!(n||!this.gridCtrl.focusNextInnerContainer(r))||((n||!r&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(r),!1)},t.prototype.focusAdvancedFilter=function(r){return this.advancedFilterFocusColumn=r?.column,this.advancedFilterService.getCtrl().focusHeaderComp()},t.prototype.focusNextFromAdvancedFilter=function(r,n){var i,s,a=null!==(i=n?void 0:this.advancedFilterFocusColumn)&&void 0!==i?i:null===(s=this.columnModel.getAllDisplayedColumns())||void 0===s?void 0:s[0];return r?this.focusHeaderPosition({headerPosition:{column:a,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(a)},t.prototype.clearAdvancedFilterColumn=function(){this.advancedFilterFocusColumn=void 0},t.AG_KEYBOARD_FOCUS="ag-keyboard-focus",t.keyboardModeActive=!1,t.instancesMonitored=new Map,Ii([A("eGridDiv")],t.prototype,"eGridDiv",void 0),Ii([A("columnModel")],t.prototype,"columnModel",void 0),Ii([A("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Ii([A("rowRenderer")],t.prototype,"rowRenderer",void 0),Ii([A("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Ii([A("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Ii([xt("rangeService")],t.prototype,"rangeService",void 0),Ii([A("navigationService")],t.prototype,"navigationService",void 0),Ii([A("ctrlsService")],t.prototype,"ctrlsService",void 0),Ii([A("filterManager")],t.prototype,"filterManager",void 0),Ii([xt("advancedFilterService")],t.prototype,"advancedFilterService",void 0),Ii([we],t.prototype,"init",null),e=Ii([je("focusService")],t)}(Le),Mg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),is=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},af=function(o){function t(e,r){var n=o.call(this,e,r)||this;return n.refreshFunctions=[],n.userHeaderClasses=new Set,n.ariaDescriptionProperties=new Map,n.column=e,n}return Mg(t,o),t.prototype.setComp=function(e,r,n,i){var s=this;o.prototype.setGui.call(this,r),this.comp=e,this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(i),this.addColumnHoverListener(),this.setupFilterCss(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.createManagedBean(new bg(this.getPinned(),this.column,n,e,this)),this.createManagedBean(new Ad([this.column],r)),this.createManagedBean(new Rd(this.column,r,this.beans)),this.createManagedBean(new Qo(r,{shouldStopEventPropagation:function(a){return s.shouldStopEventPropagation(a)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addMouseDownListenerIfNeeded(r),this.addManagedListener(this.column,T.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onHeaderHeightChanged.bind(this))},t.prototype.addMouseDownListenerIfNeeded=function(e){var r=this;if(Cn()){var i=this.gridOptionsService.getDocument();["mousedown","touchstart"].forEach(function(s){r.addManagedListener(e,s,function(a){var d=i.activeElement;d!==e&&!e.contains(d)&&(e.focus(),nl.toggleKeyboardMode(a))})})}},t.prototype.setupUserComp=function(){var e=this.lookupUserCompDetails();this.setCompDetails(e)},t.prototype.setCompDetails=function(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)},t.prototype.lookupUserCompDetails=function(){var e=this.createParams(),r=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(r,e)},t.prototype.createParams=function(){var e=this,r=this.column.getColDef();return{column:this.column,displayName:this.displayName,enableSorting:r.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(i){e.gridApi.showColumnMenuAfterButtonClick(e.column,i)},progressSort:function(i){e.sortController.progressSort(e.column,!!i,"uiColumnSorted")},setSort:function(i,s){e.sortController.setSortForColumn(e.column,i,!!s,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context,eGridHeader:this.getGui()}},t.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new Td(this.column)),this.selectAllFeature.setComp(this)},t.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},t.prototype.handleKeyDown=function(e){o.prototype.handleKeyDown.call(this,e),e.key===Ce.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===Ce.ENTER&&this.onEnterKeyDown(e)},t.prototype.onEnterKeyDown=function(e){var r=this.comp.getUserCompInstance();r&&(e.ctrlKey||e.metaKey?this.menuEnabled&&r.showMenu&&(e.preventDefault(),r.showMenu()):this.sortable&&this.sortController.progressSort(this.column,e.shiftKey,"uiColumnSorted"))},t.prototype.isMenuEnabled=function(){return this.menuEnabled},t.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var r=this.getRowIndex();this.focusService.setFocusedHeader(r,this.column)}this.setActiveHeader(!0)},t.prototype.onFocusOut=function(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)},t.prototype.setupTooltip=function(){var e=this,n=this.createManagedBean(new fd({getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getGui:function(){return e.eGui},getLocation:function(){return"header"},getTooltipValue:function(){return e.column.getColDef().headerTooltip}},this.beans));n.setComp(this.eGui),this.refreshFunctions.push(function(){return n.refreshToolTip()})},t.prototype.setupClassesFromColDef=function(){var e=this,r=function(){var n=e.column.getColDef(),i=Xp.getHeaderClassesFromColDef(n,e.gridOptionsService,e.column,null),s=e.userHeaderClasses;e.userHeaderClasses=new Set(i),i.forEach(function(a){s.has(a)?s.delete(a):e.comp.addOrRemoveCssClass(a,!0)}),s.forEach(function(a){return e.comp.addOrRemoveCssClass(a,!1)})};this.refreshFunctions.push(r),r()},t.prototype.setDragSource=function(e){var r=this;if(this.dragSourceElement=e,this.removeDragSource(),e&&this.draggable){var n=!this.gridOptionsService.is("suppressDragLeaveHidesColumns");this.moveDragSource={type:ei.HeaderCell,eElement:e,getDefaultIconName:function(){return n?En.ICON_HIDE:En.ICON_NOT_ALLOWED},getDragItem:function(){return r.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){n=!r.gridOptionsService.is("suppressDragLeaveHidesColumns"),r.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return r.column.setMoving(!1,"uiColumnMoved")},onGridEnter:function(i){var s;if(n){var a=(null===(s=i?.columns)||void 0===s?void 0:s.filter(function(d){return!d.getColDef().lockVisible}))||[];r.columnModel.setColumnsVisible(a,!0,"uiColumnMoved")}},onGridExit:function(i){var s;if(n){var a=(null===(s=i?.columns)||void 0===s?void 0:s.filter(function(d){return!d.getColDef().lockVisible}))||[];r.columnModel.setColumnsVisible(a,!1,"uiColumnMoved")}}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)}},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},t.prototype.onColDefChanged=function(){this.refresh()},t.prototype.updateState=function(){var e=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!e.suppressMenu,this.sortable=e.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},t.prototype.addRefreshFunction=function(e){this.refreshFunctions.push(e)},t.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(function(e){return e()})},t.prototype.refreshHeaderComp=function(){var e=this.lookupUserCompDetails();null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==e.componentClass&&this.attemptHeaderCompRefresh(e.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)},t.prototype.attemptHeaderCompRefresh=function(e){var r=this.comp.getUserCompInstance();return!(!r||!r.refresh)&&r.refresh(e)},t.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},t.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},t.prototype.workOutDraggable=function(){var e=this.column.getColDef();return!(this.gridOptionsService.is("suppressMovableColumns")||e.suppressMovable||e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot},t.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},t.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},t.prototype.onColumnValueChanged=function(){this.checkDisplayName()},t.prototype.setupWidth=function(){var e=this,r=function(){var n=e.column.getActualWidth();e.comp.setWidth(n+"px")};this.addManagedListener(this.column,T.EVENT_WIDTH_CHANGED,r),r()},t.prototype.setupMovingCss=function(){var e=this,r=function(){e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.column.isMoving())};this.addManagedListener(this.column,T.EVENT_MOVING_CHANGED,r),r()},t.prototype.setupMenuClass=function(){var e=this,r=function(){e.comp.addOrRemoveCssClass("ag-column-menu-visible",e.column.isMenuVisible())};this.addManagedListener(this.column,T.EVENT_MENU_VISIBLE_CHANGED,r),r()},t.prototype.setupSortableClass=function(){var e=this,r=function(){e.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!e.sortable)};r(),this.addRefreshFunction(r),this.addManagedListener(this.eventService,T.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},t.prototype.setupWrapTextClass=function(){var e=this,r=function(){var n=!!e.column.getColDef().wrapHeaderText;e.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",n)};r(),this.addRefreshFunction(r)},t.prototype.onHeaderHeightChanged=function(){this.refreshSpanHeaderHeight()},t.prototype.refreshSpanHeaderHeight=function(){var e=this,r=e.eGui,i=e.comp,s=e.columnModel,a=e.gridOptionsService;if(e.column.isSpanHeaderHeight()){var d=this.getColumnGroupPaddingInfo(),g=d.numberOfParents,m=d.isSpanningTotal;i.addOrRemoveCssClass("ag-header-span-height",g>0);var C=s.getColumnHeaderRowHeight();if(0===g)return i.addOrRemoveCssClass("ag-header-span-total",!1),r.style.setProperty("top","0px"),void r.style.setProperty("height",C+"px");i.addOrRemoveCssClass("ag-header-span-total",m);var L=g*(a.is("pivotMode")?s.getPivotGroupHeaderHeight():s.getGroupHeaderHeight());r.style.setProperty("top",-L+"px"),r.style.setProperty("height",C+L+"px")}},t.prototype.getColumnGroupPaddingInfo=function(){var e=this.column.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};for(var r=e.getPaddingLevel()+1,n=!0;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:r,isSpanningTotal:n}},t.prototype.setupAutoHeight=function(e){var s,r=this,n=function(m){if(r.isAlive()){var C=Bn(r.getGui()),fe=e.offsetHeight+(C.paddingTop+C.paddingBottom+C.borderBottomWidth+C.borderTopWidth);if(m<5){var Te=r.beans.gridOptionsService.getDocument();if(!Te||!Te.contains(e)||0==fe)return void r.beans.frameworkOverrides.setTimeout(function(){return n(m+1)},0)}r.columnModel.setColumnHeaderHeight(r.column,fe)}},i=!1,a=function(){var m=r.column.isAutoHeaderHeight();m&&!i&&d(),!m&&i&&g()},d=function(){i=!0,n(0),r.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),s=r.resizeObserverService.observeResize(e,function(){return n(0)})},g=function(){i=!1,s&&s(),r.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),s=void 0};a(),this.addDestroyFunc(function(){return g()}),this.addManagedListener(this.column,T.EVENT_WIDTH_CHANGED,function(){return i&&n(0)}),this.addManagedListener(this.eventService,T.EVENT_SORT_CHANGED,function(){i&&r.beans.frameworkOverrides.setTimeout(function(){return n(0)})}),this.addRefreshFunction(a)},t.prototype.refreshAriaSort=function(){if(this.sortable){var e=this.localeService.getLocaleTextFunc(),r=this.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(Yn(r)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},t.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)},t.prototype.setAriaDescriptionProperty=function(e,r){null!=r?this.ariaDescriptionProperties.set(e,r):this.ariaDescriptionProperties.delete(e)},t.prototype.refreshAriaDescription=function(){var e=Array.from(this.ariaDescriptionProperties.values());this.comp.setAriaDescription(e.length?e.join(" "):void 0)},t.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaDescription()},t.prototype.addColumnHoverListener=function(){var e=this,r=function(){if(e.gridOptionsService.is("columnHoverHighlight")){var n=e.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",n)}};this.addManagedListener(this.eventService,M.EVENT_COLUMN_HOVER_CHANGED,r),r()},t.prototype.setupFilterCss=function(){var e=this,r=function(){e.comp.addOrRemoveCssClass("ag-header-cell-filtered",e.column.isFilterActive())};this.addManagedListener(this.column,T.EVENT_FILTER_ACTIVE_CHANGED,r),r()},t.prototype.getColId=function(){return this.column.getColId()},t.prototype.addActiveHeaderMouseListeners=function(){var e=this,r=function(n){return e.setActiveHeader("mouseenter"===n.type)};this.addManagedListener(this.getGui(),"mouseenter",r),this.addManagedListener(this.getGui(),"mouseleave",r)},t.prototype.setActiveHeader=function(e){this.comp.addOrRemoveCssClass("ag-header-active",e)},is([A("columnModel")],t.prototype,"columnModel",void 0),is([A("columnHoverService")],t.prototype,"columnHoverService",void 0),is([A("sortController")],t.prototype,"sortController",void 0),is([A("menuFactory")],t.prototype,"menuFactory",void 0),is([A("dragAndDropService")],t.prototype,"dragAndDropService",void 0),is([A("resizeObserverService")],t.prototype,"resizeObserverService",void 0),is([A("gridApi")],t.prototype,"gridApi",void 0),is([A("columnApi")],t.prototype,"columnApi",void 0),is([yr],t.prototype,"removeDragSource",null),t}(pc),Ig=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),hc=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Lg=function(o){function t(e,r,n,i){var s=o.call(this)||this;return s.eResize=r,s.comp=e,s.pinned=n,s.columnGroup=i,s}return Ig(t,o),t.prototype.postConstruct=function(){var e=this;if(this.columnGroup.isResizable()){var r=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(r),!this.gridOptionsService.is("suppressAutoSize")){var n=this.gridOptionsService.is("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",function(){var i=[];e.columnGroup.getDisplayedLeafColumns().forEach(function(a){a.getColDef().suppressAutoSize||i.push(a.getColId())}),i.length>0&&e.columnModel.autoSizeColumns({columns:i,skipHeader:n,stopAtGroup:e.columnGroup,source:"uiColumnResized"}),e.resizeLeafColumnsToFit("uiColumnResized")})}}else this.comp.setResizableDisplayed(!1)},t.prototype.onResizeStart=function(e){var r=this;this.calculateInitialValues();var n=null;if(e&&(n=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),n){var i=n.getDisplayedLeafColumns();this.resizeTakeFromCols=i.filter(function(s){return s.isResizable()}),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(function(s){return r.resizeTakeFromStartWidth+=s.getActualWidth()}),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(function(s){return r.resizeTakeFromRatios.push(s.getActualWidth()/r.resizeTakeFromStartWidth)})}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},t.prototype.onResizing=function(e,r,n){void 0===n&&(n="uiColumnResized");var i=this.normaliseDragChange(r);this.resizeColumns(this.resizeStartWidth+i,n,e)},t.prototype.resizeLeafColumnsToFit=function(e){var r=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),r>this.resizeStartWidth&&this.resizeColumns(r,e,!0)},t.prototype.resizeColumns=function(e,r,n){void 0===n&&(n=!0);var i=[];i.push({columns:this.resizeCols,ratios:this.resizeRatios,width:e}),this.resizeTakeFromCols&&i.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-(e-this.resizeStartWidth)}),this.columnModel.resizeColumnSets({resizeSets:i,finished:n,source:r}),n&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},t.prototype.calculateInitialValues=function(){var e=this,r=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=r.filter(function(n){return n.isResizable()}),this.resizeStartWidth=0,this.resizeCols.forEach(function(n){return e.resizeStartWidth+=n.getActualWidth()}),this.resizeRatios=[],this.resizeCols.forEach(function(n){return e.resizeRatios.push(n.getActualWidth()/e.resizeStartWidth)})},t.prototype.normaliseDragChange=function(e){var r=e;return this.gridOptionsService.is("enableRtl")?"left"!==this.pinned&&(r*=-1):"right"===this.pinned&&(r*=-1),r},hc([A("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),hc([A("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),hc([A("columnModel")],t.prototype,"columnModel",void 0),hc([we],t.prototype,"postConstruct",null),t}(Le),lf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ng=function(o){function t(e,r){var n=o.call(this)||this;return n.removeChildListenersFuncs=[],n.columnGroup=r,n.comp=e,n}return lf(t,o),t.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,Gr.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},t.prototype.addListenersToChildrenColumns=function(){var e=this;this.removeListenersOnChildrenColumns();var r=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(n){n.addEventListener("widthChanged",r),n.addEventListener("visibleChanged",r),e.removeChildListenersFuncs.push(function(){n.removeEventListener("widthChanged",r),n.removeEventListener("visibleChanged",r)})})},t.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(e){return e()}),this.removeChildListenersFuncs=[]},t.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},t.prototype.onWidthChanged=function(){var e=this.columnGroup.getActualWidth();this.comp.setWidth(e+"px"),this.comp.addOrRemoveCssClass("ag-hidden",0===e)},function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);n>3&&i&&Object.defineProperty(t,e,i)}([we],t.prototype,"postConstruct",null),t}(Le),Gg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),gc=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Hg=function(o){function t(e,r){var n=o.call(this,e,r)||this;return n.columnGroup=e,n}return Gg(t,o),t.prototype.setComp=function(e,r,n){o.prototype.setGui.call(this,r),this.comp=e,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var i=this.getParentRowCtrl().getPinned(),s=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new Ad(s,r)),this.createManagedBean(new Rd(this.columnGroup,r,this.beans)),this.createManagedBean(new Ng(e,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new Lg(e,n,i,this.columnGroup)),this.createManagedBean(new Qo(r,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},t.prototype.resizeLeafColumnsToFit=function(e){this.groupResizeFeature&&this.groupResizeFeature.resizeLeafColumnsToFit(e)},t.prototype.setupUserComp=function(){var e=this,r=this.displayName,n={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(g){e.columnModel.setColumnGroupOpened(e.columnGroup.getProvidedColumnGroup(),g,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsService.context};if(!r){for(var i=this.columnGroup,s=i.getLeafColumns();i.getParent()&&i.getParent().getLeafColumns().length===s.length;)i=i.getParent();var a=i.getColGroupDef();a&&(r=a.headerName),r||(r=s?this.columnModel.getDisplayNameForColumn(s[0],"header",!0):"")}var d=this.userComponentFactory.getHeaderGroupCompDetails(n);this.comp.setUserCompDetails(d)},t.prototype.setupTooltip=function(){var e=this,r=this.columnGroup.getColGroupDef(),n={getColumn:function(){return e.columnGroup},getGui:function(){return e.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return r&&r.headerTooltip}};r&&(n.getColDef=function(){return r}),this.createManagedBean(new fd(n,this.beans)).setComp(this.eGui)},t.prototype.setupExpandable=function(){var e=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(e,O.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,O.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},t.prototype.refreshExpanded=function(){var e=this.columnGroup;this.expandable=e.isExpandable();var r=e.isExpanded();this.comp.setAriaExpanded(this.expandable?r?"true":"false":void 0)},t.prototype.getColId=function(){return this.columnGroup.getUniqueId()},t.prototype.addClasses=function(){var e=this,r=this.columnGroup.getColGroupDef(),n=Xp.getHeaderClassesFromColDef(r,this.gridOptionsService,null,this.columnGroup);this.columnGroup.isPadding()?(n.push("ag-header-group-cell-no-group"),this.columnGroup.getLeafColumns().every(function(s){return s.isSpanHeaderHeight()})&&n.push("ag-header-span-height")):n.push("ag-header-group-cell-with-group"),n.forEach(function(s){return e.comp.addOrRemoveCssClass(s,!0)})},t.prototype.setupMovingCss=function(){var e=this,n=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),i=function(){return e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.columnGroup.isMoving())};n.forEach(function(s){e.addManagedListener(s,T.EVENT_MOVING_CHANGED,i)}),i()},t.prototype.onFocusIn=function(e){if(!this.eGui.contains(e.relatedTarget)){var r=this.getRowIndex();this.beans.focusService.setFocusedHeader(r,this.columnGroup)}},t.prototype.handleKeyDown=function(e){o.prototype.handleKeyDown.call(this,e);var r=this.getWrapperHasFocus();if(this.expandable&&r&&e.key===Ce.ENTER){var n=this.columnGroup,i=!n.isExpanded();this.columnModel.setColumnGroupOpened(n.getProvidedColumnGroup(),i,"uiColumnExpanded")}},t.prototype.setDragSource=function(e){var r=this;if(!this.isSuppressMoving()){var n=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),i=!this.gridOptionsService.is("suppressDragLeaveHidesColumns"),s={type:ei.HeaderCell,eElement:e,getDefaultIconName:function(){return i?En.ICON_HIDE:En.ICON_NOT_ALLOWED},dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){i=!r.gridOptionsService.is("suppressDragLeaveHidesColumns"),n.forEach(function(a){return a.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return n.forEach(function(a){return a.setMoving(!1,"uiColumnDragged")})},onGridEnter:function(a){var d;if(i){var g=(null===(d=a?.columns)||void 0===d?void 0:d.filter(function(m){return!m.getColDef().lockVisible}))||[];r.columnModel.setColumnsVisible(g,!0,"uiColumnMoved")}},onGridExit:function(a){var d;if(i){var g=(null===(d=a?.columns)||void 0===d?void 0:d.filter(function(m){return!m.getColDef().lockVisible}))||[];r.columnModel.setColumnsVisible(g,!1,"uiColumnMoved")}}};this.dragAndDropService.addDragSource(s,!0),this.addDestroyFunc(function(){return r.dragAndDropService.removeDragSource(s)})}},t.prototype.getDragItemForGroup=function(){var e=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),r={};e.forEach(function(i){return r[i.getId()]=i.isVisible()});var n=[];return this.columnModel.getAllDisplayedColumns().forEach(function(i){e.indexOf(i)>=0&&(n.push(i),Q(e,i))}),e.forEach(function(i){return n.push(i)}),{columns:n,visibleState:r}},t.prototype.isSuppressMoving=function(){var e=!1;return this.columnGroup.getLeafColumns().forEach(function(n){(n.getColDef().suppressMovable||n.getColDef().lockPosition)&&(e=!0)}),e||this.gridOptionsService.is("suppressMovableColumns")},gc([A("columnModel")],t.prototype,"columnModel",void 0),gc([A("dragAndDropService")],t.prototype,"dragAndDropService",void 0),gc([A("gridApi")],t.prototype,"gridApi",void 0),gc([A("columnApi")],t.prototype,"columnApi",void 0),t}(pc),il=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),vc=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Vg=0,bd=function(o){function t(e,r,n){var i=o.call(this)||this;return i.instanceId=Vg++,i.headerCellCtrls={},i.rowIndex=e,i.pinned=r,i.type=n,i.headerRowClass="ag-header-row "+(n==Un.COLUMN_GROUP?"ag-header-row-column-group":n==Un.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column"),i}return il(t,o),t.prototype.postConstruct=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.isEnsureDomOrder=this.gridOptionsService.is("ensureDomOrder")},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e,r){void 0===r&&(r=!0),this.comp=e,r&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()},t.prototype.getHeaderRowClass=function(){return this.headerRowClass},t.prototype.getAriaRowIndex=function(){return this.rowIndex+1},t.prototype.getTransform=function(){if(Cn())return"translateZ(0)"},t.prototype.addEventListeners=function(){var e=this;this.addManagedListener(this.eventService,M.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_VIRTUAL_COLUMNS_CHANGED,function(r){return e.onVirtualColumnsChanged(r.afterScroll)}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",function(r){return e.isEnsureDomOrder=r.currentValue}),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))},t.prototype.getHeaderCellCtrl=function(e){return Qe(this.headerCellCtrls).find(function(r){return r.getColumnGroupChild()===e})},t.prototype.onDisplayedColumnsChanged=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()},t.prototype.getType=function(){return this.type},t.prototype.onColumnResized=function(){this.setWidth()},t.prototype.setWidth=function(){var e=this.getWidthForRow();this.comp.setWidth(e+"px")},t.prototype.getWidthForRow=function(){return this.isPrintLayout?null!=this.pinned?0:this.columnModel.getContainerWidth("right")+this.columnModel.getContainerWidth("left")+this.columnModel.getContainerWidth(null):this.columnModel.getContainerWidth(this.pinned)},t.prototype.onRowHeightChanged=function(){var e=this.getTopAndHeight(),n=e.rowHeight;this.comp.setTop(e.topOffset+"px"),this.comp.setHeight(n+"px")},t.prototype.getTopAndHeight=function(){var e=this.columnModel.getHeaderRowCount(),r=[],n=0;this.filterManager.hasFloatingFilters()&&(e++,n=1);for(var i=this.columnModel.getColumnGroupHeaderRowHeight(),s=this.columnModel.getColumnHeaderRowHeight(),d=e-(1+n),g=0;g<d;g++)r.push(i);for(r.push(s),g=0;g<n;g++)r.push(this.columnModel.getFloatingFiltersHeight());var m=0;for(g=0;g<this.rowIndex;g++)m+=r[g];return{topOffset:m,rowHeight:r[this.rowIndex]}},t.prototype.getPinned=function(){return this.pinned},t.prototype.getRowIndex=function(){return this.rowIndex},t.prototype.onVirtualColumnsChanged=function(e){void 0===e&&(e=!1);var r=this.getHeaderCtrls();this.comp.setHeaderCtrls(r,this.isEnsureDomOrder||this.isPrintLayout,e)},t.prototype.getHeaderCtrls=function(){var e=this,r=this.headerCellCtrls;return this.headerCellCtrls={},this.getColumnsInViewport().forEach(function(a){if(!a.isEmptyGroup()){var d=a.getUniqueId(),g=r[d];if(delete r[d],g&&g.getColumnGroupChild()!=a&&(e.destroyBean(g),g=void 0),null==g)switch(e.type){case Un.FLOATING_FILTER:g=e.createBean(new Og(a,e));break;case Un.COLUMN_GROUP:g=e.createBean(new Hg(a,e));break;default:g=e.createBean(new af(a,e))}e.headerCellCtrls[d]=g}}),rt(r,function(a,d){var g=function(a){return!!e.focusService.isHeaderWrapperFocused(a)&&e.columnModel.isDisplayed(a.getColumnGroupChild())}(d);g?e.headerCellCtrls[a]=d:e.destroyBean(d)}),vt(this.headerCellCtrls)},t.prototype.getColumnsInViewport=function(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},t.prototype.getColumnsInViewportPrintLayout=function(){var e=this;if(null!=this.pinned)return[];var r=[],n=this.getActualDepth();return["left",null,"right"].forEach(function(i){var s=e.columnModel.getVirtualHeaderGroupRow(i,n);r=r.concat(s)}),r},t.prototype.getActualDepth=function(){return this.type==Un.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},t.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},t.prototype.focusHeader=function(e,r){var i=vt(this.headerCellCtrls).find(function(s){return s.getColumnGroupChild()==e});return!!i&&(i.focus(r),!0)},t.prototype.destroy=function(){var e=this;rt(this.headerCellCtrls,function(r,n){e.destroyBean(n)}),this.headerCellCtrls={},o.prototype.destroy.call(this)},vc([A("columnModel")],t.prototype,"columnModel",void 0),vc([A("focusService")],t.prototype,"focusService",void 0),vc([A("filterManager")],t.prototype,"filterManager",void 0),vc([we],t.prototype,"postConstruct",null),t}(Le),Bg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ol=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},kg=function(o){function t(e){var r=o.call(this)||this;return r.hidden=!1,r.includeFloatingFilter=!1,r.groupsRowCtrls=[],r.pinned=e,r}return Bg(t,o),t.prototype.setComp=function(e,r){this.comp=e,this.eViewport=r,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,M.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},t.prototype.setupDragAndDrop=function(e){var r=new rl(this.pinned,e);this.createManagedBean(r)},t.prototype.refresh=function(e){var r=this;void 0===e&&(e=!1);var m,C,n=new Xn,i=this.focusService.getFocusHeaderToUseAfterRefresh();(function(){var m=r.columnModel.getHeaderRowCount()-1;r.groupsRowCtrls=r.destroyBeans(r.groupsRowCtrls);for(var C=0;C<m;C++){var E=r.createBean(new bd(n.next(),r.pinned,Un.COLUMN_GROUP));r.groupsRowCtrls.push(E)}})(),m=n.next(),((C=!(r.hidden||null!=r.columnsRowCtrl&&e&&r.columnsRowCtrl.getRowIndex()===m))||r.hidden)&&(r.columnsRowCtrl=r.destroyBean(r.columnsRowCtrl)),C&&(r.columnsRowCtrl=r.createBean(new bd(m,r.pinned,Un.COLUMN))),function(){r.includeFloatingFilter=r.filterManager.hasFloatingFilters()&&!r.hidden;var m=function(){r.filtersRowCtrl=r.destroyBean(r.filtersRowCtrl)};if(r.includeFloatingFilter){var C=n.next();if(r.filtersRowCtrl){var E=r.filtersRowCtrl.getRowIndex()!==C;(!e||E)&&m()}r.filtersRowCtrl||(r.filtersRowCtrl=r.createBean(new bd(C,r.pinned,Un.FLOATING_FILTER)))}else m()}();var g=this.getAllCtrls();this.comp.setCtrls(g),this.restoreFocusOnHeader(i)},t.prototype.restoreFocusOnHeader=function(e){null==e||e.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:e})},t.prototype.getAllCtrls=function(){var e=function(o,t){for(var e=0,r=t.length,n=o.length;e<r;e++,n++)o[n]=t[e];return o}([],function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i}(this.groupsRowCtrls));return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e},t.prototype.onGridColumnsChanged=function(){this.refresh(!0)},t.prototype.onDisplayedColumnsChanged=function(){var e=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)},t.prototype.setupCenterWidth=function(){var e=this;null==this.pinned&&this.createManagedBean(new Cd(function(r){return e.comp.setCenterWidth(r+"px")},!0))},t.prototype.setHorizontalScroll=function(e){this.comp.setViewportScrollLeft(e)},t.prototype.setupPinnedWidth=function(){var e=this;if(null!=this.pinned){var r="left"===this.pinned,n="right"===this.pinned;this.hidden=!0;var i=function(){var s=r?e.pinnedWidthService.getPinnedLeftWidth():e.pinnedWidthService.getPinnedRightWidth();if(null!=s){var a=0==s,d=e.hidden!==a,g=e.gridOptionsService.is("enableRtl"),m=e.gridOptionsService.getScrollbarWidth(),C=e.scrollVisibleService.isVerticalScrollShowing()&&(g&&r||!g&&n);e.comp.setPinnedContainerWidth((C?s+m:s)+"px"),e.comp.setDisplayed(!a),d&&(e.hidden=a,e.refresh())}};this.addManagedListener(this.eventService,M.EVENT_LEFT_PINNED_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,M.EVENT_RIGHT_PINNED_WIDTH_CHANGED,i),this.addManagedListener(this.eventService,M.EVENT_SCROLL_VISIBILITY_CHANGED,i),this.addManagedListener(this.eventService,M.EVENT_SCROLLBAR_WIDTH_CHANGED,i)}},t.prototype.getHeaderCtrlForColumn=function(e){if(e instanceof T)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(e):void 0;if(0!==this.groupsRowCtrls.length)for(var r=0;r<this.groupsRowCtrls.length;r++){var n=this.groupsRowCtrls[r].getHeaderCellCtrl(e);if(n)return n}},t.prototype.getHtmlElementForColumnHeader=function(e){var r=this.getHeaderCtrlForColumn(e);return r?r.getGui():null},t.prototype.getRowType=function(e){var n=this.getAllCtrls()[e];return n?n.getType():void 0},t.prototype.focusHeader=function(e,r,n){var s=this.getAllCtrls()[e];return!!s&&s.focusHeader(r,n)},t.prototype.getRowCount=function(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)},t.prototype.destroy=function(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),o.prototype.destroy.call(this)},ol([A("ctrlsService")],t.prototype,"ctrlsService",void 0),ol([A("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),ol([A("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),ol([A("columnModel")],t.prototype,"columnModel",void 0),ol([A("focusService")],t.prototype,"focusService",void 0),ol([A("filterManager")],t.prototype,"filterManager",void 0),t}(Le),Wg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Pd=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Fd=function(o){function t(e){var r=o.call(this)||this;return r.headerRowComps={},r.rowCompsList=[],r.pinned=e,r}return Wg(t,o),t.prototype.init=function(){var e=this;this.selectAndSetTemplate();var r={setDisplayed:function(i){return e.setDisplayed(i)},setCtrls:function(i){return e.setCtrls(i)},setCenterWidth:function(i){return e.eCenterContainer.style.width=i},setViewportScrollLeft:function(i){return e.getGui().scrollLeft=i},setPinnedContainerWidth:function(i){var s=e.getGui();s.style.width=i,s.style.maxWidth=i,s.style.minWidth=i}};this.createManagedBean(new kg(this.pinned)).setComp(r,this.getGui())},t.prototype.selectAndSetTemplate=function(){this.setTemplate("left"==this.pinned?t.PINNED_LEFT_TEMPLATE:"right"==this.pinned?t.PINNED_RIGHT_TEMPLATE:t.CENTER_TEMPLATE),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},t.prototype.destroyRowComps=function(){this.setCtrls([])},t.prototype.destroyRowComp=function(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())},t.prototype.setCtrls=function(e){var i,r=this,n=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[],e.forEach(function(a){var d=a.getInstanceId(),g=n[d];delete n[d];var m=g||r.createBean(new Vr(a));r.headerRowComps[d]=m,r.rowCompsList.push(m),function(a){var d=a.getGui();d.parentElement!=r.eRowContainer&&r.eRowContainer.appendChild(d),i&&Ol(r.eRowContainer,d,i),i=d}(m)}),vt(n).forEach(function(a){return r.destroyRowComp(a)})},t.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"></div>',t.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"></div>',t.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',Pd([tt("eCenterContainer")],t.prototype,"eCenterContainer",void 0),Pd([we],t.prototype,"init",null),Pd([yr],t.prototype,"destroyRowComps",null),t}(qt),Ug=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),cu=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},os=function(o){return o[o.UP=0]="UP",o[o.DOWN=1]="DOWN",o[o.LEFT=2]="LEFT",o[o.RIGHT=3]="RIGHT",o}(os||{}),jg=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Ug(t,o),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){e.gridBodyCon=r.gridBodyCtrl})},t.prototype.getHeaderRowCount=function(){var e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0},t.prototype.navigateVertically=function(e,r,n){if(r||(r=this.focusService.getFocusedHeader()),!r)return!1;var i=r.headerRowIndex,s=r.column,a=this.getHeaderRowCount(),g=e===os.UP?this.headerPositionUtils.getColumnVisibleParent(s,i):this.headerPositionUtils.getColumnVisibleChild(s,i),m=g.nextRow,C=g.nextFocusColumn,E=!1;return m<0&&(m=0,C=s,E=!0),m>=a&&(m=-1),!(!E&&!C)&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:m,column:C},allowUserOverride:!0,event:n})},t.prototype.navigateHorizontally=function(e,r,n){void 0===r&&(r=!1);var d,g,i=this.focusService.getFocusedHeader();return(d=e===os.LEFT!==this.gridOptionsService.is("enableRtl")?this.headerPositionUtils.findHeader(i,g="Before"):this.headerPositionUtils.findHeader(i,g="After"))||!r?this.focusService.focusHeaderPosition({headerPosition:d,direction:g,fromTab:r,allowUserOverride:!0,event:n}):this.focusNextHeaderRow(i,g,n)},t.prototype.focusNextHeaderRow=function(e,r,n){var i=e.headerRowIndex,s=null;return"Before"===r?i>0&&(s=this.headerPositionUtils.findColAtEdgeForHeaderRow(i-1,"end")):s=this.headerPositionUtils.findColAtEdgeForHeaderRow(i+1,"start"),this.focusService.focusHeaderPosition({headerPosition:s,direction:r,fromTab:!0,allowUserOverride:!0,event:n})},t.prototype.scrollToColumn=function(e,r){if(void 0===r&&(r="After"),!e.getPinned()){var n;if(e instanceof Gr){var i=e.getDisplayedLeafColumns();n="Before"===r?te(i):i[0]}else n=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(n)}},cu([A("focusService")],t.prototype,"focusService",void 0),cu([A("headerPositionUtils")],t.prototype,"headerPositionUtils",void 0),cu([A("ctrlsService")],t.prototype,"ctrlsService",void 0),cu([we],t.prototype,"postConstruct",null),cu([je("headerNavigationService")],t)}(Le),zg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),du=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Kg=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return zg(t,o),t.prototype.setComp=function(e,r,n){this.comp=e,this.eGui=r,this.createManagedBean(new Qo(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},t.prototype.setupHeaderHeight=function(){var e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListener("headerHeight",e),this.addManagedPropertyListener("pivotHeaderHeight",e),this.addManagedPropertyListener("groupHeaderHeight",e),this.addManagedPropertyListener("pivotGroupHeaderHeight",e),this.addManagedPropertyListener("floatingFiltersHeight",e),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,M.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,e),this.addManagedListener(this.eventService,M.EVENT_GRID_STYLES_CHANGED,e),this.addManagedListener(this.eventService,M.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,e)},t.prototype.getHeaderHeight=function(){return this.headerHeight},t.prototype.setHeaderHeight=function(){var i,e=this.columnModel,r=0,n=e.getHeaderRowCount();this.filterManager.hasFloatingFilters()&&(n++,r=1);var a=this.columnModel.getColumnGroupHeaderRowHeight(),d=this.columnModel.getColumnHeaderRowHeight(),m=n-(1+r);i=r*e.getFloatingFiltersHeight(),i+=m*a,this.headerHeight!==(i+=d)&&(this.headerHeight=i,this.comp.setHeightAndMinHeight(i+1+"px"),this.eventService.dispatchEvent({type:M.EVENT_HEADER_HEIGHT_CHANGED}))},t.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)},t.prototype.onDisplayedColumnsChanged=function(){var r=this.columnModel.getAllDisplayedColumns().some(function(n){return n.isSpanHeaderHeight()});this.comp.addOrRemoveCssClass("ag-header-allow-overflow",r)},t.prototype.onTabKeyDown=function(e){var r=this.gridOptionsService.is("enableRtl");(this.headerNavigationService.navigateHorizontally(e.shiftKey!==r?os.LEFT:os.RIGHT,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()},t.prototype.handleKeyDown=function(e){var r=null;switch(e.key){case Ce.LEFT:r=os.LEFT;case Ce.RIGHT:w(r)||(r=os.RIGHT),this.headerNavigationService.navigateHorizontally(r,!1,e);break;case Ce.UP:r=os.UP;case Ce.DOWN:w(r)||(r=os.DOWN),this.headerNavigationService.navigateVertically(r,null,e)&&e.preventDefault();break;default:return}},t.prototype.onFocusOut=function(e){var r=this.gridOptionsService.getDocument(),n=e.relatedTarget;!n&&this.eGui.contains(r.activeElement)||this.eGui.contains(n)||this.focusService.clearFocusedHeader()},du([A("headerNavigationService")],t.prototype,"headerNavigationService",void 0),du([A("focusService")],t.prototype,"focusService",void 0),du([A("columnModel")],t.prototype,"columnModel",void 0),du([A("ctrlsService")],t.prototype,"ctrlsService",void 0),du([A("filterManager")],t.prototype,"filterManager",void 0),t}(Le),Yg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Qg=function(o){function t(){return o.call(this,t.TEMPLATE)||this}return Yg(t,o),t.prototype.postConstruct=function(){var e=this,r={addOrRemoveCssClass:function(s,a){return e.addOrRemoveCssClass(s,a)},setHeightAndMinHeight:function(s){e.getGui().style.height=s,e.getGui().style.minHeight=s}};this.createManagedBean(new Kg).setComp(r,this.getGui(),this.getFocusableElement());var i=function(s){e.createManagedBean(s),e.appendChild(s)};i(new Fd("left")),i(new Fd(null)),i(new Fd("right"))},t.TEMPLATE='<div class="ag-header" role="presentation"/>',function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);n>3&&i&&Object.defineProperty(t,e,i)}([we],t.prototype,"postConstruct",null),t}(qt),qg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Md=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Zg=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return qg(t,o),t.prototype.addResizeBar=function(e){var r=this,n={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(n),function(){return r.dragService.removeDragSource(n)}},t.prototype.onDragStart=function(e,r){this.dragStartX=r.clientX,this.setResizeIcons();var n=r instanceof MouseEvent&&!0===r.shiftKey;e.onResizeStart(n)},t.prototype.setResizeIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!0),e.disableUserSelect(!0)},t.prototype.onDragStop=function(e,r){e.onResizeEnd(this.resizeAmount),this.resetIcons()},t.prototype.resetIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!1),e.disableUserSelect(!1)},t.prototype.onDragging=function(e,r){this.resizeAmount=r.clientX-this.dragStartX,e.onResizing(this.resizeAmount)},Md([A("dragService")],t.prototype,"dragService",void 0),Md([A("ctrlsService")],t.prototype,"ctrlsService",void 0),Md([je("horizontalResizeService")],t)}(Le),Jg=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),pu=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Xg=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Jg(t,o),t.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},t.prototype.showMenuAfterMouseEvent=function(e,r){var n=this;this.showPopup(e,function(i){n.popupService.positionPopupUnderMouseEvent({column:e,type:"columnMenu",mouseEvent:r,ePopup:i})},"columnMenu",r.target)},t.prototype.showMenuAfterButtonClick=function(e,r,n){var i=this;this.showPopup(e,function(s){i.popupService.positionPopupByComponent({type:n,eventSource:r,ePopup:s,keepWithinBounds:!0,position:"under",column:e})},n,r)},t.prototype.showPopup=function(e,r,n,i){var s=this,a=this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU");if(!a)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var d=document.createElement("div");ln(d,"presentation"),d.classList.add("ag-menu"),this.tabListener=this.addManagedListener(d,"keydown",function(j){return s.trapFocusWithin(j,d)}),a.guiPromise.then(function(j){return d.appendChild(j)});var g,C=i||this.ctrlsService.getGridBodyCtrl().getGui(),b=this.localeService.getLocaleTextFunc(),L=this.popupService.addPopup({modal:!0,eChild:d,closeOnEsc:!0,closedCallback:function(j){e.setMenuVisible(!1,"contextMenu");var ee=j instanceof KeyboardEvent;if(s.tabListener&&(s.tabListener=s.tabListener()),ee&&i&&wo(i)){var se=s.focusService.findTabbableParent(i);se&&se.focus()}!function(){var j;null===(j=a.filterPromise)||void 0===j||j.then(function(ee){var se;return null===(se=ee?.afterGuiDetached)||void 0===se?void 0:se.call(ee)})}()},positionCallback:function(){return r(d)},anchorToElement:C,ariaLabel:b("ariaLabelColumnMenu","Column Menu")});L&&(this.hidePopup=g=L.hideFunc),a.filterPromise.then(function(j){r(d),j.afterGuiAttached&&j.afterGuiAttached({container:n,hidePopup:g})}),e.setMenuVisible(!0,"contextMenu")},t.prototype.trapFocusWithin=function(e,r){e.key!==Ce.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(r,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(r,e.shiftKey))},t.prototype.isMenuEnabled=function(e){return e.isFilterAllowed()&&e.getMenuTabs(["filterMenuTab"]).includes("filterMenuTab")},pu([A("filterManager")],t.prototype,"filterManager",void 0),pu([A("popupService")],t.prototype,"popupService",void 0),pu([A("focusService")],t.prototype,"focusService",void 0),pu([A("ctrlsService")],t.prototype,"ctrlsService",void 0),pu([je("menuFactory")],t)}(Le),ev=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),yc=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i};!function(o){function t(e){var r=o.call(this,t.getTemplate(e.cssClass))||this;return r.items=[],r.tabbedItemScrollMap=new Map,r.params=e,e.items&&e.items.forEach(function(n){return r.addItem(n)}),r}ev(t,o),t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new Qo(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)})),this.addDestroyFunc(function(){var r,n,i;return null===(i=null===(n=null===(r=e.activeItem)||void 0===r?void 0:r.tabbedItem)||void 0===n?void 0:n.afterDetachedCallback)||void 0===i?void 0:i.call(n)})},t.getTemplate=function(e){return'<div class="ag-tabs '+e+'">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header '+(e?e+"-header":"")+'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body '+(e?e+"-body":"")+'"></div>\n        </div>'},t.prototype.handleKeyDown=function(e){var r=this.gridOptionsService.getDocument();switch(e.key){case Ce.RIGHT:case Ce.LEFT:if(!this.eHeader.contains(r.activeElement))return;var n=e.key===Ce.RIGHT,i=this.gridOptionsService.is("enableRtl"),s=this.items.indexOf(this.activeItem),a=n!==i?Math.min(s+1,this.items.length-1):Math.max(s-1,0);if(s===a)return;e.preventDefault();var d=this.items[a];this.showItemWrapper(d),d.eHeaderButton.focus();break;case Ce.UP:case Ce.DOWN:e.stopPropagation()}},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var r=this,n=r.focusService,i=r.eHeader,s=r.eBody,a=r.activeItem,g=this.gridOptionsService.getDocument().activeElement,m=e.target;if(e.preventDefault(),i.contains(g))return void n.focusInto(s,e.shiftKey);var C=null;n.isTargetUnderManagedComponent(s,m)&&(e.shiftKey&&(C=this.focusService.findFocusableElementBeforeTabGuard(s,m)),C||(C=a.eHeaderButton)),!C&&s.contains(g)&&((C=n.findNextFocusableElement(s,!1,e.shiftKey))||(C=a.eHeaderButton)),C&&C.focus()}},t.prototype.setAfterAttachedParams=function(e){this.afterAttachedParams=e},t.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},t.prototype.addItem=function(e){var r=document.createElement("span");ln(r,"tab"),r.setAttribute("tabindex","-1"),r.appendChild(e.title),r.classList.add("ag-tab"),this.eHeader.appendChild(r),ci(r,e.titleLabel);var n={tabbedItem:e,eHeaderButton:r};this.items.push(n),r.addEventListener("click",this.showItemWrapper.bind(this,n))},t.prototype.showItem=function(e){var r=this.items.find(function(n){return n.tabbedItem===e});r&&this.showItemWrapper(r)},t.prototype.showItemWrapper=function(e){var n,i,r=this,s=e.tabbedItem,a=e.eHeaderButton;this.params.onItemClicked&&this.params.onItemClicked({item:s}),this.activeItem!==e?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),un(this.eBody),s.bodyPromise.then(function(d){r.eBody.appendChild(d);var g=!r.focusService.isKeyboardMode();if(r.focusService.focusInto(r.eBody,!1,g),s.afterAttachedCallback&&s.afterAttachedCallback(r.afterAttachedParams),r.params.keepScrollPosition){var m=s.getScrollableContainer&&s.getScrollableContainer()||d;r.lastScrollListener=r.addManagedListener(m,"scroll",function(){r.tabbedItemScrollMap.set(s.name,m.scrollTop)});var C=r.tabbedItemScrollMap.get(s.name);void 0!==C&&setTimeout(function(){m.scrollTop=C},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),null===(i=(n=this.activeItem.tabbedItem).afterDetachedCallback)||void 0===i||i.call(n)),a.classList.add("ag-tab-selected"),this.activeItem=e):_e(this.params.onActiveItemClicked)},yc([A("focusService")],t.prototype,"focusService",void 0),yc([tt("eHeader")],t.prototype,"eHeader",void 0),yc([tt("eBody")],t.prototype,"eBody",void 0),yc([we],t.prototype,"postConstruct",null)}(qt);var tv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ff=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.polyfillFunctions=[],e}return tv(t,o),t.prototype.observeResize=function(e,r){var m,n=this,i=this.gridOptionsService.getWindow(),d=this.gridOptionsService.is("suppressBrowserResizeObserver");return i.ResizeObserver&&!d?((m=new i.ResizeObserver(r)).observe(e),function(){return m.disconnect()}):function(){var m=Xs(e),C=ys(e),E=!0,b=function(){if(E){var L=Xs(e),j=ys(e);(L!==m||j!==C)&&(m=L,C=j,r()),n.doNextPolyfillTurn(b)}};return b(),function(){return E=!1}}()},t.prototype.doNextPolyfillTurn=function(e){this.polyfillFunctions.push(e),this.schedulePolyfill()},t.prototype.schedulePolyfill=function(){var e=this;this.polyfillScheduled||(this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(function(){var n=e.polyfillFunctions;e.polyfillScheduled=!1,e.polyfillFunctions=[],n.forEach(function(i){return i()})},50))},t=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i}([je("resizeObserverService")],t),t}(Le),rv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),mc=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},nv=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.createTasksP1={list:[],sorted:!1},e.createTasksP2={list:[],sorted:!1},e.destroyTasks=[],e.ticking=!1,e.scrollGoingDown=!0,e.lastPage=0,e.lastScrollTop=0,e.taskCount=0,e.cancelledTasks=new Set,e}return rv(t,o),t.prototype.setScrollTop=function(e){var r=this.gridOptionsService.is("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,r&&0===e){var n=this.paginationProxy.getCurrentPage();n!==this.lastPage&&(this.lastPage=n,this.scrollGoingDown=!0)}this.lastScrollTop=e},t.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsService.is("suppressAnimationFrame")},t.prototype.isOn=function(){return this.useAnimationFrame},t.prototype.verifyAnimationFrameOn=function(e){!1===this.useAnimationFrame&&console.warn("AG Grid: AnimationFrameService."+e+" called but animation frames are off")},t.prototype.createTask=function(e,r,n){this.verifyAnimationFrameOn(n);var i={task:e,index:r,createOrder:++this.taskCount};this.addTaskToList(this[n],i),this.schedule()},t.prototype.cancelTask=function(e){this.cancelledTasks.add(e)},t.prototype.addTaskToList=function(e,r){e.list.push(r),e.sorted=!1},t.prototype.sortTaskList=function(e){if(!e.sorted){var r=this.scrollGoingDown?1:-1;e.list.sort(function(n,i){return n.index!==i.index?r*(i.index-n.index):i.createOrder-n.createOrder}),e.sorted=!0}},t.prototype.addDestroyTask=function(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()},t.prototype.executeFrame=function(e){this.verifyAnimationFrameOn("executeFrame");for(var r=this.createTasksP1,n=r.list,i=this.createTasksP2,s=i.list,a=this.destroyTasks,d=(new Date).getTime(),g=(new Date).getTime()-d,m=e<=0,C=this.ctrlsService.getGridBodyCtrl();m||g<e;){if(!C.getScrollFeature().scrollGridIfNeeded()){var b=void 0;if(n.length)this.sortTaskList(r),b=n.pop().task;else if(s.length)this.sortTaskList(i),b=s.pop().task;else{if(!a.length){this.cancelledTasks.clear();break}b=a.pop()}this.cancelledTasks.has(b)||b()}g=(new Date).getTime()-d}n.length||s.length||a.length?this.requestFrame():this.stopTicking()},t.prototype.stopTicking=function(){this.ticking=!1},t.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},t.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},t.prototype.requestFrame=function(){var e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)},t.prototype.requestAnimationFrame=function(e){var r=this.gridOptionsService.getWindow();r.requestAnimationFrame?r.requestAnimationFrame(e):r.webkitRequestAnimationFrame?r.webkitRequestAnimationFrame(e):r.setTimeout(e,0)},t.prototype.isQueueEmpty=function(){return!this.ticking},t.prototype.debounce=function(e){var r=this,n=!1;return function(){r.isOn()?n||(n=!0,r.addDestroyTask(function(){n=!1,e()})):r.getFrameworkOverrides().setTimeout(e,0)}},mc([A("ctrlsService")],t.prototype,"ctrlsService",void 0),mc([A("paginationProxy")],t.prototype,"paginationProxy",void 0),mc([we],t.prototype,"init",null),mc([je("animationFrameService")],t)}(Le),Ld=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),fu=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},iv=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Ld(t,o),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){e.centerRowContainerCtrl=r.centerRowContainerCtrl})},t.prototype.getPreferredWidthForColumn=function(e,r){var n=this.getHeaderCellForColumn(e);if(!n)return-1;var i=this.rowRenderer.getAllCellsForColumn(e);return r||i.push(n),this.addElementsToContainerAndGetWidth(i)},t.prototype.getPreferredWidthForColumnGroup=function(e){var r=this.getHeaderCellForColumn(e);return r?this.addElementsToContainerAndGetWidth([r]):-1},t.prototype.addElementsToContainerAndGetWidth=function(e){var r=this,n=document.createElement("form");n.style.position="fixed";var i=this.centerRowContainerCtrl.getContainerElement();e.forEach(function(d){return r.cloneItemIntoDummy(d,n)}),i.appendChild(n);var s=n.offsetWidth;return i.removeChild(n),s+this.getAutoSizePadding()},t.prototype.getAutoSizePadding=function(){var e=this.gridOptionsService.getNum("autoSizePadding");return null!=e&&e>=0?e:20},t.prototype.getHeaderCellForColumn=function(e){var r=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(n){var i=n.getHtmlElementForColumnHeader(e);null!=i&&(r=i)}),r},t.prototype.cloneItemIntoDummy=function(e,r){var n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";var i=document.createElement("div"),s=i.classList;["ag-header-cell","ag-header-group-cell"].some(function(E){return n.classList.contains(E)})?(s.add("ag-header","ag-header-row"),i.style.position="static"):s.add("ag-row");for(var d=e.parentElement;d;){if(["ag-header-row","ag-row"].some(function(E){return d.classList.contains(E)})){for(var m=0;m<d.classList.length;m++){var C=d.classList[m];"ag-row-position-absolute"!=C&&s.add(C)}break}d=d.parentElement}i.appendChild(n),r.appendChild(i)},fu([A("rowRenderer")],t.prototype,"rowRenderer",void 0),fu([A("ctrlsService")],t.prototype,"ctrlsService",void 0),fu([A("rowCssClassCalculator")],t.prototype,"rowCssClassCalculator",void 0),fu([we],t.prototype,"postConstruct",null),fu([je("autoWidthCalculator")],t)}(Le),ov=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ln=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},lv=function(o){function t(e,r){var n=o.call(this)||this;return n.createRowCon=e,n.destroyRowCtrls=r,n.stickyRowCtrls=[],n.containerHeight=0,n}return ov(t,o),t.prototype.postConstruct=function(){var e=this;this.isClientSide="clientSide"===this.rowModel.getType(),this.ctrlsService.whenReady(function(r){e.gridBodyCtrl=r.gridBodyCtrl})},t.prototype.getStickyRowCtrls=function(){return this.stickyRowCtrls},t.prototype.checkStickyRows=function(){var e=this,r=0;if(!this.gridOptionsService.isGroupRowsSticky())return this.refreshNodesAndContainerHeight([],r);for(var n=[],i=this.rowRenderer.getFirstVisibleVerticalPixel(),s=function(b){var L,j,ee,se;if(n.push(b),e.isClientSide){for(var fe=b;fe.expanded;)if(fe.master)fe=fe.detailNode;else if(fe.childrenAfterSort){if(0===fe.childrenAfterSort.length)break;fe=te(fe.childrenAfterSort)}se=fe.rowTop+fe.rowHeight}else if(b.master)se=b.detailNode.rowTop+b.detailNode.rowHeight;else{var Te=null===(L=b.childStore)||void 0===L?void 0:L.getStoreBounds();se=(null!==(j=Te?.heightPx)&&void 0!==j?j:0)+(null!==(ee=Te?.topPx)&&void 0!==ee?ee:0)}var ke=i+r+b.rowHeight;b.stickyRowTop=se<ke?r+(se-ke):r,r=0,n.forEach(function(St){var _t=St.stickyRowTop+St.rowHeight;r<_t&&(r=_t)})};;){var a=i+r,d=this.rowModel.getRowIndexAtPixel(a),g=this.rowModel.getRow(d);if(null==g||g.level<0)break;for(var m=[],C=g.parent;C.level>=0;)m.push(C),C=C.parent;var E=m.reverse().find(function(b){return n.indexOf(b)<0&&b.displayed});if(E)s(E);else{if(!(g.isExpandable()&&g.expanded&&g.rowTop<a))break;s(g)}}return this.refreshNodesAndContainerHeight(n,r)},t.prototype.refreshStickyNode=function(e){for(var r=[],n=0;n<this.stickyRowCtrls.length;n++){var i=this.stickyRowCtrls[n].getRowNode();i!==e&&r.push(i)}this.refreshNodesAndContainerHeight(r,this.containerHeight)&&this.checkStickyRows()},t.prototype.refreshNodesAndContainerHeight=function(e,r){var n,i,s,a=this,d=!1,g=this.stickyRowCtrls.filter(function(ee){return-1===e.indexOf(ee.getRowNode())}),m=e.filter(function(ee){return-1===a.stickyRowCtrls.findIndex(function(se){return se.getRowNode()===ee})});(g.length||m.length)&&(d=!0);var C={};g.forEach(function(ee){C[ee.getRowNode().id]=ee,a.stickyRowCtrls=a.stickyRowCtrls.filter(function(se){return se!==ee})});try{for(var E=function(o){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&o[t],r=0;if(e)return e.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&r>=o.length&&(o=void 0),{value:o&&o[r++],done:!o}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.values(C)),b=E.next();!b.done;b=E.next())b.value.getRowNode().sticky=!1}catch(ee){n={error:ee}}finally{try{b&&!b.done&&(i=E.return)&&i.call(E)}finally{if(n)throw n.error}}this.destroyRowCtrls(C,!1);var j=m.map(function(ee){return ee.sticky=!0,a.createRowCon(ee,!1,!1)});return(s=this.stickyRowCtrls).push.apply(s,function(o,t){for(var e=0,r=t.length,n=o.length;e<r;e++,n++)o[n]=t[e];return o}([],function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i}(j))),this.stickyRowCtrls.forEach(function(ee){return ee.setRowTop(ee.getRowNode().stickyRowTop)}),this.stickyRowCtrls.sort(function(ee,se){return se.getRowNode().rowIndex-ee.getRowNode().rowIndex}),this.containerHeight!==r&&(this.containerHeight=r,this.gridBodyCtrl.setStickyTopHeight(r),d=!0),d},Ln([A("rowModel")],t.prototype,"rowModel",void 0),Ln([A("rowRenderer")],t.prototype,"rowRenderer",void 0),Ln([A("ctrlsService")],t.prototype,"ctrlsService",void 0),Ln([we],t.prototype,"postConstruct",null),t}(Le),uv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Li=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Gs=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i},bo=function(o,t){for(var e=0,r=t.length,n=o.length;e<r;e++,n++)o[n]=t[e];return o},pv=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.destroyFuncsForColumnListeners=[],e.rowCtrlsByRowIndex={},e.zombieRowCtrls={},e.allRowCtrls=[],e.topRowCtrls=[],e.bottomRowCtrls=[],e.refreshInProgress=!1,e.dataFirstRenderedFired=!1,e}return uv(t,o),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.initialise()})},t.prototype.initialise=function(){if(this.addManagedListener(this.eventService,M.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,M.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,M.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListener("domLayout",this.onDomLayoutChanged.bind(this)),this.addManagedPropertyListener("rowClass",this.redrawRows.bind(this)),this.gridOptionsService.isGroupRowsSticky()){var e=this.rowModel.getType();("clientSide"===e||"serverSide"===e)&&(this.stickyRowFeature=this.createManagedBean(new lv(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.is("embedFullWidthRows"),this.redrawAfterModelUpdate()},t.prototype.initialiseCache=function(){if(this.gridOptionsService.is("keepDetailRows")){var e=this.getKeepDetailRowsCount();this.cachedRowCtrls=new fv(e??3)}},t.prototype.getKeepDetailRowsCount=function(){var e=this.gridOptionsService.getNum("keepDetailRowsCount");return w(e)&&e>0?e:10},t.prototype.getStickyTopRowCtrls=function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]},t.prototype.updateAllRowCtrls=function(){var e=vt(this.rowCtrlsByRowIndex),r=this.gridOptionsService.is("ensureDomOrder"),n=this.gridOptionsService.isDomLayout("print");(r||n)&&e.sort(function(a,d){return a.getRowNode().rowIndex-d.getRowNode.rowIndex});var i=vt(this.zombieRowCtrls),s=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=i.length>0||s.length>0?bo(bo(bo([],Gs(e)),Gs(i)),Gs(s)):e},t.prototype.onCellFocusChanged=function(e){this.getAllCellCtrls().forEach(function(r){return r.onCellFocused(e)}),this.getFullWidthRowCtrls().forEach(function(r){return r.onFullWidthRowFocused(e)})},t.prototype.registerCellEventListeners=function(){var e=this;this.addManagedListener(this.eventService,M.EVENT_CELL_FOCUSED,function(n){e.onCellFocusChanged(n)}),this.addManagedListener(this.eventService,M.EVENT_CELL_FOCUS_CLEARED,function(){e.onCellFocusChanged()}),this.addManagedListener(this.eventService,M.EVENT_FLASH_CELLS,function(n){e.getAllCellCtrls().forEach(function(i){return i.onFlashCells(n)})}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_HOVER_CHANGED,function(){e.getAllCellCtrls().forEach(function(n){return n.onColumnHover()})}),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){e.getAllCellCtrls().forEach(function(n){return n.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){e.printLayout&&e.getAllCellCtrls().forEach(function(n){return n.onLeftChanged()})}),this.gridOptionsService.is("enableRangeSelection")&&(this.addManagedListener(this.eventService,M.EVENT_RANGE_SELECTION_CHANGED,function(){e.getAllCellCtrls().forEach(function(n){return n.onRangeSelectionChanged()})}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_MOVED,function(){e.getAllCellCtrls().forEach(function(n){return n.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PINNED,function(){e.getAllCellCtrls().forEach(function(n){return n.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VISIBLE,function(){e.getAllCellCtrls().forEach(function(n){return n.updateRangeBordersIfRangeCount()})})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,M.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},t.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(e){return e()}),this.destroyFuncsForColumnListeners.length=0},t.prototype.refreshListenersToColumnsForCellComps=function(){var e=this;this.removeGridColumnListeners();var r=this.columnModel.getAllGridColumns();r&&r.forEach(function(n){var i=function(C){e.getAllCellCtrls().forEach(function(E){E.getColumn()===n&&C(E)})},s=function(){i(function(C){return C.onLeftChanged()})},a=function(){i(function(C){return C.onWidthChanged()})},d=function(){i(function(C){return C.onFirstRightPinnedChanged()})},g=function(){i(function(C){return C.onLastLeftPinnedChanged()})},m=function(){i(function(C){return C.onColDefChanged()})};n.addEventListener("leftChanged",s),n.addEventListener("widthChanged",a),n.addEventListener("firstRightPinnedChanged",d),n.addEventListener("lastLeftPinnedChanged",g),n.addEventListener("colDefChanged",m),e.destroyFuncsForColumnListeners.push(function(){n.removeEventListener("leftChanged",s),n.removeEventListener("widthChanged",a),n.removeEventListener("firstRightPinnedChanged",d),n.removeEventListener("lastLeftPinnedChanged",g),n.removeEventListener("colDefChanged",m)})})},t.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsService.isDomLayout("print"),r=e||this.gridOptionsService.is("embedFullWidthRows"),n=r!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=r,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})},t.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.onPageLoaded=function(e){this.redrawAfterModelUpdate({recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0})},t.prototype.getAllCellsForColumn=function(e){var r=[];return this.getAllRowCtrls().forEach(function(n){var i=n.getCellElement(e);i&&r.push(i)}),r},t.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},t.prototype.getTopRowCtrls=function(){return this.topRowCtrls},t.prototype.getCentreRowCtrls=function(){return this.allRowCtrls},t.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},t.prototype.refreshFloatingRows=function(e,r){var n=this;e.forEach(function(i){i.destroyFirstPass(),i.destroySecondPass()}),e.length=0,r&&r.forEach(function(i){var s=new To(i,n.beans,!1,!1,n.printLayout);e.push(s)})},t.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},t.prototype.redrawRow=function(e,r){var n=this;if(void 0===r&&(r=!1),e.sticky)this.stickyRowFeature.refreshStickyNode(e);else{var i=function(s){var a=s[e.rowIndex];a&&a.getRowNode()===e&&(a.destroyFirstPass(),a.destroySecondPass(),s[e.rowIndex]=n.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":i(this.topRowCtrls);case"bottom":i(this.bottomRowCtrls);default:i(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}r||this.dispatchDisplayedRowsChanged(!1)},t.prototype.redrawRows=function(e){var r=this;if(null!=e)return e?.forEach(function(i){return r.redrawRow(i,!0)}),void this.dispatchDisplayedRowsChanged(!1);this.redrawAfterModelUpdate()},t.prototype.getCellToRestoreFocusToAfterRefresh=function(e){var r=e?.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==r)return null;var i=this.gridOptionsService.getDocument().activeElement,s=this.gridOptionsService.getDomData(i,Ca.DOM_DATA_KEY_CELL_CTRL),a=this.gridOptionsService.getDomData(i,To.DOM_DATA_KEY_ROW_CTRL);return s||a?r:null},t.prototype.redrawAfterModelUpdate=function(e){void 0===e&&(e={}),this.getLockOnRefresh();var r=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);var n=!e.domLayoutChanged&&!!e.recycleRows,i=e.animate&&this.gridOptionsService.isAnimateRows(),s=n?this.getRowsToRecycle():null;n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(s,i),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),null!=r&&this.restoreFocusedCell(r),this.releaseLockOnRefresh()},t.prototype.scrollToTopIfNewData=function(e){var r=e.newData||e.newPage,n=this.gridOptionsService.is("suppressScrollOnNewData");r&&!n&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},t.prototype.updateContainerHeights=function(){if(this.printLayout)this.rowContainerHeightService.setModelHeight(null);else{var e=this.paginationProxy.getCurrentPageHeight();0===e&&(e=1),this.rowContainerHeightService.setModelHeight(e)}},t.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},t.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},t.prototype.isRefreshInProgress=function(){return this.refreshInProgress},t.prototype.restoreFocusedCell=function(e){e&&(this.focusService.setRestoreFocusedCell(e),this.onCellFocusChanged({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,api:this.beans.gridApi,columnApi:this.beans.columnApi,context:this.beans.gridOptionsService.context,type:"mock"}))},t.prototype.stopEditing=function(e){void 0===e&&(e=!1),this.getAllRowCtrls().forEach(function(r){r.stopEditing(e)})},t.prototype.getAllCellCtrls=function(){for(var e=[],r=this.getAllRowCtrls(),n=r.length,i=0;i<n;i++)for(var s=r[i].getAllCellCtrls(),a=s.length,d=0;d<a;d++)e.push(s[d]);return e},t.prototype.getAllRowCtrls=function(){var e,r,n=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],i=bo(bo(bo([],Gs(this.topRowCtrls)),Gs(this.bottomRowCtrls)),Gs(n));try{for(var s=function(o){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&o[t],r=0;if(e)return e.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&r>=o.length&&(o=void 0),{value:o&&o[r++],done:!o}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(this.rowCtrlsByRowIndex)),a=s.next();!a.done;a=s.next())i.push(this.rowCtrlsByRowIndex[a.value])}catch(g){e={error:g}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return i},t.prototype.addRenderedRowListener=function(e,r,n){var i=this.rowCtrlsByRowIndex[r];i&&i.addEventListener(e,n)},t.prototype.flashCells=function(e){void 0===e&&(e={});var r=e.flashDelay,n=e.fadeDelay;this.getCellCtrls(e.rowNodes,e.columns).forEach(function(i){return i.flashCell({flashDelay:r,fadeDelay:n})})},t.prototype.refreshCells=function(e){var r=this;void 0===e&&(e={});var n={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.getCellCtrls(e.rowNodes,e.columns).forEach(function(i){if(i.refreshShouldDestroy()){var s=i.getRowCtrl();s&&s.refreshCell(i)}else i.refreshCell(n)}),e.rowNodes&&(this.getRowCtrls(e.rowNodes).forEach(function(i){i.isFullWidth()&&(i.refreshFullWidth()||r.redrawRow(i.getRowNode(),!0))}),this.dispatchDisplayedRowsChanged(!1))},t.prototype.getCellRendererInstances=function(e){var n,r=this,i=this.getCellCtrls(e.rowNodes,e.columns).map(function(d){return d.getCellRenderer()}).filter(function(d){return null!=d});if(null!==(n=e.columns)&&void 0!==n&&n.length)return i;var s=[],a=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(function(d){if((!a||r.isRowInMap(d.getRowNode(),a))&&d.isFullWidth()){var g=d.getFullWidthCellRenderer();g&&s.push(g)}}),bo(bo([],Gs(s)),Gs(i))},t.prototype.getCellEditorInstances=function(e){var r=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(function(n){var i=n.getCellEditor();i&&r.push(i)}),r},t.prototype.getEditingCells=function(){var e=[];return this.getAllCellCtrls().forEach(function(r){if(r.isEditing()){var n=r.getCellPosition();e.push(n)}}),e},t.prototype.mapRowNodes=function(e){if(e){var r={top:{},bottom:{},normal:{}};return e.forEach(function(n){var i=n.id;"top"===n.rowPinned?r.top[i]=n:"bottom"===n.rowPinned?r.bottom[i]=n:r.normal[i]=n}),r}},t.prototype.isRowInMap=function(e,r){var n=e.id,i=e.rowPinned;return"bottom"===i?null!=r.bottom[n]:"top"===i?null!=r.top[n]:null!=r.normal[n]},t.prototype.getRowCtrls=function(e){var r=this,n=this.mapRowNodes(e),i=this.getAllRowCtrls();return e&&n?i.filter(function(s){var a=s.getRowNode();return r.isRowInMap(a,n)}):i},t.prototype.getCellCtrls=function(e,r){var i,n=this;w(r)&&(i={},r.forEach(function(a){var d=n.columnModel.getGridColumn(a);w(d)&&(i[d.getId()]=!0)}));var s=[];return this.getRowCtrls(e).forEach(function(a){a.getAllCellCtrls().forEach(function(d){var g=d.getColumn().getId();i&&!i[g]||s.push(d)})}),s},t.prototype.destroy=function(){this.removeAllRowComps(),o.prototype.destroy.call(this)},t.prototype.removeAllRowComps=function(){var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.getRowsToRecycle=function(){var e=[];rt(this.rowCtrlsByRowIndex,function(n,i){null==i.getRowNode().id&&e.push(n)}),this.removeRowCtrls(e);var r={};return rt(this.rowCtrlsByRowIndex,function(n,i){var s=i.getRowNode();r[s.id]=i}),this.rowCtrlsByRowIndex={},r},t.prototype.removeRowCtrls=function(e){var r=this;e.forEach(function(n){var i=r.rowCtrlsByRowIndex[n];i&&(i.destroyFirstPass(),i.destroySecondPass()),delete r.rowCtrlsByRowIndex[n]})},t.prototype.onBodyScroll=function(e){"vertical"===e.direction&&this.redraw({afterScroll:!0})},t.prototype.redraw=function(e){void 0===e&&(e={});var n,r=e.afterScroll;this.stickyRowFeature&&Vo()&&(n=this.getCellToRestoreFocusToAfterRefresh()||void 0);var i=this.firstRenderedRow,s=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();var a=!1;if(this.stickyRowFeature&&(a=this.stickyRowFeature.checkStickyRows()),(!r||a||this.firstRenderedRow!==i||this.lastRenderedRow!==s)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,r),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(r),null!=n)){var g=this.getCellToRestoreFocusToAfterRefresh();null!=n&&null==g&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(n))}},t.prototype.removeRowCompsNotToDraw=function(e){var r={};e.forEach(function(s){return r[s]=!0});var i=Object.keys(this.rowCtrlsByRowIndex).filter(function(s){return!r[s]});this.removeRowCtrls(i)},t.prototype.calculateIndexesToDraw=function(e){var r=this,n=bu(this.firstRenderedRow,this.lastRenderedRow),i=function(m,C){var E=C.getRowNode().rowIndex;null!=E&&(E<r.firstRenderedRow||E>r.lastRenderedRow)&&r.doNotUnVirtualiseRow(C)&&n.push(E)};rt(this.rowCtrlsByRowIndex,i),rt(e,i),n.sort(function(m,C){return m-C});for(var s=[],a=0;a<n.length;a++){var d=n[a],g=this.paginationProxy.getRow(d);g&&!g.sticky&&s.push(d)}return s},t.prototype.recycleRows=function(e,r,n){var i=this;void 0===r&&(r=!1),void 0===n&&(n=!1);var s=this.calculateIndexesToDraw(e);this.removeRowCompsNotToDraw(s),this.printLayout&&(r=!1),s.forEach(function(d){w(i.createOrUpdateRowCtrl(d,e,r,n))}),e&&(!n||this.gridOptionsService.is("suppressAnimationFrame")||this.printLayout?this.destroyRowCtrls(e,r):this.beans.animationFrameService.addDestroyTask(function(){i.destroyRowCtrls(e,r),i.updateAllRowCtrls(),i.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls()},t.prototype.dispatchDisplayedRowsChanged=function(e){void 0===e&&(e=!1),this.eventService.dispatchEvent({type:M.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:e})},t.prototype.onDisplayedColumnsChanged=function(){var e=this.columnModel.isPinningLeft(),r=this.columnModel.isPinningRight();(this.pinningLeft!==e||r!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=r,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},t.prototype.redrawFullWidthEmbeddedRows=function(){var e=[];this.getFullWidthRowCtrls().forEach(function(r){var n=r.getRowNode().rowIndex;e.push(n.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})},t.prototype.getFullWidthRowCtrls=function(e){var r=this,n=this.mapRowNodes(e);return this.getAllRowCtrls().filter(function(i){if(!i.isFullWidth())return!1;var s=i.getRowNode();return!(null!=n&&!r.isRowInMap(s,n))})},t.prototype.createOrUpdateRowCtrl=function(e,r,n,i){var s,a=this.rowCtrlsByRowIndex[e];if(a||w(s=this.paginationProxy.getRow(e))&&w(r)&&r[s.id]&&s.alreadyRendered&&(a=r[s.id],r[s.id]=null),!a){if(s||(s=this.paginationProxy.getRow(e)),!w(s))return;a=this.createRowCon(s,n,i)}return s&&(s.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=a,a},t.prototype.destroyRowCtrls=function(e,r){var n=this,i=[];rt(e,function(s,a){if(a){if(n.cachedRowCtrls&&a.isCacheable())return void n.cachedRowCtrls.addRow(a);a.destroyFirstPass(),r?(n.zombieRowCtrls[a.getInstanceId()]=a,i.push(function(){a.destroySecondPass(),delete n.zombieRowCtrls[a.getInstanceId()]})):a.destroySecondPass()}}),r&&(i.push(function(){n.updateAllRowCtrls(),n.dispatchDisplayedRowsChanged()}),Xe(i))},t.prototype.getRowBuffer=function(){var e=this.gridOptionsService.getNum("rowBuffer");return"number"==typeof e?e<0&&(At(function(){return console.warn("AG Grid: rowBuffer should not be negative")},"warn rowBuffer negative"),e=0,this.gridOptionsService.set("rowBuffer",0)):e=10,e},t.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.gridOptionsService.getRowHeightAsNumber()},t.prototype.workOutFirstAndLastRowsToRender=function(){var e,r;if(this.rowContainerHeightService.updateOffset(),this.paginationProxy.isRowsToRender())if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.paginationProxy.getPageFirstRow(),r=this.paginationProxy.getPageLastRow();else{var n=this.getRowBufferInPixels(),i=this.ctrlsService.getGridBodyCtrl(),s=this.gridOptionsService.is("suppressRowVirtualisation"),a=!1,d=void 0,g=void 0;do{var m=this.paginationProxy.getPixelOffset(),C=this.paginationProxy.getCurrentPagePixelRange(),E=C.pageFirstPixel,b=C.pageLastPixel,L=this.rowContainerHeightService.getDivStretchOffset(),j=i.getScrollFeature().getVScrollPosition(),ee=j.top,se=j.bottom;s?(d=E+L,g=b+L):(d=Math.max(ee+m-n,E)+L,g=Math.min(se+m+n,b)+L),this.firstVisibleVPixel=Math.max(ee+m,E)+L,a=this.ensureAllRowsInRangeHaveHeightsCalculated(d,g)}while(a);var fe=this.paginationProxy.getRowIndexAtPixel(d),Te=this.paginationProxy.getRowIndexAtPixel(g),ke=this.paginationProxy.getPageFirstRow(),St=this.paginationProxy.getPageLastRow();fe<ke&&(fe=ke),Te>St&&(Te=St),e=fe,r=Te}else e=0,r=-1;var _t=this.gridOptionsService.isDomLayout("normal"),Gt=this.gridOptionsService.is("suppressMaxRenderedRowRestriction"),gt=Math.max(this.getRowBuffer(),500);_t&&!Gt&&r-e>gt&&(r=e+gt),(e!==this.firstRenderedRow||r!==this.lastRenderedRow)&&(this.firstRenderedRow=e,this.lastRenderedRow=r,this.eventService.dispatchEvent({type:M.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:r}))},t.prototype.dispatchFirstDataRenderedEvent=function(){var e=this;if(!this.dataFirstRenderedFired){this.dataFirstRenderedFired=!0;var r={type:M.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(function(){e.beans.eventService.dispatchEvent(r)})}},t.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(e,r){var n=this.paginationProxy.ensureRowHeightsValid(e,r,-1,-1);return n&&this.updateContainerHeights(),n},t.prototype.getFirstVisibleVerticalPixel=function(){return this.firstVisibleVPixel},t.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},t.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},t.prototype.doNotUnVirtualiseRow=function(e){var i=e.getRowNode(),s=this.focusService.isRowNodeFocused(i),a=e.isEditing();return!!(s||a||i.detail)&&!!this.paginationProxy.isRowPresent(i)},t.prototype.createRowCon=function(e,r,n){var i=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(i)return i;var s=this.gridOptionsService.is("suppressAnimationFrame");return new To(e,this.beans,r,n&&!s&&!this.printLayout,this.printLayout)},t.prototype.getRenderedNodes=function(){var e=this.rowCtrlsByRowIndex;return Object.keys(e).map(function(r){return e[r].getRowNode()})},t.prototype.getRowByPosition=function(e){var r,n=e.rowIndex;switch(e.rowPinned){case"top":r=this.topRowCtrls[n];break;case"bottom":r=this.bottomRowCtrls[n];break;default:(r=this.rowCtrlsByRowIndex[n])||(r=this.getStickyTopRowCtrls().find(function(i){return i.getRowNode().rowIndex===n})||null)}return r},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.isRangeInRenderedViewport=function(e,r){return!(null==e||null==r||r<this.firstRenderedRow||e>this.lastRenderedRow)},Li([A("animationFrameService")],t.prototype,"animationFrameService",void 0),Li([A("paginationProxy")],t.prototype,"paginationProxy",void 0),Li([A("columnModel")],t.prototype,"columnModel",void 0),Li([A("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Li([A("rowModel")],t.prototype,"rowModel",void 0),Li([A("focusService")],t.prototype,"focusService",void 0),Li([A("beans")],t.prototype,"beans",void 0),Li([A("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),Li([A("ctrlsService")],t.prototype,"ctrlsService",void 0),Li([we],t.prototype,"postConstruct",null),Li([je("rowRenderer")],t)}(Le),fv=function(){function o(t){this.entriesMap={},this.entriesList=[],this.maxCount=t}return o.prototype.addRow=function(t){if(this.entriesMap[t.getRowNode().id]=t,this.entriesList.push(t),t.setCached(!0),this.entriesList.length>this.maxCount){var e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}},o.prototype.getRow=function(t){if(null==t||null==t.id)return null;var e=this.entriesMap[t.id];return e?(this.removeFromCache(e),e.setCached(!1),e.getRowNode()!=t?null:e):null},o.prototype.removeFromCache=function(t){var e=t.getRowNode().id;delete this.entriesMap[e],Q(this.entriesList,t)},o.prototype.getEntries=function(){return this.entriesList},o}(),hf=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),gf=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},hv=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return hf(t,o),t.prototype.formatValue=function(e,r,n,i,s){void 0===s&&(s=!0);var d,a=null,g=e.getColDef();if(i?d=i:s&&(d=g.valueFormatter),d){var m={value:n,node:r,data:r?r.data:null,colDef:g,column:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};a="function"==typeof d?d(m):this.expressionService.evaluate(d,m)}else if(g.refData)return g.refData[n]||"";return null==a&&Array.isArray(n)&&(a=n.join(", ")),a},gf([A("expressionService")],t.prototype,"expressionService",void 0),gf([je("valueFormatterService")],t)}(Le),gv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),hu=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Gd=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return gv(t,o),t.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsService.get("pinnedTopRowData")),this.setPinnedBottomRowData(this.gridOptionsService.get("pinnedBottomRowData"))},t.prototype.isEmpty=function(e){return he("top"===e?this.pinnedTopRows:this.pinnedBottomRows)},t.prototype.isRowsToRender=function(e){return!this.isEmpty(e)},t.prototype.getRowAtPixel=function(e,r){var n="top"===r?this.pinnedTopRows:this.pinnedBottomRows;if(he(n))return 0;for(var i=0;i<n.length;i++){var s=n[i];if(s.rowTop+s.rowHeight-1>=e)return i}return n.length-1},t.prototype.setPinnedTopRowData=function(e){this.pinnedTopRows=this.createNodesFromData(e,!0),this.eventService.dispatchEvent({type:M.EVENT_PINNED_ROW_DATA_CHANGED})},t.prototype.setPinnedBottomRowData=function(e){this.pinnedBottomRows=this.createNodesFromData(e,!1),this.eventService.dispatchEvent({type:M.EVENT_PINNED_ROW_DATA_CHANGED})},t.prototype.createNodesFromData=function(e,r){var n=this,i=[];if(e){var s=0;e.forEach(function(a,d){var g=new er(n.beans);g.data=a,g.id=(r?er.ID_PREFIX_TOP_PINNED:er.ID_PREFIX_BOTTOM_PINNED)+d,g.rowPinned=r?"top":"bottom",g.setRowTop(s),g.setRowHeight(n.gridOptionsService.getRowHeightForNode(g).height),g.setRowIndex(d),s+=g.rowHeight,i.push(g)})}return i},t.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},t.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},t.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},t.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},t.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},t.prototype.getPinnedTopRow=function(e){return this.pinnedTopRows[e]},t.prototype.getPinnedBottomRow=function(e){return this.pinnedBottomRows[e]},t.prototype.forEachPinnedTopRow=function(e){he(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)},t.prototype.forEachPinnedBottomRow=function(e){he(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)},t.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},t.prototype.getTotalHeight=function(e){if(!e||0===e.length)return 0;var r=te(e);return r.rowTop+r.rowHeight},hu([A("beans")],t.prototype,"beans",void 0),hu([we],t.prototype,"init",null),hu([je("pinnedRowModel")],t)}(Le),Hd=function(){function o(t,e){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=t,this.pathRoot={rowNode:e,children:null},this.mapToItems[e.id]=this.pathRoot}return o.prototype.setInactive=function(){this.active=!1},o.prototype.isActive=function(){return this.active},o.prototype.depthFirstSearchChangedPath=function(t,e){if(t.children)for(var r=0;r<t.children.length;r++)this.depthFirstSearchChangedPath(t.children[r],e);e(t.rowNode)},o.prototype.depthFirstSearchEverything=function(t,e,r){if(t.childrenAfterGroup)for(var n=0;n<t.childrenAfterGroup.length;n++){var i=t.childrenAfterGroup[n];i.childrenAfterGroup?this.depthFirstSearchEverything(t.childrenAfterGroup[n],e,r):r&&e(i)}e(t)},o.prototype.forEachChangedNodeDepthFirst=function(t,e,r){void 0===e&&(e=!1),void 0===r&&(r=!1),this.active&&!r?this.depthFirstSearchChangedPath(this.pathRoot,t):this.depthFirstSearchEverything(this.pathRoot.rowNode,t,e)},o.prototype.executeFromRootNode=function(t){t(this.pathRoot.rowNode)},o.prototype.createPathItems=function(t){for(var e=t,r=0;!this.mapToItems[e.id];)this.mapToItems[e.id]={rowNode:e,children:null},r++,e=e.parent;return r},o.prototype.populateColumnsMap=function(t,e){var r=this;if(this.keepingColumns&&e)for(var n=t;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),e.forEach(function(i){return r.nodeIdsToColumns[n.id][i.getId()]=!0}),n=n.parent},o.prototype.linkPathItems=function(t,e){for(var r=t,n=0;n<e;n++){var i=this.mapToItems[r.id],s=this.mapToItems[r.parent.id];s.children||(s.children=[]),s.children.push(i),r=r.parent}},o.prototype.addParentNode=function(t,e){if(t&&!t.isRowPinned()){var r=this.createPathItems(t);this.linkPathItems(t,r),this.populateColumnsMap(t,e)}},o.prototype.canSkip=function(t){return this.active&&!this.mapToItems[t.id]},o.prototype.getValueColumnsForNode=function(t,e){if(!this.keepingColumns)return e;var r=this.nodeIdsToColumns[t.id];return e.filter(function(i){return r[i.getId()]})},o.prototype.getNotValueColumnsForNode=function(t,e){if(!this.keepingColumns)return null;var r=this.nodeIdsToColumns[t.id];return e.filter(function(i){return!r[i.getId()]})},o}(),yv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vd=function(o){function t(e){var r=o.call(this)||this;return r.state=t.STATE_WAITING_TO_LOAD,r.version=0,r.id=e,r}return yv(t,o),t.prototype.getId=function(){return this.id},t.prototype.load=function(){this.state=t.STATE_LOADING,this.loadFromDatasource()},t.prototype.getVersion=function(){return this.version},t.prototype.setStateWaitingToLoad=function(){this.version++,this.state=t.STATE_WAITING_TO_LOAD},t.prototype.getState=function(){return this.state},t.prototype.pageLoadFailed=function(e){this.isRequestMostRecentAndLive(e)&&(this.state=t.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},t.prototype.success=function(e,r){this.successCommon(e,r)},t.prototype.pageLoaded=function(e,r,n){this.successCommon(e,{rowData:r,rowCount:n})},t.prototype.isRequestMostRecentAndLive=function(e){var r=e===this.version,n=this.isAlive();return r&&n},t.prototype.successCommon=function(e,r){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state=t.STATE_LOADED,this.processServerResult(r))},t.prototype.dispatchLoadCompleted=function(e){void 0===e&&(e=!0),this.dispatchEvent({type:t.EVENT_LOAD_COMPLETE,success:e,block:this})},t.EVENT_LOAD_COMPLETE="loadComplete",t.STATE_WAITING_TO_LOAD="needsLoading",t.STATE_LOADING="loading",t.STATE_LOADED="loaded",t.STATE_FAILED="failed",t}(Le),mv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Cc=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Cv=function(o,t){return function(e,r){t(e,r,o)}},wv=function(o){function t(){var r=null!==o&&o.apply(this,arguments)||this;return r.activeBlockLoadsCount=0,r.blocks=[],r.active=!0,r}var e;return mv(t,o),e=t,t.prototype.postConstruct=function(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();var r=this.gridOptionsService.getNum("blockLoadDebounceMillis");r&&r>0&&(this.checkBlockToLoadDebounce=Vt.debounce(this.performCheckBlocksToLoad.bind(this),r))},t.prototype.setBeans=function(r){this.logger=r.create("RowNodeBlockLoader")},t.prototype.getMaxConcurrentDatasourceRequests=function(){var r=this.gridOptionsService.getNum("maxConcurrentDatasourceRequests");return null==r?2:r<=0?void 0:r},t.prototype.addBlock=function(r){this.blocks.push(r),r.addEventListener(Vd.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},t.prototype.removeBlock=function(r){Vt.removeFromArray(this.blocks,r)},t.prototype.destroy=function(){o.prototype.destroy.call(this),this.active=!1},t.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:e.BLOCK_LOADED_EVENT}),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:e.BLOCK_LOADER_FINISHED_EVENT})},t.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},t.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void this.logger.log("checkBlockToLoad: max loads exceeded");var r=this.getAvailableLoadingCount(),n=this.blocks.filter(function(i){return i.getState()===Vd.STATE_WAITING_TO_LOAD}).slice(0,r);this.registerLoads(n.length),n.forEach(function(i){return i.load()}),this.printCacheStatus()}},t.prototype.getBlockState=function(){if(this.gridOptionsService.isRowModelType("serverSide"))return this.rowModel.getBlockStates();var n={};return this.blocks.forEach(function(i){var s=i.getBlockStateJson();n[s.id]=s.state}),n},t.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},t.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},t.prototype.registerLoads=function(r){this.activeBlockLoadsCount+=r},t.prototype.getAvailableLoadingCount=function(){return void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0},t.BLOCK_LOADED_EVENT="blockLoaded",t.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",Cc([A("rowModel")],t.prototype,"rowModel",void 0),Cc([we],t.prototype,"postConstruct",null),Cc([Cv(0,Sr("loggerFactory"))],t.prototype,"setBeans",null),e=Cc([je("rowNodeBlockLoader")],t)}(Le),Sv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Bd=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},_v=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.currentPage=0,e.topDisplayedRowIndex=0,e.bottomDisplayedRowIndex=0,e.pixelOffset=0,e.masterRowCount=0,e}return Sv(t,o),t.prototype.postConstruct=function(){this.active=this.gridOptionsService.is("pagination"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,M.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationPageSizeChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},t.prototype.ensureRowHeightsValid=function(e,r,n,i){var s=this.rowModel.ensureRowHeightsValid(e,r,this.getPageFirstRow(),this.getPageLastRow());return s&&this.calculatePages(),s},t.prototype.isPaginateChildRows=function(){return!(!this.gridOptionsService.is("groupRemoveSingleChildren")&&!this.gridOptionsService.is("groupRemoveLowestSingleChildren"))||this.gridOptionsService.is("paginateChildRows")},t.prototype.onModelUpdated=function(e){this.calculatePages(),this.eventService.dispatchEvent({type:M.EVENT_PAGINATION_CHANGED,animate:!!e&&e.animate,newData:!!e&&e.newData,newPage:!!e&&e.newPage,keepRenderedRows:!!e&&e.keepRenderedRows})},t.prototype.onPaginationPageSizeChanged=function(){this.active=this.gridOptionsService.is("pagination"),this.calculatePages(),this.eventService.dispatchEvent({type:M.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0})},t.prototype.goToPage=function(e){this.active&&this.currentPage!==e&&"number"==typeof this.currentPage&&(this.currentPage=e,this.onModelUpdated({type:M.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0}))},t.prototype.getPixelOffset=function(){return this.pixelOffset},t.prototype.getRow=function(e){return this.rowModel.getRow(e)},t.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},t.prototype.getRowIndexAtPixel=function(e){return this.rowModel.getRowIndexAtPixel(e)},t.prototype.getCurrentPageHeight=function(){return W(this.topRowBounds)||W(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},t.prototype.getCurrentPagePixelRange=function(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}},t.prototype.isRowPresent=function(e){return!!this.rowModel.isRowPresent(e)&&e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex},t.prototype.isEmpty=function(){return this.rowModel.isEmpty()},t.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},t.prototype.forEachNode=function(e){return this.rowModel.forEachNode(e)},t.prototype.forEachNodeOnPage=function(e){for(var r=this.getPageFirstRow(),n=this.getPageLastRow(),i=r;i<=n;i++){var s=this.getRow(i);s&&e(s)}},t.prototype.getType=function(){return this.rowModel.getType()},t.prototype.getRowBounds=function(e){var r=this.rowModel.getRowBounds(e);return r.rowIndex=e,r},t.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},t.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},t.prototype.getRowCount=function(){return this.rowModel.getRowCount()},t.prototype.getPageForIndex=function(e){return Math.floor(e/this.pageSize)},t.prototype.goToPageWithIndex=function(e){if(this.active){var r=this.getPageForIndex(e);this.goToPage(r)}},t.prototype.isRowInPage=function(e){return!this.active||this.getPageForIndex(e.rowIndex)===this.currentPage},t.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},t.prototype.getCurrentPage=function(){return this.currentPage},t.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},t.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},t.prototype.goToFirstPage=function(){this.goToPage(0)},t.prototype.goToLastPage=function(){var e=this.rowModel.getRowCount(),r=Math.floor(e/this.pageSize);this.goToPage(r)},t.prototype.getPageSize=function(){return this.pageSize},t.prototype.getTotalPages=function(){return this.totalPages},t.prototype.setPageSize=function(){this.pageSize=this.gridOptionsService.getNum("paginationPageSize"),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)},t.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(w(this.topRowBounds)?this.topRowBounds.rowTop:0)},t.prototype.setPixelOffset=function(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:M.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},t.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},t.prototype.adjustCurrentPageIfInvalid=function(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)},t.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();var n=this.pageSize*(this.currentPage+1)-1;if(n>e&&(n=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),n===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var i=this.rowModel.getTopLevelRowDisplayedIndex(n+1);this.bottomDisplayedRowIndex=i-1}}},t.prototype.getMasterRowCount=function(){return this.masterRowCount},t.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}else this.setZeroRows()},t.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},Bd([A("rowModel")],t.prototype,"rowModel",void 0),Bd([we],t.prototype,"postConstruct",null),Bd([je("paginationProxy")],t)}(Le),Ev=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),vf=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Rv=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Ev(t,o),t.prototype.processAllCellClasses=function(e,r,n,i){this.processClassRules(e.cellClassRules,r,n,i),this.processStaticCellClasses(e,r,n)},t.prototype.processClassRules=function(e,r,n,i){if(null!=e){for(var s=Object.keys(e),a={},d={},g=function(E){var j,b=s[E],L=e[b];"string"==typeof L?j=m.expressionService.evaluate(L,r):"function"==typeof L&&(j=L(r)),b.split(" ").forEach(function(ee){null==ee||""==ee.trim()||(j?a[ee]=!0:d[ee]=!0)})},m=this,C=0;C<s.length;C++)g(C);i&&Object.keys(d).forEach(i),Object.keys(a).forEach(n)}},t.prototype.getStaticCellClasses=function(e,r){var i,n=e.cellClass;return n?("string"==typeof(i="function"==typeof n?n(r):n)&&(i=[i]),i||[]):[]},t.prototype.processStaticCellClasses=function(e,r,n){this.getStaticCellClasses(e,r).forEach(function(s){n(s)})},vf([A("expressionService")],t.prototype,"expressionService",void 0),vf([je("stylingService")],t)}(Le),Av=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Dv=function(o){function t(e){return o.call(this,e,"ag-toggle-button")||this}return Av(t,o),t.prototype.setValue=function(e,r){return o.prototype.setValue.call(this,e,r),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},t}(Ts),xv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ov=function(o){function t(e){return o.call(this,e,"ag-text-area",null,"textarea")||this}return xv(t,o),t.prototype.setValue=function(e,r){var n=o.prototype.setValue.call(this,e,r);return this.eInput.value=e,n},t.prototype.setCols=function(e){return this.eInput.cols=e,this},t.prototype.setRows=function(e){return this.eInput.rows=e,this},t}(Yi),Tv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),bv=function(o){function t(e){return o.call(this,e,"ag-date-field","date")||this}return Tv(t,o),t.prototype.postConstruct=function(){var e=this;o.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));var r=Cn();this.addManagedListener(this.eInput,"mousedown",function(){e.isDisabled()||r||e.eInput.focus()}),this.eInput.step="any"},t.prototype.onWheel=function(e){document.activeElement===this.eInput&&e.preventDefault()},t.prototype.setMin=function(e){var r,n=e instanceof Date?null!==(r=cr(e??null,!1))&&void 0!==r?r:void 0:e;return this.min===n||(this.min=n,Zn(this.eInput,"min",n)),this},t.prototype.setMax=function(e){var r,n=e instanceof Date?null!==(r=cr(e??null,!1))&&void 0!==r?r:void 0:e;return this.max===n||(this.max=n,Zn(this.eInput,"max",n)),this},t.prototype.setStep=function(e){return this.step===e||(this.step=e,Zn(this.eInput,"step",e)),this},t.prototype.getDate=function(){var e;if(this.eInput.validity.valid)return null!==(e=Wr(this.getValue()))&&void 0!==e?e:void 0},t.prototype.setDate=function(e,r){this.setValue(cr(e??null,!1),r)},t}(h),Pv=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),l=function(o){function t(e){return o.call(this,e,"ag-range-field","range")||this}return Pv(t,o),t.prototype.postConstruct=function(){o.prototype.postConstruct.call(this);var e=this.config,r=e.min,n=e.max,i=e.step;null!=r&&this.setMinValue(r),null!=n&&this.setMaxValue(n),this.setStep(i||1)},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(r){e.setValue(r.target.value)})},t.prototype.setMinValue=function(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this},t.prototype.setMaxValue=function(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this},t.prototype.setStep=function(e){return this.eInput.setAttribute("step",e.toString()),this},t.prototype.setValue=function(e,r){null!=this.min&&(e=Math.max(parseFloat(e),this.min).toString()),null!=this.max&&(e=Math.min(parseFloat(e),this.max).toString());var n=o.prototype.setValue.call(this,e,r);return this.eInput.value=e,n},t}(Yi),c=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),y=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},_=function(o){function t(e,r){var n=o.call(this,'<div class="ag-rich-select-row" role="presentation"></div>')||this;return n.params=e,n.wrapperEl=r,n}return c(t,o),t.prototype.postConstruct=function(){this.addManagedListener(this.getGui(),"mouseup",this.onMouseUp.bind(this))},t.prototype.setState=function(e){var r="";this.params.valueFormatter&&(r=this.params.valueFormatter(e)),this.populateWithRenderer(e,r)||this.populateWithoutRenderer(e,r),this.value=e},t.prototype.highlightString=function(e){var r=this.parsedValue;if(!this.params.cellRenderer&&w(r))if(w(e)){var n=r?.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(n>=0){var i=n+e.length,s=Xr(r.slice(0,n),!0),a=Xr(r.slice(n,i),!0),d=Xr(r.slice(i));this.renderValueWithoutRenderer(s+'<span class="ag-rich-select-row-text-highlight">'+a+"</span>"+d)}}else this.renderValueWithoutRenderer(r)},t.prototype.updateHighlighted=function(e){var r,n=this.getGui(),i="ag-rich-select-row-"+this.getCompId();null===(r=n.parentElement)||void 0===r||r.setAttribute("id",i),e&&(us(this.getParentComponent().getAriaElement(),i),this.wrapperEl.setAttribute("data-active-option",i)),Ui(n.parentElement,e),this.addOrRemoveCssClass("ag-rich-select-row-selected",e)},t.prototype.populateWithoutRenderer=function(e,r){var n=this.gridOptionsService.getDocument(),i=this.getGui(),s=n.createElement("span");s.style.overflow="hidden",s.style.textOverflow="ellipsis";var a=Xr(w(r)?r:e,!0);this.parsedValue=w(a)?a:null,i.appendChild(s),this.renderValueWithoutRenderer(a)},t.prototype.renderValueWithoutRenderer=function(e){var r=this.getGui().querySelector("span");r&&(r.innerHTML=w(e)?e:"&nbsp;")},t.prototype.populateWithRenderer=function(e,r){var i,s,n=this;return this.params.cellRenderer&&(s=this.userComponentFactory.getCellRendererDetails(this.params,{value:e,valueFormatted:r,api:this.gridOptionsService.api})),s&&(i=s.newAgStackInstance()),i&&$o(i,this.getGui()),!!i&&(i.then(function(a){n.addDestroyFunc(function(){n.getContext().destroyBean(a)})}),!0)},t.prototype.onMouseUp=function(){var e=this.getParentComponent(),r={type:M.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value};e?.dispatchEvent(r)},y([A("userComponentFactory")],t.prototype,"userComponentFactory",void 0),y([we],t.prototype,"postConstruct",null),t}(qt),x=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),oe=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return x(t,o),t.prototype.initialiseTabGuard=function(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var r=[this.eTopGuard,this.eBottomGuard],n={setTabIndex:function(i){r.forEach(function(s){return null!=i?s.setAttribute("tabindex",i):s.removeAttribute("tabindex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new bn({comp:n,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,focusInnerElement:e.focusInnerElement,handleKeyDown:e.handleKeyDown,onTabKeyDown:e.onTabKeyDown,shouldStopEventPropagation:e.shouldStopEventPropagation}))},t.prototype.createTabGuard=function(e){var r=document.createElement("div");return r.classList.add(lu.TAB_GUARD,"top"===e?lu.TAB_GUARD_TOP:lu.TAB_GUARD_BOTTOM),ln(r,"presentation"),r},t.prototype.addTabGuards=function(e,r){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",r)},t.prototype.removeAllChildrenExceptTabGuards=function(){var e=[this.eTopGuard,this.eBottomGuard];un(this.getFocusableElement()),this.addTabGuards.apply(this,function(o,t){for(var e=0,r=t.length,n=o.length;e<r;e++,n++)o[n]=t[e];return o}([],function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i}(e)))},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1),this.tabGuardCtrl.forceFocusOutOfContainer(e)},t.prototype.appendChild=function(e,r){Cs(e)||(e=e.getGui());var n=this.eBottomGuard;n?n.insertAdjacentElement("beforebegin",e):o.prototype.appendChild.call(this,e,r)},t}(qt),ve=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ze=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},$e=function(o){function t(e){var r=o.call(this,t.getTemplate(e?.cssIdentifier||"default"))||this;r.renderedRows=new Map,r.rowHeight=20;var n=e||{},i=n.cssIdentifier,a=n.ariaRole,d=void 0===a?"listbox":a,g=n.listName;return r.cssIdentifier=void 0===i?"default":i,r.ariaRole=d,r.listName=g,r}return ve(t,o),t.prototype.postConstruct=function(){var e=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(r){return e.onFocusIn(r)},onFocusOut:function(r){return e.onFocusOut(r)},focusInnerElement:function(r){return e.focusInnerElement(r)},onTabKeyDown:function(r){return e.onTabKeyDown(r)},handleKeyDown:function(r){return e.handleKeyDown(r)}}),this.setAriaProperties(),this.addManagedListener(this.eventService,M.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))},t.prototype.onGridStylesChanged=function(){this.rowHeight=this.getItemHeight(),this.refresh()},t.prototype.setAriaProperties=function(){var r=this.localeService.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),n=this.eContainer;ln(n,this.ariaRole),ci(n,r)},t.prototype.addResizeObserver=function(){var e=this,n=this.resizeObserverService.observeResize(this.getGui(),function(){return e.animationFrameService.requestAnimationFrame(function(){return e.drawVirtualRows()})});this.addDestroyFunc(n)},t.prototype.focusInnerElement=function(e){this.focusRow(e?this.model.getRowCount()-1:0)},t.prototype.onFocusIn=function(e){var r=e.target;return r.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=vl(r)-1),!1},t.prototype.onFocusOut=function(e){return this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null),!1},t.prototype.handleKeyDown=function(e){switch(e.key){case Ce.UP:case Ce.DOWN:this.navigate(e.key===Ce.UP)&&e.preventDefault()}},t.prototype.onTabKeyDown=function(e){this.navigate(e.shiftKey)?e.preventDefault():(ge(e),this.forceFocusOutOfContainer(e.shiftKey))},t.prototype.navigate=function(e){if(null==this.lastFocusedRowIndex)return!1;var r=this.lastFocusedRowIndex+(e?-1:1);return!(r<0||r>=this.model.getRowCount()||(this.focusRow(r),0))},t.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},t.prototype.focusRow=function(e){var r=this;this.ensureIndexVisible(e),window.setTimeout(function(){if(r.isAlive()){var n=r.renderedRows.get(e);n&&n.eDiv.focus()}},10)},t.prototype.getComponentAt=function(e){var r=this.renderedRows.get(e);return r&&r.rowComponent},t.prototype.forEachRenderedRow=function(e){this.renderedRows.forEach(function(r,n){return e(r.rowComponent,n)})},t.getTemplate=function(e){return'<div class="ag-virtual-list-viewport ag-'+e+'-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-'+e+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},t.prototype.getItemHeight=function(){return this.environment.getListItemHeight()},t.prototype.ensureIndexVisible=function(e,r){void 0===r&&(r=!0);var n=this.model.getRowCount();if("number"!=typeof e||e<0||e>=n)return console.warn("AG Grid: invalid row index for ensureIndexVisible: "+e),!1;var i=e*this.rowHeight,s=i+this.rowHeight,a=this.getGui(),d=a.scrollTop,g=a.offsetHeight,C=r?0:this.rowHeight,b=d+g<s-C;return d>i+C?(a.scrollTop=i,!0):!!b&&(a.scrollTop=s-g,!0)},t.prototype.setComponentCreator=function(e){this.componentCreator=e},t.prototype.setComponentUpdater=function(e){this.componentUpdater=e},t.prototype.getRowHeight=function(){return this.rowHeight},t.prototype.getScrollTop=function(){return this.getGui().scrollTop},t.prototype.setRowHeight=function(e){this.rowHeight=e,this.refresh()},t.prototype.refresh=function(e){var r=this;if(null!=this.model&&this.isAlive()){var n=this.model.getRowCount();this.eContainer.style.height=n*this.rowHeight+"px",B(function(){return r.eContainer.clientHeight>=n*r.rowHeight},function(){r.isAlive()&&(r.canSoftRefresh(e)?r.drawVirtualRows(!0):(r.clearVirtualRows(),r.drawVirtualRows()))})}},t.prototype.canSoftRefresh=function(e){return!!(e&&this.renderedRows.size&&"function"==typeof this.model.areRowsEqual&&this.componentUpdater)},t.prototype.clearVirtualRows=function(){var e=this;this.renderedRows.forEach(function(r,n){return e.removeRow(n)})},t.prototype.drawVirtualRows=function(e){if(this.isAlive()&&this.model){var r=this.getGui(),n=r.scrollTop,i=n+r.offsetHeight,s=Math.floor(n/this.rowHeight),a=Math.floor(i/this.rowHeight);this.ensureRowsRendered(s,a,e)}},t.prototype.ensureRowsRendered=function(e,r,n){var i=this;this.renderedRows.forEach(function(a,d){(d<e||d>r)&&d!==i.lastFocusedRowIndex&&i.removeRow(d)}),n&&this.refreshRows();for(var s=e;s<=r;s++)this.renderedRows.has(s)||s<this.model.getRowCount()&&this.insertRow(s)},t.prototype.insertRow=function(e){var r=this,n=this.model.getRow(e),i=document.createElement("div");if(i.classList.add("ag-virtual-list-item","ag-"+this.cssIdentifier+"-virtual-list-item"),ln(i,"tree"===this.ariaRole?"treeitem":"option"),ki(i,this.model.getRowCount()),yo(i,e+1),i.setAttribute("tabindex","-1"),"function"==typeof this.model.isRowSelected){var s=this.model.isRowSelected(e);Ui(i,!!s),Fa(i,s)}i.style.height=this.rowHeight+"px",i.style.top=this.rowHeight*e+"px";var a=this.componentCreator(n,i);a.addGuiEventListener("focusin",function(){return r.lastFocusedRowIndex=e}),i.appendChild(a.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",i):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",i):this.eContainer.appendChild(i),this.renderedRows.set(e,{rowComponent:a,eDiv:i,value:n})},t.prototype.removeRow=function(e){var r=this.renderedRows.get(e);this.eContainer.removeChild(r.eDiv),this.destroyBean(r.rowComponent),this.renderedRows.delete(e)},t.prototype.refreshRows=function(){var e=this,r=this.model.getRowCount();this.renderedRows.forEach(function(n,i){var s,a;if(i>=r)e.removeRow(i);else{var d=e.model.getRow(i);null!==(a=(s=e.model).areRowsEqual)&&void 0!==a&&a.call(s,n.value,d)?e.componentUpdater(d,n.rowComponent):e.removeRow(i)}})},t.prototype.addScrollListener=function(){var e=this;this.addGuiEventListener("scroll",function(){return e.drawVirtualRows()},{passive:!0})},t.prototype.setModel=function(e){this.model=e},t.prototype.getAriaElement=function(){return this.eContainer},t.prototype.destroy=function(){this.isAlive()&&(this.clearVirtualRows(),o.prototype.destroy.call(this))},ze([A("resizeObserverService")],t.prototype,"resizeObserverService",void 0),ze([A("animationFrameService")],t.prototype,"animationFrameService",void 0),ze([tt("eContainer")],t.prototype,"eContainer",void 0),ze([we],t.prototype,"postConstruct",null),t}(oe),Je=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),mt=function(){return mt=Object.assign||function(o){for(var t,e=1,r=arguments.length;e<r;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o},mt.apply(this,arguments)},Lt=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},dr=function(o){function t(e){var r,n,i=o.call(this,mt(mt({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"smallDown",ariaRole:"combobox",template:null!==(r=e?.template)&&void 0!==r?r:'\n    <div class="ag-picker-field" role="presentation">\n        <div ref="eLabel"></div>\n            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed">\n            <div ref="eDisplayField" class="ag-picker-field-display"></div>\n            <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>\n            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n        </div>\n    </div>',modalPicker:!1},e),{maxPickerHeight:null!==(n=e?.maxPickerHeight)&&void 0!==n?n:"calc(var(--ag-row-height) * 6.5)"}))||this;i.searchString="",i.highlightedItem=-1,i.lastRowHovered=-1,i.searchStringCreator=null;var s=e||{},a=s.cellRowHeight,d=s.value,g=s.valueList,m=s.searchStringCreator;return null!=a&&(i.cellRowHeight=a),void 0!==d&&(i.value=d),null!=g&&(i.values=g),m&&(i.searchStringCreator=m),i}return Je(t,o),t.prototype.postConstruct=function(){var r,e=this;o.prototype.postConstruct.call(this),this.createLoadingElement(),this.createListComponent();var n=this.config,i=n.allowTyping,s=n.placeholder;i?(this.eInput.setAutoComplete(!1).setInputPlaceholder(s),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.eWrapper.tabIndex=null!==(r=this.gridOptionsService.getNum("tabIndex"))&&void 0!==r?r:0;var a=this.config.searchDebounceDelay;this.clearSearchString=He(this.clearSearchString,void 0===a?300:a),this.renderSelectedValue(),i&&(this.eInput.onValueChange(function(g){return e.searchTextFromString(g)}),this.addManagedListener(this.eWrapper,"focus",this.onWrapperFocus.bind(this))),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))},t.prototype.createLoadingElement=function(){var e=this.gridOptionsService.getDocument(),r=this.localeService.getLocaleTextFunc(),n=e.createElement("div");n.classList.add("ag-loading-text"),n.innerText=r("loadingOoo","Loading..."),this.eLoading=n},t.prototype.createListComponent=function(){var e=this;this.listComponent=this.createBean(new $e({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this)),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,M.EVENT_FIELD_PICKER_VALUE_SELECTED,function(g){e.onListValueSelected(g.value,g.fromEnterKey)});var r=this.cellRowHeight;r&&this.listComponent.setRowHeight(r);var n=this.listComponent.getGui(),i=this.listComponent.getAriaElement();this.addManagedListener(n,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(n,"mousedown",function(g){return g.preventDefault()}),n.classList.add("ag-rich-select-list");var s="ag-rich-select-list-"+this.listComponent.getCompId();i.setAttribute("id",s),ci(i,this.localeService.getLocaleTextFunc()(this.config.pickerAriaLabelKey,this.config.pickerAriaLabelValue)),Ks(this.eWrapper,i)},t.prototype.renderSelectedValue=function(){var d,g,e=this,r=this,n=r.value,i=r.eDisplayField,s=r.config,a=this.config.valueFormatter?this.config.valueFormatter(n):n;if(s.allowTyping)this.eInput.setValue(a);else if(s.cellRenderer&&(d=this.userComponentFactory.getCellRendererDetails(this.config,{value:n,valueFormatted:a,api:this.gridOptionsService.api})),d&&(g=d.newAgStackInstance()),g)un(i),$o(g,i),g.then(function(C){e.addDestroyFunc(function(){return e.getContext().destroyBean(C)})});else if(w(this.value))i.innerText=a,i.classList.remove("ag-display-as-placeholder");else{var m=s.placeholder;w(m)?(i.innerHTML=""+Xr(m),i.classList.add("ag-display-as-placeholder")):un(i)}},t.prototype.getCurrentValueIndex=function(){var r=this.currentList,n=this.value;if(null==n)return-1;for(var i=0;i<r.length;i++)if(r[i]===n)return i;return-1},t.prototype.highlightFilterMatch=function(){var r,e=this;null===(r=this.listComponent)||void 0===r||r.forEachRenderedRow(function(n,i){n.highlightString(e.searchString)})},t.prototype.highlightSelectedValue=function(e){var n,r=this;null==e&&(e=this.getCurrentValueIndex()),this.highlightedItem=e,null===(n=this.listComponent)||void 0===n||n.forEachRenderedRow(function(i,s){i.updateHighlighted(-1!==e&&r.highlightedItem===s)})},t.prototype.setRowHeight=function(e){e!==this.cellRowHeight&&(this.cellRowHeight=e),this.listComponent&&this.listComponent.setRowHeight(e)},t.prototype.createPickerComponent=function(){var e=this.values;return e&&this.setValueList({valueList:e}),this.listComponent},t.prototype.setSearchStringCreator=function(e){this.searchStringCreator=e},t.prototype.setValueList=function(e){var r=e.valueList,n=e.refresh;this.listComponent&&this.currentList!==r&&(this.currentList=r,this.listComponent.setModel({getRowCount:function(){return r.length},getRow:function(i){return r[i]}}),n&&(this.values?this.listComponent.refresh():(this.values=r,this.isPickerDisplayed&&this.showCurrentValueInPicker())))},t.prototype.showPicker=function(){o.prototype.showPicker.call(this),this.showCurrentValueInPicker()},t.prototype.showCurrentValueInPicker=function(){var e,r;if(this.listComponent){if(!this.currentList)return void(this.isPickerDisplayed&&this.eLoading&&this.listComponent.appendChild(this.eLoading));null!==(e=this.eLoading)&&void 0!==e&&e.offsetParent&&(null===(r=this.eLoading.parentElement)||void 0===r||r.removeChild(this.eLoading));var n=this.getCurrentValueIndex();-1!==n?(this.listComponent.refresh(),this.listComponent.ensureIndexVisible(n),this.listComponent.refresh(!0),this.highlightSelectedValue(n)):this.listComponent.refresh()}},t.prototype.beforeHidePicker=function(){this.highlightedItem=-1,o.prototype.beforeHidePicker.call(this)},t.prototype.onWrapperFocus=function(e){this.eInput&&this.eInput.getFocusableElement().focus()},t.prototype.onWrapperFocusOut=function(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()},t.prototype.buildSearchStringFromKeyboardEvent=function(e){var r=e.key;if(r===Ce.BACKSPACE)this.searchString=this.searchString.slice(0,-1),r="";else if(!ar(e))return;e.preventDefault(),this.searchTextFromCharacter(r)},t.prototype.searchTextFromCharacter=function(e){this.searchString+=e,this.runSearch(),this.clearSearchString()},t.prototype.searchTextFromString=function(e){null==e&&(e=""),this.searchString=e,this.runSearch()},t.prototype.buildSearchStrings=function(e){var i,r=this.config.valueFormatter,n=void 0===r?function(s){return s}:r;return"number"==typeof e[0]||"string"==typeof e[0]?i=e.map(function(s){return n(s)}):"object"==typeof e[0]&&this.searchStringCreator&&(i=this.searchStringCreator(e)),i},t.prototype.getSuggestionsAndFilteredValues=function(e,r){var n=this,i=[],s=[];if(!e.length)return{suggestions:i,filteredValues:s};var a=this.config,g=a.searchType,m=void 0===g?"fuzzy":g,E=a.filterList&&a.allowTyping;if("fuzzy"===m){var b=Lo(this.searchString,r,!0);i=b.values;var L=b.indices;if(E&&L.length)for(var j=0;j<L.length;j++)s.push(this.values[L[j]])}else i=r.filter(function(ee,se){var fe=ee.toLocaleLowerCase(),Te=n.searchString.toLocaleLowerCase(),ke="match"===m?fe.startsWith(Te):-1!==fe.indexOf(Te);return E&&ke&&s.push(n.values[se]),ke});return{suggestions:i,filteredValues:s}},t.prototype.filterListModel=function(e){var r=this.config;!r.allowTyping||!r.filterList||this.setValueList({valueList:e,refresh:!0})},t.prototype.runSearch=function(){var e,r,n,i=this.values,s=this.buildSearchStrings(i);if(s){var a=this.getSuggestionsAndFilteredValues(this.searchString,s),d=a.suggestions,g=a.filteredValues,m=this.config,b=m.highlightMatch,L=m.searchType,j=void 0===L?"fuzzy":L,ee=g.length,se=!(!m.allowTyping||!m.filterList||""===this.searchString);if(se&&this.filterListModel(se?g:i),d.length){var fe=se?0:s.indexOf(d[0]);this.selectListItem(fe),b&&"fuzzy"!==j&&this.highlightFilterMatch()}else if(this.highlightSelectedValue(-1),!se||ee)null===(e=this.listComponent)||void 0===e||e.ensureIndexVisible(0);else if(se){this.getAriaElement().removeAttribute("data-active-option");var Te=null===(r=this.listComponent)||void 0===r?void 0:r.getAriaElement();Te&&us(Te,null)}var ke=null===(n=this.listComponent)||void 0===n?void 0:n.getGui();ke?.classList.toggle("ag-hidden",se&&!ee)}else this.highlightSelectedValue(-1)},t.prototype.clearSearchString=function(){this.searchString=""},t.prototype.selectListItem=function(e,r,n){!this.isPickerDisplayed||!this.listComponent||e<0||e>=this.currentList.length||(this.listComponent.ensureIndexVisible(e,!r)&&!n&&this.listComponent.refresh(!0),this.highlightSelectedValue(e))},t.prototype.setValue=function(e,r,n){var i=this.currentList.indexOf(e);return-1===i?this:(this.value=e,n||this.selectListItem(i),this.renderSelectedValue(),o.prototype.setValue.call(this,e,r))},t.prototype.createRowComponent=function(e){var r=new _(this.config,this.eWrapper);r.setParentComponent(this.listComponent),this.getContext().createBean(r),r.setState(e);var n=this.config,s=n.searchType;return n.highlightMatch&&"fuzzy"!==(void 0===s?"fuzzy":s)&&r.highlightString(this.searchString),r},t.prototype.getRowForMouseEvent=function(e){var r=this.listComponent;if(!r)return-1;var n=r?.getGui(),i=n.getBoundingClientRect(),s=r.getScrollTop();return Math.floor((e.clientY-i.top+s)/r.getRowHeight())},t.prototype.onPickerMouseMove=function(e){if(this.listComponent){var r=this.getRowForMouseEvent(e);-1!==r&&r!=this.lastRowHovered&&(this.lastRowHovered=r,this.selectListItem(r,!0,!0))}},t.prototype.onNavigationKeyDown=function(e,r){e.preventDefault();var n=r===Ce.DOWN;if(this.isPickerDisplayed||!n){var i=this.highlightedItem;this.selectListItem(-1===i?0:i+(n?1:-1),!1,!0)}else this.showPicker()},t.prototype.onEnterKeyDown=function(e){this.isPickerDisplayed&&(e.preventDefault(),this.onListValueSelected(this.currentList[this.highlightedItem],!0))},t.prototype.onTabKeyDown=function(){this.isPickerDisplayed&&this.setValue(this.currentList[this.highlightedItem],!1,!0)},t.prototype.onListValueSelected=function(e,r){this.setValue(e,!1,!0),this.dispatchPickerEvent(e,r),this.hidePicker()},t.prototype.dispatchPickerEvent=function(e,r){this.dispatchEvent({type:M.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:r,value:e})},t.prototype.getFocusableElement=function(){return this.config.allowTyping?this.eInput.getFocusableElement():o.prototype.getFocusableElement.call(this)},t.prototype.onKeyDown=function(e){var r=e.key,n=this.config.allowTyping;switch(r){case Ce.LEFT:case Ce.RIGHT:case Ce.PAGE_HOME:case Ce.PAGE_END:n||e.preventDefault();break;case Ce.PAGE_UP:case Ce.PAGE_DOWN:e.preventDefault();break;case Ce.DOWN:case Ce.UP:this.onNavigationKeyDown(e,r);break;case Ce.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),ge(e),this.hidePicker());break;case Ce.ENTER:this.onEnterKeyDown(e);break;case Ce.TAB:this.onTabKeyDown();break;default:n||this.buildSearchStringFromKeyboardEvent(e)}},t.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),this.eLoading=void 0,o.prototype.destroy.call(this)},Lt([A("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Lt([tt("eInput")],t.prototype,"eInput",void 0),t}(Ll),Kt=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),pr=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Tr=function(o){function t(e){var r=o.call(this,e,t.TEMPLATE)||this;return r.labelAlignment="top",r}return Kt(t,o),t.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},t.prototype.onValueChange=function(e){var r=this,n=M.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,n,function(){var i=parseFloat(r.eText.getValue());r.eSlider.setValue(i.toString(),!0),e(i||0)}),this.addManagedListener(this.eSlider,n,function(){var i=r.eSlider.getValue();r.eText.setValue(i,!0),e(parseFloat(i))}),this},t.prototype.setSliderWidth=function(e){return this.eSlider.setWidth(e),this},t.prototype.setTextFieldWidth=function(e){return this.eText.setWidth(e),this},t.prototype.setMinValue=function(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this},t.prototype.setMaxValue=function(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this},t.prototype.getValue=function(){return this.eText.getValue()},t.prototype.setValue=function(e){return this.getValue()===e||(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),this.dispatchEvent({type:M.EVENT_FIELD_VALUE_CHANGED})),this},t.prototype.setStep=function(e){return this.eSlider.setStep(e),this.eText.setStep(e),this},t.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',pr([tt("eLabel")],t.prototype,"eLabel",void 0),pr([tt("eSlider")],t.prototype,"eSlider",void 0),pr([tt("eText")],t.prototype,"eText",void 0),pr([we],t.prototype,"init",null),t}(za),Ni=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),fn=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Gi=function(o){function t(e){void 0===e&&(e={});var r=o.call(this,t.getTemplate(e))||this;r.suppressEnabledCheckbox=!0,r.suppressOpenCloseIcons=!1;var i=e.enabled,s=e.items,a=e.suppressEnabledCheckbox,d=e.suppressOpenCloseIcons;return r.title=e.title,r.cssIdentifier=e.cssIdentifier||"default",r.enabled=i??!0,r.items=s||[],r.alignItems=e.alignItems||"center",null!=a&&(r.suppressEnabledCheckbox=a),null!=d&&(r.suppressOpenCloseIcons=d),r}return Ni(t,o),t.getTemplate=function(e){var r=e.cssIdentifier||"default";return'<div class="ag-group ag-'+r+'-group" role="presentation">\n            <div class="ag-group-title-bar ag-'+r+'-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-'+r+'-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-'+r+'-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+r+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+r+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+(e.direction||"vertical")+" ag-"+r+'-group-container"></div>\n        </div>'},t.prototype.postConstruct=function(){if(this.items.length){var e=this.items;this.items=[],this.addItems(e)}var r=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(r("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},t.prototype.setupExpandContract=function(){var e=this;this.eGroupClosedIcon.appendChild(Oi("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(Oi("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eTitleBar,"click",function(){return e.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(r){switch(r.key){case Ce.ENTER:case Ce.SPACE:r.preventDefault(),e.toggleGroupExpand();break;case Ce.RIGHT:case Ce.LEFT:r.preventDefault(),e.toggleGroupExpand(r.key===Ce.RIGHT)}})},t.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||Ai(this.eTitleBar,this.expanded)},t.prototype.refreshChildDisplay=function(){var e=!this.suppressOpenCloseIcons;sr(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),sr(this.eGroupOpenedIcon,e&&this.expanded),sr(this.eGroupClosedIcon,e&&!this.expanded)},t.prototype.isExpanded=function(){return this.expanded},t.prototype.setAlignItems=function(e){return this.alignItems!==e&&this.removeCssClass("ag-group-item-alignment-"+this.alignItems),this.alignItems=e,this.addCssClass("ag-group-item-alignment-"+this.alignItems),this},t.prototype.toggleGroupExpand=function(e){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),sr(this.eContainer,!0),this):(this.expanded===(e=e??!this.expanded)||(this.expanded=e,this.refreshAriaStatus(),this.refreshChildDisplay(),sr(this.eContainer,e),this.dispatchEvent({type:this.expanded?t.EVENT_EXPANDED:t.EVENT_COLLAPSED})),this)},t.prototype.addItems=function(e){var r=this;e.forEach(function(n){return r.addItem(n)})},t.prototype.addItem=function(e){var r=this.eContainer,n=e instanceof qt?e.getGui():e;n.classList.add("ag-group-item","ag-"+this.cssIdentifier+"-group-item"),r.appendChild(n),this.items.push(n)},t.prototype.hideItem=function(e,r){sr(this.items[r],!e)},t.prototype.setTitle=function(e){return this.eTitle.innerText=e,this},t.prototype.addCssClassToTitleBar=function(e){this.eTitleBar.classList.add(e)},t.prototype.setEnabled=function(e,r){return this.enabled=e,this.refreshDisabledStyles(),this.toggleGroupExpand(e),r||this.cbGroupEnabled.setValue(e),this},t.prototype.isEnabled=function(){return this.enabled},t.prototype.onEnableChange=function(e){var r=this;return this.cbGroupEnabled.onValueChange(function(n){r.setEnabled(n,!0),e(n)}),this},t.prototype.hideEnabledCheckbox=function(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},t.prototype.hideOpenCloseIcons=function(e){return this.suppressOpenCloseIcons=e,e&&this.toggleGroupExpand(!0),this},t.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},t.EVENT_EXPANDED="expanded",t.EVENT_COLLAPSED="collapsed",fn([tt("eTitleBar")],t.prototype,"eTitleBar",void 0),fn([tt("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),fn([tt("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),fn([tt("eToolbar")],t.prototype,"eToolbar",void 0),fn([tt("cbGroupEnabled")],t.prototype,"cbGroupEnabled",void 0),fn([tt("eTitle")],t.prototype,"eTitle",void 0),fn([tt("eContainer")],t.prototype,"eContainer",void 0),fn([we],t.prototype,"postConstruct",null),t}(qt),yn=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),wi=function(){return wi=Object.assign||function(o){for(var t,e=1,r=arguments.length;e<r;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o},wi.apply(this,arguments)},Po=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},yf=function(o){function t(e){void 0===e&&(e=1);var r=o.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return r.level=e,r.menuItems=[],r}return yn(t,o),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(r){return e.onTabKeyDown(r)},handleKeyDown:function(r){return e.handleKeyDown(r)}})},t.prototype.onTabKeyDown=function(e){var r=this.getParentComponent(),n=r&&r.getGui();n&&n.classList.contains("ag-focus-managed")||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)},t.prototype.handleKeyDown=function(e){switch(e.key){case Ce.UP:case Ce.RIGHT:case Ce.DOWN:case Ce.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case Ce.ESCAPE:var r=this.findTopMenu();r&&this.focusService.focusInto(r.getGui())}},t.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},t.prototype.addMenuItems=function(e){var r=this;e?.forEach(function(n){"separator"===n?r.addSeparator():"string"==typeof n?console.warn("AG Grid: unrecognised menu item "+n):r.addItem(n)})},t.prototype.addItem=function(e){var r=this,n=this.createManagedBean(new kd(wi(wi({},e),{isAnotherSubMenuOpen:function(){return r.menuItems.some(function(i){return i.isSubMenuOpen()})}})));n.setParentComponent(this),yl(n.getGui(),this.level),this.menuItems.push(n),this.appendChild(n.getGui()),this.addManagedListener(n,kd.EVENT_MENU_ITEM_SELECTED,function(i){r.dispatchEvent(i)}),this.addManagedListener(n,kd.EVENT_MENU_ITEM_ACTIVATED,function(i){r.activeMenuItem&&r.activeMenuItem!==i.menuItem&&r.activeMenuItem.deactivate(),r.activeMenuItem=i.menuItem})},t.prototype.activateFirstItem=function(){var e=this.menuItems.filter(function(r){return!r.isDisabled()})[0];e&&e.activate()},t.prototype.addSeparator=function(){this.appendChild(wn('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>'))},t.prototype.findTopMenu=function(){var e=this.getParentComponent();if(!e&&this instanceof t)return this;for(;;){var r=e&&e.getParentComponent&&e.getParentComponent();if(!r||!(r instanceof t||r instanceof kd))break;e=r}return e instanceof t?e:void 0},t.prototype.handleNavKey=function(e){switch(e){case Ce.UP:case Ce.DOWN:var r=this.findNextItem(e===Ce.UP);return void(r&&r!==this.activeMenuItem&&r.activate())}e===(this.gridOptionsService.is("enableRtl")?Ce.RIGHT:Ce.LEFT)?this.closeIfIsChild():this.openChild()},t.prototype.closeIfIsChild=function(e){var r=this.getParentComponent();r&&r instanceof kd&&(e&&e.preventDefault(),r.closeSubMenu(),r.getGui().focus())},t.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},t.prototype.findNextItem=function(e){var r=this.menuItems.filter(function(d){return!d.isDisabled()});if(r.length){if(!this.activeMenuItem)return e?te(r):r[0];e&&r.reverse();for(var n,i=!1,s=0;s<r.length;s++){var a=r[s];if(i){n=a;break}a===this.activeMenuItem&&(i=!0)}return n||this.activeMenuItem}},t.prototype.destroy=function(){this.clearActiveItem(),o.prototype.destroy.call(this)},Po([A("focusService")],t.prototype,"focusService",void 0),Po([we],t.prototype,"postConstruct",null),t}(oe),xy=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ty=function(o){function t(e){var r=o.call(this)||this;return r.wrappedComponent=e,r.setTemplateFromElement(e.getGui()),r}return xy(t,o),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(r){return e.onTabKeyDown(r)},handleKeyDown:function(r){return e.handleKeyDown(r)}})},t.prototype.handleKeyDown=function(e){e.key===Ce.ESCAPE&&this.closePanel()},t.prototype.onTabKeyDown=function(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())},t.prototype.closePanel=function(){var e=this.parentComponent;e.closeSubMenu(),setTimeout(function(){return e.getGui().focus()},0)},function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);n>3&&i&&Object.defineProperty(t,e,i)}([we],t.prototype,"postConstruct",null),t}(oe),by=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ey=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},kd=function(o){function t(e){var r=o.call(this)||this;return r.params=e,r.isActive=!1,r.subMenuIsOpen=!1,r.setTemplate('<div class="'+r.getClassName()+'" tabindex="-1" role="treeitem"></div>'),r}return by(t,o),t.prototype.init=function(){var e=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var r=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),No(r,!0)):(this.addGuiEventListener("click",function(n){return e.onItemSelected(n)}),this.addGuiEventListener("keydown",function(n){(n.key===Ce.ENTER||n.key===Ce.SPACE)&&(n.preventDefault(),e.onItemSelected(n))}),this.addGuiEventListener("mousedown",function(n){n.stopPropagation(),n.preventDefault()}),this.addGuiEventListener("mouseenter",function(){return e.onMouseEnter()}),this.addGuiEventListener("mouseleave",function(){return e.onMouseLeave()})),this.params.cssClasses&&this.params.cssClasses.forEach(function(n){return e.addCssClass(n)})},t.prototype.isDisabled=function(){return!!this.params.disabled},t.prototype.openSubMenu=function(e){var r=this;if(void 0===e&&(e=!1),this.closeSubMenu(),this.params.subMenu){var i,n=wn('<div class="ag-menu" role="presentation"></div>');if(this.params.subMenu instanceof Array){var s=gl(this.getGui()),a=isNaN(s)?1:s+1,d=this.createBean(new yf(a));d.setParentComponent(this),d.addMenuItems(this.params.subMenu),n.appendChild(d.getGui()),this.addManagedListener(d,t.EVENT_MENU_ITEM_SELECTED,function(fe){return r.dispatchEvent(fe)}),d.addGuiEventListener("mouseenter",function(){return r.cancelDeactivate()}),i=function(){return r.destroyBean(d)},e&&setTimeout(function(){return d.activateFirstItem()},0)}else{var g=this.params.subMenu,m=this.createBean(new Ty(g));m.setParentComponent(this);var C=m.getGui(),E="mouseenter",b=function(){return r.cancelDeactivate()};C.addEventListener(E,b),i=function(){return C.removeEventListener(E,b)},n.appendChild(C),g.afterGuiAttached&&setTimeout(function(){return g.afterGuiAttached()},0)}var L=this.getGui(),j=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:L,ePopup:n}),ee=this.localeService.getLocaleTextFunc(),se=this.popupService.addPopup({modal:!0,eChild:n,positionCallback:j,anchorToElement:L,ariaLabel:ee("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,Ai(L,!0),this.hideSubMenu=function(){se&&se.hideFunc(),r.subMenuIsOpen=!1,Ai(L,!1),i()}}},t.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,Ai(this.getGui(),!1))},t.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},t.prototype.activate=function(e){var r=this;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),e&&this.params.subMenu&&window.setTimeout(function(){r.isAlive()&&r.isActive&&r.openSubMenu()},300),this.onItemActivated())},t.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},t.prototype.addIcon=function(){if(this.params.checked||this.params.icon||!this.params.isCompact){var e=wn('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?e.appendChild(Zr("check",this.gridOptionsService)):this.params.icon&&(Cs(this.params.icon)?e.appendChild(this.params.icon):"string"==typeof this.params.icon?e.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}},t.prototype.addName=function(){if(this.params.name||!this.params.isCompact){var e=wn('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(e)}},t.prototype.addTooltip=function(){this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsService.is("enableBrowserTooltips")?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new Fn(this)))},t.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},t.prototype.addShortcut=function(){if(this.params.shortcut||!this.params.isCompact){var e=wn('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(e)}},t.prototype.addSubMenu=function(){if(this.params.subMenu||!this.params.isCompact){var e=wn('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),r=this.getGui();if(this.params.subMenu){var n=this.gridOptionsService.is("enableRtl")?"smallLeft":"smallRight";Ai(r,!1),e.appendChild(Zr(n,this.gridOptionsService))}r.appendChild(e)}},t.prototype.onItemSelected=function(e){this.params.action?this.params.action():this.openSubMenu(e&&"keydown"===e.type),(!this.params.subMenu||this.params.action)&&this.dispatchEvent({type:t.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:e})},t.prototype.onItemActivated=function(){this.dispatchEvent({type:t.EVENT_MENU_ITEM_ACTIVATED,menuItem:this})},t.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},t.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},t.prototype.onMouseEnter=function(){var e=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return e.activate(!0)},t.ACTIVATION_DELAY):this.activate(!0)},t.prototype.onMouseLeave=function(){var e=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return e.deactivate()},t.ACTIVATION_DELAY):this.deactivate()},t.prototype.getClassName=function(e){var r=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return e?r+"-"+e:r},t.EVENT_MENU_ITEM_SELECTED="menuItemSelected",t.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",t.ACTIVATION_DELAY=80,ey([A("popupService")],t.prototype,"popupService",void 0),ey([we],t.prototype,"init",null),t}(qt),Py=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Wd=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},ty=function(o){function t(e){var r=o.call(this,t.getTemplate(e))||this;return r.closable=!0,r.config=e,r}return Py(t,o),t.getTemplate=function(e){var r=e&&e.cssIdentifier||"default";return'<div class="ag-panel ag-'+r+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+r+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+r+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+r+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+r+'-panel-content-wrapper"></div>\n        </div>'},t.prototype.postConstruct=function(){var e=this,r=this.config,n=r.component,i=r.closable,s=r.hideTitleBar,a=r.title,d=r.minWidth,g=void 0===d?250:d,m=r.width,C=r.minHeight,E=void 0===C?250:C,b=r.height,L=r.centered,j=r.popup,ee=r.x,se=r.y;this.positionableFeature=new Il(this.getGui(),{minWidth:g,width:m,minHeight:E,height:b,centered:L,x:ee,y:se,popup:j,calculateTopBuffer:function(){return e.positionableFeature.getHeight()-e.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var fe=this.getGui();n&&this.setBodyComponent(n),s?sr(this.eTitleBar,!1):(a&&this.setTitle(a),this.setClosable(i??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(Te){var ke=e.gridOptionsService.getDocument();if(fe.contains(Te.relatedTarget)||fe.contains(ke.activeElement)||e.eTitleBarButtons.contains(Te.target))Te.preventDefault();else{var St=e.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");St&&St.focus()}}),(!j||!this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},t.prototype.renderComponent=function(){var e=this,r=this.getGui();r.focus(),this.close=function(){r.parentElement.removeChild(r),e.destroy()}},t.prototype.getHeight=function(){return this.positionableFeature.getHeight()},t.prototype.setHeight=function(e){this.positionableFeature.setHeight(e)},t.prototype.getWidth=function(){return this.positionableFeature.getWidth()},t.prototype.setWidth=function(e){this.positionableFeature.setWidth(e)},t.prototype.setClosable=function(e){if(e!==this.closable&&(this.closable=e),e){var r=this.closeButtonComp=new qt(t.CLOSE_BTN_TEMPLATE);this.getContext().createBean(r);var n=r.getGui(),i=Zr("close",this.gridOptionsService);i.classList.add("ag-panel-title-bar-button-icon"),n.appendChild(i),this.addTitleBarButton(r),r.addManagedListener(n,"click",this.onBtClose.bind(this))}else this.closeButtonComp&&((n=this.closeButtonComp.getGui()).parentElement.removeChild(n),this.closeButtonComp=this.destroyBean(this.closeButtonComp))},t.prototype.setBodyComponent=function(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())},t.prototype.addTitleBarButton=function(e,r){var n=this.eTitleBarButtons,i=n.children,s=i.length;null==r&&(r=s),r=Math.max(0,Math.min(r,s)),e.addCssClass("ag-panel-title-bar-button");var a=e.getGui();0===r?n.insertAdjacentElement("afterbegin",a):r===s?n.insertAdjacentElement("beforeend",a):i[r-1].insertAdjacentElement("afterend",a),e.setParentComponent(this)},t.prototype.getBodyHeight=function(){return $n(this.eContentWrapper)},t.prototype.getBodyWidth=function(){return zo(this.eContentWrapper)},t.prototype.setTitle=function(e){this.eTitle.innerText=e},t.prototype.onBtClose=function(){this.close()},t.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var e=this.getGui();e&&e.offsetParent&&this.close(),o.prototype.destroy.call(this)},t.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',Wd([tt("eContentWrapper")],t.prototype,"eContentWrapper",void 0),Wd([tt("eTitleBar")],t.prototype,"eTitleBar",void 0),Wd([tt("eTitleBarButtons")],t.prototype,"eTitleBarButtons",void 0),Wd([tt("eTitle")],t.prototype,"eTitle",void 0),Wd([we],t.prototype,"postConstruct",null),t}(qt),Fy=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),mf=function(){return mf=Object.assign||function(o){for(var t,e=1,r=arguments.length;e<r;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o},mf.apply(this,arguments)},Iy=function(o){function t(e){var r=o.call(this,mf(mf({},e),{popup:!0}))||this;return r.isMaximizable=!1,r.isMaximized=!1,r.maximizeListeners=[],r.resizeListenerDestroy=null,r.lastPosition={x:0,y:0,width:0,height:0},r}return Fy(t,o),t.prototype.postConstruct=function(){var e=this,r=this.getGui(),n=this.config,i=n.movable,s=n.resizable,a=n.maximizable;this.addCssClass("ag-dialog"),o.prototype.postConstruct.call(this),this.addManagedListener(r,"focusin",function(d){r.contains(d.relatedTarget)||e.popupService.bringPopupToFront(r)}),i&&this.setMovable(i),a&&this.setMaximizable(a),s&&this.setResizable(s)},t.prototype.renderComponent=function(){var e=this.getGui(),r=this.config,n=r.alwaysOnTop,i=r.modal,s=r.title,a=r.afterGuiAttached,d=this.localeService.getLocaleTextFunc(),g=this.popupService.addPopup({modal:i,eChild:e,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:n,ariaLabel:s||d("ariaLabelDialog","Dialog"),afterGuiAttached:a});g&&(this.close=g.hideFunc)},t.prototype.toggleMaximize=function(){var e=this.positionableFeature.getPosition();if(this.isMaximized){var r=this.lastPosition,n=r.x,i=r.y,a=r.height;this.setWidth(r.width),this.setHeight(a),this.positionableFeature.offsetElement(n,i)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},t.prototype.refreshMaximizeIcon=function(){sr(this.maximizeIcon,!this.isMaximized),sr(this.minimizeIcon,this.isMaximized)},t.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(e){return e()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},t.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),o.prototype.destroy.call(this)},t.prototype.setResizable=function(e){this.positionableFeature.setResizable(e)},t.prototype.setMovable=function(e){this.positionableFeature.setMovable(e,this.eTitleBar)},t.prototype.setMaximizable=function(e){var r=this;if(!e)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var n=this.eTitleBar;if(n&&e!==this.isMaximizable){var i=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),i.addManagedListener(i.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(i,0),this.maximizeListeners.push(this.addManagedListener(n,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){r.isMaximized=!1,r.refreshMaximizeIcon()})}},t.prototype.buildMaximizeAndMinimizeElements=function(){var e=this.maximizeButtonComp=this.createBean(new qt('<div class="ag-dialog-button"></span>')),r=e.getGui();return this.maximizeIcon=Zr("maximize",this.gridOptionsService),r.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=Zr("minimize",this.gridOptionsService),r.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),e},function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);n>3&&i&&Object.defineProperty(t,e,i)}([A("popupService")],t.prototype,"popupService",void 0),t}(ty),Ly=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Cf=function(){return Cf=Object.assign||function(o){for(var t,e=1,r=arguments.length;e<r;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o},Cf.apply(this,arguments)},Ud=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},gu=function(o){return o[o.vertical=0]="vertical",o[o.horizontal=1]="horizontal",o}(gu||{}),Hy=0,Vy=function(o){function t(){var r=null!==o&&o.apply(this,arguments)||this;return r.popupList=[],r}var e;return Ly(t,o),e=t,t.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(n){r.gridCtrl=n.gridCtrl,r.addManagedListener(r.gridCtrl,M.EVENT_KEYBOARD_FOCUS,function(){r.popupList.forEach(function(i){return i.element.classList.add(nl.AG_KEYBOARD_FOCUS)})}),r.addManagedListener(r.gridCtrl,M.EVENT_MOUSE_FOCUS,function(){r.popupList.forEach(function(i){return i.element.classList.remove(nl.AG_KEYBOARD_FOCUS)})})})},t.prototype.getPopupParent=function(){return this.gridOptionsService.get("popupParent")||this.gridCtrl.getGui()},t.prototype.positionPopupForMenu=function(r){var n=r.eventSource,i=r.ePopup,s=this.getPopupIndex(i);-1!==s&&(this.popupList[s].alignedToElement=n);var d=n.getBoundingClientRect(),g=this.getParentRect(),m=this.keepXYWithinBounds(i,d.top-g.top,gu.vertical),C=i.clientWidth>0?i.clientWidth:200;i.style.minWidth=C+"px";var L,b=g.right-g.left-C;function j(){return d.right-g.left-2}function ee(){return d.left-g.left-C}this.gridOptionsService.is("enableRtl")?((L=ee())<0&&(L=j(),this.setAlignedStyles(i,"left")),L>b&&(L=0,this.setAlignedStyles(i,"right"))):((L=j())>b&&(L=ee(),this.setAlignedStyles(i,"right")),L<0&&(L=0,this.setAlignedStyles(i,"left"))),i.style.left=L+"px",i.style.top=m+"px"},t.prototype.positionPopupUnderMouseEvent=function(r){var n=this;this.positionPopup({ePopup:r.ePopup,nudgeX:r.nudgeX,nudgeY:r.nudgeY,keepWithinBounds:!0,skipObserver:r.skipObserver,updatePosition:function(){return n.calculatePointerAlign(r.mouseEvent)},postProcessCallback:function(){return n.callPostProcessPopup(r.type,r.ePopup,null,r.mouseEvent,r.column,r.rowNode)}})},t.prototype.calculatePointerAlign=function(r){var n=this.getParentRect();return{x:r.clientX-n.left,y:r.clientY-n.top}},t.prototype.positionPopupByComponent=function(r){var n=this,i=r.ePopup,s=r.nudgeX,a=r.nudgeY,d=r.keepWithinBounds,g=r.eventSource,m=r.alignSide,C=void 0===m?"left":m,E=r.position,b=void 0===E?"over":E,L=r.column,j=r.rowNode,ee=r.type,se=g.getBoundingClientRect(),fe=this.getParentRect(),Te=this.getPopupIndex(i);-1!==Te&&(this.popupList[Te].alignedToElement=g),this.positionPopup({ePopup:i,nudgeX:s,nudgeY:a,keepWithinBounds:d,updatePosition:function(){var Gt,_t=se.left-fe.left;return"right"===C&&(_t-=i.offsetWidth-se.width),"over"===b?(Gt=se.top-fe.top,n.setAlignedStyles(i,"over")):(n.setAlignedStyles(i,"under"),Gt="under"===n.shouldRenderUnderOrAbove(i,se,fe,r.nudgeY||0)?se.top-fe.top+se.height:se.top-i.offsetHeight-2*(a||0)-fe.top),{x:_t,y:Gt}},postProcessCallback:function(){return n.callPostProcessPopup(ee,i,g,null,L,j)}})},t.prototype.shouldRenderUnderOrAbove=function(r,n,i,s){var a=i.bottom-n.bottom,d=n.top-i.top,g=r.offsetHeight+s;return a>g?"under":d>g||d>a?"above":"under"},t.prototype.setAlignedStyles=function(r,n){var i=this.getPopupIndex(r);if(-1!==i){var a=this.popupList[i].alignedToElement;a&&(["right","left","over","above","under"].forEach(function(g){a.classList.remove("ag-has-popup-positioned-"+g),r.classList.remove("ag-popup-positioned-"+g)}),n&&(a.classList.add("ag-has-popup-positioned-"+n),r.classList.add("ag-popup-positioned-"+n)))}},t.prototype.callPostProcessPopup=function(r,n,i,s,a,d){var g=this.gridOptionsService.getCallback("postProcessPopup");g&&g({column:a,rowNode:d,ePopup:n,type:r,eventSource:i,mouseEvent:s})},t.prototype.positionPopup=function(r){var n=this,i=r.ePopup,s=r.keepWithinBounds,a=r.nudgeX,d=r.nudgeY,g=r.skipObserver,m=r.updatePosition,C={width:0,height:0},E=function(L){void 0===L&&(L=!1);var j=m(),ee=j.x,se=j.y;L&&i.clientWidth===C.width&&i.clientHeight===C.height||(C.width=i.clientWidth,C.height=i.clientHeight,a&&(ee+=a),d&&(se+=d),s&&(ee=n.keepXYWithinBounds(i,ee,gu.horizontal),se=n.keepXYWithinBounds(i,se,gu.vertical)),i.style.left=ee+"px",i.style.top=se+"px",r.postProcessCallback&&r.postProcessCallback())};if(E(),!g){var b=this.resizeObserverService.observeResize(i,function(){return E(!0)});setTimeout(function(){return b()},e.WAIT_FOR_POPUP_CONTENT_RESIZE)}},t.prototype.getActivePopups=function(){return this.popupList.map(function(r){return r.element})},t.prototype.getPopupList=function(){return this.popupList},t.prototype.getParentRect=function(){var r=this.gridOptionsService.getDocument(),n=this.getPopupParent();return n===r.body?n=r.documentElement:"static"===getComputedStyle(n).position&&(n=n.offsetParent),Ha(n)},t.prototype.keepXYWithinBounds=function(r,n,i){var s=i===gu.vertical,a=s?"clientHeight":"clientWidth",d=s?"top":"left",g=s?"offsetHeight":"offsetWidth",m=s?"scrollTop":"scrollLeft",C=this.gridOptionsService.getDocument(),E=C.documentElement,b=this.getPopupParent(),L=b.getBoundingClientRect(),j=C.documentElement.getBoundingClientRect(),ee=b===C.body,se=r[g],Te=ee?(s?Ga:Co)(E)+E[m]:b[a];ee&&(Te-=Math.abs(j[d]-L[d]));var ke=Te-se;return Math.min(Math.max(n,0),Math.abs(ke))},t.prototype.addPopup=function(r){var n=this.gridOptionsService.getDocument(),i=r.eChild,s=r.ariaLabel,a=r.alwaysOnTop,d=r.positionCallback,g=r.anchorToElement;if(!n)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:function(){}};var m=this.getPopupIndex(i);if(-1!==m)return{hideFunc:this.popupList[m].hideFunc};this.initialisePopupPosition(i);var E=this.createPopupWrapper(i,s,!!a),b=this.addEventListenersToPopup(Cf(Cf({},r),{wrapperEl:E}));return d&&d(),this.addPopupToPopupList(i,E,b,g),{hideFunc:b}},t.prototype.initialisePopupPosition=function(r){var i=this.getPopupParent().getBoundingClientRect();w(r.style.top)||(r.style.top=-1*i.top+"px"),w(r.style.left)||(r.style.left=-1*i.left+"px")},t.prototype.createPopupWrapper=function(r,n,i){var s,a=this.getPopupParent(),d=document.createElement("div"),g=this.environment.getTheme().allThemes;return g.length&&(s=d.classList).add.apply(s,function(o,t){for(var e=0,r=t.length,n=o.length;e<r;e++,n++)o[n]=t[e];return o}([],function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i}(g))),d.classList.add("ag-popup"),r.classList.add(this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),r.hasAttribute("role")||ln(r,"dialog"),ci(r,n),this.focusService.isKeyboardMode()&&r.classList.add(nl.AG_KEYBOARD_FOCUS),d.appendChild(r),a.appendChild(d),i?this.setAlwaysOnTop(r,!0):this.bringPopupToFront(r),d},t.prototype.addEventListenersToPopup=function(r){var n=this,i=this.gridOptionsService.getDocument(),s=this.getPopupParent(),a=r.wrapperEl,d=r.eChild,g=r.closedCallback,m=r.afterGuiAttached,C=r.closeOnEsc,E=r.modal,b=!1,L=function(fe){a.contains(i.activeElement)&&fe.key===Ce.ESCAPE&&!xe(fe)&&se({keyboardEvent:fe})},j=function(fe){return se({mouseEvent:fe})},ee=function(fe){return se({touchEvent:fe})},se=function(fe){void 0===fe&&(fe={});var Te=fe.mouseEvent,ke=fe.touchEvent,St=fe.keyboardEvent;n.isEventFromCurrentPopup({mouseEvent:Te,touchEvent:ke},d)||b||(b=!0,s.removeChild(a),i.removeEventListener("keydown",L),i.removeEventListener("mousedown",j),i.removeEventListener("touchstart",ee),i.removeEventListener("contextmenu",j),n.eventService.removeEventListener(M.EVENT_DRAG_STARTED,j),g&&g(Te||ke||St),n.removePopupFromPopupList(d))};return m&&m({hidePopup:se}),window.setTimeout(function(){C&&i.addEventListener("keydown",L),E&&(i.addEventListener("mousedown",j),n.eventService.addEventListener(M.EVENT_DRAG_STARTED,j),i.addEventListener("touchstart",ee),i.addEventListener("contextmenu",j))},0),se},t.prototype.addPopupToPopupList=function(r,n,i,s){this.popupList.push({element:r,wrapper:n,hideFunc:i,instanceId:Hy++,isAnchored:!!s}),s&&this.setPopupPositionRelatedToElement(r,s)},t.prototype.getPopupIndex=function(r){return this.popupList.findIndex(function(n){return n.element===r})},t.prototype.setPopupPositionRelatedToElement=function(r,n){var i=this.getPopupIndex(r);if(-1!==i){var s=this.popupList[i];if(s.stopAnchoringPromise&&s.stopAnchoringPromise.then(function(d){return d&&d()}),s.stopAnchoringPromise=void 0,s.isAnchored=!1,n){var a=this.keepPopupPositionedRelativeTo({element:n,ePopup:r,hidePopup:s.hideFunc});return s.stopAnchoringPromise=a,s.isAnchored=!0,a}}},t.prototype.removePopupFromPopupList=function(r){this.setAlignedStyles(r,null),this.setPopupPositionRelatedToElement(r,null),this.popupList=this.popupList.filter(function(n){return n.element!==r})},t.prototype.keepPopupPositionedRelativeTo=function(r){var n=this,i=this.getPopupParent(),s=i.getBoundingClientRect(),a=r.element,d=r.ePopup,g=a.getBoundingClientRect(),m=s.top-g.top,C=s.left-g.left,E=m,b=C,L=d.style.top,j=parseInt(L.substring(0,L.length-1),10),ee=d.style.left,se=parseInt(ee.substring(0,ee.length-1),10);return new pi(function(fe){n.getFrameworkOverrides().setInterval(function(){var Te=i.getBoundingClientRect(),ke=a.getBoundingClientRect();if(0==ke.top&&0==ke.left&&0==ke.height&&0==ke.width)r.hidePopup();else{var _t=Te.top-ke.top;if(_t!=E){var Gt=n.keepXYWithinBounds(d,j+m-_t,gu.vertical);d.style.top=Gt+"px"}E=_t;var gt=Te.left-ke.left;if(gt!=b){var Tt=n.keepXYWithinBounds(d,se+C-gt,gu.horizontal);d.style.left=Tt+"px"}b=gt}},200).then(function(Te){fe(function(){null!=Te&&window.clearInterval(Te)})})})},t.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(r){return r.isAnchored})},t.prototype.isEventFromCurrentPopup=function(r,n){var a=r.mouseEvent||r.touchEvent;if(!a)return!1;var d=this.getPopupIndex(n);if(-1===d)return!1;for(var g=d;g<this.popupList.length;g++)if(q(this.popupList[g].element,a))return!0;return this.isElementWithinCustomPopup(a.target)},t.prototype.isElementWithinCustomPopup=function(r){for(var n=this.gridOptionsService.getDocument();r&&r!==n.body;){if(r.classList.contains("ag-custom-component-popup")||null===r.parentElement)return!0;r=r.parentElement}return!1},t.prototype.getWrapper=function(r){for(;!r.classList.contains("ag-popup")&&r.parentElement;)r=r.parentElement;return r.classList.contains("ag-popup")?r:null},t.prototype.setAlwaysOnTop=function(r,n){var i=this.getWrapper(r);i&&(i.classList.toggle("ag-always-on-top",!!n),n&&this.bringPopupToFront(i))},t.prototype.bringPopupToFront=function(r){var n=this.getPopupParent(),i=Array.prototype.slice.call(n.querySelectorAll(".ag-popup")),s=i.length,a=Array.prototype.slice.call(n.querySelectorAll(".ag-popup.ag-always-on-top")),d=a.length,g=this.getWrapper(r);if(g&&!(s<=1)&&n.contains(r)){var m=i.indexOf(g),C=g.querySelectorAll("div"),E=[];for(C.forEach(function(ee){0!==ee.scrollTop&&E.push([ee,ee.scrollTop])}),d?g.classList.contains("ag-always-on-top")?m!==s-1&&te(a).insertAdjacentElement("afterend",g):m!==s-d-1&&a[0].insertAdjacentElement("beforebegin",g):m!==s-1&&te(i).insertAdjacentElement("afterend",g);E.length;){var L=E.pop();L[0].scrollTop=L[1]}this.eventService.dispatchEvent({type:"popupToFront",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,eWrapper:g})}},t.WAIT_FOR_POPUP_CONTENT_RESIZE=200,Ud([A("focusService")],t.prototype,"focusService",void 0),Ud([A("ctrlsService")],t.prototype,"ctrlsService",void 0),Ud([A("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Ud([we],t.prototype,"postConstruct",null),e=Ud([je("popupService")],t)}(Le),By=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ky=function(o){function t(){var e=o.call(this,'\n        <div class="ag-autocomplete-row" role="presentation">\n            <div class="ag-autocomplete-row-label"></div>\n        </div>')||this;return e.hasHighlighting=!1,e}return By(t,o),t.prototype.setState=function(e,r){this.value=e,this.render(),this.updateSelected(r)},t.prototype.updateSelected=function(e){this.addOrRemoveCssClass("ag-autocomplete-row-selected",e)},t.prototype.setSearchString=function(e){var r,n=!1;if(w(e)){var i=null===(r=this.value)||void 0===r?void 0:r.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(i>=0){n=!0,this.hasHighlighting=!0;var s=i+e.length,a=Xr(this.value.slice(0,i)),d=Xr(this.value.slice(i,s)),g=Xr(this.value.slice(s));this.getGui().lastElementChild.innerHTML=a+"<b>"+d+"</b>"+g}}!n&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())},t.prototype.render=function(){var e;this.getGui().lastElementChild.innerHTML=null!==(e=Xr(this.value))&&void 0!==e?e:"&nbsp;"},t}(qt),Wy=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ry=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Uy=function(o){function t(e){var r=o.call(this,t.TEMPLATE)||this;return r.params=e,r.searchString="",r}return Wy(t,o),t.prototype.destroy=function(){o.prototype.destroy.call(this)},t.prototype.init=function(){var e=this;this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new $e({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:function(){return e.autocompleteEntries.length},getRow:function(n){return e.autocompleteEntries[n]}});var r=this.virtualList.getGui();this.addManagedListener(r,"click",function(){return e.params.onConfirmed()}),this.addManagedListener(r,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(r,"mousedown",function(n){return n.preventDefault()}),this.setSelectedValue(0)},t.prototype.onNavigationKeyDown=function(e,r){e.preventDefault();var n=this.autocompleteEntries.indexOf(this.selectedValue);this.checkSetSelectedValue(r===Ce.UP?n-1:n+1)},t.prototype.setSearch=function(e){this.searchString=e,w(e)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()},t.prototype.runContainsSearch=function(e,r){var n,i=!1,s=e.toLocaleLowerCase(),a=r.filter(function(d){var m=d.toLocaleLowerCase().indexOf(s),C=0===m,E=m>=0;return E&&(!n||!i&&C||i===C&&d.length<n.length)&&(n=d,i=C),E});return!n&&a.length&&(n=a[0]),{topMatch:n,allMatches:a}},t.prototype.runSearch=function(){var e,r,s,a,n=this.params.autocompleteEntries,i=n.map(function(C){var E;return null!==(E=C.displayValue)&&void 0!==E?E:C.key});if(this.params.useFuzzySearch)a=(s=Lo(this.searchString,i,!0).values).length?s[0]:void 0;else{var d=this.runContainsSearch(this.searchString,i);s=d.allMatches,a=d.topMatch}var g=n.filter(function(C){return s.includes(C.displayValue??C.key)});if(!g.length&&this.selectedValue&&!(null===(r=null===(e=this.params)||void 0===e?void 0:e.forceLastSelection)||void 0===r)&&r.call(e,this.selectedValue,this.searchString)&&(g=[this.selectedValue]),this.autocompleteEntries=g,this.virtualList.refresh(),a){var m=s.indexOf(a);this.checkSetSelectedValue(m)}},t.prototype.updateSearchInList=function(){var e=this;this.virtualList.forEachRenderedRow(function(r){return r.setSearchString(e.searchString)})},t.prototype.checkSetSelectedValue=function(e){e>=0&&e<this.autocompleteEntries.length&&this.setSelectedValue(e)},t.prototype.setSelectedValue=function(e){var r=this.autocompleteEntries[e];this.selectedValue!==r&&(this.selectedValue=r,this.virtualList.ensureIndexVisible(e),this.virtualList.forEachRenderedRow(function(n,i){n.updateSelected(e===i)}))},t.prototype.createRowComponent=function(e){var r,n=new ky;return this.getContext().createBean(n),n.setState(null!==(r=e.displayValue)&&void 0!==r?r:e.key,e===this.selectedValue),n},t.prototype.onMouseMove=function(e){var r=this.virtualList.getGui().getBoundingClientRect(),n=this.virtualList.getScrollTop(),s=Math.floor((e.clientY-r.top+n)/this.virtualList.getRowHeight());this.checkSetSelectedValue(s)},t.prototype.afterGuiAttached=function(){this.virtualList.refresh()},t.prototype.getSelectedValue=function(){var e;return this.autocompleteEntries.length&&null!==(e=this.selectedValue)&&void 0!==e?e:null},t.TEMPLATE='<div class="ag-autocomplete-list-popup">\n            <div ref="eList" class="ag-autocomplete-list"></div>\n        <div>',ry([tt("eList")],t.prototype,"eList",void 0),ry([we],t.prototype,"init",null),t}(la),jy=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Fv=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},zy=function(o){function t(){var e=o.call(this,'\n            <div class="ag-autocomplete" role="presentation">\n                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>\n            </div>')||this;return e.isListOpen=!1,e.lastPosition=0,e.valid=!0,e}return jy(t,o),t.prototype.postConstruct=function(){var e=this;this.eAutocompleteInput.onValueChange(function(r){return e.onValueChanged(r)}),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc(function(){e.destroyBean(e.autocompleteList)}),this.addGuiEventListener("focusout",function(){return e.onFocusOut()})},t.prototype.onValueChanged=function(e){var r=p(e);this.updateValue(r),this.updateAutocompleteList(r)},t.prototype.updateValue=function(e){this.updateLastPosition(),this.dispatchEvent({type:t.EVENT_VALUE_CHANGED,value:e}),this.validate(e)},t.prototype.updateAutocompleteList=function(e){var r,n,i,s,a=null!==(n=null===(r=this.listGenerator)||void 0===r?void 0:r.call(this,e,this.lastPosition))&&void 0!==n?n:{enabled:!1};(!a.type||a.type!==(null===(i=this.autocompleteListParams)||void 0===i?void 0:i.type))&&this.isListOpen&&this.closeList(),this.autocompleteListParams=a,null!==(s=this.autocompleteListParams)&&void 0!==s&&s.enabled?(this.isListOpen||this.openList(),this.autocompleteList.setSearch(this.autocompleteListParams.searchString??"")):this.isListOpen&&this.closeList()},t.prototype.onKeyDown=function(e){var r=this,n=e.key;switch(this.updateLastPosition(),n){case Ce.ENTER:this.onEnterKeyDown(e);break;case Ce.TAB:this.onTabKeyDown(e);break;case Ce.DOWN:case Ce.UP:this.onUpDownKeyDown(e,n);break;case Ce.LEFT:case Ce.RIGHT:case Ce.PAGE_HOME:case Ce.PAGE_END:setTimeout(function(){r.updatePositionAndList()});break;case Ce.ESCAPE:this.onEscapeKeyDown(e);break;case Ce.SPACE:e.ctrlKey&&!this.isListOpen&&(e.preventDefault(),this.forceOpenList())}},t.prototype.confirmSelection=function(){var e,r=null===(e=this.autocompleteList)||void 0===e?void 0:e.getSelectedValue();r&&(this.closeList(),this.dispatchEvent({type:t.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:r,autocompleteType:this.autocompleteListParams.type}))},t.prototype.onTabKeyDown=function(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.confirmSelection())},t.prototype.onEnterKeyDown=function(e){e.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()},t.prototype.onUpDownKeyDown=function(e,r){var n;e.preventDefault(),this.isListOpen?null===(n=this.autocompleteList)||void 0===n||n.onNavigationKeyDown(e,r):this.forceOpenList()},t.prototype.onEscapeKeyDown=function(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))},t.prototype.onFocusOut=function(){this.isListOpen&&this.closeList()},t.prototype.updatePositionAndList=function(){var e;this.updateLastPosition(),this.updateAutocompleteList(null!==(e=this.eAutocompleteInput.getValue())&&void 0!==e?e:null)},t.prototype.setCaret=function(e,r){var n=this.gridOptionsService.getDocument();r&&n.activeElement===n.body&&this.eAutocompleteInput.getFocusableElement().focus(),this.eAutocompleteInput.getInputElement().setSelectionRange(e,e)},t.prototype.forceOpenList=function(){this.onValueChanged(this.eAutocompleteInput.getValue())},t.prototype.updateLastPosition=function(){var e;this.lastPosition=null!==(e=this.eAutocompleteInput.getInputElement().selectionStart)&&void 0!==e?e:0},t.prototype.validate=function(e){var r;this.validator&&(this.validationMessage=this.validator(e),this.eAutocompleteInput.getInputElement().setCustomValidity(null!==(r=this.validationMessage)&&void 0!==r?r:""),this.valid=!this.validationMessage,this.dispatchEvent({type:t.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))},t.prototype.openList=function(){var e=this;this.isListOpen=!0,this.autocompleteList=this.createBean(new Uy({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:function(){return e.confirmSelection()},forceLastSelection:this.forceLastSelection}));var r=this.autocompleteList.getGui(),n={ePopup:r,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gridOptionsService.is("enableRtl")?"right":"left",keepWithinBounds:!0},i=this.popupService.addPopup({eChild:r,anchorToElement:this.getGui(),positionCallback:function(){return e.popupService.positionPopupByComponent(n)},ariaLabel:this.listAriaLabel});this.hidePopup=i.hideFunc,this.autocompleteList.afterGuiAttached()},t.prototype.closeList=function(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null},t.prototype.onCompleted=function(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:t.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})},t.prototype.getValue=function(){return p(this.eAutocompleteInput.getValue())},t.prototype.setInputPlaceholder=function(e){return this.eAutocompleteInput.setInputPlaceholder(e),this},t.prototype.setInputAriaLabel=function(e){return this.eAutocompleteInput.setInputAriaLabel(e),this},t.prototype.setListAriaLabel=function(e){return this.listAriaLabel=e,this},t.prototype.setListGenerator=function(e){return this.listGenerator=e,this},t.prototype.setValidator=function(e){return this.validator=e,this},t.prototype.isValid=function(){return this.valid},t.prototype.setValue=function(e){var r=e.value,n=e.position,i=e.silent,s=e.updateListOnlyIfOpen,a=e.restoreFocus;this.eAutocompleteInput.setValue(r,!0),this.setCaret(n??this.lastPosition,a),i||this.updateValue(r),(!s||this.isListOpen)&&this.updateAutocompleteList(r)},t.prototype.setForceLastSelection=function(e){return this.forceLastSelection=e,this},t.prototype.setInputDisabled=function(e){return this.eAutocompleteInput.setDisabled(e),this},t.EVENT_VALUE_CHANGED="eventValueChanged",t.EVENT_VALUE_CONFIRMED="eventValueConfirmed",t.EVENT_OPTION_SELECTED="eventOptionSelected",t.EVENT_VALID_CHANGED="eventValidChanged",Fv([A("popupService")],t.prototype,"popupService",void 0),Fv([tt("eAutocompleteInput")],t.prototype,"eAutocompleteInput",void 0),Fv([we],t.prototype,"postConstruct",null),t}(qt),Ky=["mouseover","mouseout","mouseenter","mouseleave","mousemove"],Yy=["touchstart","touchend","touchmove","touchcancel"],ny=function(){function o(){this.renderingEngine="vanilla",this.isOutsideAngular=function(t){return It(Ky,t)}}return o.prototype.setTimeout=function(t,e){window.setTimeout(t,e)},o.prototype.setInterval=function(t,e){return new pi(function(r){r(window.setInterval(t,e))})},o.prototype.addEventListener=function(t,e,r,n){var i=It(Yy,e);t.addEventListener(e,r,{capture:!!n,passive:i})},o.prototype.dispatchEvent=function(t,e,r){e()},o.prototype.frameworkComponent=function(t){return null},o.prototype.isFrameworkComponent=function(t){return!1},o}(),$y=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),wc=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Zy=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return $y(t,o),t.prototype.getNextCellToFocus=function(e,r,n){return void 0===n&&(n=!1),n?this.getNextCellToFocusWithCtrlPressed(e,r):this.getNextCellToFocusWithoutCtrlPressed(e,r)},t.prototype.getNextCellToFocusWithCtrlPressed=function(e,r){var a,d,n=e===Ce.UP,s=e===Ce.LEFT;if(n||e===Ce.DOWN)d=n?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),a=r.column;else{var g=this.columnModel.getAllDisplayedColumns(),m=this.gridOptionsService.is("enableRtl");d=r.rowIndex,a=s!==m?g[0]:te(g)}return{rowIndex:d,rowPinned:null,column:a}},t.prototype.getNextCellToFocusWithoutCtrlPressed=function(e,r){for(var n=r,i=!1;!i;){switch(e){case Ce.UP:n=this.getCellAbove(n);break;case Ce.DOWN:n=this.getCellBelow(n);break;case Ce.RIGHT:n=this.gridOptionsService.is("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case Ce.LEFT:n=this.gridOptionsService.is("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,console.warn("AG Grid: unknown key for navigation "+e)}i=!n||this.isCellGoodToFocusOn(n)}return n},t.prototype.isCellGoodToFocusOn=function(e){var n,r=e.column;switch(e.rowPinned){case"top":n=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":n=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:n=this.rowModel.getRow(e.rowIndex)}return!!n&&!r.isSuppressNavigable(n)},t.prototype.getCellToLeft=function(e){if(!e)return null;var r=this.columnModel.getDisplayedColBefore(e.column);return r?{rowIndex:e.rowIndex,column:r,rowPinned:e.rowPinned}:null},t.prototype.getCellToRight=function(e){if(!e)return null;var r=this.columnModel.getDisplayedColAfter(e.column);return r?{rowIndex:e.rowIndex,column:r,rowPinned:e.rowPinned}:null},t.prototype.getRowBelow=function(e){var r=e.rowIndex,n=e.rowPinned;if(this.isLastRowInContainer(e))switch(n){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}var i=this.rowModel.getRow(e.rowIndex);return this.getNextStickyPosition(i)||{rowIndex:r+1,rowPinned:n}},t.prototype.getNextStickyPosition=function(e,r){if(this.gridOptionsService.isGroupRowsSticky()&&e&&e.sticky){var n=function(o,t){for(var e=0,r=t.length,n=o.length;e<r;e++,n++)o[n]=t[e];return o}([],function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i}(this.rowRenderer.getStickyTopRowCtrls())).sort(function(d,g){return d.getRowNode().rowIndex-g.getRowNode().rowIndex}),i=r?-1:1,s=n.findIndex(function(d){return d.getRowNode().rowIndex===e.rowIndex}),a=n[s+i];if(a)return{rowIndex:a.getRowNode().rowIndex,rowPinned:null}}},t.prototype.getCellBelow=function(e){if(!e)return null;var r=this.getRowBelow(e);return r?{rowIndex:r.rowIndex,column:e.column,rowPinned:r.rowPinned}:null},t.prototype.isLastRowInContainer=function(e){var r=e.rowPinned,n=e.rowIndex;return"top"===r?this.pinnedRowModel.getPinnedTopRowData().length-1<=n:"bottom"===r?this.pinnedRowModel.getPinnedBottomRowData().length-1<=n:this.paginationProxy.getPageLastRow()<=n},t.prototype.getRowAbove=function(e){var r=e.rowIndex,n=e.rowPinned;if(n?0===r:r===this.paginationProxy.getPageFirstRow())return"top"===n?null:n&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;var s=this.rowModel.getRow(e.rowIndex);return this.getNextStickyPosition(s,!0)||{rowIndex:r-1,rowPinned:n}},t.prototype.getCellAbove=function(e){if(!e)return null;var r=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return r?{rowIndex:r.rowIndex,column:e.column,rowPinned:r.rowPinned}:null},t.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},t.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:"top"}},t.prototype.getNextTabbedCell=function(e,r){return r?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)},t.prototype.getNextTabbedCellForwards=function(e){var r=this.columnModel.getAllDisplayedColumns(),n=e.rowIndex,i=e.rowPinned,s=this.columnModel.getDisplayedColAfter(e.column);if(!s){s=r[0];var a=this.getRowBelow(e);if(W(a)||!a.rowPinned&&!this.paginationProxy.isRowInPage(a))return null;n=a?a.rowIndex:null,i=a?a.rowPinned:null}return{rowIndex:n,column:s,rowPinned:i}},t.prototype.getNextTabbedCellBackwards=function(e){var r=this.columnModel.getAllDisplayedColumns(),n=e.rowIndex,i=e.rowPinned,s=this.columnModel.getDisplayedColBefore(e.column);if(!s){s=te(r);var a=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(W(a)||!a.rowPinned&&!this.paginationProxy.isRowInPage(a))return null;n=a?a.rowIndex:null,i=a?a.rowPinned:null}return{rowIndex:n,column:s,rowPinned:i}},wc([A("columnModel")],t.prototype,"columnModel",void 0),wc([A("rowModel")],t.prototype,"rowModel",void 0),wc([A("rowRenderer")],t.prototype,"rowRenderer",void 0),wc([A("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),wc([A("paginationProxy")],t.prototype,"paginationProxy",void 0),wc([je("cellNavigationService")],t)}(Le),Jy=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),jd=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Xy=function(o,t){return function(e,r){t(e,r,o)}},em=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.consuming=!1,e}return Jy(t,o),t.prototype.setBeans=function(e){this.logger=e.create("AlignedGridsService")},t.prototype.init=function(){this.addManagedListener(this.eventService,M.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,M.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},t.prototype.fireEvent=function(e){if(!this.consuming){var r=this.gridOptionsService.get("alignedGrids");r&&r.forEach(function(n){if(n.api){var i=n.api.__getAlignedGridService();e(i)}})}},t.prototype.onEvent=function(e){this.consuming=!0,e(),this.consuming=!1},t.prototype.fireColumnEvent=function(e){this.fireEvent(function(r){r.onColumnEvent(e)})},t.prototype.fireScrollEvent=function(e){"horizontal"===e.direction&&this.fireEvent(function(r){r.onScrollEvent(e)})},t.prototype.onScrollEvent=function(e){var r=this;this.onEvent(function(){r.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})},t.prototype.getMasterColumns=function(e){var r=[];return e.columns?e.columns.forEach(function(n){r.push(n)}):e.column&&r.push(e.column),r},t.prototype.getColumnIds=function(e){var r=[];return e.columns?e.columns.forEach(function(n){r.push(n.getColId())}):e.column&&r.push(e.column.getColId()),r},t.prototype.onColumnEvent=function(e){var r=this;this.onEvent(function(){switch(e.type){case M.EVENT_COLUMN_MOVED:case M.EVENT_COLUMN_VISIBLE:case M.EVENT_COLUMN_PINNED:case M.EVENT_COLUMN_RESIZED:r.processColumnEvent(e);break;case M.EVENT_COLUMN_GROUP_OPENED:r.processGroupOpenedEvent(e);break;case M.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})},t.prototype.processGroupOpenedEvent=function(e){var r=e.columnGroup,n=null;if(r){var i=r.getGroupId();n=this.columnModel.getProvidedColumnGroup(i)}r&&!n||(this.logger.log("onColumnEvent-> processing "+e+" expanded = "+r.isExpanded()),this.columnModel.setColumnGroupOpened(n,r.isExpanded(),"alignedGridChanged"))},t.prototype.processColumnEvent=function(e){var n,r=this,i=e.column,s=null;if(i&&(s=this.columnModel.getPrimaryColumn(i.getColId())),!i||s){var a=this.getMasterColumns(e);switch(e.type){case M.EVENT_COLUMN_MOVED:var d=e,m=e.columnApi.getColumnState().map(function(fe){return{colId:fe.colId}});this.columnModel.applyColumnState({state:m,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" toIndex = "+d.toIndex);break;case M.EVENT_COLUMN_VISIBLE:var C=e;m=e.columnApi.getColumnState().map(function(ke){return{colId:ke.colId,hide:ke.hide}}),this.columnModel.applyColumnState({state:m},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" visible = "+C.visible);break;case M.EVENT_COLUMN_PINNED:var E=e;m=e.columnApi.getColumnState().map(function(ke){return{colId:ke.colId,pinned:ke.pinned}}),this.columnModel.applyColumnState({state:m},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" pinned = "+E.pinned);break;case M.EVENT_COLUMN_RESIZED:var b=e,L={};a.forEach(function(fe){r.logger.log("onColumnEvent-> processing "+e.type+" actualWidth = "+fe.getActualWidth()),L[fe.getId()]={key:fe.getColId(),newWidth:fe.getActualWidth()}}),null===(n=b.flexColumns)||void 0===n||n.forEach(function(fe){L[fe.getId()]&&delete L[fe.getId()]}),this.columnModel.setColumnWidths(Object.values(L),!1,b.finished,"alignedGridChanged")}var ee=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing(),se=this.gridOptionsService.get("alignedGrids");se&&se.forEach(function(fe){fe.api&&fe.api.setAlwaysShowVerticalScroll(ee)})}},jd([A("columnModel")],t.prototype,"columnModel",void 0),jd([A("ctrlsService")],t.prototype,"ctrlsService",void 0),jd([Xy(0,Sr("loggerFactory"))],t.prototype,"setBeans",null),jd([we],t.prototype,"init",null),jd([je("alignedGridsService")],t)}(Le),tm=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),zd=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},rm=function(o,t){return function(e,r){t(e,r,o)}},im=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return tm(t,o),t.prototype.setBeans=function(e){this.logger=e.create("selectionService"),this.reset()},t.prototype.init=function(){var e=this;this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.addManagedPropertyListener("groupSelectsChildren",function(r){return e.groupSelectsChildren=r.currentValue}),this.rowSelection=this.gridOptionsService.get("rowSelection"),this.addManagedPropertyListener("rowSelection",function(r){return e.rowSelection=r.currentValue}),this.addManagedListener(this.eventService,M.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},t.prototype.isMultiselect=function(){return"multiple"===this.rowSelection},t.prototype.setNodesSelected=function(e){var r;if(0===e.nodes.length)return 0;var n=e.newValue,i=e.clearSelection,s=e.suppressFinishActions,a=e.rangeSelect,d=e.source,g=void 0===d?"api":d;if(e.nodes.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;var m=this.groupSelectsChildren&&!0===e.groupSelectsFiltered,C=e.nodes.map(function(_t){return _t.footer?_t.sibling:_t});if(a){if(e.nodes.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;var E=this.getLastSelectedNode();if(E&&E!==(b=C[0])&&this.isMultiselect()){var j=this.selectRange(b,E,e.newValue,g);return this.setLastSelectedNode(b),j}}for(var ee=0,se=0;se<C.length;se++){var b=C[se];m&&b.group||b.selectThisNode(n,e.event,g)&&ee++,this.groupSelectsChildren&&null!==(r=b.childrenAfterGroup)&&void 0!==r&&r.length&&(ee+=this.selectChildren(b,n,m,g))}return s||(n&&(i||!this.isMultiselect())&&(ee+=this.clearOtherNodes(C[0],g)),ee>0&&(this.updateGroupsFromChildrenSelections(g),this.eventService.dispatchEvent({type:M.EVENT_SELECTION_CHANGED,source:g})),n&&this.setLastSelectedNode(C[C.length-1])),ee},t.prototype.selectRange=function(e,r,n,i){var s=this;void 0===n&&(n=!0);var a=this.rowModel.getNodesInRangeForSelection(e,r),d=0;return a.forEach(function(m){m.group&&s.groupSelectsChildren||!1===n&&e===m||m.selectThisNode(n,void 0,i)&&d++}),this.updateGroupsFromChildrenSelections(i),this.eventService.dispatchEvent({type:M.EVENT_SELECTION_CHANGED,source:i}),d},t.prototype.selectChildren=function(e,r,n,i){var s=n?e.childrenAfterAggFilter:e.childrenAfterGroup;return Vt.missing(s)?0:this.setNodesSelected({newValue:r,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:n,source:i,nodes:s})},t.prototype.setLastSelectedNode=function(e){this.lastSelectedNode=e},t.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},t.prototype.getSelectedNodes=function(){var e=[];return rt(this.selectedNodes,function(r,n){n&&e.push(n)}),e},t.prototype.getSelectedRows=function(){var e=[];return rt(this.selectedNodes,function(r,n){n&&n.data&&e.push(n.data)}),e},t.prototype.getSelectionCount=function(){return Object.values(this.selectedNodes).length},t.prototype.filterFromSelection=function(e){var r={};Object.entries(this.selectedNodes).forEach(function(n){var i=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i}(n,2),s=i[0],a=i[1];a&&e(a)&&(r[s]=a)}),this.selectedNodes=r},t.prototype.updateGroupsFromChildrenSelections=function(e,r){if(!this.groupSelectsChildren||"clientSide"!==this.rowModel.getType())return!1;var i=this.rowModel.getRootNode();r||(r=new Hd(!0,i)).setInactive();var s=!1;return r.forEachChangedNodeDepthFirst(function(a){if(a!==i){var d=a.calculateSelectedFromChildren();s=a.selectThisNode(null!==d&&d,void 0,e)||s}}),s},t.prototype.clearOtherNodes=function(e,r){var n=this,i={},s=0;return rt(this.selectedNodes,function(a,d){d&&d.id!==e.id&&(s+=n.selectedNodes[d.id].setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:r}),n.groupSelectsChildren&&d.parent&&(i[d.parent.id]=d.parent))}),rt(i,function(a,d){var g=d.calculateSelectedFromChildren();d.selectThisNode(null!==g&&g,void 0,r)}),s},t.prototype.onRowSelected=function(e){var r=e.node;this.groupSelectsChildren&&r.group||(r.isSelected()?this.selectedNodes[r.id]=r:delete this.selectedNodes[r.id])},t.prototype.syncInRowNode=function(e,r){this.syncInOldRowNode(e,r),this.syncInNewRowNode(e)},t.prototype.syncInOldRowNode=function(e,r){w(r)&&e.id!==r.id&&r&&this.selectedNodes[r.id]==e&&(this.selectedNodes[r.id]=r)},t.prototype.syncInNewRowNode=function(e){w(this.selectedNodes[e.id])?(e.setSelectedInitialValue(!0),this.selectedNodes[e.id]=e):e.setSelectedInitialValue(!1)},t.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},t.prototype.getBestCostNodeSelection=function(){if("clientSide"===this.rowModel.getType()){var r=this.rowModel.getTopLevelNodes();if(null!==r){var n=[];return function i(s){for(var a=0,d=s.length;a<d;a++){var g=s[a];g.isSelected()?n.push(g):g.group&&g.children&&i(g.children)}}(r),n}}},t.prototype.isEmpty=function(){var e=0;return rt(this.selectedNodes,function(r,n){n&&e++}),0===e},t.prototype.deselectAllRowNodes=function(e){var r=function(g){return g.selectThisNode(!1,void 0,i)},n="clientSide"===this.rowModel.getType(),i=e.source,s=e.justFiltered,a=e.justCurrentPage;if(a||s){if(!n)return void console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");this.getNodesToSelect(s,a).forEach(r)}else rt(this.selectedNodes,function(g,m){m&&r(m)}),this.reset();n&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(i),this.eventService.dispatchEvent({type:M.EVENT_SELECTION_CHANGED,source:i})},t.prototype.getSelectAllState=function(e,r){var n=this,i=0,s=0;return this.getNodesToSelect(e,r).forEach(function(d){n.groupSelectsChildren&&d.group||(d.isSelected()?i++:d.selectable&&s++)}),(0!==i||0!==s)&&(i>0&&s>0?null:i>0)},t.prototype.getNodesToSelect=function(e,r){var n=this;if(void 0===e&&(e=!1),void 0===r&&(r=!1),"clientSide"!==this.rowModel.getType())throw new Error("selectAll only available when rowModelType='clientSide', ie not "+this.rowModel.getType());var i=[];if(r)return this.paginationProxy.forEachNodeOnPage(function(a){if(a.group)if(a.expanded)n.groupSelectsChildren||i.push(a);else{var d=function(g){var m;i.push(g),null!==(m=g.childrenAfterFilter)&&void 0!==m&&m.length&&g.childrenAfterFilter.forEach(d)};d(a)}else i.push(a)}),i;var s=this.rowModel;return e?(s.forEachNodeAfterFilter(function(a){i.push(a)}),i):(s.forEachNode(function(a){i.push(a)}),i)},t.prototype.selectAllRowNodes=function(e){if("clientSide"!==this.rowModel.getType())throw new Error("selectAll only available when rowModelType='clientSide', ie not "+this.rowModel.getType());var r=e.source;this.getNodesToSelect(e.justFiltered,e.justCurrentPage).forEach(function(d){return d.selectThisNode(!0,void 0,r)}),"clientSide"===this.rowModel.getType()&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(r),this.eventService.dispatchEvent({type:M.EVENT_SELECTION_CHANGED,source:r})},t.prototype.getServerSideSelectionState=function(){return null},t.prototype.setServerSideSelectionState=function(e){},zd([A("rowModel")],t.prototype,"rowModel",void 0),zd([A("paginationProxy")],t.prototype,"paginationProxy",void 0),zd([rm(0,Sr("loggerFactory"))],t.prototype,"setBeans",null),zd([we],t.prototype,"init",null),zd([je("selectionService")],t)}(Le),Mv=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},om=function(){function o(){}return o.prototype.sizeColumnsToFit=function(t){typeof t>"u"&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(t,"api")},o.prototype.setColumnGroupOpened=function(t,e){this.columnModel.setColumnGroupOpened(t,e,"api")},o.prototype.getColumnGroup=function(t,e){return this.columnModel.getColumnGroup(t,e)},o.prototype.getProvidedColumnGroup=function(t){return this.columnModel.getProvidedColumnGroup(t)},o.prototype.getDisplayNameForColumn=function(t,e){return this.columnModel.getDisplayNameForColumn(t,e)||""},o.prototype.getDisplayNameForColumnGroup=function(t,e){return this.columnModel.getDisplayNameForColumnGroup(t,e)||""},o.prototype.getColumn=function(t){return this.columnModel.getPrimaryColumn(t)},o.prototype.getColumns=function(){return this.columnModel.getAllPrimaryColumns()},o.prototype.applyColumnState=function(t){return this.columnModel.applyColumnState(t,"api")},o.prototype.getColumnState=function(){return this.columnModel.getColumnState()},o.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},o.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},o.prototype.setColumnGroupState=function(t){this.columnModel.setColumnGroupState(t,"api")},o.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},o.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},o.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},o.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},o.prototype.getDisplayedColAfter=function(t){return this.columnModel.getDisplayedColAfter(t)},o.prototype.getDisplayedColBefore=function(t){return this.columnModel.getDisplayedColBefore(t)},o.prototype.setColumnVisible=function(t,e){this.columnModel.setColumnVisible(t,e,"api")},o.prototype.setColumnsVisible=function(t,e){this.columnModel.setColumnsVisible(t,e,"api")},o.prototype.setColumnPinned=function(t,e){this.columnModel.setColumnPinned(t,e,"api")},o.prototype.setColumnsPinned=function(t,e){this.columnModel.setColumnsPinned(t,e,"api")},o.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},o.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},o.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},o.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},o.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},o.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},o.prototype.moveColumn=function(t,e){this.columnModel.moveColumn(t,e,"api")},o.prototype.moveColumnByIndex=function(t,e){this.columnModel.moveColumnByIndex(t,e,"api")},o.prototype.moveColumns=function(t,e){this.columnModel.moveColumns(t,e,"api")},o.prototype.moveRowGroupColumn=function(t,e){this.columnModel.moveRowGroupColumn(t,e)},o.prototype.setColumnAggFunc=function(t,e){this.columnModel.setColumnAggFunc(t,e)},o.prototype.setColumnWidth=function(t,e,r,n){void 0===r&&(r=!0),this.columnModel.setColumnWidths([{key:t,newWidth:e}],!1,r,n)},o.prototype.setColumnWidths=function(t,e,r){void 0===e&&(e=!0),this.columnModel.setColumnWidths(t,!1,e,r)},o.prototype.setPivotMode=function(t){this.columnModel.setPivotMode(t)},o.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},o.prototype.getPivotResultColumn=function(t,e){return this.columnModel.getSecondaryPivotColumn(t,e)},o.prototype.setValueColumns=function(t){this.columnModel.setValueColumns(t,"api")},o.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},o.prototype.removeValueColumn=function(t){this.columnModel.removeValueColumn(t,"api")},o.prototype.removeValueColumns=function(t){this.columnModel.removeValueColumns(t,"api")},o.prototype.addValueColumn=function(t){this.columnModel.addValueColumn(t,"api")},o.prototype.addValueColumns=function(t){this.columnModel.addValueColumns(t,"api")},o.prototype.setRowGroupColumns=function(t){this.columnModel.setRowGroupColumns(t,"api")},o.prototype.removeRowGroupColumn=function(t){this.columnModel.removeRowGroupColumn(t,"api")},o.prototype.removeRowGroupColumns=function(t){this.columnModel.removeRowGroupColumns(t,"api")},o.prototype.addRowGroupColumn=function(t){this.columnModel.addRowGroupColumn(t,"api")},o.prototype.addRowGroupColumns=function(t){this.columnModel.addRowGroupColumns(t,"api")},o.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},o.prototype.setPivotColumns=function(t){this.columnModel.setPivotColumns(t,"api")},o.prototype.removePivotColumn=function(t){this.columnModel.removePivotColumn(t,"api")},o.prototype.removePivotColumns=function(t){this.columnModel.removePivotColumns(t,"api")},o.prototype.addPivotColumn=function(t){this.columnModel.addPivotColumn(t,"api")},o.prototype.addPivotColumns=function(t){this.columnModel.addPivotColumns(t,"api")},o.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},o.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},o.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},o.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},o.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},o.prototype.autoSizeColumn=function(t,e){return this.columnModel.autoSizeColumn(t,e,"api")},o.prototype.autoSizeColumns=function(t,e){this.columnModel.autoSizeColumns({columns:t,skipHeader:e})},o.prototype.autoSizeAllColumns=function(t){this.columnModel.autoSizeAllColumns(t,"api")},o.prototype.setPivotResultColumns=function(t){this.columnModel.setSecondaryColumns(t,"api")},o.prototype.getPivotResultColumns=function(){return this.columnModel.getSecondaryColumns()},o.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(Vt.removeAllReferences.bind(window,this,"Column API"),100)},o.prototype.getAllColumns=function(){return li("28.0","getAllColumns","getColumns"),this.getColumns()},o.prototype.getPrimaryColumns=function(){return li("28.0","getPrimaryColumns","getColumns"),this.getColumns()},o.prototype.getSecondaryColumns=function(){return li("28.0","getSecondaryColumns","getPivotResultColumns"),this.getPivotResultColumns()},o.prototype.setSecondaryColumns=function(t){li("28.0","setSecondaryColumns","setPivotResultColumns"),this.setPivotResultColumns(t)},o.prototype.getSecondaryPivotColumn=function(t,e){return li("28.0","getSecondaryPivotColumn","getPivotResultColumn"),this.getPivotResultColumn(t,e)},Mv([A("columnModel")],o.prototype,"columnModel",void 0),Mv([yr],o.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),Mv([je("columnApi")],o)}(),sm=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Sc=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},am=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.initialised=!1,e.isSsrm=!1,e}return sm(t,o),t.prototype.init=function(){var e=this;this.isSsrm=this.gridOptionsService.isRowModelType("serverSide"),this.cellExpressions=this.gridOptionsService.is("enableCellExpressions"),this.isTreeData=this.gridOptionsService.is("treeData"),this.initialised=!0,this.eventService.addEventListener(M.EVENT_CELL_VALUE_CHANGED,function(r){return e.callColumnCellValueChangedHandler(r)},this.gridOptionsService.useAsyncEvents()),this.addManagedPropertyListener("treeData",function(r){return e.isTreeData=r.currentValue})},t.prototype.getValue=function(e,r,n,i){if(void 0===n&&(n=!1),void 0===i&&(i=!1),this.initialised||this.init(),r){var m,s=e.getColDef(),a=s.field,d=e.getColId(),g=r.data,C=r.groupData&&void 0!==r.groupData[d],E=!i&&r.aggData&&void 0!==r.aggData[d],b=this.isSsrm&&i&&!!e.getColDef().aggFunc,L=this.isSsrm&&r.footer&&r.field&&(!0===e.getColDef().showRowGroup||e.getColDef().showRowGroup===r.field);if(n&&s.filterValueGetter?m=this.executeFilterValueGetter(s.filterValueGetter,g,e,r):this.isTreeData&&E?m=r.aggData[d]:this.isTreeData&&s.valueGetter?m=this.executeValueGetter(s.valueGetter,g,e,r):this.isTreeData&&a&&g?m=Rr(g,a,e.isFieldContainsDots()):C?m=r.groupData[d]:E?m=r.aggData[d]:s.valueGetter?m=this.executeValueGetter(s.valueGetter,g,e,r):L?m=Rr(g,r.field,e.isFieldContainsDots()):a&&g&&!b&&(m=Rr(g,a,e.isFieldContainsDots())),this.cellExpressions&&"string"==typeof m&&0===m.indexOf("=")){var j=m.substring(1);m=this.executeValueGetter(j,g,e,r)}if(null==m){var ee=this.getOpenedGroup(r,e);if(null!=ee)return ee}return m}},t.prototype.getOpenedGroup=function(e,r){if(this.gridOptionsService.is("showOpenedGroup")&&r.getColDef().showRowGroup)for(var i=r.getColDef().showRowGroup,s=e.parent;null!=s;){if(s.rowGroupColumn&&(!0===i||i===s.rowGroupColumn.getColId()))return s.key;s=s.parent}},t.prototype.setValue=function(e,r,n,i){var s=this.columnModel.getPrimaryColumn(r);if(!e||!s)return!1;W(e.data)&&(e.data={});var a=s.getColDef(),d=a.field,g=a.valueSetter;if(W(d)&&W(g))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(s,n))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;var C,m={node:e,data:e.data,oldValue:this.getValue(s,e),newValue:n,colDef:s.getColDef(),column:s,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return m.newValue=n,void 0===(C=w(g)?"function"==typeof g?g(m):this.expressionService.evaluate(g,m):this.setValueUsingField(e.data,d,n,s.isFieldContainsDots()))&&(C=!0),!!C&&(e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),m.newValue=this.getValue(s,e),this.eventService.dispatchEvent({type:M.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:m.column,api:m.api,columnApi:m.columnApi,colDef:m.colDef,context:m.context,data:e.data,node:e,oldValue:m.oldValue,newValue:m.newValue,value:m.newValue,source:i}),!0)},t.prototype.callColumnCellValueChangedHandler=function(e){var r=e.colDef.onCellValueChanged;"function"==typeof r&&r({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,columnApi:e.columnApi,context:e.context})},t.prototype.setValueUsingField=function(e,r,n,i){if(!r)return!1;var s=!1;if(i)for(var a=r.split("."),d=e;a.length>0&&d;){var g=a.shift();0===a.length?(s=d[g]===n)||(d[g]=n):d=d[g]}else(s=e[r]===n)||(e[r]=n);return!s},t.prototype.executeFilterValueGetter=function(e,r,n,i){var s={data:r,node:i,column:n,colDef:n.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,i)};return"function"==typeof e?e(s):this.expressionService.evaluate(e,s)},t.prototype.executeValueGetter=function(e,r,n,i){var s=n.getColId(),a=this.valueCache.getValue(i,s);if(void 0!==a)return a;var g,d={data:r,node:i,column:n,colDef:n.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,i)};return g="function"==typeof e?e(d):this.expressionService.evaluate(e,d),this.valueCache.setValue(i,s,g),g},t.prototype.getValueCallback=function(e,r){var n=this.columnModel.getPrimaryColumn(r);return n?this.getValue(n,e):null},t.prototype.getKeyForNode=function(e,r){var n=this.getValue(e,r),i=e.getColDef().keyCreator,s=n;return i&&(s=i({value:n,colDef:e.getColDef(),column:e,node:r,data:r.data,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context})),"string"==typeof s||null==s||"[object Object]"===(s=String(s))&&At(function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]"),s},Sc([A("expressionService")],t.prototype,"expressionService",void 0),Sc([A("columnModel")],t.prototype,"columnModel",void 0),Sc([A("valueCache")],t.prototype,"valueCache",void 0),Sc([A("dataTypeService")],t.prototype,"dataTypeService",void 0),Sc([we],t.prototype,"init",null),Sc([je("valueService")],t)}(Le),lm=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),iy=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},um=function(o,t){return function(e,r){t(e,r,o)}},cm=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.expressionToFunctionCache={},e}return lm(t,o),t.prototype.setBeans=function(e){this.logger=e.create("ExpressionService")},t.prototype.evaluate=function(e,r){if("string"==typeof e)return this.evaluateExpression(e,r);console.error("AG Grid: value should be either a string or a function",e)},t.prototype.evaluateExpression=function(e,r){try{return this.createExpressionFunction(e)(r.value,r.context,r.oldValue,r.newValue,r.value,r.node,r.data,r.colDef,r.rowIndex,r.api,r.columnApi,r.getValue,r.column,r.columnGroup)}catch(s){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",r),console.log("Exception = "+s),null}},t.prototype.createExpressionFunction=function(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];var r=this.createFunctionBody(e),n=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",r);return this.expressionToFunctionCache[e]=n,n},t.prototype.createFunctionBody=function(e){return e.indexOf("return")>=0?e:"return "+e+";"},iy([um(0,Sr("loggerFactory"))],t.prototype,"setBeans",null),iy([je("expressionService")],t)}(Le),dm=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),fm=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.templateCache={},e.waitingCallbacks={},e}return dm(t,o),t.prototype.getTemplate=function(e,r){var n=this.templateCache[e];if(n)return n;var i=this.waitingCallbacks[e],s=this;if(!i){this.waitingCallbacks[e]=i=[];var a=new XMLHttpRequest;a.onload=function(){s.handleHttpResult(this,e)},a.open("GET",e),a.send()}return r&&i.push(r),null},t.prototype.handleHttpResult=function(e,r){if(200===e.status&&null!==e.response){this.templateCache[r]=e.response||e.responseText;for(var n=this.waitingCallbacks[r],i=0;i<n.length;i++)(0,n[i])()}else console.warn("AG Grid: Unable to get template error "+e.status+" - "+r)},t=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i}([je("templateService")],t),t}(Le),hm=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),oy=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},gm=function(o,t){return function(e,r){t(e,r,o)}},vm=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return hm(t,o),t.prototype.setBeans=function(e){this.logging=e.is("debug")},t.prototype.create=function(e){return new Iv(e,this.isLogging.bind(this))},t.prototype.isLogging=function(){return this.logging},oy([gm(0,Sr("gridOptionsService"))],t.prototype,"setBeans",null),oy([je("loggerFactory")],t)}(Le),Iv=function(){function o(t,e){this.name=t,this.isLoggingFunc=e}return o.prototype.isLogging=function(){return this.isLoggingFunc()},o.prototype.log=function(t){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+t)},o}(),ym=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),_c=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},mm=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return ym(t,o),t.prototype.setComp=function(e,r,n){var i=this;this.view=e,this.eGridHostDiv=r,this.eGui=n,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:function(){return i.eGui},isInterestedIn:function(a){return a===ei.HeaderCell||a===ei.ToolPanel},getIconName:function(){return En.ICON_NOT_ALLOWED}}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(r),this.createManagedBean(new cd(this.view)),this.addRtlSupport(),this.addManagedListener(this,M.EVENT_KEYBOARD_FOCUS,function(){i.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,M.EVENT_MOUSE_FOCUS,function(){i.view.addOrRemoveKeyboardFocusClass(!1)});var s=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return s()}),this.ctrlsService.registerGridCtrl(this)},t.prototype.isDetailGrid=function(){var e,r=this.focusService.findTabbableParent(this.getGui());return(null===(e=r?.getAttribute("row-id"))||void 0===e?void 0:e.startsWith("detail"))||!1},t.prototype.showDropZones=function(){return it.__isRegistered(Re.RowGroupingModule,this.context.getGridId())},t.prototype.showSideBar=function(){return it.__isRegistered(Re.SideBarModule,this.context.getGridId())},t.prototype.showStatusBar=function(){return it.__isRegistered(Re.StatusBarModule,this.context.getGridId())},t.prototype.showWatermark=function(){return it.__isRegistered(Re.EnterpriseCoreModule,this.context.getGridId())},t.prototype.onGridSizeChanged=function(){this.eventService.dispatchEvent({type:M.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})},t.prototype.addRtlSupport=function(){var e=this.gridOptionsService.is("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)},t.prototype.destroyGridUi=function(){this.view.destroyGridUi()},t.prototype.getGui=function(){return this.eGui},t.prototype.setResizeCursor=function(e){this.view.setCursor(e?"ew-resize":null)},t.prototype.disableUserSelect=function(e){this.view.setUserSelect(e?"none":null)},t.prototype.focusNextInnerContainer=function(e){var r=this.gridOptionsService.getDocument(),n=this.view.getFocusableContainers(),s=n.findIndex(function(a){return a.contains(r.activeElement)})+(e?-1:1);return!(s<=0||s>=n.length)&&this.focusService.focusInto(n[s])},t.prototype.focusInnerElement=function(e){var r=this.view.getFocusableContainers(),n=this.columnModel.getAllDisplayedColumns();if(e){if(r.length>1)return this.focusService.focusInto(te(r),!0);var i=te(n);if(this.focusService.focusGridView(i,!0))return!0}return 0===this.gridOptionsService.getNum("headerHeight")?this.focusService.focusGridView(n[0]):this.focusService.focusFirstHeader()},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1),this.view.forceFocusOutOfContainer(e)},_c([A("focusService")],t.prototype,"focusService",void 0),_c([A("resizeObserverService")],t.prototype,"resizeObserverService",void 0),_c([A("columnModel")],t.prototype,"columnModel",void 0),_c([A("ctrlsService")],t.prototype,"ctrlsService",void 0),_c([A("mouseEventService")],t.prototype,"mouseEventService",void 0),_c([A("dragAndDropService")],t.prototype,"dragAndDropService",void 0),t}(Le),Cm=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Kd=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},wm=function(o){function t(e){var r=o.call(this)||this;return r.eGridDiv=e,r}return Cm(t,o),t.prototype.postConstruct=function(){var e=this;this.logger=this.loggerFactory.create("GridComp");var r={destroyGridUi:function(){return e.destroyBean(e)},setRtlClass:function(i){return e.addCssClass(i)},addOrRemoveKeyboardFocusClass:function(i){return e.addOrRemoveCssClass(nl.AG_KEYBOARD_FOCUS,i)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(i){e.getGui().style.userSelect=i??"",e.getGui().style.webkitUserSelect=i??""},setCursor:function(i){e.getGui().style.cursor=i??""}};this.ctrl=this.createManagedBean(new mm);var n=this.createTemplate();this.setTemplate(n),this.ctrl.setComp(r,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(i){return e.ctrl.focusInnerElement(i)}})},t.prototype.insertGridIntoDom=function(){var e=this,r=this.getGui();this.eGridDiv.appendChild(r),this.addDestroyFunc(function(){e.eGridDiv.removeChild(r),e.logger.log("Grid removed from DOM")})},t.prototype.updateLayoutClasses=function(e,r){var n=this.eRootWrapperBody.classList;n.toggle(Rn.AUTO_HEIGHT,r.autoHeight),n.toggle(Rn.NORMAL,r.normal),n.toggle(Rn.PRINT,r.print),this.addOrRemoveCssClass(Rn.AUTO_HEIGHT,r.autoHeight),this.addOrRemoveCssClass(Rn.NORMAL,r.normal),this.addOrRemoveCssClass(Rn.PRINT,r.print)},t.prototype.createTemplate=function(){return'<div class="ag-root-wrapper" role="presentation">\n                '+(this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    '+(this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},t.prototype.getFocusableElement=function(){return this.eRootWrapperBody},t.prototype.getFocusableContainers=function(){var e=[this.gridBodyComp.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter(function(r){return wo(r)})},Kd([A("loggerFactory")],t.prototype,"loggerFactory",void 0),Kd([tt("gridBody")],t.prototype,"gridBodyComp",void 0),Kd([tt("sideBar")],t.prototype,"sideBarComp",void 0),Kd([tt("rootWrapperBody")],t.prototype,"eRootWrapperBody",void 0),Kd([we],t.prototype,"postConstruct",null),t}(oe),Sm=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),sy=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},sl=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i},Ec=function(o,t){for(var e=0,r=t.length,n=o.length;e<r;e++,n++)o[n]=t[e];return o},_m=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}var e;return Sm(t,o),e=t,t.prototype.progressSort=function(r,n,i){var s=this.getNextSortDirection(r);this.setSortForColumn(r,s,n,i)},t.prototype.setSortForColumn=function(r,n,i,s){"asc"!==n&&"desc"!==n&&(n=null);var d=[r];if(this.gridOptionsService.isColumnsSortingCoupledToGroup()&&r.getColDef().showRowGroup){var g=this.columnModel.getSourceColumnsForGroupColumn(r),m=g?.filter(function(E){return E.getColDef().sortable});m&&(d=Ec([r],sl(m)))}d.forEach(function(E){return E.setSort(n,s)}),(i||this.gridOptionsService.is("alwaysMultiSort"))&&!this.gridOptionsService.is("suppressMultiSort")||this.clearSortBarTheseColumns(d,s),this.updateSortIndex(r),this.dispatchSortChangedEvents(s)},t.prototype.updateSortIndex=function(r){var n=this.gridOptionsService.isColumnsSortingCoupledToGroup(),i=this.columnModel.getGroupDisplayColumnForGroup(r.getId()),s=n&&i||r,a=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(m){return m.setSortIndex(null)});var d=a.filter(function(m){return m!==s});(s.getSort()?Ec(Ec([],sl(d)),[s]):d).forEach(function(m,C){return m.setSortIndex(C)})},t.prototype.onSortChanged=function(r){this.dispatchSortChangedEvents(r)},t.prototype.isSortActive=function(){var n=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(i){return!!i.getSort()});return n&&n.length>0},t.prototype.dispatchSortChangedEvents=function(r){this.eventService.dispatchEvent({type:M.EVENT_SORT_CHANGED,source:r})},t.prototype.clearSortBarTheseColumns=function(r,n){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(i){r.includes(i)||i.setSort(void 0,n)})},t.prototype.getNextSortDirection=function(r){var n;if(n=r.getColDef().sortingOrder?r.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?this.gridOptionsService.get("sortingOrder"):e.DEFAULT_SORTING_ORDER,!Array.isArray(n)||n.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's "+n),null;var d,i=n.indexOf(r.getSort());return e.DEFAULT_SORTING_ORDER.indexOf(d=i<0||i==n.length-1?n[0]:n[i+1])<0?(console.warn("AG Grid: invalid sort type "+d),null):d},t.prototype.getIndexedSortMap=function(){var r=this,n=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(m){return!!m.getSort()});if(this.columnModel.isPivotMode()){var i=this.gridOptionsService.isColumnsSortingCoupledToGroup();n=n.filter(function(m){var C=!!m.getAggFunc(),E=!m.isPrimary(),b=i?r.columnModel.getGroupDisplayColumnForGroup(m.getId()):m.getColDef().showRowGroup;return C||E||b})}var s=this.columnModel.getRowGroupColumns().filter(function(m){return!!m.getSort()}),a=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!s.length;a&&(n=Ec([],sl(new Set(n.map(function(m){var C;return null!==(C=r.columnModel.getGroupDisplayColumnForGroup(m.getId()))&&void 0!==C?C:m})))));var d={};n.forEach(function(m,C){return d[m.getId()]=C}),n.sort(function(m,C){var E=m.getSortIndex(),b=C.getSortIndex();return null!=E&&null!=b?E-b:null==E&&null==b?d[m.getId()]>d[C.getId()]?1:-1:null==b?-1:1});var g=new Map;return n.forEach(function(m,C){return g.set(m,C)}),a&&s.forEach(function(m){var C=r.columnModel.getGroupDisplayColumnForGroup(m.getId());g.set(m,g.get(C))}),g},t.prototype.getColumnsWithSortingOrdered=function(){return Ec([],sl(this.getIndexedSortMap().entries())).sort(function(r,n){return sl(r,2)[1]-sl(n,2)[1]}).map(function(r){return sl(r,1)[0]})},t.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().filter(function(r){return r.getSort()}).map(function(r){return{sort:r.getSort(),colId:r.getId()}})},t.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().filter(function(r){return r.getSort()}).map(function(r){return{sort:r.getSort(),column:r}})},t.prototype.canColumnDisplayMixedSort=function(r){var n=this.gridOptionsService.isColumnsSortingCoupledToGroup(),i=!!r.getColDef().showRowGroup;return n&&i},t.prototype.getDisplaySortForColumn=function(r){var n=this.columnModel.getSourceColumnsForGroupColumn(r);if(!this.canColumnDisplayMixedSort(r)||!n?.length)return r.getSort();var s=null!=r.getColDef().field||r.getColDef().valueGetter?Ec([r],sl(n)):n,a=s[0].getSort();return s.every(function(g){return g.getSort()==a})?a:"mixed"},t.prototype.getDisplaySortIndexForColumn=function(r){return this.getIndexedSortMap().get(r)},t.DEFAULT_SORTING_ORDER=["asc","desc",null],sy([A("columnModel")],t.prototype,"columnModel",void 0),e=sy([je("sortController")],t)}(Le),Em=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Am=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Em(t,o),t.prototype.setMouseOver=function(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:M.EVENT_COLUMN_HOVER_CHANGED})},t.prototype.clearMouseOver=function(){this.selectedColumns=null,this.eventService.dispatchEvent({type:M.EVENT_COLUMN_HOVER_CHANGED})},t.prototype.isHovered=function(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0},t=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i}([je("columnHoverService")],t),t}(Le),Dm=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Lv=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},xm=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.executeNextFuncs=[],e.executeLaterFuncs=[],e.active=!1,e.animationThreadCount=0,e}return Dm(t,o),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){return e.gridBodyCtrl=r.gridBodyCtrl})},t.prototype.isActive=function(){return this.active},t.prototype.start=function(){this.active||this.gridOptionsService.is("suppressColumnMoveAnimation")||this.gridOptionsService.is("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)},t.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},t.prototype.executeNextVMTurn=function(e){this.active?this.executeNextFuncs.push(e):e()},t.prototype.executeLaterVMTurn=function(e){this.active?this.executeLaterFuncs.push(e):e()},t.prototype.ensureAnimationCssClassPresent=function(){var e=this;this.animationThreadCount++;var r=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){e.animationThreadCount===r&&e.gridBodyCtrl.setColumnMovingCss(!1)})},t.prototype.flush=function(){var e=this.executeNextFuncs;this.executeNextFuncs=[];var r=this.executeLaterFuncs;this.executeLaterFuncs=[],(0!==e.length||0!==r.length)&&(window.setTimeout(function(){return e.forEach(function(n){return n()})},0),window.setTimeout(function(){return r.forEach(function(n){return n()})},300))},Lv([A("ctrlsService")],t.prototype,"ctrlsService",void 0),Lv([we],t.prototype,"postConstruct",null),Lv([je("columnAnimationService")],t)}(Le),Om=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Nv=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Tm=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Om(t,o),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(r){e.centerRowContainerCon=r.centerRowContainerCtrl,e.addManagedListener(e.eventService,M.EVENT_BODY_HEIGHT_CHANGED,e.checkPageSize.bind(e)),e.addManagedListener(e.eventService,M.EVENT_SCROLL_VISIBILITY_CHANGED,e.checkPageSize.bind(e)),e.checkPageSize()})},t.prototype.notActive=function(){return!this.gridOptionsService.is("paginationAutoPageSize")||null==this.centerRowContainerCon},t.prototype.checkPageSize=function(){var e=this;if(!this.notActive()){var r=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(r>0){var n=function(){var i=e.gridOptionsService.getRowHeightAsNumber(),s=Math.floor(r/i);e.gridOptionsService.set("paginationPageSize",s)};this.isBodyRendered?He(function(){return n()},50)():(n(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},Nv([A("ctrlsService")],t.prototype,"ctrlsService",void 0),Nv([we],t.prototype,"postConstruct",null),Nv([je("paginationAutoPageSizeService")],t)}(Le),bm=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ay=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Pm=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.cacheVersion=0,e}return bm(t,o),t.prototype.init=function(){this.active=this.gridOptionsService.is("valueCache"),this.neverExpires=this.gridOptionsService.is("valueCacheNeverExpires")},t.prototype.onDataChanged=function(){this.neverExpires||this.expire()},t.prototype.expire=function(){this.cacheVersion++},t.prototype.setValue=function(e,r,n){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[r]=n)},t.prototype.getValue=function(e,r){if(this.active&&e.__cacheVersion===this.cacheVersion)return e.__cacheData[r]},ay([we],t.prototype,"init",null),ay([je("valueCache")],t)}(Le),Fm=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),wf=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Im=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Fm(t,o),t.prototype.init=function(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,M.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},t.prototype.onCellValueChanged=function(e){"paste"!==e.source&&this.doChangeDetection(e.node,e.column)},t.prototype.doChangeDetection=function(e,r){if(!this.gridOptionsService.is("suppressChangeDetection")){var n=[e];if(this.clientSideRowModel&&!e.isRowPinned()){var i=this.gridOptionsService.is("aggregateOnlyChangedColumns"),s=new Hd(i,this.clientSideRowModel.getRootNode());s.addParentNode(e.parent,[r]),this.clientSideRowModel.doAggregate(s),s.forEachChangedNodeDepthFirst(function(a){n.push(a)})}this.rowRenderer.refreshCells({rowNodes:n})}},wf([A("rowModel")],t.prototype,"rowModel",void 0),wf([A("rowRenderer")],t.prototype,"rowRenderer",void 0),wf([we],t.prototype,"init",null),wf([je("changeDetectionService")],t)}(Le),Lm=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ly=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Nm=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Lm(t,o),t.prototype.adaptFunction=function(e,r){var n=this.componentMetadataProvider.retrieve(e);return n&&n.functionAdapter?n.functionAdapter(r):null},t.prototype.adaptCellRendererFunction=function(e){return function(){function n(){}return n.prototype.refresh=function(i){return!1},n.prototype.getGui=function(){return this.eGui},n.prototype.init=function(i){var s=e(i),a=typeof s;this.eGui="string"!==a&&"number"!==a&&"boolean"!==a?null!=s?s:wn("<span></span>"):wn("<span>"+s+"</span>")},n}()},t.prototype.doesImplementIComponent=function(e){return!!e&&e.prototype&&"getGui"in e.prototype},ly([A("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),ly([je("agComponentUtils")],t)}(Le),Gm=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Gv=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Hm=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Gm(t,o),t.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},t.prototype.retrieve=function(e){return this.componentMetaData[e]},Gv([A("agComponentUtils")],t.prototype,"agComponentUtils",void 0),Gv([we],t.prototype,"postConstruct",null),Gv([je("componentMetadataProvider")],t)}(Le),Vm=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Hv=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},jm={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},cy={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},zm=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.calculatedSizes={},e}return Vm(t,o),t.prototype.postConstruct=function(){var r,e=this,n=null!==(r=this.getTheme().el)&&void 0!==r?r:this.eGridDiv;this.mutationObserver=new MutationObserver(function(){e.calculatedSizes={},e.fireGridStylesChangedEvent()}),this.mutationObserver.observe(n||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})},t.prototype.fireGridStylesChangedEvent=function(){this.eventService.dispatchEvent({type:M.EVENT_GRID_STYLES_CHANGED})},t.prototype.getSassVariable=function(e){var r=this.getTheme(),n=r.themeFamily,i=r.el;if(n&&0===n.indexOf("ag-theme"))return this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[n]||(this.calculatedSizes[n]={}),this.calculatedSizes[n][e]??(this.calculatedSizes[n][e]=this.calculateValueForSassProperty(e,n,i),this.calculatedSizes[n][e])},t.prototype.calculateValueForSassProperty=function(e,r,n){var i,s="ag-theme-"+(r.match("material")?"material":r.match("balham")?"balham":r.match("alpine")?"alpine":"custom"),a=jm[s][e],d=this.gridOptionsService.getDocument();if(n||(n=this.eGridDiv),!cy[e])return a;var g=cy[e],m=d.createElement("div"),C=Array.from(n.classList);(i=m.classList).add.apply(i,function(o,t){for(var e=0,r=t.length,n=o.length;e<r;e++,n++)o[n]=t[e];return o}([r],function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i}(C))),m.style.position="absolute";var E=g.reduce(function(j,ee){var se=d.createElement("div");return se.style.position="static",se.classList.add(ee),j.appendChild(se),se},m),b=0;if(d.body){d.body.appendChild(m);var L=-1!==e.toLowerCase().indexOf("height")?"height":"width";b=parseInt(window.getComputedStyle(E)[L],10),d.body.removeChild(m)}return b||a},t.prototype.isThemeDark=function(){var e=this.getTheme().theme;return!!e&&e.indexOf("dark")>=0},t.prototype.chartMenuPanelWidth=function(){return this.getSassVariable("chartMenuPanelWidth")},t.prototype.getTheme=function(){for(var e=/\bag-(material|(?:theme-([\w\-]*)))\b/g,r=this.eGridDiv,n=null,i=[];r;){if(n=e.exec(r.className)){var s=r.className.match(e);s&&(i=s);break}r=r.parentElement||void 0}if(!n)return{allThemes:i};var a=n[0];return{theme:a,el:r,themeFamily:a.replace(/-dark$/,""),allThemes:i}},t.prototype.getFromTheme=function(e,r){var n;return null!==(n=this.getSassVariable(r))&&void 0!==n?n:e},t.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},t.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},t.prototype.refreshRowHeightVariable=function(){var e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),r=this.gridOptionsService.getNum("rowHeight");if(null==r||isNaN(r)||!isFinite(r))return-1;var n=r+"px";return e!=n?(this.eGridDiv.style.setProperty("--ag-line-height",n),r):""!=e?parseFloat(e):-1},t.prototype.getMinColWidth=function(){var e=this.getFromTheme(null,"headerCellMinWidth");return w(e)?Math.max(e,10):10},t.prototype.destroy=function(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),o.prototype.destroy.call(this)},Hv([A("eGridDiv")],t.prototype,"eGridDiv",void 0),Hv([we],t.prototype,"postConstruct",null),Hv([je("environment")],t)}(Le),Km=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Sf=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Ym=function(o,t){return function(e,r){t(e,r,o)}},$m=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.scrollY=0,e.uiBodyHeight=0,e}return Km(t,o),t.prototype.agWire=function(e){this.logger=e.create("RowContainerHeightService")},t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,M.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=Rl(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},t.prototype.isStretching=function(){return this.stretching},t.prototype.getDivStretchOffset=function(){return this.divStretchOffset},t.prototype.updateOffset=function(){if(this.stretching){var r=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,n=this.getUiBodyHeight();(r!==this.scrollY||n!==this.uiBodyHeight)&&(this.scrollY=r,this.uiBodyHeight=n,this.calculateOffset())}},t.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var e=this.scrollY/this.maxScrollY,r=e*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+r+" ("+this.pixelsToShave+" * "+e+")"),this.setDivStretchOffset(r)},t.prototype.setUiContainerHeight=function(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:M.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},t.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},t.prototype.setDivStretchOffset=function(e){var r="number"==typeof e?Math.floor(e):null;this.divStretchOffset!==r&&(this.divStretchOffset=r,this.eventService.dispatchEvent({type:M.EVENT_HEIGHT_SCALE_CHANGED}))},t.prototype.setModelHeight=function(e){this.modelHeight=e,this.stretching=null!=e&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},t.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},t.prototype.getRealPixelPosition=function(e){return e-this.divStretchOffset},t.prototype.getUiBodyHeight=function(){var r=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return r.bottom-r.top},t.prototype.getScrollPositionForPixel=function(e){if(this.pixelsToShave<=0)return e;var r=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(e/r)},Sf([A("ctrlsService")],t.prototype,"ctrlsService",void 0),Sf([Ym(0,Sr("loggerFactory"))],t.prototype,"agWire",null),Sf([we],t.prototype,"postConstruct",null),Sf([je("rowContainerHeightService")],t)}(Le),Qm=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),dy=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},qm=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Qm(t,o),t.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsService.is("groupSelectsChildren"),this.isRowSelectableFunc=this.gridOptionsService.get("isRowSelectable")},t.prototype.updateSelectableAfterGrouping=function(e){this.isRowSelectableFunc&&this.recurseDown(e.childrenAfterGroup,function(n){return n.childrenAfterGroup})},t.prototype.recurseDown=function(e,r){var n=this;e&&e.forEach(function(i){var s;i.group&&(i.hasChildren()&&n.recurseDown(r(i),r),s=n.groupSelectsChildren?w((r(i)||[]).find(function(d){return!0===d.selectable})):!!n.isRowSelectableFunc&&n.isRowSelectableFunc(i),i.setRowSelectable(s))})},dy([we],t.prototype,"init",null),dy([je("selectableService")],t)}(Le),Zm=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Fo=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Jm=function(o){function t(){var e=o.call(this)||this;return e.previousAndFirstButtonsDisabled=!1,e.nextButtonDisabled=!1,e.lastButtonDisabled=!1,e.areListenersSetup=!1,e}return Zm(t,o),t.prototype.postConstruct=function(){var e=this.gridOptionsService.is("enableRtl");this.setTemplate(this.getTemplate());var r=this,n=r.btFirst,i=r.btPrevious,s=r.btNext,a=r.btLast;this.activateTabIndex([n,i,s,a]),n.insertAdjacentElement("afterbegin",Zr(e?"last":"first",this.gridOptionsService)),i.insertAdjacentElement("afterbegin",Zr(e?"next":"previous",this.gridOptionsService)),s.insertAdjacentElement("afterbegin",Zr(e?"previous":"next",this.gridOptionsService)),a.insertAdjacentElement("afterbegin",Zr(e?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.onPaginationChanged()},t.prototype.onPaginationChanged=function(){var r=this.gridOptionsService.is("pagination")&&!this.gridOptionsService.is("suppressPaginationPanel");this.setDisplayed(r),r&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels())},t.prototype.setupListeners=function(){var e=this;this.areListenersSetup||(this.addManagedListener(this.eventService,M.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(r){var n=r.el,i=r.fn;e.addManagedListener(n,"click",i),e.addManagedListener(n,"keydown",function(s){(s.key===Ce.ENTER||s.key===Ce.SPACE)&&(s.preventDefault(),i())})}),this.areListenersSetup=!0)},t.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},t.prototype.setCurrentPageLabel=function(){var e=this.paginationProxy.getTotalPages()>0,r=this.paginationProxy.getCurrentPage();this.lbCurrent.innerHTML=this.formatNumber(e?r+1:0)},t.prototype.formatNumber=function(e){var r=this.gridOptionsService.getCallback("paginationNumberFormatter");if(r)return r({value:e});var i=this.localeService.getLocaleTextFunc();return Ve(e,i("thousandSeparator",","),i("decimalSeparator","."))},t.prototype.getTemplate=function(){var e=this.localeService.getLocaleTextFunc(),r=e("page","Page"),n=e("to","to"),i=e("of","of"),s=e("firstPage","First Page"),a=e("previousPage","Previous Page"),d=e("nextPage","Next Page"),g=e("lastPage","Last Page"),m=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+m+'">\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-'+m+'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+m+'-to">'+n+'</span>\n                    <span id="ag-'+m+'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+m+'-of">'+i+'</span>\n                    <span id="ag-'+m+'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="'+s+'"></div>\n                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="'+a+'"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-'+m+'-start-page">'+r+'</span>\n                        <span id="ag-'+m+'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-'+m+'-of-page">'+i+'</span>\n                        <span id="ag-'+m+'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="'+d+'"></div>\n                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="'+g+'"></div>\n                </span>\n            </div>'},t.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},t.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},t.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},t.prototype.enableOrDisableButtons=function(){var e=this.paginationProxy.getCurrentPage(),r=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===e,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var i=this.isZeroPagesToDisplay();this.nextButtonDisabled=r&&e===n-1||i,this.lastButtonDisabled=!r||i||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},t.prototype.toggleButtonDisabled=function(e,r){No(e,r),e.classList.toggle("ag-disabled",r)},t.prototype.updateRowLabels=function(){var s,a,e=this.paginationProxy.getCurrentPage(),r=this.paginationProxy.getPageSize(),n=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;if(this.isZeroPagesToDisplay()?s=a=0:(a=(s=r*e+1)+r-1,n&&a>i&&(a=i)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(s),this.rowNodeBlockLoader.isLoading()){var d=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=d("pageLastRowUnknown","?")}else this.lbLastRowOnPage.innerHTML=this.formatNumber(a)},t.prototype.isZeroPagesToDisplay=function(){var e=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.getTotalPages();return e&&0===r},t.prototype.setTotalLabels=function(){var e=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.getTotalPages(),n=e?this.paginationProxy.getMasterRowCount():null;if(1===n){var i=this.paginationProxy.getRow(0);if(i&&i.group&&!i.groupData&&!i.aggData)return void this.setTotalLabelsToZero()}if(e)this.lbTotal.innerHTML=this.formatNumber(r),this.lbRecordCount.innerHTML=this.formatNumber(n);else{var a=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=a,this.lbRecordCount.innerHTML=a}},t.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},Fo([A("paginationProxy")],t.prototype,"paginationProxy",void 0),Fo([A("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Fo([tt("btFirst")],t.prototype,"btFirst",void 0),Fo([tt("btPrevious")],t.prototype,"btPrevious",void 0),Fo([tt("btNext")],t.prototype,"btNext",void 0),Fo([tt("btLast")],t.prototype,"btLast",void 0),Fo([tt("lbRecordCount")],t.prototype,"lbRecordCount",void 0),Fo([tt("lbFirstRowOnPage")],t.prototype,"lbFirstRowOnPage",void 0),Fo([tt("lbLastRowOnPage")],t.prototype,"lbLastRowOnPage",void 0),Fo([tt("lbCurrent")],t.prototype,"lbCurrent",void 0),Fo([tt("lbTotal")],t.prototype,"lbTotal",void 0),Fo([we],t.prototype,"postConstruct",null),t}(qt),Xm=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Rc=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Yd=function(o){return o[o.Loading=0]="Loading",o[o.NoRows=1]="NoRows",o}(Yd||{}),eC=function(o){function t(){var e=o.call(this,t.TEMPLATE)||this;return e.inProgress=!1,e.destroyRequested=!1,e.manuallyDisplayed=!1,e}return Xm(t,o),t.prototype.updateLayoutClasses=function(e,r){var n=this.eOverlayWrapper.classList;n.toggle(Rn.AUTO_HEIGHT,r.autoHeight),n.toggle(Rn.NORMAL,r.normal),n.toggle(Rn.PRINT,r.print)},t.prototype.postConstruct=function(){this.createManagedBean(new cd(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.addManagedListener(this.eventService,M.EVENT_ROW_DATA_UPDATED,this.onRowDataUpdated.bind(this)),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData")&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},t.prototype.setWrapperTypeClass=function(e){var r=this.eOverlayWrapper.classList;r.toggle("ag-overlay-loading-wrapper",e===Yd.Loading),r.toggle("ag-overlay-no-rows-wrapper",e===Yd.NoRows)},t.prototype.showLoadingOverlay=function(){if(!this.gridOptionsService.is("suppressLoadingOverlay")){var n=this.userComponentFactory.getLoadingOverlayCompDetails({}).newAgStackInstance();this.showOverlay(n,Yd.Loading)}},t.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsService.is("suppressNoRowsOverlay")){var n=this.userComponentFactory.getNoRowsOverlayCompDetails({}).newAgStackInstance();this.showOverlay(n,Yd.NoRows)}},t.prototype.showOverlay=function(e,r){var n=this;this.inProgress||(this.setWrapperTypeClass(r),this.destroyActiveOverlay(),this.inProgress=!0,e&&e.then(function(i){n.inProgress=!1,n.eOverlayWrapper.appendChild(i.getGui()),n.activeOverlay=i,n.destroyRequested&&(n.destroyRequested=!1,n.destroyActiveOverlay())}),this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.setDisplayed(!0,{skipAriaHidden:!0}))},t.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),un(this.eOverlayWrapper))},t.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})},t.prototype.destroy=function(){this.destroyActiveOverlay(),o.prototype.destroy.call(this)},t.prototype.showOrHideOverlay=function(){var e=this.paginationProxy.isEmpty(),r=this.gridOptionsService.is("suppressNoRowsOverlay");e&&!r?this.showNoRowsOverlay():this.hideOverlay()},t.prototype.onRowDataUpdated=function(){this.showOrHideOverlay()},t.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()},t.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',Rc([A("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Rc([A("paginationProxy")],t.prototype,"paginationProxy",void 0),Rc([A("gridApi")],t.prototype,"gridApi",void 0),Rc([A("columnModel")],t.prototype,"columnModel",void 0),Rc([tt("eOverlayWrapper")],t.prototype,"eOverlayWrapper",void 0),Rc([we],t.prototype,"postConstruct",null),t}(qt),tC=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),_f=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},rC=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return tC(t,o),t.prototype.getFirstRow=function(){var r,e=0;return this.pinnedRowModel.getPinnedTopRowCount()?r="top":this.rowModel.getRowCount()?(r=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(r="bottom"),void 0===r?null:{rowIndex:e,rowPinned:r}},t.prototype.getLastRow=function(){var e,r=null,n=this.pinnedRowModel.getPinnedBottomRowCount(),i=this.pinnedRowModel.getPinnedTopRowCount();return n?(r="bottom",e=n-1):this.rowModel.getRowCount()?(r=null,e=this.paginationProxy.getPageLastRow()):i&&(r="top",e=i-1),void 0===e?null:{rowIndex:e,rowPinned:r}},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.sameRow=function(e,r){return!e&&!r||!(e&&!r||!e&&r)&&e.rowIndex===r.rowIndex&&e.rowPinned==r.rowPinned},t.prototype.before=function(e,r){switch(e.rowPinned){case"top":if("top"!==r.rowPinned)return!0;break;case"bottom":if("bottom"!==r.rowPinned)return!1;break;default:if(w(r.rowPinned))return"top"!==r.rowPinned}return e.rowIndex<r.rowIndex},t.prototype.rowMax=function(e){var n,r=this;return e.forEach(function(i){(void 0===n||r.before(n,i))&&(n=i)}),n},t.prototype.rowMin=function(e){var n,r=this;return e.forEach(function(i){(void 0===n||r.before(i,n))&&(n=i)}),n},_f([A("rowModel")],t.prototype,"rowModel",void 0),_f([A("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),_f([A("paginationProxy")],t.prototype,"paginationProxy",void 0),_f([je("rowPositionUtils")],t)}(Le),nC=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),oC=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return nC(t,o),t.prototype.createId=function(e){return this.createIdFromValues({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned})},t.prototype.createIdFromValues=function(e){return e.rowIndex+"."+(e.rowPinned??"null")+"."+e.column.getId()},t.prototype.equals=function(e,r){return e.column===r.column&&e.rowPinned===r.rowPinned&&e.rowIndex===r.rowIndex},t=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i}([je("cellPositionUtils")],t),t}(Le),sC=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),$d=function o(t){this.cellValueChanges=t},Wv=function(o){function t(e,r,n,i){var s=o.call(this,e)||this;return s.initialRange=r,s.finalRange=n,s.ranges=i,s}return sC(t,o),t}($d),py=function(){function o(t){this.actionStack=[],this.maxStackSize=t||o.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return o.prototype.pop=function(){return this.actionStack.pop()},o.prototype.push=function(t){t.cellValueChanges&&t.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(t))},o.prototype.clear=function(){this.actionStack=[]},o.prototype.getCurrentStackSize=function(){return this.actionStack.length},o.DEFAULT_STACK_SIZE=10,o}(),aC=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ef=function(){return Ef=Object.assign||function(o){for(var t,e=1,r=arguments.length;e<r;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o},Ef.apply(this,arguments)},Hs=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},cC=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.cellValueChanges=[],e.activeCellEdit=null,e.activeRowEdit=null,e.isPasting=!1,e.isRangeInAction=!1,e.onCellValueChanged=function(r){var n={column:r.column,rowIndex:r.rowIndex,rowPinned:r.rowPinned},i=null!==e.activeCellEdit&&e.cellPositionUtils.equals(e.activeCellEdit,n),s=null!==e.activeRowEdit&&e.rowPositionUtils.sameRow(e.activeRowEdit,n);if(i||s||e.isPasting||e.isRangeInAction){var C=r.oldValue,E=r.value,b={rowPinned:r.rowPinned,rowIndex:r.rowIndex,columnId:r.column.getColId(),newValue:E,oldValue:C};e.cellValueChanges.push(b)}},e.clearStacks=function(){e.undoStack.clear(),e.redoStack.clear()},e}return aC(t,o),t.prototype.init=function(){var e=this;if(this.gridOptionsService.is("undoRedoCellEditing")){var r=this.gridOptionsService.getNum("undoRedoCellEditingLimit");r<=0||(this.undoStack=new py(r),this.redoStack=new py(r),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,M.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,M.EVENT_MODEL_UPDATED,function(n){n.keepUndoRedoStack||e.clearStacks()}),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,M.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,M.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,M.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl()}))}},t.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},t.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},t.prototype.undo=function(e){this.eventService.dispatchEvent({type:M.EVENT_UNDO_STARTED,source:e});var n=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:M.EVENT_UNDO_ENDED,source:e,operationPerformed:n})},t.prototype.redo=function(e){this.eventService.dispatchEvent({type:M.EVENT_REDO_STARTED,source:e});var n=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:M.EVENT_REDO_ENDED,source:e,operationPerformed:n})},t.prototype.undoRedo=function(e,r,n,i,s){if(!e)return!1;var a=e.pop();return!(!a||!a.cellValueChanges||(this.processAction(a,function(d){return d[i]},s),a instanceof Wv?this.processRange(a.ranges||[a[n]]):this.processCell(a.cellValueChanges),r.push(a),0))},t.prototype.processAction=function(e,r,n){var i=this;e.cellValueChanges.forEach(function(s){var g=s.columnId,C=i.getRowNode({rowIndex:s.rowIndex,rowPinned:s.rowPinned});C.displayed&&C.setDataValue(g,r(s),n)})},t.prototype.processRange=function(e){var n,r=this;this.rangeService.removeAllCellRanges(!0),e.forEach(function(i,s){if(i){var a=i.startRow,d=i.endRow;s===e.length-1&&(n={rowPinned:a.rowPinned,rowIndex:a.rowIndex,columnId:i.startColumn.getColId()},r.setLastFocusedCell(n)),r.rangeService.addCellRange({rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,rowEndIndex:d.rowIndex,rowEndPinned:d.rowPinned,columnStart:i.startColumn,columns:i.columns})}})},t.prototype.processCell=function(e){var r=e[0],a=this.getRowNode({rowIndex:r.rowIndex,rowPinned:r.rowPinned});this.setLastFocusedCell({rowPinned:r.rowPinned,rowIndex:a.rowIndex,columnId:r.columnId},!!this.rangeService)},t.prototype.setLastFocusedCell=function(e,r){var n=e.rowIndex,i=e.columnId,s=e.rowPinned,a=this.gridBodyCtrl.getScrollFeature(),d=this.columnModel.getGridColumn(i);if(d){a.ensureIndexVisible(n),a.ensureColumnVisible(d);var g={rowIndex:n,column:d,rowPinned:s};this.focusService.setFocusedCell(Ef(Ef({},g),{forceBrowserFocus:!0})),r&&this.rangeService.setRangeToCell(g)}},t.prototype.addRowEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,M.EVENT_ROW_EDITING_STARTED,function(r){e.activeRowEdit={rowIndex:r.rowIndex,rowPinned:r.rowPinned}}),this.addManagedListener(this.eventService,M.EVENT_ROW_EDITING_STOPPED,function(){var r=new $d(e.cellValueChanges);e.pushActionsToUndoStack(r),e.activeRowEdit=null})},t.prototype.addCellEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,M.EVENT_CELL_EDITING_STARTED,function(r){e.activeCellEdit={column:r.column,rowIndex:r.rowIndex,rowPinned:r.rowPinned}}),this.addManagedListener(this.eventService,M.EVENT_CELL_EDITING_STOPPED,function(r){if(e.activeCellEdit=null,r.valueChanged&&!e.activeRowEdit&&!e.isPasting&&!e.isRangeInAction){var i=new $d(e.cellValueChanges);e.pushActionsToUndoStack(i)}})},t.prototype.addPasteListeners=function(){var e=this;this.addManagedListener(this.eventService,M.EVENT_PASTE_START,function(){e.isPasting=!0}),this.addManagedListener(this.eventService,M.EVENT_PASTE_END,function(){var r=new $d(e.cellValueChanges);e.pushActionsToUndoStack(r),e.isPasting=!1})},t.prototype.addFillListeners=function(){var e=this;this.addManagedListener(this.eventService,M.EVENT_FILL_START,function(){e.isRangeInAction=!0}),this.addManagedListener(this.eventService,M.EVENT_FILL_END,function(r){var n=new Wv(e.cellValueChanges,r.initialRange,r.finalRange);e.pushActionsToUndoStack(n),e.isRangeInAction=!1})},t.prototype.addCellKeyListeners=function(){var e=this;this.addManagedListener(this.eventService,M.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,function(){e.isRangeInAction=!0}),this.addManagedListener(this.eventService,M.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,function(){var r;r=e.rangeService&&e.gridOptionsService.is("enableRangeSelection")?new Wv(e.cellValueChanges,void 0,void 0,function(o,t){for(var e=0,r=t.length,n=o.length;e<r;e++,n++)o[n]=t[e];return o}([],function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i}(e.rangeService.getCellRanges()))):new $d(e.cellValueChanges),e.pushActionsToUndoStack(r),e.isRangeInAction=!1})},t.prototype.pushActionsToUndoStack=function(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},Hs([A("focusService")],t.prototype,"focusService",void 0),Hs([A("ctrlsService")],t.prototype,"ctrlsService",void 0),Hs([A("rowModel")],t.prototype,"rowModel",void 0),Hs([A("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Hs([A("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Hs([A("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Hs([A("columnModel")],t.prototype,"columnModel",void 0),Hs([xt("rangeService")],t.prototype,"rangeService",void 0),Hs([we],t.prototype,"init",null),Hs([je("undoRedoService")],t)}(Le),dC=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Uv=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},pC=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return dC(t,o),t.prototype.findHeader=function(e,r){var n;if(n=e.column instanceof Gr?this.columnModel["getDisplayedGroup"+r](e.column):this.columnModel["getDisplayedCol"+r](e.column)){var a=e.headerRowIndex;if(this.getHeaderRowType(a)===Un.COLUMN_GROUP){var g=n;if(g.isPadding()&&this.isAnyChildSpanningHeaderHeight(g)){var m=this.getColumnVisibleChild(g,a,r),C=m.nextFocusColumn;C&&(n=C,a=m.nextRow)}}return{column:n,headerRowIndex:a}}},t.prototype.isAnyChildSpanningHeaderHeight=function(e){return!!e&&e.getLeafColumns().some(function(r){return r.isSpanHeaderHeight()})},t.prototype.getColumnVisibleParent=function(e,r){var n=this.getHeaderRowType(r),s=n===Un.COLUMN,a=n===Un.FLOATING_FILTER?e:e.getParent(),d=r-1;if(s&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;a&&a.isPadding();)a=a.getParent(),d--;d<0&&(a=e,d=r)}return{nextFocusColumn:a,nextRow:d}},t.prototype.getColumnVisibleChild=function(e,r,n){void 0===n&&(n="After");var s=e,a=r+1;if(this.getHeaderRowType(r)===Un.COLUMN_GROUP){var d=e.getLeafColumns(),g="After"===n?d[0]:te(d);if(this.isAnyChildSpanningHeaderHeight(g.getParent())){s=g;for(var m=g.getParent();m&&m!==e;)m=m.getParent(),a++}else s=e.getDisplayedChildren()[0]}return{nextFocusColumn:s,nextRow:a}},t.prototype.getHeaderRowType=function(e){var r=this.ctrlsService.getHeaderRowContainerCtrl();if(r)return r.getRowType(e)},t.prototype.findColAtEdgeForHeaderRow=function(e,r){var n=this.columnModel.getAllDisplayedColumns(),i=n["start"===r?0:n.length-1];if(i){var a=this.ctrlsService.getHeaderRowContainerCtrl(i.getPinned()).getRowType(e);return a==Un.COLUMN_GROUP?{headerRowIndex:e,column:this.columnModel.getColumnGroupAtLevel(i,e)}:{headerRowIndex:null==a?-1:e,column:i}}},Uv([A("columnModel")],t.prototype,"columnModel",void 0),Uv([A("ctrlsService")],t.prototype,"ctrlsService",void 0),Uv([je("headerPositionUtils")],t)}(Le),hC=function(){function o(){}return o.prototype.buildColumnDefs=function(t,e,r){var n=this,i=[],s={};return t.forEach(function(a){for(var g=!0,m=n.createDefFromColumn(a,e,r),C=a.getOriginalParent(),E=null;C;){var b=null;if(C.isPadding())C=C.getOriginalParent();else{var L=s[C.getGroupId()];if(L){L.children.push(m),g=!1;break}if((b=n.createDefFromGroup(C))&&(b.children=[m],s[b.groupId]=b,m=b,C=C.getOriginalParent()),null!=C&&E===C){g=!1;break}E=C}}g&&i.push(m)}),i},o.prototype.createDefFromGroup=function(t){var e=nr(t.getColGroupDef(),["children"]);return e&&(e.groupId=t.getGroupId()),e},o.prototype.createDefFromColumn=function(t,e,r){var n=nr(t.getColDef());return n.colId=t.getColId(),n.width=t.getActualWidth(),n.rowGroup=t.isRowGroupActive(),n.rowGroupIndex=t.isRowGroupActive()?e.indexOf(t):null,n.pivot=t.isPivotActive(),n.pivotIndex=t.isPivotActive()?r.indexOf(t):null,n.aggFunc=t.isValueActive()?t.getAggFunc():null,n.hide=!t.isVisible()||void 0,n.pinned=t.isPinned()?t.getPinned():null,n.sort=t.getSort()?t.getSort():null,n.sortIndex=null!=t.getSortIndex()?t.getSortIndex():null,n},o=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i}([je("columnDefFactory")],o),o}(),jv=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},gC=function(){function o(){}return o.prototype.getInitialRowClasses=function(t){var e=[];return w(t.extraCssClass)&&e.push(t.extraCssClass),e.push("ag-row"),e.push(t.rowFocused?"ag-row-focus":"ag-row-no-focus"),t.fadeRowIn&&e.push("ag-opacity-zero"),e.push(t.rowIsEven?"ag-row-even":"ag-row-odd"),t.rowNode.isRowPinned()&&e.push("ag-row-pinned"),t.rowNode.isSelected()&&e.push("ag-row-selected"),t.rowNode.footer&&e.push("ag-row-footer"),e.push("ag-row-level-"+t.rowLevel),t.rowNode.stub&&e.push("ag-row-loading"),t.fullWidthRow&&e.push("ag-full-width-row"),t.expandable&&(e.push("ag-row-group"),e.push(t.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),t.rowNode.dragging&&e.push("ag-row-dragging"),Lr(e,this.processClassesFromGridOptions(t.rowNode)),Lr(e,this.preProcessRowClassRules(t.rowNode)),e.push(t.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),t.firstRowOnPage&&e.push("ag-row-first"),t.lastRowOnPage&&e.push("ag-row-last"),t.fullWidthRow&&("left"===t.pinned&&e.push("ag-cell-last-left-pinned"),"right"===t.pinned&&e.push("ag-cell-first-right-pinned")),e},o.prototype.processClassesFromGridOptions=function(t){var e=[],r=function(d){"string"==typeof d?e.push(d):Array.isArray(d)&&d.forEach(function(g){return e.push(g)})},n=this.gridOptionsService.get("rowClass");if(n){if("function"==typeof n)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];r(n)}var i=this.gridOptionsService.getCallback("getRowClass");return i&&r(i({data:t.data,node:t,rowIndex:t.rowIndex})),e},o.prototype.preProcessRowClassRules=function(t){var e=[];return this.processRowClassRules(t,function(r){e.push(r)},function(r){}),e},o.prototype.processRowClassRules=function(t,e,r){var n={data:t.data,node:t,rowIndex:t.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};this.stylingService.processClassRules(this.gridOptionsService.get("rowClassRules"),n,e,r)},o.prototype.calculateRowLevel=function(t){return t.group?t.level:t.parent?t.parent.level+1:0},jv([A("stylingService")],o.prototype,"stylingService",void 0),jv([A("gridOptionsService")],o.prototype,"gridOptionsService",void 0),jv([je("rowCssClassCalculator")],o)}(),vC=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Rf=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},yC=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return vC(t,o),t.prototype.init=function(){var e=this;this.isAccentedSort=this.gridOptionsService.is("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",function(r){return e.isAccentedSort=r.currentValue}),this.addManagedPropertyListener("autoGroupColumnDef",function(){return e.primaryColumnsSortGroups=e.gridOptionsService.isColumnsSortingCoupledToGroup()})},t.prototype.doFullSort=function(e,r){var i=e.map(function(s,a){return{currentPos:a,rowNode:s}});return i.sort(this.compareRowNodes.bind(this,r)),i.map(function(s){return s.rowNode})},t.prototype.compareRowNodes=function(e,r,n){for(var i=r.rowNode,s=n.rowNode,a=0,d=e.length;a<d;a++){var b,g=e[a],m="desc"===g.sort,C=this.getValue(i,g.column),E=this.getValue(s,g.column),L=this.getComparator(g,i);if(b=L?L(C,E,i,s,m):Vt.defaultComparator(C,E,this.isAccentedSort),!isNaN(b)&&0!==b)return"asc"===g.sort?b:-1*b}return r.currentPos-n.currentPos},t.prototype.getComparator=function(e,r){var n=e.column,i=n.getColDef().comparator;if(null!=i)return i;if(n.getColDef().showRowGroup){var s=!r.group&&n.getColDef().field;if(s){var a=this.columnModel.getPrimaryColumn(s);if(a)return a.getColDef().comparator}}},t.prototype.getValue=function(e,r){var n,i;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(r,e,!1,!1);if(e.rowGroupColumn===r){if(this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive())){if(r.getColDef().keyCreator)return e.key;var g=null===(n=e.allLeafChildren)||void 0===n?void 0:n[0];return g?this.valueService.getValue(r,g,!1,!1):void 0}var m=this.columnModel.getGroupDisplayColumnForGroup(r.getId());return m?null===(i=e.groupData)||void 0===i?void 0:i[m.getId()]:void 0}return e.group&&r.getColDef().showRowGroup?void 0:this.valueService.getValue(r,e,!1,!1)},Rf([A("valueService")],t.prototype,"valueService",void 0),Rf([A("columnModel")],t.prototype,"columnModel",void 0),Rf([we],t.prototype,"init",null),Rf([je("rowNodeSorter")],t)}(Le),mC=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),wC=function(o){function t(){var r=null!==o&&o.apply(this,arguments)||this;return r.ready=!1,r.readyCallbacks=[],r}var e;return mC(t,o),e=t,t.prototype.checkReady=function(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.stickyTopCenterRowContainerCtrl&&null!=this.stickyTopLeftRowContainerCtrl&&null!=this.stickyTopRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollComp&&null!=this.fakeVScrollComp&&null!=this.gridHeaderCtrl,this.ready){var r=this.createReadyParams();this.readyCallbacks.forEach(function(n){return n(r)}),this.readyCallbacks.length=0}},t.prototype.whenReady=function(r){this.ready?r(this.createReadyParams()):this.readyCallbacks.push(r)},t.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},t.prototype.registerFakeHScrollComp=function(r){this.fakeHScrollComp=r,this.checkReady()},t.prototype.registerFakeVScrollComp=function(r){this.fakeVScrollComp=r,this.checkReady()},t.prototype.registerGridHeaderCtrl=function(r){this.gridHeaderCtrl=r,this.checkReady()},t.prototype.registerCenterRowContainerCtrl=function(r){this.centerRowContainerCtrl=r,this.checkReady()},t.prototype.registerLeftRowContainerCtrl=function(r){this.leftRowContainerCtrl=r,this.checkReady()},t.prototype.registerRightRowContainerCtrl=function(r){this.rightRowContainerCtrl=r,this.checkReady()},t.prototype.registerTopCenterRowContainerCtrl=function(r){this.topCenterRowContainerCtrl=r,this.checkReady()},t.prototype.registerTopLeftRowContainerCon=function(r){this.topLeftRowContainerCtrl=r,this.checkReady()},t.prototype.registerTopRightRowContainerCtrl=function(r){this.topRightRowContainerCtrl=r,this.checkReady()},t.prototype.registerStickyTopCenterRowContainerCtrl=function(r){this.stickyTopCenterRowContainerCtrl=r,this.checkReady()},t.prototype.registerStickyTopLeftRowContainerCon=function(r){this.stickyTopLeftRowContainerCtrl=r,this.checkReady()},t.prototype.registerStickyTopRightRowContainerCtrl=function(r){this.stickyTopRightRowContainerCtrl=r,this.checkReady()},t.prototype.registerBottomCenterRowContainerCtrl=function(r){this.bottomCenterRowContainerCtrl=r,this.checkReady()},t.prototype.registerBottomLeftRowContainerCtrl=function(r){this.bottomLeftRowContainerCtrl=r,this.checkReady()},t.prototype.registerBottomRightRowContainerCtrl=function(r){this.bottomRightRowContainerCtrl=r,this.checkReady()},t.prototype.registerHeaderContainer=function(r,n){switch(n){case"left":this.leftHeaderRowContainerCtrl=r;break;case"right":this.rightHeaderRowContainerCtrl=r;break;default:this.centerHeaderRowContainerCtrl=r}this.checkReady()},t.prototype.registerGridBodyCtrl=function(r){this.gridBodyCtrl=r,this.checkReady()},t.prototype.registerGridCtrl=function(r){this.gridCtrl=r,this.checkReady()},t.prototype.getFakeHScrollComp=function(){return this.fakeHScrollComp},t.prototype.getFakeVScrollComp=function(){return this.fakeVScrollComp},t.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},t.prototype.getGridCtrl=function(){return this.gridCtrl},t.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},t.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},t.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},t.prototype.getStickyTopCenterRowContainerCtrl=function(){return this.stickyTopCenterRowContainerCtrl},t.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},t.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},t.prototype.getHeaderRowContainerCtrl=function(r){switch(r){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}},t.NAME="ctrlsService",t=e=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i}([je(e.NAME)],t),t}(Le),SC=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),EC=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.registry={},e}return SC(t,o),t.prototype.register=function(e){this.registry[e.controllerName]=e.controllerClass},t.prototype.getInstance=function(e){var r=this.registry[e];if(null!=r)return new r},t=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i}([je("ctrlsFactory")],t),t}(Le),RC=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Qd=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},fy=function(o){function t(e,r){var n=o.call(this,e)||this;return n.direction=r,n.hideTimeout=null,n}return RC(t,o),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,M.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",ds()||xn())},t.prototype.initialiseInvisibleScrollbar=function(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=Qs(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))},t.prototype.addActiveListenerToggles=function(){var e=this,i=this.getGui();["mouseenter","mousedown","touchstart"].forEach(function(s){return e.addManagedListener(i,s,function(){return e.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),["mouseleave","touchend"].forEach(function(s){return e.addManagedListener(i,s,function(){return e.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},t.prototype.onScrollVisibilityChanged=function(){var e=this;void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(function(){return e.setScrollVisible()})},t.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var e=this;this.addManagedListener(this.eventService,M.EVENT_BODY_SCROLL,function(r){r.direction===e.direction&&(null!==e.hideTimeout&&(window.clearTimeout(e.hideTimeout),e.hideTimeout=null),e.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,M.EVENT_BODY_SCROLL_END,function(){e.hideTimeout=window.setTimeout(function(){e.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),e.hideTimeout=null},400)})},t.prototype.attemptSettingScrollPosition=function(e){var r=this,n=this.getViewport();B(function(){return wo(n)},function(){return r.setScrollPosition(e)},100)},t.prototype.getViewport=function(){return this.eViewport},t.prototype.getContainer=function(){return this.eContainer},t.prototype.onScrollCallback=function(e){this.addManagedListener(this.getViewport(),"scroll",e)},Qd([tt("eViewport")],t.prototype,"eViewport",void 0),Qd([tt("eContainer")],t.prototype,"eContainer",void 0),Qd([A("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Qd([A("ctrlsService")],t.prototype,"ctrlsService",void 0),Qd([A("animationFrameService")],t.prototype,"animationFrameService",void 0),t}(qt),AC=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),qd=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},DC=function(o){function t(){return o.call(this,t.TEMPLATE,"horizontal")||this}return AC(t,o),t.prototype.postConstruct=function(){var e=this;o.prototype.postConstruct.call(this);var r=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,r),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,r),this.addManagedListener(this.eventService,M.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",r),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new Cd(function(n){return e.eContainer.style.width=n+"px"}))},t.prototype.initialiseInvisibleScrollbar=function(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gridOptionsService.is("enableRtl"),o.prototype.initialiseInvisibleScrollbar.call(this),this.invisibleScrollbar&&this.refreshCompBottom())},t.prototype.onPinnedRowDataChanged=function(){this.refreshCompBottom()},t.prototype.refreshCompBottom=function(){if(this.invisibleScrollbar){var e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=e+"px"}},t.prototype.onScrollVisibilityChanged=function(){o.prototype.onScrollVisibilityChanged.call(this),this.setFakeHScrollSpacerWidths()},t.prototype.setFakeHScrollSpacerWidths=function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),r=this.columnModel.getDisplayedColumnsRightWidth(),n=!this.enableRtl&&e,i=this.gridOptionsService.getScrollbarWidth();n&&(r+=i),qn(this.eRightSpacer,r),this.eRightSpacer.classList.toggle("ag-scroller-corner",r<=i);var s=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&e&&(s+=i),qn(this.eLeftSpacer,s),this.eLeftSpacer.classList.toggle("ag-scroller-corner",s<=i)},t.prototype.setScrollVisible=function(){var e=this.scrollVisibleService.isHorizontalScrollShowing(),r=this.invisibleScrollbar,n=this.gridOptionsService.is("suppressHorizontalScroll"),i=e&&this.gridOptionsService.getScrollbarWidth()||0,a=n?0:0===i&&r?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",r),ao(this.getGui(),a),ao(this.eViewport,a),ao(this.eContainer,a),this.setDisplayed(e,{skipAriaHidden:!0})},t.prototype.getScrollPosition=function(){return so(this.getViewport(),this.enableRtl)},t.prototype.setScrollPosition=function(e){wo(this.getViewport())||this.attemptSettingScrollPosition(e),vs(this.getViewport(),e,this.enableRtl)},t.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',qd([tt("eLeftSpacer")],t.prototype,"eLeftSpacer",void 0),qd([tt("eRightSpacer")],t.prototype,"eRightSpacer",void 0),qd([A("columnModel")],t.prototype,"columnModel",void 0),qd([A("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),qd([we],t.prototype,"postConstruct",null),t}(fy),xC=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),zv=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},OC=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return xC(t,o),t.prototype.postConstruct=function(){var e=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,M.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedPropertyListener("domLayout",e)},t.prototype.checkContainerWidths=function(){var e=this.gridOptionsService.isDomLayout("print"),r=e?0:this.columnModel.getDisplayedColumnsLeftWidth(),n=e?0:this.columnModel.getDisplayedColumnsRightWidth();r!=this.leftWidth&&(this.leftWidth=r,this.eventService.dispatchEvent({type:M.EVENT_LEFT_PINNED_WIDTH_CHANGED})),n!=this.rightWidth&&(this.rightWidth=n,this.eventService.dispatchEvent({type:M.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},t.prototype.getPinnedRightWidth=function(){return this.rightWidth},t.prototype.getPinnedLeftWidth=function(){return this.leftWidth},zv([A("columnModel")],t.prototype,"columnModel",void 0),zv([we],t.prototype,"postConstruct",null),zv([je("pinnedWidthService")],t)}(Le),TC=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Af=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},bC=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.events=[],e}return TC(t,o),t.prototype.postConstruct=function(){"clientSide"==this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)},t.prototype.dispatchExpanded=function(e){var r=this;null!=this.clientSideRowModel?(this.events.push(e),null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(function(){r.clientSideRowModel&&r.clientSideRowModel.onRowGroupOpened(),r.events.forEach(function(i){return r.eventService.dispatchEvent(i)}),r.events=[]})),this.dispatchExpandedDebounced()):this.eventService.dispatchEvent(e)},Af([A("animationFrameService")],t.prototype,"animationFrameService",void 0),Af([A("rowModel")],t.prototype,"rowModel",void 0),Af([we],t.prototype,"postConstruct",null),Af([je("rowNodeEventThrottle")],t)}(Le),Kv=function(){return Kv=Object.assign||function(o){for(var t,e=1,r=arguments.length;e<r;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o},Kv.apply(this,arguments)},al=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},hy=function(o,t){return function(e,r){t(e,r,o)}},gy=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i},vy=function(o,t){for(var e=0,r=t.length,n=o.length;e<r;e++,n++)o[n]=t[e];return o};function Df(o){return!0===o||"true"===o}var FC=function(){function o(){var e=this;this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new mr,this.globalEventHandlerFactory=function(r){return function(n,i){if(!e.destroyed){var s=t.alwaysSyncGlobalEvents.has(n);if(!(s&&!r||!s&&r)){var a=ai.getCallbackForEvent(n);"function"==typeof e.gridOptions[a]&&e.gridOptions[a](i)}}}}}var t;return t=o,Object.defineProperty(o.prototype,"context",{get:function(){return this.gridOptions.context},enumerable:!1,configurable:!0}),o.prototype.agWire=function(e,r){this.gridOptions.api=e,this.gridOptions.columnApi=r,this.api=e,this.columnApi=r},o.prototype.init=function(){this.gridOptionLookup=new Set(vy(vy([],gy(ai.ALL_PROPERTIES)),gy(ai.EVENT_CALLBACKS)));var e=!this.is("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),e),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.getScrollbarWidth()},o.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},o.prototype.is=function(e){return Df(this.gridOptions[e])},o.prototype.get=function(e){return this.gridOptions[e]},o.prototype.getNum=function(e){return function PC(o){return"number"==typeof o?o:"string"==typeof o?parseInt(o,10):void 0}(this.gridOptions[e])},o.prototype.getCallback=function(e){return this.mergeGridCommonParams(this.gridOptions[e])},o.prototype.exists=function(e){return w(this.gridOptions[e])},o.prototype.mergeGridCommonParams=function(e){var r=this;return e?function(i){var s=i;return s.api=r.api,s.columnApi=r.columnApi,s.context=r.context,e(s)}:e},o.prototype.__setPropertyOnly=function(e,r){var n=this.gridOptions[e];return this.gridOptionLookup.has(e)&&(this.gridOptions[e]=r),n!==r},o.prototype.set=function(e,r,n,i,s){if(void 0===n&&(n=!1),void 0===i&&(i={}),void 0===s&&(s=void 0),this.gridOptionLookup.has(e)){var a=this.gridOptions[e];if(n||a!==r){this.gridOptions[e]=r;var d=Kv({type:e,currentValue:r,previousValue:a,changeSet:s},i);this.propertyEventService.dispatchEvent(d)}}},o.prototype.addEventListener=function(e,r){this.propertyEventService.addEventListener(e,r)},o.prototype.removeEventListener=function(e,r){this.propertyEventService.removeEventListener(e,r)},o.prototype.getGridId=function(){return this.api.getGridId()},o.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var r="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:di();null!=r&&(this.scrollbarWidth=r,this.eventService.dispatchEvent({type:M.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},o.prototype.isRowModelType=function(e){return this.gridOptions.rowModelType===e||"clientSide"===e&&W(this.gridOptions.rowModelType)},o.prototype.isDomLayout=function(e){var r;return(null!==(r=this.gridOptions.domLayout)&&void 0!==r?r:"normal")===e},o.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},o.prototype.useAsyncEvents=function(){return!this.is("suppressAsyncEvents")},o.prototype.isGetRowHeightFunction=function(){return"function"==typeof this.gridOptions.getRowHeight},o.prototype.getRowHeightForNode=function(e,r,n){if(void 0===r&&(r=!1),null==n&&(n=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(r)return{height:n,estimated:!0};var i={node:e,data:e.data},s=this.getCallback("getRowHeight")(i);if(this.isNumeric(s))return 0===s&&At(function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")},"invalidRowHeight"),{height:Math.max(1,s),estimated:!1}}return e.detail&&this.is("masterDetail")?this.getMasterDetailRowHeight():{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:n,estimated:!1}},o.prototype.getMasterDetailRowHeight=function(){return this.is("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}},o.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||W(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();var e=this.environment.refreshRowHeightVariable();return-1!==e?e:(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())},o.prototype.isNumeric=function(e){return!isNaN(e)&&"number"==typeof e&&isFinite(e)},o.prototype.getDomDataKey=function(){return this.domDataKey},o.prototype.getDomData=function(e,r){var n=e[this.getDomDataKey()];return n?n[r]:void 0},o.prototype.setDomData=function(e,r,n){var i=this.getDomDataKey(),s=e[i];W(s)&&(e[i]=s={}),s[r]=n},o.prototype.getDocument=function(){var e=null;return this.gridOptions.getDocument&&w(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&w(e)?e:document},o.prototype.getWindow=function(){return this.getDocument().defaultView||window},o.prototype.getRootNode=function(){return this.eGridDiv.getRootNode()},o.prototype.getAsyncTransactionWaitMillis=function(){return w(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50},o.prototype.isAnimateRows=function(){return!this.is("ensureDomOrder")&&this.is("animateRows")},o.prototype.isGroupRowsSticky=function(){return!(this.is("suppressGroupRowsSticky")||this.is("paginateChildRows")||this.is("groupHideOpenParents"))},o.prototype.isColumnsSortingCoupledToGroup=function(){var e=this.gridOptions.autoGroupColumnDef;return this.isRowModelType("clientSide")&&!e?.comparator&&!this.is("treeData")},o.prototype.getGroupAggFiltering=function(){var e=this.gridOptions.groupAggFiltering;return"function"==typeof e?this.getCallback("groupAggFiltering"):Df(e)?function(){return!0}:void 0},o.prototype.isGroupIncludeFooterTrueOrCallback=function(){var e=this.gridOptions.groupIncludeFooter;return Df(e)||"function"==typeof e},o.prototype.getGroupIncludeFooter=function(){var e=this.gridOptions.groupIncludeFooter;return"function"==typeof e?this.getCallback("groupIncludeFooter"):Df(e)?function(){return!0}:function(){return!1}},o.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?Br("multipleColumns",this.gridOptions.groupDisplayType):this.is("groupHideOpenParents")},o.prototype.isGroupUseEntireRow=function(e){return!e&&!!this.gridOptions.groupDisplayType&&Br("groupRows",this.gridOptions.groupDisplayType)},o.alwaysSyncGlobalEvents=new Set([M.EVENT_GRID_PRE_DESTROYED]),al([A("gridOptions")],o.prototype,"gridOptions",void 0),al([A("eventService")],o.prototype,"eventService",void 0),al([A("environment")],o.prototype,"environment",void 0),al([A("eGridDiv")],o.prototype,"eGridDiv",void 0),al([hy(0,Sr("gridApi")),hy(1,Sr("columnApi"))],o.prototype,"agWire",null),al([we],o.prototype,"init",null),al([yr],o.prototype,"destroy",null),t=al([je("gridOptionsService")],o)}(),MC=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),LC=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return MC(t,o),t.prototype.getLocaleTextFunc=function(){var e=this.gridOptionsService.getCallback("getLocaleText");if(e)return function(n,i,s){return e({key:n,defaultValue:i,variableValues:s})};var r=this.gridOptionsService.get("localeText");return function(n,i,s){var a=r&&r[n];if(a&&s&&s.length)for(var d=0;!(d>=s.length)&&-1!==a.indexOf("${variable}");)a=a.replace("${variable}",s[d++]);return a??i}},t=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i}([je("localeService")],t),t}(Le),NC=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),HC=function(o){function t(){return o.call(this,t.TEMPLATE,"vertical")||this}return NC(t,o),t.prototype.postConstruct=function(){o.prototype.postConstruct.call(this),this.createManagedBean(new nc(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this),this.addManagedListener(this.eventService,M.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))},t.prototype.setScrollVisible=function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),r=this.invisibleScrollbar,n=e&&this.gridOptionsService.getScrollbarWidth()||0,i=0===n&&r?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",r),qn(this.getGui(),i),qn(this.eViewport,i),qn(this.eContainer,i),this.setDisplayed(e,{skipAriaHidden:!0})},t.prototype.onRowContainerHeightChanged=function(){var r=this.ctrlsService.getGridBodyCtrl().getBodyViewportElement();this.eViewport.scrollTop!=r.scrollTop&&(this.eViewport.scrollTop=r.scrollTop)},t.prototype.getScrollPosition=function(){return this.getViewport().scrollTop},t.prototype.setScrollPosition=function(e){wo(this.getViewport())||this.attemptSettingScrollPosition(e),this.getViewport().scrollTop=e},t.TEMPLATE='<div class="ag-body-vertical-scroll" aria-hidden="true">\n            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">\n                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>\n            </div>\n        </div>',function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);n>3&&i&&Object.defineProperty(t,e,i)}([we],t.prototype,"postConstruct",null),t}(fy),VC=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Xi=function(){return Xi=Object.assign||function(o){for(var t,e=1,r=arguments.length;e<r;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n]);return o},Xi.apply(this,arguments)},vu=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Vs=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i},Zd=function(o,t){for(var e=0,r=t.length,n=o.length;e<r;e++,n++)o[n]=t[e];return o},yy={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},my=["january","february","march","april","may","june","july","august","september","october","november","december"],BC=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.dataTypeDefinitions={},e.isWaitingForRowData=!1,e.isColumnTypeOverrideInDataTypeDefinitions=!1,e.columnStateUpdatesPendingInference={},e.columnStateUpdateListenerDestroyFuncs=[],e}return VC(t,o),t.prototype.init=function(){var e=this;this.groupHideOpenParents=this.gridOptionsService.is("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",function(){e.groupHideOpenParents=e.gridOptionsService.is("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",function(){e.processDataTypeDefinitions(),e.columnModel.recreateColumnDefs("gridOptionsChanged")})},t.prototype.processDataTypeDefinitions=function(){var r,e=this,n=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(n).forEach(function(s){var a=Vs(s,2),g=a[1];e.dataTypeDefinitions[a[0]]=Xi(Xi({},g),{groupSafeValueFormatter:e.createGroupSafeValueFormatter(g)})});var i=null!==(r=this.gridOptionsService.get("dataTypeDefinitions"))&&void 0!==r?r:{};this.dataTypeMatchers={},Object.entries(i).forEach(function(s){var a=Vs(s,2),d=a[0],g=a[1],m=e.processDataTypeDefinition(g,i,[d],n);m&&(e.dataTypeDefinitions[d]=m,g.dataTypeMatcher&&(e.dataTypeMatchers[d]=g.dataTypeMatcher))}),this.checkObjectValueHandlers(n),["dateString","text","number","boolean","date"].forEach(function(s){var a=e.dataTypeMatchers[s];a&&delete e.dataTypeMatchers[s],e.dataTypeMatchers[s]=a??n[s].dataTypeMatcher})},t.prototype.mergeDataTypeDefinitions=function(e,r){var n=Xi(Xi({},e),r);return e.columnTypes&&r.columnTypes&&r.appendColumnTypes&&(n.columnTypes=Zd(Zd([],Vs(this.convertColumnTypes(e.columnTypes))),Vs(this.convertColumnTypes(r.columnTypes)))),n},t.prototype.processDataTypeDefinition=function(e,r,n,i){var s,a=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){var d=i[a];if(!this.validateDataTypeDefinition(e,d,a))return;s=this.mergeDataTypeDefinitions(d,e)}else{if(n.includes(a))return void At(function(){return console.warn('AG Grid: Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.')},"dataTypeExtendsCircularRef");var g=r[a];if(!this.validateDataTypeDefinition(e,g,a))return;var m=this.processDataTypeDefinition(g,r,Zd(Zd([],Vs(n)),[a]),i);if(!m)return;s=this.mergeDataTypeDefinitions(m,e)}return Xi(Xi({},s),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(s)})},t.prototype.validateDataTypeDefinition=function(e,r,n){return r?r.baseDataType===e.baseDataType||(At(function(){return console.warn('AG Grid: The "baseDataType" property of a data type definition must match that of its parent.')},"dataTypeBaseTypesMatch"),!1):(At(function(){return console.warn("AG Grid: The data type definition "+n+" does not exist.")},"dataTypeDefMissing"+n),!1)},t.prototype.createGroupSafeValueFormatter=function(e){var r=this;if(e.valueFormatter)return function(n){var i,s;if(null===(i=n.node)||void 0===i||!i.group)return r.groupHideOpenParents&&n.column.isRowGroupActive()?"string"!=typeof n.value||null!==(s=e.dataTypeMatcher)&&void 0!==s&&s.call(e,n.value)?e.valueFormatter(n):void 0:e.valueFormatter(n);var a=n.column.getAggFunc();if(a){if("first"===a||"last"===a)return e.valueFormatter(n);if("number"===e.baseDataType&&"count"!==a){if("number"==typeof n.value)return e.valueFormatter(n);if("object"==typeof n.value){if(!n.value)return;if("toNumber"in n.value)return e.valueFormatter(Xi(Xi({},n),{value:n.value.toNumber()}));if("value"in n.value)return e.valueFormatter(Xi(Xi({},n),{value:n.value.value}))}}}}},t.prototype.updateColDefAndGetDataTypeDefinitionColumnType=function(e,r,n){var i=r.cellDataType,s=r.field;if(void 0===i&&(i=e.cellDataType),(null==i||!0===i)&&(i=!!this.canInferCellDataType(e,r)&&this.inferCellDataType(s,n)),i){var a=this.dataTypeDefinitions[i];if(a)return e.cellDataType=i,a.groupSafeValueFormatter&&(e.valueFormatter=a.groupSafeValueFormatter),a.valueParser&&(e.valueParser=a.valueParser),a.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,a,n),a.columnTypes;At(function(){return console.warn('AG Grid: Missing data type definition - "'+i+'"')},"dataTypeMissing"+i)}else e.cellDataType=!1},t.prototype.updateColDefAndGetColumnType=function(e,r,n){var i,s,a=this.updateColDefAndGetDataTypeDefinitionColumnType(e,r,n),d=null!==(s=null!==(i=r.type)&&void 0!==i?i:a)&&void 0!==s?s:e.type;return e.type=d,d?this.convertColumnTypes(d):void 0},t.prototype.addColumnListeners=function(e){if(this.isWaitingForRowData){var r=this.columnStateUpdatesPendingInference[e.getColId()];if(r){var n=function(i){r.add(i.key)};e.addEventListener(T.EVENT_STATE_UPDATED,n),this.columnStateUpdateListenerDestroyFuncs.push(function(){return e.removeEventListener(T.EVENT_STATE_UPDATED,n)})}}},t.prototype.canInferCellDataType=function(e,r){var i,n=this;if("clientSide"!==this.rowModel.getType())return!1;var s={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(r,s))return!1;var a=null===r.type?e.type:r.type;if(a){var d=null!==(i=this.gridOptionsService.get("columnTypes"))&&void 0!==i?i:{};if(this.convertColumnTypes(a).some(function(m){var C=d[m.trim()];return C&&n.doColDefPropsPreventInference(C,s)}))return!1}return!this.doColDefPropsPreventInference(e,s)},t.prototype.doColDefPropsPreventInference=function(e,r){var n=this;return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(function(i){var s=Vs(i,2);return n.doesColDefPropPreventInference(e,r,s[0],s[1])})},t.prototype.doesColDefPropPreventInference=function(e,r,n,i){if(!r[n])return!1;var s=e[n];return null===s?(r[n]=!1,!1):void 0===i?!!s:s===i},t.prototype.inferCellDataType=function(e,r){var n;if(e){var i,s=this.getInitialData();if(s){var a=e.indexOf(".")>=0&&!this.gridOptionsService.is("suppressFieldDotNotation");i=Rr(s,e,a)}else this.initWaitForRowData(r);if(null!=i)return Vs(null!==(n=Object.entries(this.dataTypeMatchers).find(function(m){return(0,Vs(m,2)[1])(i)}))&&void 0!==n?n:["object"],1)[0]}},t.prototype.getInitialData=function(){var e=this.gridOptionsService.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;var r=this.rowModel.getRootNode().allLeafChildren;return r?.length?r[0].data:null},t.prototype.initWaitForRowData=function(e){var r=this;if(this.columnStateUpdatesPendingInference[e]=new Set,!this.isWaitingForRowData){this.isWaitingForRowData=!0;var n=this.isColumnTypeOverrideInDataTypeDefinitions;n&&this.columnModel.queueResizeOperations();var i=this.addManagedListener(this.eventService,M.EVENT_ROW_DATA_UPDATE_STARTED,function(s){var a=s.firstRowData;a&&(i?.(),r.isWaitingForRowData=!1,r.processColumnsPendingInference(a,n),r.columnStateUpdatesPendingInference={},n&&r.columnModel.processResizeOperations(),r.eventService.dispatchEvent({type:M.EVENT_DATA_TYPES_INFERRED}))})}},t.prototype.isPendingInference=function(){return this.isWaitingForRowData},t.prototype.processColumnsPendingInference=function(e,r){var n=this;this.initialData=e;var i=[];this.columnStateUpdateListenerDestroyFuncs.forEach(function(d){return d()}),this.columnStateUpdateListenerDestroyFuncs=[];var s={},a={};Object.entries(this.columnStateUpdatesPendingInference).forEach(function(d){var g=Vs(d,2),m=g[0],C=g[1],E=n.columnModel.getGridColumn(m);if(E){var b=E.getColDef();if(n.columnModel.resetColumnDefIntoColumn(E)){var L=E.getColDef();if(r&&L.type&&L.type!==b.type){var j=n.getUpdatedColumnState(E,C);j.rowGroup&&null==j.rowGroupIndex&&(s[m]=j),j.pivot&&null==j.pivotIndex&&(a[m]=j),i.push(j)}}}}),r&&i.push.apply(i,Zd([],Vs(this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(s,a)))),i.length&&this.columnModel.applyColumnState({state:i},"cellDataTypeInferred"),this.initialData=null},t.prototype.getUpdatedColumnState=function(e,r){var n=this.columnModel.getColumnStateFromColDef(e);return r.forEach(function(i){delete n[i],"rowGroup"===i?delete n.rowGroupIndex:"pivot"===i&&delete n.pivotIndex}),n},t.prototype.checkObjectValueHandlers=function(e){var r=this.dataTypeDefinitions.object,n=e.object;this.hasObjectValueParser=r.valueParser!==n.valueParser,this.hasObjectValueFormatter=r.valueFormatter!==n.valueFormatter},t.prototype.convertColumnTypes=function(e){var r=[];return e instanceof Array?e.some(function(i){return"string"!=typeof i})?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):r=e:"string"==typeof e?r=e.split(","):console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'"),r},t.prototype.getDateStringTypeDefinition=function(){return this.dataTypeDefinitions.dateString},t.prototype.getDateParserFunction=function(){return this.getDateStringTypeDefinition().dateParser},t.prototype.getDateFormatterFunction=function(){return this.getDateStringTypeDefinition().dateFormatter},t.prototype.getDataTypeDefinition=function(e){var r=e.getColDef();if(r.cellDataType)return this.dataTypeDefinitions[r.cellDataType]},t.prototype.getBaseDataType=function(e){var r;return null===(r=this.getDataTypeDefinition(e))||void 0===r?void 0:r.baseDataType},t.prototype.checkType=function(e,r){var n;if(null==r)return!0;var i=null===(n=this.getDataTypeDefinition(e))||void 0===n?void 0:n.dataTypeMatcher;return!i||i(r)},t.prototype.validateColDef=function(e){"object"===e.cellDataType&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&At(function(){return console.warn('AG Grid: Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"')},"dataTypeObjectValueFormatter"),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&At(function(){return console.warn('AG Grid: Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"')},"dataTypeObjectValueParser"))},t.prototype.setColDefPropertiesForBaseDataType=function(e,r,n){var i=this,s=function(C,E,b){var L=C.getColDef().valueFormatter;return L===r.groupSafeValueFormatter&&(L=r.valueFormatter),i.valueFormatterService.formatValue(C,E,b,L)},a=it.__isRegistered(Re.SetFilterModule,this.context.getGridId()),d=this.localeService.getLocaleTextFunc(),g=function(C){var E=e.filterParams;e.filterParams="object"==typeof E?Xi(Xi({},E),C):C};switch(e.useValueFormatterForExport=!0,e.useValueParserForImport=!0,r.baseDataType){case"number":e.cellEditor="agNumberCellEditor",a&&g({comparator:function(C,E){var b=null==C?0:parseInt(C),L=null==E?0:parseInt(E);return b===L?0:b>L?1:-1}});break;case"boolean":e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=function(C){return!!C.colDef.editable&&C.event.key===Ce.SPACE},g(a?{valueFormatter:function(C){return w(C.value)?d(String(C.value),C.value?"True":"False"):d("blanks","(Blanks)")}}:{maxNumConditions:1,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:function(C,E){return E},numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:function(C,E){return!1===E},numberOfInputs:0}]});break;case"date":e.cellEditor="agDateCellEditor",e.keyCreator=function(C){return s(C.column,C.node,C.value)},a&&g({valueFormatter:function(C){var E=s(C.column,C.node,C.value);return w(E)?E:d("blanks","(Blanks)")},treeList:!0,treeListFormatter:function(C,E){if(1===E&&null!=C){var b=my[Number(C)-1];return d(b,yy[b])}return C??d("blanks","(Blanks)")}});break;case"dateString":e.cellEditor="agDateStringCellEditor",e.keyCreator=function(C){return s(C.column,C.node,C.value)};var m=this.getDateParserFunction();g(a?{valueFormatter:function(C){var E=s(C.column,C.node,C.value);return w(E)?E:d("blanks","(Blanks)")},treeList:!0,treeListPathGetter:function(C){var E=m(C??void 0);return E?[String(E.getFullYear()),String(E.getMonth()+1),String(E.getDate())]:null},treeListFormatter:function(C,E){if(1===E&&null!=C){var b=my[Number(C)-1];return d(b,yy[b])}return C??d("blanks","(Blanks)")}}:{comparator:function(C,E){var b=m(E);return null==E||b<C?-1:b>C?1:0}});break;case"object":e.cellEditorParams={useFormatter:!0},e.comparator=function(C,E){var b=i.columnModel.getPrimaryColumn(n),L=b?.getColDef();if(!b||!L)return 0;var j=null==C?"":s(b,null,C),ee=null==E?"":s(b,null,E);return j===ee?0:j>ee?1:-1},e.keyCreator=function(C){return s(C.column,C.node,C.value)},a?g({valueFormatter:function(C){var E=s(C.column,C.node,C.value);return w(E)?E:d("blanks","(Blanks)")}}):e.filterValueGetter=function(C){return s(C.column,C.node,i.valueService.getValue(C.column,C.node))}}},t.prototype.getDefaultDataTypes=function(){var e=function(n){return!!n.match("^\\d{4}-\\d{2}-\\d{2}$")},r=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:function(n){return""===n.newValue?null:Number(n.newValue)},valueFormatter:function(n){return null==n.value?"":"number"!=typeof n.value||isNaN(n.value)?r("invalidNumber","Invalid Number"):String(n.value)},dataTypeMatcher:function(n){return"number"==typeof n}},text:{baseDataType:"text",valueParser:function(n){return""===n.newValue?null:De(n.newValue)},dataTypeMatcher:function(n){return"string"==typeof n}},boolean:{baseDataType:"boolean",valueParser:function(n){return""===n.newValue?null:"true"===String(n.newValue).toLowerCase()},valueFormatter:function(n){return null==n.value?"":String(n.value)},dataTypeMatcher:function(n){return"boolean"==typeof n}},date:{baseDataType:"date",valueParser:function(n){return Wr(null==n.newValue?null:String(n.newValue))},valueFormatter:function(n){var i;return null==n.value?"":n.value instanceof Date&&!isNaN(n.value.getTime())?null!==(i=cr(n.value,!1))&&void 0!==i?i:"":r("invalidDate","Invalid Date")},dataTypeMatcher:function(n){return n instanceof Date}},dateString:{baseDataType:"dateString",dateParser:function(n){var i;return null!==(i=Wr(n))&&void 0!==i?i:void 0},dateFormatter:function(n){var i;return null!==(i=cr(n??null,!1))&&void 0!==i?i:void 0},valueParser:function(n){return e(String(n.newValue))?n.newValue:null},valueFormatter:function(n){return e(String(n.value))?n.value:""},dataTypeMatcher:function(n){return"string"==typeof n&&e(n)}},object:{baseDataType:"object",valueParser:function(){return null},valueFormatter:function(n){var i;return null!==(i=De(n.value))&&void 0!==i?i:""}}}},vu([A("rowModel")],t.prototype,"rowModel",void 0),vu([A("columnModel")],t.prototype,"columnModel",void 0),vu([A("columnUtils")],t.prototype,"columnUtils",void 0),vu([A("valueService")],t.prototype,"valueService",void 0),vu([A("valueFormatterService")],t.prototype,"valueFormatterService",void 0),vu([we],t.prototype,"init",null),vu([je("dataTypeService")],t)}(Le),kC=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Cy=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},WC=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return kC(t,o),t.prototype.parseValue=function(e,r,n,i){var s=e.getColDef(),a={node:r,data:r?.data,oldValue:i,newValue:n,colDef:s,column:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context},d=s.valueParser;return w(d)?"function"==typeof d?d(a):this.expressionService.evaluate(d,a):n},Cy([A("expressionService")],t.prototype,"expressionService",void 0),Cy([je("valueParserService")],t)}(Le),wy=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i},Sy=function(o,t){for(var e=0,r=t.length,n=o.length;e<r;e++,n++)o[n]=t[e];return o},UC=function(){function o(t,e,r){e?(this.gridOptions=e,(new zC).create(t,e,function(n){var i=new wm(t);n.createBean(i)},void 0,r)):console.error("AG Grid: no gridOptions provided to the grid")}return o.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},o}(),jC=1,zC=function(){function o(){}return o.prototype.create=function(t,e,r,n,i){var a,s=this,d=!!e.debug,g=null!==(a=e.gridId)&&void 0!==a?a:String(jC++),m=this.getRegisteredModules(i,g),C=this.createBeansList(e.rowModelType,m,g),E=this.createProvidedBeans(t,e,i);if(C){var b={providedBeanInstances:E,beanClasses:C,debug:d,gridId:g},L=new Iv("AG Grid",function(){return e.debug}),j=new Iv("Context",function(){return b.debug}),ee=new Mt(b,j),se=ee.getBean("beans");this.registerModuleUserComponents(se,m),this.registerStackComponents(se,m),this.registerControllers(se,m),r(ee),se.ctrlsService.whenReady(function(){s.setColumnsAndData(se),s.dispatchGridReadyEvent(se);var fe=it.__isRegistered(Re.EnterpriseCoreModule,g);L.log("initialised successfully, enterprise = "+fe)}),n&&n(ee)}},o.prototype.registerControllers=function(t,e){e.forEach(function(r){r.controllers&&r.controllers.forEach(function(n){return t.ctrlsFactory.register(n)})})},o.prototype.registerStackComponents=function(t,e){var r=this.createAgStackComponentsList(e);t.agStackComponentsRegistry.setupComponents(r)},o.prototype.getRegisteredModules=function(t,e){var r=t?t.modules:null,n=it.__getRegisteredModules(e),i=[],s={},a=function(d,g,m){var E;s[(E=g).moduleName]||(s[E.moduleName]=!0,i.push(E),it.__register(E,d,m)),g.dependantModules&&g.dependantModules.forEach(function(E){return a(d,E,m)})};return r&&r.forEach(function(d){return a(!0,d,e)}),n&&n.forEach(function(d){return a(!it.__isPackageBased(),d,void 0)}),i},o.prototype.registerModuleUserComponents=function(t,e){this.extractModuleEntity(e,function(n){return n.userComponents?n.userComponents:[]}).forEach(function(n){t.userComponentRegistry.registerDefaultComponent(n.componentName,n.componentClass)})},o.prototype.createProvidedBeans=function(t,e,r){var n=r?r.frameworkOverrides:null;W(n)&&(n=new ny);var i={gridOptions:e,eGridDiv:t,globalEventListener:r?r.globalEventListener:null,globalSyncEventListener:r?r.globalSyncEventListener:null,frameworkOverrides:n};return r&&r.providedBeanInstances&&Object.assign(i,r.providedBeanInstances),i},o.prototype.createAgStackComponentsList=function(t){var e=[{componentName:"AgCheckbox",componentClass:Ts},{componentName:"AgRadioButton",componentClass:ku},{componentName:"AgToggleButton",componentClass:Dv},{componentName:"AgInputTextField",componentClass:h},{componentName:"AgInputTextArea",componentClass:Ov},{componentName:"AgInputNumberField",componentClass:S},{componentName:"AgInputDateField",componentClass:bv},{componentName:"AgInputRange",componentClass:l},{componentName:"AgRichSelect",componentClass:dr},{componentName:"AgSelect",componentClass:na},{componentName:"AgSlider",componentClass:Tr},{componentName:"AgGridBody",componentClass:mi},{componentName:"AgHeaderRoot",componentClass:Qg},{componentName:"AgSortIndicator",componentClass:aa},{componentName:"AgPagination",componentClass:Jm},{componentName:"AgOverlayWrapper",componentClass:eC},{componentName:"AgGroupComponent",componentClass:Gi},{componentName:"AgPanel",componentClass:ty},{componentName:"AgDialog",componentClass:Iy},{componentName:"AgRowContainer",componentClass:mg},{componentName:"AgFakeHorizontalScroll",componentClass:DC},{componentName:"AgFakeVerticalScroll",componentClass:HC},{componentName:"AgAutocomplete",componentClass:zy}],r=this.extractModuleEntity(t,function(n){return n.agStackComponents?n.agStackComponents:[]});return e.concat(r)},o.prototype.createBeansList=function(t,e,r){void 0===t&&(t="clientSide");var n=e.filter(function(g){return!g.rowModel||g.rowModel===t}),i={clientSide:Re.ClientSideRowModelModule,infinite:Re.InfiniteRowModelModule,serverSide:Re.ServerSideRowModelModule,viewport:Re.ViewportRowModelModule};if(i[t]){if(it.__assertRegistered(i[t],"rowModelType = '"+t+"'",r)){var s=[Vp,rC,oC,pC,Tm,ah,Zf,Nm,Hm,ff,ih,$m,Zg,LC,xc,Gd,sh,Gn,mr,FC,Vy,im,ch,Da,jg,_v,pv,cm,Si,fm,em,hg,Pm,am,vm,Us,iv,Xg,En,om,nl,pg,zm,Zy,hv,Rv,Ns,_m,Am,xm,qm,Ra,Im,nv,cC,hl,hC,gC,wv,yC,wC,OC,bC,EC,BC,WC,Np],a=this.extractModuleEntity(n,function(g){return g.beans?g.beans:[]});s.push.apply(s,Sy([],wy(a)));var d=[];return s.forEach(function(g){d.indexOf(g)<0&&d.push(g)}),d}}else console.error("AG Grid: could not find row model for rowModelType = "+t)},o.prototype.extractModuleEntity=function(t,e){return[].concat.apply([],Sy([],wy(t.map(e))))},o.prototype.setColumnsAndData=function(t){var e=t.gridOptionsService.get("columnDefs");t.columnModel.setColumnDefs(e||[],"gridInitializing"),t.rowModel.start()},o.prototype.dispatchGridReadyEvent=function(t){t.eventService.dispatchEvent({type:M.EVENT_GRID_READY})},o}(),KC=function(){function o(){}return o.prototype.wrap=function(t,e,r,n){var i=this;void 0===r&&(r=[]);var s=this.createWrapper(t,n);return e.forEach(function(a){i.createMethod(s,a,!0)}),r.forEach(function(a){i.createMethod(s,a,!1)}),s},o.prototype.unwrap=function(t){return t},o.prototype.createMethod=function(t,e,r){t.addMethod(e,this.createMethodProxy(t,e,r))},o.prototype.createMethodProxy=function(t,e,r){return function(){return t.hasMethod(e)?t.callMethod(e,arguments):(r&&console.warn("AG Grid: Framework component is missing the method "+e+"()"),null)}},o}(),Ac=typeof global>"u"?{}:global;Ac.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement,Ac.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement,Ac.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement,Ac.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement,Ac.Node=typeof Node>"u"?{}:Node,Ac.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var Jd=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i},Xd=function(o,t){for(var e=0,r=t.length,n=o.length;e<r;e++,n++)o[n]=t[e];return o},$C=function(){function o(t,e,r,n,i,s){this.nextId=0,this.allNodesMap={},this.rootNode=t,this.gridOptionsService=e,this.eventService=r,this.columnModel=n,this.beans=s,this.selectionService=i,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=o.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return o.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsService.is("suppressParentsInRowNodes"),this.isRowMasterFunc=this.gridOptionsService.get("isRowMaster"),this.doingMasterDetail=this.gridOptionsService.is("masterDetail")},o.prototype.getCopyOfNodesMap=function(){return Vt.cloneObject(this.allNodesMap)},o.prototype.getRowNode=function(t){return this.allNodesMap[t]},o.prototype.setRowData=function(t){var e=this;if("string"!=typeof t){this.dispatchRowDataUpdateStartedEvent(t);var r=this.rootNode,n=this.rootNode.sibling;r.childrenAfterFilter=null,r.childrenAfterGroup=null,r.childrenAfterAggFilter=null,r.childrenAfterSort=null,r.childrenMapped=null,r.updateHasChildren(),this.nextId=0,this.allNodesMap={},t?r.allLeafChildren=t.map(function(i){return e.createNode(i,e.rootNode,o.TOP_LEVEL)}):(r.allLeafChildren=[],r.childrenAfterGroup=[]),n&&(n.childrenAfterFilter=r.childrenAfterFilter,n.childrenAfterGroup=r.childrenAfterGroup,n.childrenAfterAggFilter=r.childrenAfterAggFilter,n.childrenAfterSort=r.childrenAfterSort,n.childrenMapped=r.childrenMapped,n.allLeafChildren=r.allLeafChildren)}else console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},o.prototype.updateRowData=function(t,e){this.dispatchRowDataUpdateStartedEvent(t.add);var r={remove:[],update:[],add:[]},n=[];return this.executeRemove(t,r,n),this.executeUpdate(t,r,n),this.executeAdd(t,r),this.updateSelection(n,"rowDataChanged"),e&&Vt.sortRowNodesByOrder(this.rootNode.allLeafChildren,e),r},o.prototype.dispatchRowDataUpdateStartedEvent=function(t){this.eventService.dispatchEvent({type:M.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:t?.length?t[0]:null})},o.prototype.updateSelection=function(t,e){var r=t.length>0;r&&this.selectionService.setNodesSelected({newValue:!1,nodes:t,suppressFinishActions:!0,source:e}),this.selectionService.updateGroupsFromChildrenSelections(e),r&&this.eventService.dispatchEvent({type:M.EVENT_SELECTION_CHANGED,source:e})},o.prototype.executeAdd=function(t,e){var n,r=this,i=t.add,s=t.addIndex;if(!Vt.missingOrEmpty(i)){var a=i.map(function(j){return r.createNode(j,r.rootNode,o.TOP_LEVEL)});if("number"==typeof s&&s>=0){var d=this.rootNode.allLeafChildren,g=d.length,m=s;if(this.gridOptionsService.is("treeData")&&s>0&&g>0)for(var E=0;E<g;E++)if((null===(n=d[E])||void 0===n?void 0:n.rowIndex)==s-1){m=E+1;break}var b=d.slice(0,m),L=d.slice(m,d.length);this.rootNode.allLeafChildren=Xd(Xd(Xd([],Jd(b)),Jd(a)),Jd(L))}else this.rootNode.allLeafChildren=Xd(Xd([],Jd(this.rootNode.allLeafChildren)),Jd(a));this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),e.add=a}},o.prototype.executeRemove=function(t,e,r){var n=this,i=t.remove;if(!Vt.missingOrEmpty(i)){var s={};i.forEach(function(a){var d=n.lookupRowNode(a);d&&(d.isSelected()&&r.push(d),d.clearRowTopAndRowIndex(),s[d.id]=!0,delete n.allNodesMap[d.id],e.remove.push(d))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(a){return!s[a.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},o.prototype.executeUpdate=function(t,e,r){var n=this,i=t.update;Vt.missingOrEmpty(i)||i.forEach(function(s){var a=n.lookupRowNode(s);a&&(a.updateData(s),!a.selectable&&a.isSelected()&&r.push(a),n.setMasterForRow(a,s,o.TOP_LEVEL,!1),e.update.push(a))})},o.prototype.lookupRowNode=function(t){var r,e=this.gridOptionsService.getCallback("getRowId");if(e){var n=e({data:t,level:0});if(!(r=this.allNodesMap[n]))return console.error("AG Grid: could not find row id="+n+", data item was not found for this id"),null}else if(!(r=this.rootNode.allLeafChildren.find(function(i){return i.data===t})))return console.error("AG Grid: could not find data item as object was not found",t),console.error("Consider using getRowId to help the Grid find matching row data"),null;return r||null},o.prototype.createNode=function(t,e,r){var n=new er(this.beans);return n.group=!1,this.setMasterForRow(n,t,r,!0),e&&!this.suppressParentsInRowNodes&&(n.parent=e),n.level=r,n.setDataAndId(t,this.nextId.toString()),this.allNodesMap[n.id]&&console.warn("AG Grid: duplicate node id '"+n.id+"' detected from getRowId callback, this could cause issues in your grid."),this.allNodesMap[n.id]=n,this.nextId++,n},o.prototype.setMasterForRow=function(t,e,r,n){if(this.gridOptionsService.is("treeData"))t.setMaster(!1),n&&(t.expanded=!1);else if(t.setMaster(!!this.doingMasterDetail&&(!this.isRowMasterFunc||this.isRowMasterFunc(e))),n){var s=this.columnModel.getRowGroupColumns();t.expanded=!!t.master&&this.isExpanded(r+(s?s.length:0))}},o.prototype.isExpanded=function(t){var e=this.gridOptionsService.getNum("groupDefaultExpanded");return-1===e||t<e},o.TOP_LEVEL=0,o.ROOT_NODE_ID="ROOT_NODE_ID",o}(),QC=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),eo=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},ep=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i},tp=function(o,t){for(var e=0,r=t.length,n=o.length;e<r;e++,n++)o[n]=t[e];return o},_a=function(o){return o[o.Normal=0]="Normal",o[o.AfterFilter=1]="AfterFilter",o[o.AfterFilterAndSort=2]="AfterFilterAndSort",o[o.PivotNodes=3]="PivotNodes",o}(_a||{}),qC=function(o){function t(){var e=null!==o&&o.apply(this,arguments)||this;return e.onRowHeightChanged_debounced=Vt.debounce(e.onRowHeightChanged.bind(e),100),e.rowsToDisplay=[],e}return QC(t,o),t.prototype.init=function(){var e=this,r=this.refreshModel.bind(this,{step:Mr.EVERYTHING}),n=!this.gridOptionsService.is("suppressAnimationFrame"),i=this.refreshModel.bind(this,{step:Mr.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:n});this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,i),this.addManagedListener(this.eventService,M.EVENT_COLUMN_ROW_GROUP_CHANGED,r),this.addManagedListener(this.eventService,M.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:Mr.PIVOT})),this.addManagedListener(this.eventService,M.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_COLUMN_PIVOT_MODE_CHANGED,r),this.addManagedListener(this.eventService,M.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this));var s=this.refreshModel.bind(this,{step:Mr.MAP,keepRenderedRows:!0,animate:n});this.addManagedPropertyListeners(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter"],s);var a=this.refreshModel.bind(this,{step:Mr.AGGREGATE,keepRenderedRows:!0,animate:n});this.addManagedPropertyListeners(["groupIncludeTotalFooter"],a),this.rootNode=new er(this.beans),this.nodeManager=new $C(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans),this.addManagedPropertyListener("treeData",function(){e.setRowData(e.rootNode.allLeafChildren.map(function(d){return d.data}))})},t.prototype.start=function(){var e=this.gridOptionsService.get("rowData");e&&this.setRowData(e)},t.prototype.ensureRowHeightsValid=function(e,r,n,i){var s,a=!1;do{s=!1;for(var d=this.getRowIndexAtPixel(e),g=this.getRowIndexAtPixel(r),m=Math.max(d,n),C=Math.min(g,i),E=m;E<=C;E++){var b=this.getRow(E);if(b.rowHeightEstimated){var L=this.gridOptionsService.getRowHeightForNode(b);b.setRowHeight(L.height),s=!0,a=!0}}s&&this.setRowTopAndRowIndex()}while(s);return a},t.prototype.setRowTopAndRowIndex=function(){for(var e=this.environment.getDefaultRowHeight(),r=0,n=new Set,i=this.gridOptionsService.isDomLayout("normal"),s=0;s<this.rowsToDisplay.length;s++){var a=this.rowsToDisplay[s];if(null!=a.id&&n.add(a.id),null==a.rowHeight){var d=this.gridOptionsService.getRowHeightForNode(a,i,e);a.setRowHeight(d.height,d.estimated)}a.setRowTop(r),a.setRowIndex(s),r+=a.rowHeight}return n},t.prototype.clearRowTopAndRowIndex=function(e,r){var n=e.isActive(),i=function(a){a&&null!=a.id&&!r.has(a.id)&&a.clearRowTopAndRowIndex()},s=function(a){i(a),i(a.detailNode),i(a.sibling),a.hasChildren()&&a.childrenAfterGroup&&(n&&-1!=a.level&&!a.expanded||a.childrenAfterGroup.forEach(s))};s(this.rootNode)},t.prototype.ensureRowsAtPixel=function(e,r,n){var i=this;void 0===n&&(n=0);var s=this.getRowIndexAtPixel(r),a=this.getRow(s),d=!this.gridOptionsService.is("suppressAnimationFrame");return a!==e[0]&&(e.forEach(function(g){Vt.removeFromArray(i.rootNode.allLeafChildren,g)}),e.forEach(function(g,m){Vt.insertIntoArray(i.rootNode.allLeafChildren,g,Math.max(s+n,0)+m)}),this.refreshModel({step:Mr.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:d}),!0)},t.prototype.highlightRowAtPixel=function(e,r){var n=null!=r?this.getRowIndexAtPixel(r):null,i=null!=n?this.getRow(n):null;if(i&&e&&i!==e&&null!=r){var s=this.getHighlightPosition(r,i);this.lastHighlightedRow&&this.lastHighlightedRow!==i&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),i.setHighlighted(s),this.lastHighlightedRow=i}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},t.prototype.getHighlightPosition=function(e,r){if(!r){var n=this.getRowIndexAtPixel(e);if(!(r=this.getRow(n||0)))return Ms.Below}return e-r.rowTop<r.rowHeight/2?Ms.Above:Ms.Below},t.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},t.prototype.getTopLevelRowCount=function(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;var r=this.rootNode.childrenAfterAggFilter;return r?r.length:0},t.prototype.getTopLevelRowDisplayedIndex=function(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;var n=this.rootNode.childrenAfterSort[e];if(this.gridOptionsService.is("groupHideOpenParents"))for(;n.expanded&&n.childrenAfterSort&&n.childrenAfterSort.length>0;)n=n.childrenAfterSort[0];return n.rowIndex},t.prototype.getRowBounds=function(e){if(Vt.missing(this.rowsToDisplay))return null;var r=this.rowsToDisplay[e];return r?{rowTop:r.rowTop,rowHeight:r.rowHeight}:null},t.prototype.onRowGroupOpened=function(){var e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:Mr.MAP,keepRenderedRows:!0,animate:e})},t.prototype.onFilterChanged=function(e){if(!e.afterDataChange){var r=this.gridOptionsService.isAnimateRows(),n=0===e.columns.length||e.columns.some(function(s){return s.isPrimary()});this.refreshModel({step:n?Mr.FILTER:Mr.FILTER_AGGREGATES,keepRenderedRows:!0,animate:r})}},t.prototype.onSortChanged=function(){var e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:Mr.SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})},t.prototype.getType=function(){return"clientSide"},t.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:Mr.PIVOT}):this.refreshModel({step:Mr.AGGREGATE})},t.prototype.createChangePath=function(e){var r=Vt.missingOrEmpty(e),n=new Hd(!1,this.rootNode);return(r||this.gridOptionsService.is("treeData"))&&n.setInactive(),n},t.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(e){if(!this.gridOptionsService.is("suppressModelUpdateAfterUpdateTransaction")||null==e.rowNodeTransactions)return!1;var r=e.rowNodeTransactions.filter(function(i){return null!=i.add&&i.add.length>0||null!=i.remove&&i.remove.length>0});return null==r||0==r.length},t.prototype.buildRefreshModelParams=function(e){var r=Mr.EVERYTHING,n={everything:Mr.EVERYTHING,group:Mr.EVERYTHING,filter:Mr.FILTER,map:Mr.MAP,aggregate:Mr.AGGREGATE,sort:Mr.SORT,pivot:Mr.PIVOT};if(Vt.exists(e)&&(r=n[e]),!Vt.missing(r))return{step:r,keepRenderedRows:!0,keepEditingRows:!0,animate:!this.gridOptionsService.is("suppressAnimationFrame")};console.error("AG Grid: invalid step "+e+", available steps are "+Object.keys(n).join(", "))},t.prototype.refreshModel=function(e){var r="object"==typeof e&&"step"in e?e:this.buildRefreshModelParams(e);if(r&&!this.isSuppressModelUpdateAfterUpdateTransaction(r)){var n=this.createChangePath(r.rowNodeTransactions);switch(r.step){case Mr.EVERYTHING:this.doRowGrouping(r.groupState,r.rowNodeTransactions,r.rowNodeOrder,n,!!r.afterColumnsChanged);case Mr.FILTER:this.doFilter(n);case Mr.PIVOT:this.doPivot(n);case Mr.AGGREGATE:this.doAggregate(n);case Mr.FILTER_AGGREGATES:this.doFilterAggregates(n);case Mr.SORT:this.doSort(r.rowNodeTransactions,n);case Mr.MAP:this.doRowsToDisplay()}var i=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(n,i),this.eventService.dispatchEvent({type:M.EVENT_MODEL_UPDATED,animate:r.animate,keepRenderedRows:r.keepRenderedRows,newData:r.newData,newPage:!1,keepUndoRedoStack:r.keepUndoRedoStack})}},t.prototype.isEmpty=function(){var e=Vt.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return Vt.missing(this.rootNode)||e||!this.columnModel.isReady()},t.prototype.isRowsToRender=function(){return Vt.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},t.prototype.getNodesInRangeForSelection=function(e,r){var n=!r,i=!1,s=[],a=this.gridOptionsService.is("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(function(d){if(!i){if(n&&(d===r||d===e)&&(i=!0,d.group&&a))return void s.push.apply(s,tp([],ep(d.allLeafChildren)));if(!n){if(d!==r&&d!==e)return;n=!0}if(!d.group||!a)return void s.push(d)}}),s},t.prototype.setDatasource=function(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")},t.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},t.prototype.getRootNode=function(){return this.rootNode},t.prototype.getRow=function(e){return this.rowsToDisplay[e]},t.prototype.isRowPresent=function(e){return this.rowsToDisplay.indexOf(e)>=0},t.prototype.getRowIndexAtPixel=function(e){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;var r=0,n=this.rowsToDisplay.length-1;if(e<=0)return 0;if(Vt.last(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;for(var s=-1,a=-1;;){var d=Math.floor((r+n)/2),g=this.rowsToDisplay[d];if(this.isRowInPixel(g,e))return d;if(g.rowTop<e?r=d+1:g.rowTop>e&&(n=d-1),s===r&&a===n)return d;s=r,a=n}},t.prototype.isRowInPixel=function(e,r){return e.rowTop<=r&&e.rowTop+e.rowHeight>r},t.prototype.forEachLeafNode=function(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(r,n){return e(r,n)})},t.prototype.forEachNode=function(e,r){void 0===r&&(r=!1),this.recursivelyWalkNodesAndCallback({nodes:tp([],ep(this.rootNode.childrenAfterGroup||[])),callback:e,recursionType:_a.Normal,index:0,includeFooterNodes:r})},t.prototype.forEachNodeAfterFilter=function(e,r){void 0===r&&(r=!1),this.recursivelyWalkNodesAndCallback({nodes:tp([],ep(this.rootNode.childrenAfterAggFilter||[])),callback:e,recursionType:_a.AfterFilter,index:0,includeFooterNodes:r})},t.prototype.forEachNodeAfterFilterAndSort=function(e,r){void 0===r&&(r=!1),this.recursivelyWalkNodesAndCallback({nodes:tp([],ep(this.rootNode.childrenAfterSort||[])),callback:e,recursionType:_a.AfterFilterAndSort,index:0,includeFooterNodes:r})},t.prototype.forEachPivotNode=function(e,r){void 0===r&&(r=!1),this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:_a.PivotNodes,index:0,includeFooterNodes:r})},t.prototype.recursivelyWalkNodesAndCallback=function(e){for(var r,n=e.nodes,i=e.callback,s=e.recursionType,a=e.includeFooterNodes,d=e.index,g=0;g<n.length;g++){var m=n[g];if(i(m,d++),m.hasChildren()&&!m.footer){var C=null;switch(s){case _a.Normal:C=m.childrenAfterGroup;break;case _a.AfterFilter:C=m.childrenAfterAggFilter;break;case _a.AfterFilterAndSort:C=m.childrenAfterSort;break;case _a.PivotNodes:C=m.leafGroup?null:m.childrenAfterSort}C&&(d=this.recursivelyWalkNodesAndCallback({nodes:tp([],ep(C)),callback:i,recursionType:s,index:d,includeFooterNodes:a}))}}var E=null===(r=n[0])||void 0===r?void 0:r.parent;if(!a||!E)return d;if(E===this.rootNode){if(!this.gridOptionsService.is("groupIncludeTotalFooter"))return d}else if(!this.gridOptionsService.getGroupIncludeFooter()({node:E}))return d;return E.createFooter(),i(E.sibling,d++),d},t.prototype.doAggregate=function(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doFilterAggregates=function(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},t.prototype.expandOrCollapseAll=function(e){var r=this.gridOptionsService.is("treeData"),n=this.columnModel.isPivotActive(),i=function(d){d&&d.forEach(function(g){var m=function(){g.expanded=e,i(g.childrenAfterGroup)};r?Vt.exists(g.childrenAfterGroup)&&m():n?!g.leafGroup&&m():g.group&&m()})};this.rootNode&&i(this.rootNode.childrenAfterGroup),this.refreshModel({step:Mr.MAP}),this.eventService.dispatchEvent({type:M.EVENT_EXPAND_COLLAPSE_ALL,source:e?"expandAll":"collapseAll"})},t.prototype.doSort=function(e,r){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:r})},t.prototype.doRowGrouping=function(e,r,n,i,s){this.groupStage?(r?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:r,rowNodeOrder:n,changedPath:i}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:i,afterColumnsChanged:s}),this.restoreGroupState(e)),this.gridOptionsService.is("groupSelectsChildren")&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",i)&&this.eventService.dispatchEvent({type:M.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"})):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren())},t.prototype.restoreGroupState=function(e){e&&Vt.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(r,n){"boolean"==typeof e[n]&&(r.expanded=e[n])})},t.prototype.doFilter=function(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doPivot=function(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsService.is("rememberGroupStateWhenNewData"))return null;var e={};return Vt.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(r,n){return e[n]=r.expanded}),e},t.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},t.prototype.getRowNode=function(e){if("string"==typeof e&&0==e.indexOf(er.ID_PREFIX_ROW_GROUP)){var n=void 0;return this.forEachNode(function(i){i.id===e&&(n=i)}),n}return this.nodeManager.getRowNode(e)},t.prototype.setRowData=function(e){var r=this.getGroupState();this.nodeManager.setRowData(e),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated"),this.eventService.dispatchEvent({type:M.EVENT_ROW_DATA_UPDATED}),this.refreshModel({step:Mr.EVERYTHING,groupState:r,newData:!0})},t.prototype.batchUpdateRowData=function(e,r){var n=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var i=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){n.executeBatchUpdateRowData()},i)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:r})},t.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},t.prototype.executeBatchUpdateRowData=function(){var e=this;this.valueCache.onDataChanged();var r=[],n=[],i=!1;this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(a){var d=e.nodeManager.updateRowData(a.rowDataTransaction,void 0);n.push(d),a.callback&&r.push(a.callback.bind(null,d)),"number"==typeof a.rowDataTransaction.addIndex&&(i=!0)}),this.commonUpdateRowData(n,void 0,i),r.length>0&&window.setTimeout(function(){r.forEach(function(a){return a()})},0),n.length>0&&this.eventService.dispatchEvent({type:M.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:n}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},t.prototype.updateRowData=function(e,r){this.valueCache.onDataChanged();var n=this.nodeManager.updateRowData(e,r);return this.commonUpdateRowData([n],r,"number"==typeof e.addIndex),n},t.prototype.createRowNodeOrder=function(){if(!this.gridOptionsService.is("suppressMaintainUnsortedOrder")){var r={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var n=0;n<this.rootNode.allLeafChildren.length;n++)r[this.rootNode.allLeafChildren[n].id]=n;return r}},t.prototype.commonUpdateRowData=function(e,r,n){var i=!this.gridOptionsService.is("suppressAnimationFrame");n&&(r=this.createRowNodeOrder()),this.refreshModel({step:Mr.EVERYTHING,rowNodeTransactions:e,rowNodeOrder:r,keepRenderedRows:!0,keepEditingRows:!0,animate:i}),this.filterManager.onNewRowsLoaded("rowDataUpdated"),this.eventService.dispatchEvent({type:M.EVENT_ROW_DATA_UPDATED})},t.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},t.prototype.onRowHeightChanged=function(){this.refreshModel({step:Mr.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})},t.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},t.prototype.resetRowHeights=function(){var e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()},t.prototype.resetRowHeightsForAllRowNodes=function(){var e=!1;return this.forEachNode(function(r){r.setRowHeight(r.rowHeight,!0);var n=r.detailNode;n&&n.setRowHeight(n.rowHeight,!0),r.sibling&&r.sibling.setRowHeight(r.sibling.rowHeight,!0),e=!0}),e},t.prototype.onGridStylesChanges=function(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()},eo([A("columnModel")],t.prototype,"columnModel",void 0),eo([A("selectionService")],t.prototype,"selectionService",void 0),eo([A("filterManager")],t.prototype,"filterManager",void 0),eo([A("valueCache")],t.prototype,"valueCache",void 0),eo([A("beans")],t.prototype,"beans",void 0),eo([A("filterStage")],t.prototype,"filterStage",void 0),eo([A("sortStage")],t.prototype,"sortStage",void 0),eo([A("flattenStage")],t.prototype,"flattenStage",void 0),eo([xt("groupStage")],t.prototype,"groupStage",void 0),eo([xt("aggregationStage")],t.prototype,"aggregationStage",void 0),eo([xt("pivotStage")],t.prototype,"pivotStage",void 0),eo([xt("filterAggregatesStage")],t.prototype,"filterAggregatesStage",void 0),eo([we],t.prototype,"init",null),eo([je("rowModel")],t)}(Le),ZC=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),_y=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},JC=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return ZC(t,o),t.prototype.execute=function(e){this.filterService.filter(e.changedPath)},_y([A("filterService")],t.prototype,"filterService",void 0),_y([je("filterStage")],t)}(Le),XC=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),xf=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},ew=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return XC(t,o),t.prototype.execute=function(e){var r=this,n=this.sortController.getSortOptions(),i=Vt.exists(n)&&n.length>0,s=i&&Vt.exists(e.rowNodeTransactions)&&this.gridOptionsService.is("deltaSort"),a=n.some(function(d){return r.gridOptionsService.isColumnsSortingCoupledToGroup()?d.column.isPrimary()&&d.column.isRowGroupActive():!!d.column.getColDef().showRowGroup});this.sortService.sort(n,i,s,e.rowNodeTransactions,e.changedPath,a)},xf([A("sortService")],t.prototype,"sortService",void 0),xf([A("sortController")],t.prototype,"sortController",void 0),xf([A("columnModel")],t.prototype,"columnModel",void 0),xf([je("sortStage")],t)}(Le),tw=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Yv=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},rw=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return tw(t,o),t.prototype.execute=function(e){var r=e.rowNode,n=[],i=this.columnModel.isPivotMode(),s=i&&r.leafGroup,a=s?[r]:r.childrenAfterSort,d=this.getFlattenDetails();return this.recursivelyAddToRowsToDisplay(d,a,n,i,0),!s&&n.length>0&&d.groupIncludeTotalFooter&&(r.createFooter(),this.addRowNodeToRowsToDisplay(d,r.sibling,n,0)),n},t.prototype.getFlattenDetails=function(){var e=this.gridOptionsService.is("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gridOptionsService.is("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:this.gridOptionsService.isGroupMultiAutoColumn(),hideOpenParents:this.gridOptionsService.is("groupHideOpenParents"),groupIncludeTotalFooter:this.gridOptionsService.is("groupIncludeTotalFooter"),getGroupIncludeFooter:this.gridOptionsService.getGroupIncludeFooter()}},t.prototype.recursivelyAddToRowsToDisplay=function(e,r,n,i,s){if(!Vt.missingOrEmpty(r))for(var a=0;a<r.length;a++){var d=r[a],g=d.hasChildren(),C=e.groupRemoveSingleChildren&&g&&1===d.childrenAfterGroup.length,E=e.groupRemoveLowestSingleChildren&&g&&d.leafGroup&&1===d.childrenAfterGroup.length;if(!(i&&!g||e.hideOpenParents&&d.expanded&&!d.master&&(!i||!d.leafGroup)||C||E)&&this.addRowNodeToRowsToDisplay(e,d,n,s),!i||!d.leafGroup)if(g){var ee=C||E;if(d.expanded||ee){var se=ee?s:s+1;this.recursivelyAddToRowsToDisplay(e,d.childrenAfterSort,n,i,se),e.getGroupIncludeFooter({node:d})?(d.createFooter(),this.addRowNodeToRowsToDisplay(e,d.sibling,n,se)):d.destroyFooter()}}else if(d.master&&d.expanded){var Te=this.createDetailNode(d);this.addRowNodeToRowsToDisplay(e,Te,n,s)}}},t.prototype.addRowNodeToRowsToDisplay=function(e,r,n,i){n.push(r),r.setUiLevel(e.isGroupMultiAutoColumn?0:i)},t.prototype.createDetailNode=function(e){if(Vt.exists(e.detailNode))return e.detailNode;var r=new er(this.beans);return r.detail=!0,r.selectable=!1,r.parent=e,Vt.exists(e.id)&&(r.id="detail_"+e.id),r.data=e.data,r.level=e.level+1,e.detailNode=r,r},Yv([A("columnModel")],t.prototype,"columnModel",void 0),Yv([A("beans")],t.prototype,"beans",void 0),Yv([je("flattenStage")],t)}(Le),nw=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Of=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},iw=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return nw(t,o),t.prototype.init=function(){this.postSortFunc=this.gridOptionsService.getCallback("postSortRows")},t.prototype.sort=function(e,r,n,i,s,a){var d=this,g=this.gridOptionsService.is("groupMaintainOrder"),m=this.columnModel.getAllGridColumns().some(function(L){return L.isRowGroupActive()}),C={};n&&i&&(C=this.calculateDirtyNodes(i));var E=this.columnModel.isPivotMode();s&&s.forEachChangedNodeDepthFirst(function(L){d.pullDownGroupDataForHideOpenParents(L.childrenAfterAggFilter,!0);var j=E&&L.leafGroup;if(g&&m&&!L.leafGroup&&!a){var se=L.childrenAfterAggFilter.slice(0);if(L.childrenAfterSort){var fe={};L.childrenAfterSort.forEach(function(ke,St){fe[ke.id]=St}),se.sort(function(ke,St){var _t,Gt;return(null!==(_t=fe[ke.id])&&void 0!==_t?_t:0)-(null!==(Gt=fe[St.id])&&void 0!==Gt?Gt:0)})}L.childrenAfterSort=se}else L.childrenAfterSort=!r||j?L.childrenAfterAggFilter.slice(0):n?d.doDeltaSort(L,C,s,e):d.rowNodeSorter.doFullSort(L.childrenAfterAggFilter,e);L.sibling&&(L.sibling.childrenAfterSort=L.childrenAfterSort),d.updateChildIndexes(L),d.postSortFunc&&d.postSortFunc({nodes:L.childrenAfterSort})}),this.updateGroupDataForHideOpenParents(s)},t.prototype.calculateDirtyNodes=function(e){var r={},n=function(i){i&&i.forEach(function(s){return r[s.id]=!0})};return e&&e.forEach(function(i){n(i.add),n(i.update),n(i.remove)}),r},t.prototype.doDeltaSort=function(e,r,n,i){var s=this,a=e.childrenAfterAggFilter,d=e.childrenAfterSort;if(!d)return this.rowNodeSorter.doFullSort(a,i);var g={},m=[];a.forEach(function(L){r[L.id]||!n.canSkip(L)?m.push(L):g[L.id]=!0});var C=d.filter(function(L){return g[L.id]}),E=function(L,j){return{currentPos:j,rowNode:L}},b=m.map(E).sort(function(L,j){return s.rowNodeSorter.compareRowNodes(i,L,j)});return this.mergeSortedArrays(i,b,C.map(E)).map(function(L){return L.rowNode})},t.prototype.mergeSortedArrays=function(e,r,n){for(var i=[],s=0,a=0;s<r.length&&a<n.length;){var d=this.rowNodeSorter.compareRowNodes(e,r[s],n[a]);i.push(d<0?r[s++]:n[a++])}for(;s<r.length;)i.push(r[s++]);for(;a<n.length;)i.push(n[a++]);return i},t.prototype.updateChildIndexes=function(e){if(!Vt.missing(e.childrenAfterSort))for(var r=e.childrenAfterSort,n=0;n<r.length;n++){var i=r[n],a=n===e.childrenAfterSort.length-1;i.setFirstChild(0===n),i.setLastChild(a),i.setChildIndex(n)}},t.prototype.updateGroupDataForHideOpenParents=function(e){var r=this;if(this.gridOptionsService.is("groupHideOpenParents")){if(this.gridOptionsService.is("treeData"))return Vt.doOnce(function(){return console.warn("AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).")},"sortService.hideOpenParentsWithTreeData"),!1;var i=function(s){r.pullDownGroupDataForHideOpenParents(s.childrenAfterSort,!1),s.childrenAfterSort.forEach(function(a){a.hasChildren()&&i(a)})};e&&e.executeFromRootNode(function(s){return i(s)})}},t.prototype.pullDownGroupDataForHideOpenParents=function(e,r){var n=this;!this.gridOptionsService.is("groupHideOpenParents")||Vt.missing(e)||e.forEach(function(i){n.columnModel.getGroupDisplayColumns().forEach(function(a){var d=a.getColDef().showRowGroup;if("string"==typeof d){var m=n.columnModel.getPrimaryColumn(d);if(m!==i.rowGroupColumn)if(r)i.setGroupValue(a.getId(),void 0);else{var E=i.getFirstChildOfFirstChild(m);E&&i.setGroupValue(a.getId(),E.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")})})},Of([A("columnModel")],t.prototype,"columnModel",void 0),Of([A("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),Of([we],t.prototype,"init",null),Of([je("sortService")],t)}(Le),ow=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ey=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},sw=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return ow(t,o),t.prototype.filter=function(e){var r=this.filterManager.isChildFilterPresent();this.filterNodes(r,e)},t.prototype.filterNodes=function(e,r){var n=this,i=function(g,m){g.childrenAfterFilter=g.hasChildren()&&e&&!m?g.childrenAfterGroup.filter(function(C){var E=C.childrenAfterFilter&&C.childrenAfterFilter.length>0,b=C.data&&n.filterManager.doesRowPassFilter({rowNode:C});return E||b}):g.childrenAfterGroup,g.sibling&&(g.sibling.childrenAfterFilter=g.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var s=function(g,m){if(g.childrenAfterGroup)for(var C=0;C<g.childrenAfterGroup.length;C++){var E=g.childrenAfterGroup[C],b=m||n.filterManager.doesRowPassFilter({rowNode:E});E.childrenAfterGroup?s(g.childrenAfterGroup[C],b):i(E,b)}i(g,m)};r.executeFromRootNode(function(g){return s(g,!1)})}else r.forEachChangedNodeDepthFirst(function(g){return i(g,!1)},!0)},t.prototype.doingTreeDataFiltering=function(){return this.gridOptionsService.is("treeData")&&!this.gridOptionsService.is("excludeChildrenWhenTreeDataFiltering")},Ey([A("filterManager")],t.prototype,"filterManager",void 0),Ey([je("filterService")],t)}(Le),aw=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Tf=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},uw=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return aw(t,o),t.prototype.postConstruct=function(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)},t.prototype.isActive=function(){var e=this.gridOptionsService.exists("getRowId");return!this.gridOptionsService.is("resetRowDataOnUpdate")&&e},t.prototype.setRowData=function(e){var r=this.createTransactionForRowData(e);if(r){var n=function(o,t){var e="function"==typeof Symbol&&o[Symbol.iterator];if(!e)return o;var n,s,r=e.call(o),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(s)throw s.error}}return i}(r,2);this.clientSideRowModel.updateRowData(n[0],n[1])}},t.prototype.createTransactionForRowData=function(e){if(Vt.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var r=this.gridOptionsService.getCallback("getRowId");if(null!=r){var n={remove:[],update:[],add:[]},i=this.clientSideRowModel.getCopyOfNodesMap(),a=this.gridOptionsService.is("suppressMaintainUnsortedOrder")?void 0:{};return Vt.exists(e)&&e.forEach(function(d,g){var m=r({data:d,level:0}),C=i[m];a&&(a[m]=g),C?(C.data!==d&&n.update.push(d),i[m]=void 0):n.add.push(d)}),Vt.iterateObject(i,function(d,g){g&&n.remove.push(g.data)}),[n,a]}console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!")}},Tf([A("rowModel")],t.prototype,"rowModel",void 0),Tf([A("rowRenderer")],t.prototype,"rowRenderer",void 0),Tf([we],t.prototype,"postConstruct",null),Tf([je("immutableService")],t)}(Le),dw={version:"30.2.1",moduleName:Re.ClientSideRowModelModule,rowModel:"clientSide",beans:[qC,JC,ew,rw,iw,sw,uw]},pw=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),$v=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Ry=function(o){function t(e,r,n){var i=o.call(this,e)||this;return i.parentCache=r,i.params=n,i.startRow=e*n.blockSize,i.endRow=i.startRow+n.blockSize,i}return pw(t,o),t.prototype.postConstruct=function(){this.createRowNodes()},t.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},t.prototype.setDataAndId=function(e,r,n){Vt.exists(r)?e.setDataAndId(r,n.toString()):e.setDataAndId(void 0,void 0)},t.prototype.loadFromDatasource=function(){var e=this,r=this.createLoadParams();Vt.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(function(){e.params.datasource.getRows(r)},0)},t.prototype.processServerFail=function(){},t.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsService.context}},t.prototype.forEachNode=function(e,r,n){var i=this;this.rowNodes.forEach(function(s,a){i.startRow+a<n&&e(s,r.next())})},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRow=function(e,r){return void 0===r&&(r=!1),r||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[e-this.startRow]},t.prototype.getStartRow=function(){return this.startRow},t.prototype.getEndRow=function(){return this.endRow},t.prototype.createRowNodes=function(){this.rowNodes=[];for(var e=0;e<this.params.blockSize;e++){var r=this.startRow+e,n=new er(this.beans);n.setRowHeight(this.params.rowHeight),n.uiLevel=0,n.setRowIndex(r),n.setRowTop(this.params.rowHeight*r),this.rowNodes.push(n)}},t.prototype.processServerResult=function(e){var r=this;this.rowNodes.forEach(function(i,s){var a=e.rowData?e.rowData[s]:void 0;!i.id&&i.alreadyRendered&&a&&(r.rowNodes[s]=new er(r.beans),r.rowNodes[s].setRowIndex(i.rowIndex),r.rowNodes[s].setRowTop(i.rowTop),r.rowNodes[s].setRowHeight(i.rowHeight),i.clearRowTopAndRowIndex()),r.setDataAndId(r.rowNodes[s],a,r.startRow+s)}),this.parentCache.pageLoaded(this,null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0)},t.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(e){e.clearRowTopAndRowIndex()})},$v([A("beans")],t.prototype,"beans",void 0),$v([we],t.prototype,"postConstruct",null),$v([yr],t.prototype,"destroyRowNodes",null),t}(Vd),fw=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),bf=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},hw=function(o,t){return function(e,r){t(e,r,o)}},gw=function(o){function t(e){var r=o.call(this)||this;return r.lastRowIndexKnown=!1,r.blocks={},r.blockCount=0,r.rowCount=e.initialRowCount,r.params=e,r}return fw(t,o),t.prototype.setBeans=function(e){this.logger=e.create("InfiniteCache")},t.prototype.getRow=function(e,r){void 0===r&&(r=!1);var n=Math.floor(e/this.params.blockSize),i=this.blocks[n];if(!i){if(r)return;i=this.createBlock(n)}return i.getRow(e)},t.prototype.createBlock=function(e){var r=this.createBean(new Ry(e,this,this.params));return this.blocks[r.getId()]=r,this.blockCount++,this.purgeBlocksIfNeeded(r),this.params.rowNodeBlockLoader.addBlock(r),r},t.prototype.refreshCache=function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach(function(r){return r.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad())},t.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach(function(r){return e.destroyBlock(r)})},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},t.prototype.pageLoaded=function(e,r){this.isAlive()&&(this.logger.log("onPageLoaded: page = "+e.getId()+", lastRow = "+r),this.checkRowCount(e,r),this.onCacheUpdated())},t.prototype.purgeBlocksIfNeeded=function(e){var r=this,n=this.getBlocksInOrder().filter(function(g){return g!=e});n.sort(function(g,m){return m.getLastAccessed()-g.getLastAccessed()});var s=this.params.maxBlocksInCache>0,a=s?this.params.maxBlocksInCache-1:null,d=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;n.forEach(function(g,m){if(g.getState()===Ry.STATE_WAITING_TO_LOAD&&m>=d||s&&m>=a){if(r.isBlockCurrentlyDisplayed(g)||r.isBlockFocused(g))return;r.removeBlockFromCache(g)}})},t.prototype.isBlockFocused=function(e){var r=this.focusService.getFocusCellToUseAfterRefresh();if(!r||null!=r.rowPinned)return!1;var n=e.getStartRow(),i=e.getEndRow();return r.rowIndex>=n&&r.rowIndex<i},t.prototype.isBlockCurrentlyDisplayed=function(e){var r=e.getStartRow(),n=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(r,n)},t.prototype.removeBlockFromCache=function(e){e&&this.destroyBlock(e)},t.prototype.checkRowCount=function(e,r){if("number"==typeof r&&r>=0)this.rowCount=r,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var i=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<i&&(this.rowCount=i)}},t.prototype.setRowCount=function(e,r){this.rowCount=e,Vt.exists(r)&&(this.lastRowIndexKnown=r),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()},t.prototype.forEachNodeDeep=function(e){var r=this,n=new Xn;this.getBlocksInOrder().forEach(function(i){return i.forEachNode(e,n,r.rowCount)})},t.prototype.getBlocksInOrder=function(){return Vt.getAllValuesInObject(this.blocks).sort(function(n,i){return n.getId()-i.getId()})},t.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)},t.prototype.onCacheUpdated=function(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:M.EVENT_STORE_UPDATED}))},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,r=[];this.getBlocksInOrder().forEach(function(n){n.getId()*e.params.blockSize>=e.rowCount&&r.push(n)}),r.length>0&&r.forEach(function(n){return e.destroyBlock(n)})},t.prototype.purgeCache=function(){var e=this;this.getBlocksInOrder().forEach(function(r){return e.removeBlockFromCache(r)}),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},t.prototype.getRowNodesInRange=function(e,r){var n=this,i=[],s=-1,a=!1,d=new Xn;Vt.missing(e)&&(a=!0);var g=!1;return this.getBlocksInOrder().forEach(function(C){if(!g){if(a&&s+1!==C.getId())return void(g=!0);s=C.getId(),C.forEachNode(function(E){var b=E===e||E===r;(a||b)&&i.push(E),b&&(a=!a)},d,n.rowCount)}}),g||a?[]:i},t.MAX_EMPTY_BLOCKS_TO_KEEP=2,bf([A("rowRenderer")],t.prototype,"rowRenderer",void 0),bf([A("focusService")],t.prototype,"focusService",void 0),bf([hw(0,Sr("loggerFactory"))],t.prototype,"setBeans",null),bf([yr],t.prototype,"destroyAllBlocks",null),t}(Le),vw=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ll=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},yw=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return vw(t,o),t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.ensureRowHeightsValid=function(e,r,n,i){return!1},t.prototype.init=function(){var e=this;this.gridOptionsService.isRowModelType("infinite")&&(this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return e.destroyCache()}),this.verifyProps())},t.prototype.verifyProps=function(){this.gridOptionsService.exists("initialGroupOrderComparator")&&Vt.doOnce(function(){return console.warn("AG Grid: initialGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.")},"IRM.InitialGroupOrderComparator")},t.prototype.start=function(){this.setDatasource(this.gridOptionsService.get("datasource"))},t.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,M.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,M.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,M.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},t.prototype.onFilterChanged=function(){this.reset()},t.prototype.onSortChanged=function(){this.reset()},t.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},t.prototype.isSortModelDifferent=function(){return!Vt.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},t.prototype.getType=function(){return"infinite"},t.prototype.setDatasource=function(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()},t.prototype.isEmpty=function(){return!this.infiniteCache},t.prototype.isRowsToRender=function(){return!!this.infiniteCache},t.prototype.getNodesInRangeForSelection=function(e,r){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,r):[]},t.prototype.reset=function(){if(this.datasource){null!=this.gridOptionsService.getCallback("getRowId")||this.selectionService.reset(),this.resetCache();var n=this.createModelUpdatedEvent();this.eventService.dispatchEvent(n)}},t.prototype.createModelUpdatedEvent=function(){return{type:M.EVENT_MODEL_UPDATED,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},t.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsService.getNum("infiniteInitialRowCount"),1),maxBlocksInCache:this.gridOptionsService.getNum("maxBlocksInCache"),rowHeight:this.gridOptionsService.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsService.getNum("cacheOverflowSize"),1),blockSize:this.defaultIfInvalid(this.gridOptionsService.getNum("cacheBlockSize"),100),lastAccessedSequence:new Xn},this.infiniteCache=this.createBean(new gw(this.cacheParams))},t.prototype.defaultIfInvalid=function(e,r){return e>0?e:r},t.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},t.prototype.onCacheUpdated=function(){var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.getRow=function(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)},t.prototype.getRowNode=function(e){var r;return this.forEachNode(function(n){n.id===e&&(r=n)}),r},t.prototype.forEachNode=function(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.getRowIndexAtPixel=function(e){if(0!==this.rowHeight){var r=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return r>n?n:r}return 0},t.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},t.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},t.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},t.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},t.prototype.setRowCount=function(e,r){this.infiniteCache&&this.infiniteCache.setRowCount(e,r)},ll([A("filterManager")],t.prototype,"filterManager",void 0),ll([A("sortController")],t.prototype,"sortController",void 0),ll([A("selectionService")],t.prototype,"selectionService",void 0),ll([A("rowRenderer")],t.prototype,"rowRenderer",void 0),ll([A("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),ll([we],t.prototype,"init",null),ll([yr],t.prototype,"destroyDatasource",null),ll([je("rowModel")],t)}(Le),Cw={version:"30.2.1",moduleName:Re.InfiniteRowModelModule,rowModel:"infinite",beans:[yw]},ww=function(){function o(){}return o.prototype.setBeans=function(t){this.beans=t},o.prototype.getFileName=function(t){var e=this.getDefaultFileExtension();return(null==t||!t.length)&&(t=this.getDefaultFileName()),-1===t.indexOf(".")?t+"."+e:t},o.prototype.getData=function(t){var e=this.createSerializingSession(t);return this.beans.gridSerializer.serialize(e,t)},o}(),Sw=function(){function o(t){this.groupColumns=[];var r=t.valueService,n=t.gridOptionsService,i=t.valueFormatterService,s=t.valueParserService,a=t.processCellCallback,d=t.processHeaderCallback,g=t.processGroupHeaderCallback,m=t.processRowGroupCallback;this.columnModel=t.columnModel,this.valueService=r,this.gridOptionsService=n,this.valueFormatterService=i,this.valueParserService=s,this.processCellCallback=a,this.processHeaderCallback=d,this.processGroupHeaderCallback=g,this.processRowGroupCallback=m}return o.prototype.prepare=function(t){this.groupColumns=t.filter(function(e){return!!e.getColDef().showRowGroup})},o.prototype.extractHeaderValue=function(t){return this.getHeaderName(this.processHeaderCallback,t)??""},o.prototype.extractRowCellValue=function(t,e,r,n,i){var a=this.gridOptionsService.is("groupHideOpenParents")&&!i.footer||!this.shouldRenderGroupSummaryCell(i,t,e)?this.valueService.getValue(t,i):this.createValueForGroupNode(i);return this.processCell({accumulatedRowIndex:r,rowNode:i,column:t,value:a,processCellCallback:this.processCellCallback,type:n})},o.prototype.shouldRenderGroupSummaryCell=function(t,e,r){var n;if(!t||!t.group)return!1;if(-1!==this.groupColumns.indexOf(e)){if(null!=(null===(n=t.groupData)||void 0===n?void 0:n[e.getId()])||this.gridOptionsService.isRowModelType("serverSide")&&t.group)return!0;if(t.footer&&-1===t.level){var a=e.getColDef();return null==a||!0===a.showRowGroup||a.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}var g=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return 0===r&&g},o.prototype.getHeaderName=function(t,e){return t?t({column:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):this.columnModel.getDisplayNameForColumn(e,"csv",!0)},o.prototype.createValueForGroupNode=function(t){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context});var e=t.footer,r=[t.key];if(!this.gridOptionsService.isGroupMultiAutoColumn())for(;t.parent;)r.push((t=t.parent).key);var n=r.reverse().join(" -> ");return e?"Total "+n:n},o.prototype.processCell=function(t){var r,e=this,i=t.rowNode,s=t.column,a=t.value,d=t.processCellCallback;return d?{value:null!==(r=d({accumulatedRowIndex:t.accumulatedRowIndex,column:s,node:i,value:a,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,type:t.type,parseValue:function(m){return e.valueParserService.parseValue(s,i,m,e.valueService.getValue(s,i))},formatValue:function(m){var C;return null!==(C=e.valueFormatterService.formatValue(s,i,m))&&void 0!==C?C:m}}))&&void 0!==r?r:""}:s.getColDef().useValueFormatterForExport?{value:a??"",valueFormatted:this.valueFormatterService.formatValue(s,i,a)}:{value:a??""}},o}(),_w=function(){function o(){}return o.download=function(t,e){var r=document.defaultView||window;if(r){var n=document.createElement("a"),i=r.URL.createObjectURL(e);n.setAttribute("href",i),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:r})),document.body.removeChild(n),r.setTimeout(function(){r.URL.revokeObjectURL(i)},0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},o}(),Ew=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Rw=function(o){function t(e){var r=o.call(this,e)||this;r.isFirstLine=!0,r.result="";var i=e.columnSeparator;return r.suppressQuotes=e.suppressQuotes,r.columnSeparator=i,r}return Ew(t,o),t.prototype.addCustomContent=function(e){var r=this;e&&("string"==typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach(function(n){r.beginNewLine(),n.forEach(function(i,s){0!==s&&(r.result+=r.columnSeparator),r.result+=r.putInQuotes(i.data.value||""),i.mergeAcross&&r.appendEmptyCells(i.mergeAcross)})}))},t.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},t.prototype.onNewHeaderGroupingRowColumn=function(e,r,n,i){0!=n&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(r),this.appendEmptyCells(i)},t.prototype.appendEmptyCells=function(e){for(var r=1;r<=e;r++)this.result+=this.columnSeparator+this.putInQuotes("")},t.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},t.prototype.onNewHeaderRowColumn=function(e,r){0!=r&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},t.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},t.prototype.onNewBodyRowColumn=function(e,r,n){var i;0!=r&&(this.result+=this.columnSeparator);var s=this.extractRowCellValue(e,r,r,"csv",n);this.result+=this.putInQuotes(null!==(i=s.valueFormatted)&&void 0!==i?i:s.value)},t.prototype.putInQuotes=function(e){return this.suppressQuotes?e:null==e?'""':("string"==typeof e?r=e:"function"==typeof e.toString?r=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),r=""),'"'+r.replace(/"/g,'""')+'"');var r},t.prototype.parse=function(){return this.result},t.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},t}(Sw),Aw=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ul=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Dw=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return Aw(t,o),t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},t.prototype.getMergedParams=function(e){var r=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},r,e)},t.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var r=this.getMergedParams(e),n=this.getData(r),i=new Blob(["\ufeff",n],{type:"text/plain"});return _w.download(this.getFileName(r.fileName),i),n},t.prototype.exportDataAsCsv=function(e){return this.export(e)},t.prototype.getDataAsCsv=function(e,r){void 0===r&&(r=!1);var n=r?Object.assign({},e):this.getMergedParams(e);return this.getData(n)},t.prototype.getDefaultFileName=function(){return"export.csv"},t.prototype.getDefaultFileExtension=function(){return"csv"},t.prototype.createSerializingSession=function(e){var r=this;return new Rw({columnModel:r.columnModel,valueService:r.valueService,gridOptionsService:r.gridOptionsService,valueFormatterService:r.valueFormatterService,valueParserService:r.valueParserService,processCellCallback:e.processCellCallback||void 0,processHeaderCallback:e.processHeaderCallback||void 0,processGroupHeaderCallback:e.processGroupHeaderCallback||void 0,processRowGroupCallback:e.processRowGroupCallback||void 0,suppressQuotes:e.suppressQuotes||!1,columnSeparator:e.columnSeparator||","})},t.prototype.isExportSuppressed=function(){return this.gridOptionsService.is("suppressCsvExport")},ul([A("columnModel")],t.prototype,"columnModel",void 0),ul([A("valueService")],t.prototype,"valueService",void 0),ul([A("gridSerializer")],t.prototype,"gridSerializer",void 0),ul([A("gridOptionsService")],t.prototype,"gridOptionsService",void 0),ul([A("valueFormatterService")],t.prototype,"valueFormatterService",void 0),ul([A("valueParserService")],t.prototype,"valueParserService",void 0),ul([we],t.prototype,"postConstruct",null),ul([je("csvCreator")],t)}(ww),xw=function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),cl=function(o,t,e,r){var s,n=arguments.length,i=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(o,t,e,r);else for(var a=o.length-1;a>=0;a--)(s=o[a])&&(i=(n<3?s(i):n>3?s(t,e,i):s(t,e))||i);return n>3&&i&&Object.defineProperty(t,e,i),i},Tw=function(o){function t(){return null!==o&&o.apply(this,arguments)||this}return xw(t,o),t.prototype.serialize=function(e,r){void 0===r&&(r={});var n=this.getColumnsToExport(r.allColumns,r.columnKeys);return Vt.compose(this.prepareSession(n),this.prependContent(r),this.exportColumnGroups(r,n),this.exportHeaders(r,n),this.processPinnedTopRows(r,n),this.processRows(r,n),this.processPinnedBottomRows(r,n),this.appendContent(r))(e).parse()},t.prototype.processRow=function(e,r,n,i){var s=r.shouldRowBeSkipped||function(){return!1},a=this.gridOptionsService.context,d=this.gridOptionsService.api,g=this.gridOptionsService.columnApi,m=this.gridOptionsService.is("groupRemoveSingleChildren"),C=this.gridOptionsService.is("groupRemoveLowestSingleChildren"),b=null!=r.rowPositions||!!r.onlySelected,L=this.gridOptionsService.is("groupHideOpenParents")&&!b,j=this.columnModel.isPivotMode()?i.leafGroup:!i.group,ee=!!i.footer,Te=1===i.allChildrenCount&&(m||C&&i.leafGroup);if((r.skipGroups||r.skipRowGroups)&&r.skipGroups&&Vt.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups"),!(!j&&!ee&&(r.skipRowGroups||Te||L)||r.onlySelected&&!i.isSelected()||r.skipPinnedTop&&"top"===i.rowPinned||r.skipPinnedBottom&&"bottom"===i.rowPinned)&&(-1!==i.level||j||ee)&&!s({node:i,api:d,columnApi:g,context:a})){var _t=e.onNewBodyRow(i);if(n.forEach(function(gt,Tt){_t.onColumn(gt,Tt,i)}),r.getCustomContentBelowRow){var Gt=r.getCustomContentBelowRow({node:i,api:d,columnApi:g,context:a});Gt&&e.addCustomContent(Gt)}}},t.prototype.appendContent=function(e){return function(r){var n=e.customFooter||e.appendContent;return n&&(e.customFooter&&Vt.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),r.addCustomContent(n)),r}},t.prototype.prependContent=function(e){return function(r){var n=e.customHeader||e.prependContent;return n&&(e.customHeader&&Vt.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),r.addCustomContent(n)),r}},t.prototype.prepareSession=function(e){return function(r){return r.prepare(e),r}},t.prototype.exportColumnGroups=function(e,r){var n=this;return function(i){if(e.skipColumnGroupHeaders)e.columnGroups&&Vt.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var s=new jn,a=n.displayedGroupCreator.createDisplayedGroups(r,s,null);n.recursivelyAddHeaderGroups(a,i,e.processGroupHeaderCallback)}return i}},t.prototype.exportHeaders=function(e,r){return function(n){if(e.skipHeader||e.skipColumnHeaders)e.skipHeader&&Vt.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");else{var i=n.onNewHeaderRow();r.forEach(function(s,a){i.onColumn(s,a,void 0)})}return n}},t.prototype.processPinnedTopRows=function(e,r){var n=this;return function(i){var s=n.processRow.bind(n,i,e,r);return e.rowPositions?e.rowPositions.filter(function(a){return"top"===a.rowPinned}).sort(function(a,d){return a.rowIndex-d.rowIndex}).map(function(a){return n.pinnedRowModel.getPinnedTopRow(a.rowIndex)}).forEach(s):n.pinnedRowModel.forEachPinnedTopRow(s),i}},t.prototype.processRows=function(e,r){var n=this;return function(i){var s=n.rowModel,a=s.getType(),d="clientSide"===a,g="serverSide"===a,m=!d&&e.onlySelected,C=n.processRow.bind(n,i,e,r),E=e.exportedRows,b=void 0===E?"filteredAndSorted":E;if(e.rowPositions)e.rowPositions.filter(function(j){return null==j.rowPinned}).sort(function(j,ee){return j.rowIndex-ee.rowIndex}).map(function(j){return s.getRow(j.rowIndex)}).forEach(C);else if(n.columnModel.isPivotMode())d?s.forEachPivotNode(C,!0):g?s.forEachNodeAfterFilterAndSort(C,!0):s.forEachNode(C);else if(e.onlySelectedAllPages||m){var L=n.selectionService.getSelectedNodes();n.replicateSortedOrder(L),L.forEach(C)}else"all"===b?s.forEachNode(C):d||g?s.forEachNodeAfterFilterAndSort(C,!0):s.forEachNode(C);return i}},t.prototype.replicateSortedOrder=function(e){var r=this,n=this.sortController.getSortOptions(),i=function(s,a){var d,g,m,C;return null!=s.rowIndex&&null!=a.rowIndex?s.rowIndex-a.rowIndex:s.level===a.level?(null===(d=s.parent)||void 0===d?void 0:d.id)===(null===(g=a.parent)||void 0===g?void 0:g.id)?r.rowNodeSorter.compareRowNodes(n,{rowNode:s,currentPos:null!==(m=s.rowIndex)&&void 0!==m?m:-1},{rowNode:a,currentPos:null!==(C=a.rowIndex)&&void 0!==C?C:-1}):i(s.parent,a.parent):s.level>a.level?i(s.parent,a):i(s,a.parent)};e.sort(i)},t.prototype.processPinnedBottomRows=function(e,r){var n=this;return function(i){var s=n.processRow.bind(n,i,e,r);return e.rowPositions?e.rowPositions.filter(function(a){return"bottom"===a.rowPinned}).sort(function(a,d){return a.rowIndex-d.rowIndex}).map(function(a){return n.pinnedRowModel.getPinnedBottomRow(a.rowIndex)}).forEach(s):n.pinnedRowModel.forEachPinnedBottomRow(s),i}},t.prototype.getColumnsToExport=function(e,r){void 0===e&&(e=!1);var n=this.columnModel.isPivotMode();return r&&r.length?this.columnModel.getGridColumns(r):e&&!n?(this.gridOptionsService.is("treeData")?this.columnModel.getGridColumns([Bi]):[]).concat(this.columnModel.getAllGridColumns()||[]):this.columnModel.getAllDisplayedColumns()},t.prototype.recursivelyAddHeaderGroups=function(e,r,n){var i=[];e.forEach(function(s){s.getChildren&&s.getChildren().forEach(function(d){return i.push(d)})}),e.length>0&&e[0]instanceof Gr&&this.doAddHeaderHeader(r,e,n),i&&i.length>0&&this.recursivelyAddHeaderGroups(i,r,n)},t.prototype.doAddHeaderHeader=function(e,r,n){var i=this,s=e.onNewHeaderGroupingRow(),a=0;r.forEach(function(d){var m,g=d;m=n?n({columnGroup:g,api:i.gridOptionsService.api,columnApi:i.gridOptionsService.columnApi,context:i.gridOptionsService.context}):i.columnModel.getDisplayNameForColumnGroup(g,"header");var C=g.getLeafColumns().reduce(function(E,b,L,j){var ee=Vt.last(E);return"open"===b.getColumnGroupShow()?(!ee||null!=ee[1])&&E.push(ee=[L]):ee&&null==ee[1]&&(ee[1]=L-1),L===j.length-1&&ee&&null==ee[1]&&(ee[1]=L),E},[]);s.onColumn(g,m||"",a++,g.getLeafColumns().length-1,C)})},cl([A("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),cl([A("columnModel")],t.prototype,"columnModel",void 0),cl([A("rowModel")],t.prototype,"rowModel",void 0),cl([A("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),cl([A("selectionService")],t.prototype,"selectionService",void 0),cl([A("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),cl([A("sortController")],t.prototype,"sortController",void 0),cl([je("gridSerializer")],t)}(Le),Pw={version:"30.2.1",moduleName:Re.CsvExportModule,beans:[Dw,Tw]},Mw=(function(){function o(){}o.createHeader=function(t){void 0===t&&(t={});var n=["version"];return t.version||(t.version="1.0"),t.encoding&&n.push("encoding"),t.standalone&&n.push("standalone"),"<?xml "+n.map(function(s){return s+'="'+t[s]+'"'}).join(" ")+" ?>"},o.createXml=function(t,e){var r=this,n="";t.properties&&(t.properties.prefixedAttributes&&t.properties.prefixedAttributes.forEach(function(s){Object.keys(s.map).forEach(function(a){n+=r.returnAttributeIfPopulated(s.prefix+a,s.map[a],e)})}),t.properties.rawMap&&Object.keys(t.properties.rawMap).forEach(function(s){n+=r.returnAttributeIfPopulated(s,t.properties.rawMap[s],e)}));var i="<"+t.name+n;return t.children||null!=t.textNode?null!=t.textNode?i+">"+t.textNode+"</"+t.name+">\r\n":(i+=">\r\n",t.children&&t.children.forEach(function(s){i+=r.createXml(s,e)}),i+"</"+t.name+">\r\n"):i+"/>\r\n"},o.returnAttributeIfPopulated=function(t,e,r){if(!e&&""!==e&&0!==e)return"";var n=e;return"boolean"==typeof e&&r&&(n=r(e))," "+t+'="'+n+'"'}}(),new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]));!function(){function o(){}o.addFolders=function(t){t.forEach(this.addFolder.bind(this))},o.addFolder=function(t){this.folders.push({path:t,created:new Date,isBase64:!1})},o.addFile=function(t,e,r){void 0===r&&(r=!1),this.files.push({path:t,created:new Date,content:e,isBase64:r})},o.getContent=function(t){void 0===t&&(t="application/zip");var e=this.buildFileStream(),r=this.buildUint8Array(e);return this.clearStream(),new Blob([r],{type:t})},o.clearStream=function(){this.folders=[],this.files=[]},o.buildFileStream=function(t){var e,r;void 0===t&&(t="");var n=this.folders.concat(this.files),i=n.length,s="",a=0,d=0;try{for(var g=function(o){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&o[t],r=0;if(e)return e.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&r>=o.length&&(o=void 0),{value:o&&o[r++],done:!o}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),m=g.next();!m.done;m=g.next()){var E=this.getHeader(m.value,a),b=E.fileHeader,L=E.folderHeader,j=E.content;a+=b.length+j.length,d+=L.length,t+=b+j,s+=L}}catch(se){e={error:se}}finally{try{m&&!m.done&&(r=g.return)&&r.call(g)}finally{if(e)throw e.error}}return t+s+this.buildFolderEnd(i,d,a)},o.getHeader=function(t,e){var r=t.content,n=t.path,i=t.created,s=t.isBase64,d=Vt.decToHex,g=(0,Vt.utf8_encode)(n),m=g!==n,C=this.convertTime(i),E=this.convertDate(i),b="";if(m){var L=d(1,1)+d(this.getFromCrc32Table(g),4)+g;b="up"+d(L.length,2)+L}var j=r?this.getConvertedContent(r,s):{size:0,content:""},ee=j.size,se=j.content,fe="\n\0"+(m?"\0\b":"\0\0")+"\0\0"+d(C,2)+d(E,2)+d(ee?this.getFromCrc32Table(se):0,4)+d(ee,4)+d(ee,4)+d(g.length,2)+d(b.length,2);return{fileHeader:"PK\x03\x04"+fe+g+b,folderHeader:"PK\x01\x02\x14\0"+fe+"\0\0\0\0\0\0"+(r?"\0\0\0\0":"\x10\0\0\0")+d(e,4)+g+b,content:se||""}},o.getConvertedContent=function(t,e){return void 0===e&&(e=!1),e&&(t=t.split(";base64,")[1]),{size:(t=e?atob(t):t).length,content:t}},o.buildFolderEnd=function(t,e,r){var n=Vt.decToHex;return"PK\x05\x06\0\0\0\0"+n(t,2)+n(t,2)+n(e,4)+n(r,4)+"\0\0"},o.buildUint8Array=function(t){for(var e=new Uint8Array(t.length),r=0;r<e.length;r++)e[r]=t.charCodeAt(r);return e},o.getFromCrc32Table=function(t){if(!t.length)return 0;for(var e=t.length,r=new Uint8Array(e),n=0;n<e;n++)r[n]=t.charCodeAt(n);var i=-1;for(n=0;n<e;n++)i=i>>>8^Mw[255&(i^r[n])];return-1^i},o.convertTime=function(t){var e=t.getHours();return e<<=6,e|=t.getMinutes(),(e<<=5)|t.getSeconds()/2},o.convertDate=function(t){var e=t.getFullYear()-1980;return e<<=4,e|=t.getMonth()+1,(e<<=5)|t.getDate()},o.folders=[],o.files=[]}(),it.registerModules([dw,Cw,Pw])},217:function(Cr,Pt){var ae,w;void 0!==(w="function"==typeof(ae=function(){"use strict";function he(ie,be,Qe){var Ke=new XMLHttpRequest;Ke.open("GET",ie),Ke.responseType="blob",Ke.onload=function(){We(Ke.response,be,Qe)},Ke.onerror=function(){console.error("could not download file")},Ke.send()}function De(ie){var be=new XMLHttpRequest;be.open("HEAD",ie,!1);try{be.send()}catch{}return 200<=be.status&&299>=be.status}function Ze(ie){try{ie.dispatchEvent(new MouseEvent("click"))}catch{var be=document.createEvent("MouseEvents");be.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),ie.dispatchEvent(be)}}var Ue="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,ft=Ue.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),We=Ue.saveAs||("object"!=typeof window||window!==Ue?function(){}:"download"in HTMLAnchorElement.prototype&&!ft?function(ie,be,Qe){var Ke=Ue.URL||Ue.webkitURL,ht=document.createElement("a");ht.download=be=be||ie.name||"download",ht.rel="noopener","string"==typeof ie?(ht.href=ie,ht.origin===location.origin?Ze(ht):De(ht.href)?he(ie,be,Qe):Ze(ht,ht.target="_blank")):(ht.href=Ke.createObjectURL(ie),setTimeout(function(){Ke.revokeObjectURL(ht.href)},4e4),setTimeout(function(){Ze(ht)},0))}:"msSaveOrOpenBlob"in navigator?function(ie,be,Qe){if(be=be||ie.name||"download","string"!=typeof ie)navigator.msSaveOrOpenBlob(function W(ie,be){return typeof be>"u"?be={autoBom:!1}:"object"!=typeof be&&(console.warn("Deprecated: Expected third argument to be a object"),be={autoBom:!be}),be.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(ie.type)?new Blob(["\ufeff",ie],{type:ie.type}):ie}(ie,Qe),be);else if(De(ie))he(ie,be,Qe);else{var Ke=document.createElement("a");Ke.href=ie,Ke.target="_blank",setTimeout(function(){Ze(Ke)})}}:function(ie,be,Qe,Ke){if((Ke=Ke||open("","_blank"))&&(Ke.document.title=Ke.document.body.innerText="downloading..."),"string"==typeof ie)return he(ie,be,Qe);var ht="application/octet-stream"===ie.type,Nt=/constructor/i.test(Ue.HTMLElement)||Ue.safari,et=/CriOS\/[\d]+/.test(navigator.userAgent);if((et||ht&&Nt||ft)&&typeof FileReader<"u"){var rt=new FileReader;rt.onloadend=function(){var nr=rt.result;nr=et?nr:nr.replace(/^data:[^;]*;/,"data:attachment/file;"),Ke?Ke.location.href=nr:location=nr,Ke=null},rt.readAsDataURL(ie)}else{var Wt=Ue.URL||Ue.webkitURL,Jt=Wt.createObjectURL(ie);Ke?Ke.location=Jt:location.href=Jt,Ke=null,setTimeout(function(){Wt.revokeObjectURL(Jt)},4e4)}});Ue.saveAs=We.saveAs=We,Cr.exports=We})?ae.apply(Pt,[]):ae)&&(Cr.exports=w)},6990:function(Cr,Pt,ae){var p;Cr=ae.nmd(Cr),function(){var w,Ze="Expected a function",ft="__lodash_hash_undefined__",ie="__lodash_placeholder__",vr=1/0,Ar=9007199254740991,Ne=4294967295,pt=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],kt="[object Arguments]",hr="[object Array]",He="[object Boolean]",z="[object Date]",re="[object Error]",_e="[object Function]",Me="[object GeneratorFunction]",Se="[object Map]",Re="[object Number]",lt="[object Object]",it="[object Promise]",or="[object RegExp]",Mt="[object Set]",Et="[object String]",we="[object Symbol]",je="[object WeakMap]",xt="[object ArrayBuffer]",nn="[object DataView]",Sr="[object Float32Array]",Dr="[object Float64Array]",qr="[object Int8Array]",Nr="[object Int16Array]",mr="[object Int32Array]",ye="[object Uint8Array]",Ie="[object Uint8ClampedArray]",G="[object Uint16Array]",J="[object Uint32Array]",V=/\b__p \+= '';/g,T=/\b(__p \+=) '' \+/g,K=/(__e\(.*?\)|\b__t\)) \+\n'';/g,O=/&(?:amp|lt|gt|quot|#39);/g,le=/[&<>"']/g,Y=RegExp(O.source),de=RegExp(le.source),te=/<%-([\s\S]+?)%>/g,Ye=/<%([\s\S]+?)%>/g,nt=/<%=([\s\S]+?)%>/g,st=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ur=/^\w*$/,U=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Q=/[\\^$.*+?()[\]{}|]/g,ue=RegExp(Q.source),Ee=/^\s+/,ut=/\s/,ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Rt=/\{\n\/\* \[wrapped with (.+)\] \*/,It=/,? & /,tr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Lr=/[()=,{}\[\]\/\s]/,on=/\\(\\)?/g,Mo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,F=/\w*$/,D=/^[-+]0x[0-9a-f]+$/i,k=/^0b[01]+$/i,$=/^\[object .+?Constructor\]$/,ge=/^0o[0-7]+$/i,xe=/^(?:0|[1-9]\d*)$/,P=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ne=/($^)/,q=/['\n\r\u2028\u2029\\]/g,me="\\ud800-\\udfff",bt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Le="\\u2700-\\u27bf",Vi="a-z\\xdf-\\xf6\\xf8-\\xff",Gr="A-Z\\xc0-\\xd6\\xd8-\\xde",M="\\ufe0e\\ufe0f",jn="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",sn="["+me+"]",Bi="["+jn+"]",Ra="["+bt+"]",yu="\\d+",An="["+Le+"]",mu="["+Vi+"]",Cu="[^"+me+jn+yu+Le+Vi+Gr+"]",Xr="\\ud83c[\\udffb-\\udfff]",Aa="[^"+me+"]",no="(?:\\ud83c[\\udde6-\\uddff]){2}",zn="[\\ud800-\\udbff][\\udc00-\\udfff]",as="["+Gr+"]",Bs="(?:"+mu+"|"+Cu+")",Ge="(?:"+as+"|"+Cu+")",si="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ei="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Nn="(?:"+Ra+"|"+Xr+")?",io="["+M+"]?",_u=io+Nn+"(?:\\u200d(?:"+[Aa,no,zn].join("|")+")"+io+Nn+")*",Eu="(?:"+[An,no,zn].join("|")+")"+_u,Lo="(?:"+[Aa+Ra+"?",Ra,no,zn,sn].join("|")+")",dl=RegExp("['\u2019]","g"),Dc=RegExp(Ra,"g"),ls=RegExp(Xr+"(?="+Xr+")|"+Lo+_u,"g"),oo=RegExp([as+"?"+mu+"+"+si+"(?="+[Bi,as,"$"].join("|")+")",Ge+"+"+Ei+"(?="+[Bi,as+Bs,"$"].join("|")+")",as+"?"+Bs+"+"+si,as+"+"+Ei,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",yu,Eu].join("|"),"g"),ho=RegExp("[\\u200d"+me+bt+M+"]"),li=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ru=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xc=-1,Br={};Br[Sr]=Br[Dr]=Br[qr]=Br[Nr]=Br[mr]=Br[ye]=Br[Ie]=Br[G]=Br[J]=!0,Br[kt]=Br[hr]=Br[xt]=Br[He]=Br[nn]=Br[z]=Br[re]=Br[_e]=Br[Se]=Br[Re]=Br[lt]=Br[or]=Br[Mt]=Br[Et]=Br[je]=!1;var zr={};zr[kt]=zr[hr]=zr[xt]=zr[nn]=zr[He]=zr[z]=zr[Sr]=zr[Dr]=zr[qr]=zr[Nr]=zr[mr]=zr[Se]=zr[Re]=zr[lt]=zr[or]=zr[Mt]=zr[Et]=zr[we]=zr[ye]=zr[Ie]=zr[G]=zr[J]=!0,zr[re]=zr[_e]=zr[je]=!1;var Au={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ri=parseFloat,mn=parseInt,pl="object"==typeof global&&global&&global.Object===Object&&global,Da="object"==typeof self&&self&&self.Object===Object&&self,Pr=pl||Da||Function("return this")(),Du=Pt&&!Pt.nodeType&&Pt,Us=Du&&Cr&&!Cr.nodeType&&Cr,go=Us&&Us.exports===Du,js=go&&pl.process,Gn=function(){try{return Us&&Us.require&&Us.require("util").types||js&&js.binding&&js.binding("util")}catch{}}(),fl=Gn&&Gn.isArrayBuffer,xu=Gn&&Gn.isDate,hl=Gn&&Gn.isMap,an=Gn&&Gn.isRegExp,Kn=Gn&&Gn.isSet,xa=Gn&&Gn.isTypedArray;function Hn(pe,Ve,Ae){switch(Ae.length){case 0:return pe.call(Ve);case 1:return pe.call(Ve,Ae[0]);case 2:return pe.call(Ve,Ae[0],Ae[1]);case 3:return pe.call(Ve,Ae[0],Ae[1],Ae[2])}return pe.apply(Ve,Ae)}function ln(pe,Ve,Ae,Ot){for(var Xt=-1,Fr=null==pe?0:pe.length;++Xt<Fr;){var tn=pe[Xt];Ve(Ot,tn,Ae(tn),pe)}return Ot}function Yn(pe,Ve){for(var Ae=-1,Ot=null==pe?0:pe.length;++Ae<Ot&&!1!==Ve(pe[Ae],Ae,pe););return pe}function gl(pe,Ve){for(var Ae=null==pe?0:pe.length;Ae--&&!1!==Ve(pe[Ae],Ae,pe););return pe}function vl(pe,Ve){for(var Ae=-1,Ot=null==pe?0:pe.length;++Ae<Ot;)if(!Ve(pe[Ae],Ae,pe))return!1;return!0}function ui(pe,Ve){for(var Ae=-1,Ot=null==pe?0:pe.length,Xt=0,Fr=[];++Ae<Ot;){var tn=pe[Ae];Ve(tn,Ae,pe)&&(Fr[Xt++]=tn)}return Fr}function ci(pe,Ve){return!(null==pe||!pe.length)&&yo(pe,Ve,0)>-1}function vo(pe,Ve,Ae){for(var Ot=-1,Xt=null==pe?0:pe.length;++Ot<Xt;)if(Ae(Ve,pe[Ot]))return!0;return!1}function kr(pe,Ve){for(var Ae=-1,Ot=null==pe?0:pe.length,Xt=Array(Ot);++Ae<Ot;)Xt[Ae]=Ve(pe[Ae],Ae,pe);return Xt}function Vn(pe,Ve){for(var Ae=-1,Ot=Ve.length,Xt=pe.length;++Ae<Ot;)pe[Xt+Ae]=Ve[Ae];return pe}function Oa(pe,Ve,Ae,Ot){var Xt=-1,Fr=null==pe?0:pe.length;for(Ot&&Fr&&(Ae=pe[++Xt]);++Xt<Fr;)Ae=Ve(Ae,pe[Xt],Xt,pe);return Ae}function yl(pe,Ve,Ae,Ot){var Xt=null==pe?0:pe.length;for(Ot&&Xt&&(Ae=pe[--Xt]);Xt--;)Ae=Ve(Ae,pe[Xt],Xt,pe);return Ae}function No(pe,Ve){for(var Ae=-1,Ot=null==pe?0:pe.length;++Ae<Ot;)if(Ve(pe[Ae],Ae,pe))return!0;return!1}var ml=ba("length");function Cl(pe,Ve,Ae){var Ot;return Ae(pe,function(Xt,Fr,tn){if(Ve(Xt,Fr,tn))return Ot=Fr,!1}),Ot}function ki(pe,Ve,Ae,Ot){for(var Xt=pe.length,Fr=Ae+(Ot?1:-1);Ot?Fr--:++Fr<Xt;)if(Ve(pe[Fr],Fr,pe))return Fr;return-1}function yo(pe,Ve,Ae){return Ve==Ve?function Rl(pe,Ve,Ae){for(var Ot=Ae-1,Xt=pe.length;++Ot<Xt;)if(pe[Ot]===Ve)return Ot;return-1}(pe,Ve,Ae):ki(pe,wl,Ae)}function Ta(pe,Ve,Ae,Ot){for(var Xt=Ae-1,Fr=pe.length;++Xt<Fr;)if(Ot(pe[Xt],Ve))return Xt;return-1}function wl(pe){return pe!=pe}function Wi(pe,Ve){var Ae=null==pe?0:pe.length;return Ae?zs(pe,Ve)/Ae:NaN}function ba(pe){return function(Ve){return null==Ve?w:Ve[pe]}}function mo(pe){return function(Ve){return null==pe?w:pe[Ve]}}function Pa(pe,Ve,Ae,Ot,Xt){return Xt(pe,function(Fr,tn,cr){Ae=Ot?(Ot=!1,Fr):Ve(Ae,Fr,tn,cr)}),Ae}function zs(pe,Ve){for(var Ae,Ot=-1,Xt=pe.length;++Ot<Xt;){var Fr=Ve(pe[Ot]);Fr!==w&&(Ae=Ae===w?Fr:Ae+Fr)}return Ae}function Ui(pe,Ve){for(var Ae=-1,Ot=Array(pe);++Ae<pe;)Ot[Ae]=Ve(Ae);return Ot}function Ks(pe){return pe&&pe.slice(0,Dl(pe)+1).replace(Ee,"")}function Dn(pe){return function(Ve){return pe(Ve)}}function Sl(pe,Ve){return kr(Ve,function(Ae){return pe[Ae]})}function Di(pe,Ve){return pe.has(Ve)}function Go(pe,Ve){for(var Ae=-1,Ot=pe.length;++Ae<Ot&&yo(Ve,pe[Ae],0)>-1;);return Ae}function Ma(pe,Ve){for(var Ae=pe.length;Ae--&&yo(Ve,pe[Ae],0)>-1;);return Ae}var ji=mo({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Ys=mo({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function cs(pe){return"\\"+Au[pe]}function Cn(pe){return ho.test(pe)}function $s(pe){var Ve=-1,Ae=Array(pe.size);return pe.forEach(function(Ot,Xt){Ae[++Ve]=[Xt,Ot]}),Ae}function ds(pe,Ve){return function(Ae){return pe(Ve(Ae))}}function xn(pe,Ve){for(var Ae=-1,Ot=pe.length,Xt=0,Fr=[];++Ae<Ot;){var tn=pe[Ae];(tn===Ve||tn===ie)&&(pe[Ae]=ie,Fr[Xt++]=Ae)}return Fr}function Vo(pe){var Ve=-1,Ae=Array(pe.size);return pe.forEach(function(Ot){Ae[++Ve]=Ot}),Ae}function Bo(pe){return Cn(pe)?function Tu(pe){for(var Ve=ls.lastIndex=0;ls.test(pe);)++Ve;return Ve}(pe):ml(pe)}function di(pe){return Cn(pe)?function ko(pe){return pe.match(ls)||[]}(pe):function us(pe){return pe.split("")}(pe)}function Dl(pe){for(var Ve=pe.length;Ve--&&ut.test(pe.charAt(Ve)););return Ve}var Qs=mo({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),qs=function pe(Ve){var l,Ae=(Ve=null==Ve?Pr:qs.defaults(Pr.Object(),Ve,qs.pick(Pr,Ru))).Array,Ot=Ve.Date,Xt=Ve.Error,Fr=Ve.Function,tn=Ve.Math,cr=Ve.Object,Zs=Ve.RegExp,ps=Ve.String,Wr=Ve.TypeError,Js=Ae.prototype,fs=cr.prototype,Wo=Ve["__core-js_shared__"],xi=Fr.prototype.toString,Qt=fs.hasOwnProperty,Na=0,hs=(l=/[^.]+$/.exec(Wo&&Wo.keys&&Wo.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",sr=fs.toString,Pc=xi.call(cr),Uo=Pr._,jo=Zs("^"+xi.call(Qt).replace(Q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bn=go?Ve.Buffer:w,$n=Ve.Symbol,zo=Ve.Uint8Array,Ga=Bn?Bn.allocUnsafe:w,Co=ds(cr.getPrototypeOf,cr),Ha=cr.create,gs=fs.propertyIsEnumerable,so=Js.splice,vs=$n?$n.isConcatSpreadable:w,un=$n?$n.iterator:w,Ko=$n?$n.toStringTag:w,Qn=function(){try{var l=va(cr,"defineProperty");return l({},"",{}),l}catch{}}(),wo=Ve.clearTimeout!==Pr.clearTimeout&&Ve.clearTimeout,wn=Ot&&Ot.now!==Pr.Date.now&&Ot.now,Fc=Ve.setTimeout!==Pr.setTimeout&&Ve.setTimeout,xl=tn.ceil,ys=tn.floor,Xs=cr.getOwnPropertySymbols,Ol=Bn?Bn.isBuffer:w,ea=Ve.isFinite,Pu=Js.join,Mc=ds(cr.keys,cr),en=tn.max,Sn=tn.min,Va=Ot.now,ms=Ve.parseInt,qn=tn.random,Ic=Js.reverse,ao=va(Ve,"DataView"),So=va(Ve,"Map"),Cs=va(Ve,"Promise"),Yo=va(Ve,"Set"),ws=va(Ve,"WeakMap"),Zn=va(cr,"create"),Ss=ws&&new ws,$o={},rp=ya(ao),Lc=ya(So),Oi=ya(Cs),Zr=ya(Yo),np=ya(ws),Ce=$n?$n.prototype:w,_s=Ce?Ce.valueOf:w,Ba=Ce?Ce.toString:w;function N(l){if(pn(l)&&!jt(l)&&!(l instanceof ar)){if(l instanceof Jn)return l;if(Qt.call(l,"__wrapped__"))return Mp(l)}return new Jn(l)}var Es=function(){function l(){}return function(c){if(!rn(c))return{};if(Ha)return Ha(c);l.prototype=c;var y=new l;return l.prototype=w,y}}();function ka(){}function Jn(l,c){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=w}function ar(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ne,this.__views__=[]}function _o(l){var c=-1,y=null==l?0:l.length;for(this.clear();++c<y;){var _=l[c];this.set(_[0],_[1])}}function lo(l){var c=-1,y=null==l?0:l.length;for(this.clear();++c<y;){var _=l[c];this.set(_[0],_[1])}}function Xn(l){var c=-1,y=null==l?0:l.length;for(this.clear();++c<y;){var _=l[c];this.set(_[0],_[1])}}function Eo(l){var c=-1,y=null==l?0:l.length;for(this.__data__=new Xn;++c<y;)this.add(l[c])}function Fn(l){var c=this.__data__=new lo(l);this.size=c.size}function kc(l,c){var y=jt(l),_=!y&&wa(l),x=!y&&!_&&Ns(l),H=!y&&!_&&!x&&rl(l),X=y||_||x||H,oe=X?Ui(l.length,ps):[],ve=oe.length;for(var ze in l)(c||Qt.call(l,ze))&&(!X||!("length"==ze||x&&("offset"==ze||"parent"==ze)||H&&("buffer"==ze||"byteLength"==ze||"byteOffset"==ze)||ts(ze,ve)))&&oe.push(ze);return oe}function tt(l){var c=l.length;return c?l[f(0,c-1)]:w}function bl(l,c){return el(hi(l),co(c,0,l.length))}function Wc(l){return el(hi(l))}function Pl(l,c,y){(y!==w&&!fo(l[c],y)||y===w&&!(c in l))&&Ki(l,c,y)}function ta(l,c,y){var _=l[c];(!Qt.call(l,c)||!fo(_,y)||y===w&&!(c in l))&&Ki(l,c,y)}function As(l,c){for(var y=l.length;y--;)if(fo(l[y][0],c))return y;return-1}function Nu(l,c,y,_){return Ro(l,function(x,H,X){c(_,x,y(x),X)}),_}function Fl(l,c){return l&&Do(c,bn(c),l)}function Ki(l,c,y){"__proto__"==c&&Qn?Qn(l,c,{configurable:!0,enumerable:!0,value:y,writable:!0}):l[c]=y}function Ml(l,c){for(var y=-1,_=c.length,x=Ae(_),H=null==l;++y<_;)x[y]=H?w:Od(l,c[y]);return x}function co(l,c,y){return l==l&&(y!==w&&(l=l<=y?l:y),c!==w&&(l=l>=c?l:c)),l}function On(l,c,y,_,x,H){var X,oe=1&c,ve=2&c,ze=4&c;if(y&&(X=x?y(l,_,x,H):y(l)),X!==w)return X;if(!rn(l))return l;var $e=jt(l);if($e){if(X=function jf(l){var c=l.length,y=new l.constructor(c);return c&&"string"==typeof l[0]&&Qt.call(l,"index")&&(y.index=l.index,y.input=l.input),y}(l),!oe)return hi(l,X)}else{var Je=kn(l),mt=Je==_e||Je==Me;if(Ns(l))return zu(l,oe);if(Je==lt||Je==kt||mt&&!x){if(X=ve||mt?{}:_p(l),!oe)return ve?function Lf(l,c){return Do(l,wp(l),c)}(l,function Gu(l,c){return l&&Do(c,Ci(c),l)}(X,l)):function Ku(l,c){return Do(l,td(l),c)}(l,Fl(X,l))}else{if(!zr[Je])return x?l:{};X=function zf(l,c,y){var _=l.constructor;switch(c){case xt:return qc(l);case He:case z:return new _(+l);case nn:return function Ff(l,c){var y=c?qc(l.buffer):l.buffer;return new l.constructor(y,l.byteOffset,l.byteLength)}(l,y);case Sr:case Dr:case qr:case Nr:case mr:case ye:case Ie:case G:case J:return cp(l,y);case Se:return new _;case Re:case Et:return new _(l);case or:return function la(l){var c=new l.constructor(l.source,F.exec(l));return c.lastIndex=l.lastIndex,c}(l);case Mt:return new _;case we:return function Mf(l){return _s?cr(_s.call(l)):{}}(l)}}(l,Je,oe)}}H||(H=new Fn);var Lt=H.get(l);if(Lt)return Lt;H.set(l,X),Jp(l)?l.forEach(function(Kt){X.add(On(Kt,c,y,Kt,l,H))}):Zp(l)&&l.forEach(function(Kt,pr){X.set(pr,On(Kt,c,y,pr,l,H))});var dr=$e?w:(ze?ve?Jc:ha:ve?Ci:bn)(l);return Yn(dr||l,function(Kt,pr){dr&&(Kt=l[pr=Kt]),ta(X,pr,On(Kt,c,y,pr,l,H))}),X}function Uc(l,c,y){var _=y.length;if(null==l)return!_;for(l=cr(l);_--;){var x=y[_],X=l[x];if(X===w&&!(x in l)||!(0,c[x])(X))return!1}return!0}function ra(l,c,y){if("function"!=typeof l)throw new Wr(Ze);return Xa(function(){l.apply(w,y)},c)}function Ds(l,c,y,_){var x=-1,H=ci,X=!0,oe=l.length,ve=[],ze=c.length;if(!oe)return ve;y&&(c=kr(c,Dn(y))),_?(H=vo,X=!1):c.length>=200&&(H=Di,X=!1,c=new Eo(c));e:for(;++x<oe;){var $e=l[x],Je=null==y?$e:y($e);if($e=_||0!==$e?$e:0,X&&Je==Je){for(var mt=ze;mt--;)if(c[mt]===Je)continue e;ve.push($e)}else H(c,Je,_)||ve.push($e)}return ve}N.templateSettings={escape:te,evaluate:Ye,interpolate:nt,variable:"",imports:{_:N}},(N.prototype=ka.prototype).constructor=N,(Jn.prototype=Es(ka.prototype)).constructor=Jn,(ar.prototype=Es(ka.prototype)).constructor=ar,_o.prototype.clear=function Nc(){this.__data__=Zn?Zn(null):{},this.size=0},_o.prototype.delete=function ja(l){var c=this.has(l)&&delete this.__data__[l];return this.size-=c?1:0,c},_o.prototype.get=function Gc(l){var c=this.__data__;if(Zn){var y=c[l];return y===ft?w:y}return Qt.call(c,l)?c[l]:w},_o.prototype.has=function ip(l){var c=this.__data__;return Zn?c[l]!==w:Qt.call(c,l)},_o.prototype.set=function Hc(l,c){var y=this.__data__;return this.size+=this.has(l)?0:1,y[l]=Zn&&c===w?ft:c,this},lo.prototype.clear=function Tl(){this.__data__=[],this.size=0},lo.prototype.delete=function Vc(l){var c=this.__data__,y=As(c,l);return!(y<0||(y==c.length-1?c.pop():so.call(c,y,1),--this.size,0))},lo.prototype.get=function Jr(l){var c=this.__data__,y=As(c,l);return y<0?w:c[y][1]},lo.prototype.has=function op(l){return As(this.__data__,l)>-1},lo.prototype.set=function Vt(l,c){var y=this.__data__,_=As(y,l);return _<0?(++this.size,y.push([l,c])):y[_][1]=c,this},Xn.prototype.clear=function Rs(){this.size=0,this.__data__={hash:new _o,map:new(So||lo),string:new _o}},Xn.prototype.delete=function pi(l){var c=ql(this,l).delete(l);return this.size-=c?1:0,c},Xn.prototype.get=function sp(l){return ql(this,l).get(l)},Xn.prototype.has=function Mu(l){return ql(this,l).has(l)},Xn.prototype.set=function uo(l,c){var y=ql(this,l),_=y.size;return y.set(l,c),this.size+=y.size==_?0:1,this},Eo.prototype.add=Eo.prototype.push=function zi(l){return this.__data__.set(l,ft),this},Eo.prototype.has=function Ti(l){return this.__data__.has(l)},Fn.prototype.clear=function Iu(){this.__data__=new lo,this.size=0},Fn.prototype.delete=function ap(l){var c=this.__data__,y=c.delete(l);return this.size=c.size,y},Fn.prototype.get=function Lu(l){return this.__data__.get(l)},Fn.prototype.has=function Bc(l){return this.__data__.has(l)},Fn.prototype.set=function qt(l,c){var y=this.__data__;if(y instanceof lo){var _=y.__data__;if(!So||_.length<199)return _.push([l,c]),this.size=++y.size,this;y=this.__data__=new Xn(_)}return y.set(l,c),this.size=y.size,this};var Ro=fp(bi),Il=fp(Ya,!0);function Hu(l,c){var y=!0;return Ro(l,function(_,x,H){return y=!!c(_,x,H)}),y}function xs(l,c,y){for(var _=-1,x=l.length;++_<x;){var H=l[_],X=c(H);if(null!=X&&(oe===w?X==X&&!In(X):y(X,oe)))var oe=X,ve=H}return ve}function Vu(l,c){var y=[];return Ro(l,function(_,x,H){c(_,x,H)&&y.push(_)}),y}function cn(l,c,y,_,x){var H=-1,X=l.length;for(y||(y=Yf),x||(x=[]);++H<X;){var oe=l[H];c>0&&y(oe)?c>1?cn(oe,c-1,y,_,x):Vn(x,oe):_||(x[x.length]=oe)}return x}var za=hp(),Ka=hp(!0);function bi(l,c){return l&&za(l,c,bn)}function Ya(l,c){return l&&Ka(l,c,bn)}function Ao(l,c){return ui(c,function(y){return rs(l[y])})}function qo(l,c){for(var y=0,_=(c=$i(c,l)).length;null!=l&&y<_;)l=l[xo(c[y++])];return y&&y==_?l:w}function Ll(l,c,y){var _=c(l);return jt(l)?_:Vn(_,y(l))}function Mn(l){return null==l?l===w?"[object Undefined]":"[object Null]":Ko&&Ko in cr(l)?function kf(l){var c=Qt.call(l,Ko),y=l[Ko];try{l[Ko]=w;var _=!0}catch{}var x=sr.call(l);return _&&(c?l[Ko]=y:delete l[Ko]),x}(l):function Zf(l){return sr.call(l)}(l)}function Nl(l,c){return l>c}function Bu(l,c){return null!=l&&Qt.call(l,c)}function jc(l,c){return null!=l&&c in cr(l)}function na(l,c,y){for(var _=y?vo:ci,x=l[0].length,H=l.length,X=H,oe=Ae(H),ve=1/0,ze=[];X--;){var $e=l[X];X&&c&&($e=kr($e,Dn(c))),ve=Sn($e.length,ve),oe[X]=!y&&(c||x>=120&&$e.length>=120)?new Eo(X&&$e):w}$e=l[0];var Je=-1,mt=oe[0];e:for(;++Je<x&&ze.length<ve;){var Lt=$e[Je],zt=c?c(Lt):Lt;if(Lt=y||0!==Lt?Lt:0,!(mt?Di(mt,zt):_(ze,zt,y))){for(X=H;--X;){var dr=oe[X];if(!(dr?Di(dr,zt):_(l[X],zt,y)))continue e}mt&&mt.push(zt),ze.push(Lt)}}return ze}function Zo(l,c,y){var _=null==(l=Op(l,c=$i(c,l)))?l:l[xo(ri(c))];return null==_?w:Hn(_,l,y)}function Yi(l){return pn(l)&&Mn(l)==kt}function ia(l,c,y,_,x){return l===c||(null==l||null==c||!pn(l)&&!pn(c)?l!=l&&c!=c:function ku(l,c,y,_,x,H){var X=jt(l),oe=jt(c),ve=X?hr:kn(l),ze=oe?hr:kn(c),$e=(ve=ve==kt?lt:ve)==lt,Je=(ze=ze==kt?lt:ze)==lt,mt=ve==ze;if(mt&&Ns(l)){if(!Ns(c))return!1;X=!0,$e=!1}if(mt&&!$e)return H||(H=new Fn),X||rl(l)?Cp(l,c,y,_,x,H):function Vf(l,c,y,_,x,H,X){switch(y){case nn:if(l.byteLength!=c.byteLength||l.byteOffset!=c.byteOffset)return!1;l=l.buffer,c=c.buffer;case xt:return!(l.byteLength!=c.byteLength||!H(new zo(l),new zo(c)));case He:case z:case Re:return fo(+l,+c);case re:return l.name==c.name&&l.message==c.message;case or:case Et:return l==c+"";case Se:var oe=$s;case Mt:if(oe||(oe=Vo),l.size!=c.size&&!(1&_))return!1;var ze=X.get(l);if(ze)return ze==c;_|=2,X.set(l,c);var $e=Cp(oe(l),oe(c),_,x,H,X);return X.delete(l),$e;case we:if(_s)return _s.call(l)==_s.call(c)}return!1}(l,c,ve,y,_,x,H);if(!(1&y)){var Lt=$e&&Qt.call(l,"__wrapped__"),zt=Je&&Qt.call(c,"__wrapped__");if(Lt||zt){var dr=Lt?l.value():l,Kt=zt?c.value():c;return H||(H=new Fn),x(dr,Kt,y,_,H)}}return!!mt&&(H||(H=new Fn),function Bf(l,c,y,_,x,H){var X=1&y,oe=ha(l),ve=oe.length;if(ve!=ha(c).length&&!X)return!1;for(var Je=ve;Je--;){var mt=oe[Je];if(!(X?mt in c:Qt.call(c,mt)))return!1}var Lt=H.get(l),zt=H.get(c);if(Lt&&zt)return Lt==c&&zt==l;var dr=!0;H.set(l,c),H.set(c,l);for(var Kt=X;++Je<ve;){var pr=l[mt=oe[Je]],Tr=c[mt];if(_)var Ni=X?_(Tr,pr,mt,c,l,H):_(pr,Tr,mt,l,c,H);if(!(Ni===w?pr===Tr||x(pr,Tr,y,_,H):Ni)){dr=!1;break}Kt||(Kt="constructor"==mt)}if(dr&&!Kt){var fn=l.constructor,Gi=c.constructor;fn!=Gi&&"constructor"in l&&"constructor"in c&&!("function"==typeof fn&&fn instanceof fn&&"function"==typeof Gi&&Gi instanceof Gi)&&(dr=!1)}return H.delete(l),H.delete(c),dr}(l,c,y,_,x,H))}(l,c,y,_,ia,x))}function Hl(l,c,y,_){var x=y.length,H=x,X=!_;if(null==l)return!H;for(l=cr(l);x--;){var oe=y[x];if(X&&oe[2]?oe[1]!==l[oe[0]]:!(oe[0]in l))return!1}for(;++x<H;){var ve=(oe=y[x])[0],ze=l[ve],$e=oe[1];if(X&&oe[2]){if(ze===w&&!(ve in l))return!1}else{var Je=new Fn;if(_)var mt=_(ze,$e,ve,l,c,Je);if(!(mt===w?ia($e,ze,3,_,Je):mt))return!1}}return!0}function Vl(l){return!(!rn(l)||function Qf(l){return!!hs&&hs in l}(l))&&(rs(l)?jo:$).test(ya(l))}function gn(l){return"function"==typeof l?l:null==l?Ln:"object"==typeof l?jt(l)?Ul(l[0],l[1]):Wl(l):hf(l)}function Qa(l){if(!Zl(l))return Mc(l);var c=[];for(var y in cr(l))Qt.call(l,y)&&"constructor"!=y&&c.push(y);return c}function kl(l,c){return l<c}function oa(l,c){var y=-1,_=mi(l)?Ae(l.length):[];return Ro(l,function(x,H,X){_[++y]=c(x,H,X)}),_}function Wl(l){var c=ed(l);return 1==c.length&&c[0][2]?Rp(c[0][0],c[0][1]):function(y){return y===l||Hl(y,l,c)}}function Ul(l,c){return rd(l)&&Ep(c)?Rp(xo(l),c):function(y){var _=Od(y,l);return _===w&&_===c?Td(y,l):ia(c,_,3)}}function sa(l,c,y,_,x){l!==c&&za(c,function(H,X){if(x||(x=new Fn),rn(H))!function $c(l,c,y,_,x,H,X){var oe=Qu(l,y),ve=Qu(c,y),ze=X.get(ve);if(ze)Pl(l,y,ze);else{var $e=H?H(oe,ve,y+"",l,c,X):w,Je=$e===w;if(Je){var mt=jt(ve),Lt=!mt&&Ns(ve),zt=!mt&&!Lt&&rl(ve);$e=ve,mt||Lt||zt?jt(oe)?$e=oe:vn(oe)?$e=hi(oe):Lt?(Je=!1,$e=zu(ve,!0)):zt?(Je=!1,$e=cp(ve,!0)):$e=[]:au(ve)||wa(ve)?($e=oe,wa(oe)?$e=Ed(oe):(!rn(oe)||rs(oe))&&($e=_p(ve))):Je=!1}Je&&(X.set(ve,$e),x($e,ve,_,H,X),X.delete(ve)),Pl(l,y,$e)}}(l,c,X,y,sa,_,x);else{var oe=_?_(Qu(l,X),H,X+"",l,c,x):w;oe===w&&(oe=H),Pl(l,X,oe)}},Ci)}function qa(l,c){var y=l.length;if(y)return ts(c+=c<0?y:0,y)?l[c]:w}function Wu(l,c,y){c=c.length?kr(c,function(H){return jt(H)?function(X){return qo(X,1===H.length?H[0]:H)}:H}):[Ln];var _=-1;return c=kr(c,Dn(Ut())),function Ou(pe,Ve){var Ae=pe.length;for(pe.sort(Ve);Ae--;)pe[Ae]=pe[Ae].value;return pe}(oa(l,function(H,X,oe){return{criteria:kr(c,function(ze){return ze(H)}),index:++_,value:H}}),function(H,X){return function If(l,c,y){for(var _=-1,x=l.criteria,H=c.criteria,X=x.length,oe=y.length;++_<X;){var ve=dp(x[_],H[_]);if(ve)return _>=oe?ve:ve*("desc"==y[_]?-1:1)}return l.index-c.index}(H,X,y)})}function Uu(l,c,y){for(var _=-1,x=c.length,H={};++_<x;){var X=c[_],oe=qo(l,X);y(oe,X)&&I(H,$i(X,l),oe)}return H}function zl(l,c,y,_){var x=_?Ta:yo,H=-1,X=c.length,oe=l;for(l===c&&(c=hi(c)),y&&(oe=kr(l,Dn(y)));++H<X;)for(var ve=0,ze=c[H],$e=y?y(ze):ze;(ve=x(oe,$e,ve,_))>-1;)oe!==l&&so.call(oe,ve,1),so.call(l,ve,1);return l}function ju(l,c){for(var y=l?c.length:0,_=y-1;y--;){var x=c[y];if(y==_||x!==H){var H=x;ts(x)?so.call(l,x,1):fi(l,x)}}return l}function f(l,c){return l+ys(qn()*(c-l+1))}function h(l,c){var y="";if(!l||c<1||c>Ar)return y;do{c%2&&(y+=l),(c=ys(c/2))&&(l+=l)}while(c);return y}function v(l,c){return od(xp(l,c,Ln),l+"")}function S(l){return tt(il(l))}function R(l,c){var y=il(l);return el(y,co(c,0,y.length))}function I(l,c,y,_){if(!rn(l))return l;for(var x=-1,H=(c=$i(c,l)).length,X=H-1,oe=l;null!=oe&&++x<H;){var ve=xo(c[x]),ze=y;if("__proto__"===ve||"constructor"===ve||"prototype"===ve)return l;if(x!=X){var $e=oe[ve];(ze=_?_($e,ve,oe):w)===w&&(ze=rn($e)?$e:ts(c[x+1])?[]:{})}ta(oe,ve,ze),oe=oe[ve]}return l}var Z=Ss?function(l,c){return Ss.set(l,c),l}:Ln,ce=Qn?function(l,c){return Qn(l,"toString",{configurable:!0,enumerable:!1,value:Ld(c),writable:!0})}:Ln;function Pe(l){return el(il(l))}function Be(l,c,y){var _=-1,x=l.length;c<0&&(c=-c>x?0:x+c),(y=y>x?x:y)<0&&(y+=x),x=c>y?0:y-c>>>0,c>>>=0;for(var H=Ae(x);++_<x;)H[_]=l[_+c];return H}function wt(l,c){var y;return Ro(l,function(_,x,H){return!(y=c(_,x,H))}),!!y}function ct(l,c,y){var _=0,x=null==l?_:l.length;if("number"==typeof c&&c==c&&x<=2147483647){for(;_<x;){var H=_+x>>>1,X=l[H];null!==X&&!In(X)&&(y?X<=c:X<c)?_=H+1:x=H}return x}return Ht(l,c,Ln,y)}function Ht(l,c,y,_){var x=0,H=null==l?0:l.length;if(0===H)return 0;for(var X=(c=y(c))!=c,oe=null===c,ve=In(c),ze=c===w;x<H;){var $e=ys((x+H)/2),Je=y(l[$e]),mt=Je!==w,Lt=null===Je,zt=Je==Je,dr=In(Je);if(X)var Kt=_||zt;else Kt=ze?zt&&(_||mt):oe?zt&&mt&&(_||!Lt):ve?zt&&mt&&!Lt&&(_||!dr):!Lt&&!dr&&(_?Je<=c:Je<c);Kt?x=$e+1:H=$e}return Sn(H,4294967294)}function Hr(l,c){for(var y=-1,_=l.length,x=0,H=[];++y<_;){var X=l[y],oe=c?c(X):X;if(!y||!fo(oe,ve)){var ve=oe;H[x++]=0===X?0:X}}return H}function xr(l){return"number"==typeof l?l:In(l)?NaN:+l}function Or(l){if("string"==typeof l)return l;if(jt(l))return kr(l,Or)+"";if(In(l))return Ba?Ba.call(l):"";var c=l+"";return"0"==c&&1/l==-vr?"-0":c}function dn(l,c,y){var _=-1,x=ci,H=l.length,X=!0,oe=[],ve=oe;if(y)X=!1,x=vo;else if(H>=200){var ze=c?null:es(l);if(ze)return Vo(ze);X=!1,x=Di,ve=new Eo}else ve=c?[]:oe;e:for(;++_<H;){var $e=l[_],Je=c?c($e):$e;if($e=y||0!==$e?$e:0,X&&Je==Je){for(var mt=ve.length;mt--;)if(ve[mt]===Je)continue e;c&&ve.push(Je),oe.push($e)}else x(ve,Je,y)||(ve!==oe&&ve.push(Je),oe.push($e))}return oe}function fi(l,c){return null==(l=Op(l,c=$i(c,l)))||delete l[xo(ri(c))]}function Jo(l,c,y,_){return I(l,c,y(qo(l,c)),_)}function po(l,c,y,_){for(var x=l.length,H=_?x:-1;(_?H--:++H<x)&&c(l[H],H,l););return y?Be(l,_?0:H,_?H+1:x):Be(l,_?H+1:0,_?x:H)}function Kl(l,c){var y=l;return y instanceof ar&&(y=y.value()),Oa(c,function(_,x){return x.func.apply(x.thisArg,Vn([_],x.args))},y)}function _n(l,c,y){var _=l.length;if(_<2)return _?dn(l[0]):[];for(var x=-1,H=Ae(_);++x<_;)for(var X=l[x],oe=-1;++oe<_;)oe!=x&&(H[x]=Ds(H[x]||X,l[oe],c,y));return dn(cn(H,1),c,y)}function Xo(l,c,y){for(var _=-1,x=l.length,H=c.length,X={};++_<x;)y(X,l[_],_<H?c[_]:w);return X}function Pi(l){return vn(l)?l:[]}function aa(l){return"function"==typeof l?l:Ln}function $i(l,c){return jt(l)?l:rd(l,c)?[l]:Fp(Vr(l))}var Fi=v;function bs(l,c,y){var _=l.length;return y=y===w?_:y,!c&&y>=_?l:Be(l,c,y)}var up=wo||function(l){return Pr.clearTimeout(l)};function zu(l,c){if(c)return l.slice();var y=l.length,_=Ga?Ga(y):new l.constructor(y);return l.copy(_),_}function qc(l){var c=new l.constructor(l.byteLength);return new zo(c).set(new zo(l)),c}function cp(l,c){var y=c?qc(l.buffer):l.buffer;return new l.constructor(y,l.byteOffset,l.length)}function dp(l,c){if(l!==c){var y=l!==w,_=null===l,x=l==l,H=In(l),X=c!==w,oe=null===c,ve=c==c,ze=In(c);if(!oe&&!ze&&!H&&l>c||H&&X&&ve&&!oe&&!ze||_&&X&&ve||!y&&ve||!x)return 1;if(!_&&!H&&!ze&&l<c||ze&&y&&x&&!_&&!H||oe&&y&&x||!X&&x||!ve)return-1}return 0}function Zc(l,c,y,_){for(var x=-1,H=l.length,X=y.length,oe=-1,ve=c.length,ze=en(H-X,0),$e=Ae(ve+ze),Je=!_;++oe<ve;)$e[oe]=c[oe];for(;++x<X;)(Je||x<H)&&($e[y[x]]=l[x]);for(;ze--;)$e[oe++]=l[x++];return $e}function pp(l,c,y,_){for(var x=-1,H=l.length,X=-1,oe=y.length,ve=-1,ze=c.length,$e=en(H-oe,0),Je=Ae($e+ze),mt=!_;++x<$e;)Je[x]=l[x];for(var Lt=x;++ve<ze;)Je[Lt+ve]=c[ve];for(;++X<oe;)(mt||x<H)&&(Je[Lt+y[X]]=l[x++]);return Je}function hi(l,c){var y=-1,_=l.length;for(c||(c=Ae(_));++y<_;)c[y]=l[y];return c}function Do(l,c,y,_){var x=!y;y||(y={});for(var H=-1,X=c.length;++H<X;){var oe=c[H],ve=_?_(y[oe],l[oe],oe,y,l):w;ve===w&&(ve=l[oe]),x?Ki(y,oe,ve):ta(y,oe,ve)}return y}function Yu(l,c){return function(y,_){var x=jt(y)?ln:Nu,H=c?c():{};return x(y,l,Ut(_,2),H)}}function ua(l){return v(function(c,y){var _=-1,x=y.length,H=x>1?y[x-1]:w,X=x>2?y[2]:w;for(H=l.length>3&&"function"==typeof H?(x--,H):w,X&&ti(y[0],y[1],X)&&(H=x<3?w:H,x=1),c=cr(c);++_<x;){var oe=y[_];oe&&l(c,oe,_,H)}return c})}function fp(l,c){return function(y,_){if(null==y)return y;if(!mi(y))return l(y,_);for(var x=y.length,H=c?x:-1,X=cr(y);(c?H--:++H<x)&&!1!==_(X[H],H,X););return y}}function hp(l){return function(c,y,_){for(var x=-1,H=cr(c),X=_(c),oe=X.length;oe--;){var ve=X[l?oe:++x];if(!1===y(H[ve],ve,H))break}return c}}function gp(l){return function(c){var y=Cn(c=Vr(c))?di(c):w,_=y?y[0]:c.charAt(0),x=y?bs(y,1).join(""):c.slice(1);return _[l]()+x}}function Za(l){return function(c){return Oa(pf(df(c).replace(dl,"")),l,"")}}function Yl(l){return function(){var c=arguments;switch(c.length){case 0:return new l;case 1:return new l(c[0]);case 2:return new l(c[0],c[1]);case 3:return new l(c[0],c[1],c[2]);case 4:return new l(c[0],c[1],c[2],c[3]);case 5:return new l(c[0],c[1],c[2],c[3],c[4]);case 6:return new l(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new l(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var y=Es(l.prototype),_=l.apply(y,c);return rn(_)?_:y}}function vp(l){return function(c,y,_){var x=cr(c);if(!mi(c)){var H=Ut(y,3);c=bn(c),y=function(oe){return H(x[oe],oe,x)}}var X=l(c,y,_);return X>-1?x[H?c[X]:X]:w}}function ca(l){return qi(function(c){var y=c.length,_=y,x=Jn.prototype.thru;for(l&&c.reverse();_--;){var H=c[_];if("function"!=typeof H)throw new Wr(Ze);if(x&&!X&&"wrapper"==Fs(H))var X=new Jn([],!0)}for(_=X?_:y;++_<y;){var oe=Fs(H=c[_]),ve="wrapper"==oe?Xc(H):w;X=ve&&nd(ve[0])&&424==ve[1]&&!ve[4].length&&1==ve[9]?X[Fs(ve[0])].apply(X,ve[3]):1==H.length&&nd(H)?X[oe]():X.thru(H)}return function(){var ze=arguments,$e=ze[0];if(X&&1==ze.length&&jt($e))return X.plant($e).value();for(var Je=0,mt=y?c[Je].apply(this,ze):$e;++Je<y;)mt=c[Je].call(this,mt);return mt}})}function er(l,c,y,_,x,H,X,oe,ve,ze){var $e=128&c,Je=1&c,mt=2&c,Lt=24&c,zt=512&c,dr=mt?w:Yl(l);return function Kt(){for(var pr=arguments.length,Tr=Ae(pr),Ni=pr;Ni--;)Tr[Ni]=arguments[Ni];if(Lt)var fn=ga(Kt),Gi=function _l(pe,Ve){for(var Ae=pe.length,Ot=0;Ae--;)pe[Ae]===Ve&&++Ot;return Ot}(Tr,fn);if(_&&(Tr=Zc(Tr,_,x,Lt)),H&&(Tr=pp(Tr,H,X,Lt)),pr-=Gi,Lt&&pr<ze){var yn=xn(Tr,fn);return ei(l,c,er,Kt.placeholder,y,Tr,yn,oe,ve,ze-pr)}var wi=Je?y:this,Po=mt?wi[l]:l;return pr=Tr.length,oe?Tr=function Jf(l,c){for(var y=l.length,_=Sn(c.length,y),x=hi(l);_--;){var H=c[_];l[_]=ts(H,y)?x[H]:w}return l}(Tr,oe):zt&&pr>1&&Tr.reverse(),$e&&ve<pr&&(Tr.length=ve),this&&this!==Pr&&this instanceof Kt&&(Po=dr||Yl(Po)),Po.apply(wi,Tr)}}function yp(l,c){return function(y,_){return function zc(l,c,y,_){return bi(l,function(x,H,X){c(_,y(x),H,X)}),_}(y,l,c(_),{})}}function da(l,c){return function(y,_){var x;if(y===w&&_===w)return c;if(y!==w&&(x=y),_!==w){if(x===w)return _;"string"==typeof y||"string"==typeof _?(y=Or(y),_=Or(_)):(y=xr(y),_=xr(_)),x=l(y,_)}return x}}function $u(l){return qi(function(c){return c=kr(c,Dn(Ut())),v(function(y){var _=this;return l(c,function(x){return Hn(x,_,y)})})})}function $l(l,c){var y=(c=c===w?" ":Or(c)).length;if(y<2)return y?h(c,l):c;var _=h(c,xl(l/Bo(c)));return Cn(c)?bs(di(_),0,l).join(""):_.slice(0,l)}function Ps(l){return function(c,y,_){return _&&"number"!=typeof _&&ti(c,y,_)&&(y=_=w),c=ns(c),y===w?(y=c,c=0):y=ns(y),function u(l,c,y,_){for(var x=-1,H=en(xl((c-l)/(y||1)),0),X=Ae(H);H--;)X[_?H:++x]=l,l+=y;return X}(c,y,_=_===w?c<y?1:-1:ns(_),l)}}function pa(l){return function(c,y){return"string"==typeof c&&"string"==typeof y||(c=Ji(c),y=Ji(y)),l(c,y)}}function ei(l,c,y,_,x,H,X,oe,ve,ze){var $e=8&c;c|=$e?32:64,4&(c&=~($e?64:32))||(c&=-4);var dr=[l,c,x,$e?H:w,$e?X:w,$e?w:H,$e?w:X,oe,ve,ze],Kt=y.apply(w,dr);return nd(l)&&Tp(Kt,dr),Kt.placeholder=_,bp(Kt,l,c)}function fa(l){var c=tn[l];return function(y,_){if(y=Ji(y),(_=null==_?0:Sn(lr(_),292))&&ea(y)){var x=(Vr(y)+"e").split("e");return+((x=(Vr(c(x[0]+"e"+(+x[1]+_)))+"e").split("e"))[0]+"e"+(+x[1]-_))}return c(y)}}var es=Yo&&1/Vo(new Yo([,-0]))[1]==vr?function(l){return new Yo(l)}:bo;function En(l){return function(c){var y=kn(c);return y==Se?$s(c):y==Mt?function La(pe){var Ve=-1,Ae=Array(pe.size);return pe.forEach(function(Ot){Ae[++Ve]=[Ot,Ot]}),Ae}(c):function Fa(pe,Ve){return kr(Ve,function(Ae){return[Ae,pe[Ae]]})}(c,l(c))}}function Qi(l,c,y,_,x,H,X,oe){var ve=2&c;if(!ve&&"function"!=typeof l)throw new Wr(Ze);var ze=_?_.length:0;if(ze||(c&=-97,_=x=w),X=X===w?X:en(lr(X),0),oe=oe===w?oe:lr(oe),ze-=x?x.length:0,64&c){var $e=_,Je=x;_=x=w}var mt=ve?w:Xc(l),Lt=[l,c,y,_,x,$e,Je,H,X,oe];if(mt&&function Ap(l,c){var y=l[1],_=c[1],x=y|_;if(!(x<131)&&!(128==_&&8==y||128==_&&256==y&&l[7].length<=c[8]||384==_&&c[7].length<=c[8]&&8==y))return l;1&_&&(l[2]=c[2],x|=1&y?0:4);var oe=c[3];if(oe){var ve=l[3];l[3]=ve?Zc(ve,oe,c[4]):oe,l[4]=ve?xn(l[3],ie):c[4]}(oe=c[5])&&(l[5]=(ve=l[5])?pp(ve,oe,c[6]):oe,l[6]=ve?xn(l[5],ie):c[6]),(oe=c[7])&&(l[7]=oe),128&_&&(l[8]=null==l[8]?c[8]:Sn(l[8],c[8])),null==l[9]&&(l[9]=c[9]),l[0]=c[0],l[1]=x}(Lt,mt),l=Lt[0],c=Lt[1],y=Lt[2],_=Lt[3],x=Lt[4],!(oe=Lt[9]=Lt[9]===w?ve?0:l.length:en(Lt[9]-ze,0))&&24&c&&(c&=-25),c&&1!=c)zt=8==c||16==c?function Gf(l,c,y){var _=Yl(l);return function x(){for(var H=arguments.length,X=Ae(H),oe=H,ve=ga(x);oe--;)X[oe]=arguments[oe];var ze=H<3&&X[0]!==ve&&X[H-1]!==ve?[]:xn(X,ve);return(H-=ze.length)<y?ei(l,c,er,x.placeholder,w,X,ze,w,w,y-H):Hn(this&&this!==Pr&&this instanceof x?_:l,this,X)}}(l,c,oe):32!=c&&33!=c||x.length?er.apply(w,Lt):function Hf(l,c,y,_){var x=1&c,H=Yl(l);return function X(){for(var oe=-1,ve=arguments.length,ze=-1,$e=_.length,Je=Ae($e+ve),mt=this&&this!==Pr&&this instanceof X?H:l;++ze<$e;)Je[ze]=_[ze];for(;ve--;)Je[ze++]=arguments[++oe];return Hn(mt,x?y:this,Je)}}(l,c,y,_);else var zt=function Nf(l,c,y){var _=1&c,x=Yl(l);return function H(){return(this&&this!==Pr&&this instanceof H?x:l).apply(_?y:this,arguments)}}(l,c,y);return bp((mt?Z:Tp)(zt,Lt),l,c)}function Ja(l,c,y,_){return l===w||fo(l,fs[y])&&!Qt.call(_,y)?c:l}function Ql(l,c,y,_,x,H){return rn(l)&&rn(c)&&(H.set(c,l),sa(l,c,w,Ql,H),H.delete(c)),l}function mp(l){return au(l)?w:l}function Cp(l,c,y,_,x,H){var X=1&y,oe=l.length,ve=c.length;if(oe!=ve&&!(X&&ve>oe))return!1;var ze=H.get(l),$e=H.get(c);if(ze&&$e)return ze==c&&$e==l;var Je=-1,mt=!0,Lt=2&y?new Eo:w;for(H.set(l,c),H.set(c,l);++Je<oe;){var zt=l[Je],dr=c[Je];if(_)var Kt=X?_(dr,zt,Je,c,l,H):_(zt,dr,Je,l,c,H);if(Kt!==w){if(Kt)continue;mt=!1;break}if(Lt){if(!No(c,function(pr,Tr){if(!Di(Lt,Tr)&&(zt===pr||x(zt,pr,y,_,H)))return Lt.push(Tr)})){mt=!1;break}}else if(zt!==dr&&!x(zt,dr,y,_,H)){mt=!1;break}}return H.delete(l),H.delete(c),mt}function qi(l){return od(xp(l,w,qu),l+"")}function ha(l){return Ll(l,bn,td)}function Jc(l){return Ll(l,Ci,wp)}var Xc=Ss?function(l){return Ss.get(l)}:bo;function Fs(l){for(var c=l.name+"",y=$o[c],_=Qt.call($o,c)?y.length:0;_--;){var x=y[_],H=x.func;if(null==H||H==l)return x.name}return c}function ga(l){return(Qt.call(N,"placeholder")?N:l).placeholder}function Ut(){var l=N.iteratee||Nd;return l=l===Nd?gn:l,arguments.length?l(arguments[0],arguments[1]):l}function ql(l,c){var y=l.__data__;return function $f(l){var c=typeof l;return"string"==c||"number"==c||"symbol"==c||"boolean"==c?"__proto__"!==l:null===l}(c)?y["string"==typeof c?"string":"hash"]:y.map}function ed(l){for(var c=bn(l),y=c.length;y--;){var _=c[y],x=l[_];c[y]=[_,x,Ep(x)]}return c}function va(l,c){var y=function El(pe,Ve){return null==pe?w:pe[Ve]}(l,c);return Vl(y)?y:w}var td=Xs?function(l){return null==l?[]:(l=cr(l),ui(Xs(l),function(c){return gs.call(l,c)}))}:hu,wp=Xs?function(l){for(var c=[];l;)Vn(c,td(l)),l=Co(l);return c}:hu,kn=Mn;function Sp(l,c,y){for(var _=-1,x=(c=$i(c,l)).length,H=!1;++_<x;){var X=xo(c[_]);if(!(H=null!=l&&y(l,X)))break;l=l[X]}return H||++_!=x?H:!!(x=null==l?0:l.length)&&ac(x)&&ts(X,x)&&(jt(l)||wa(l))}function _p(l){return"function"!=typeof l.constructor||Zl(l)?{}:Es(Co(l))}function Yf(l){return jt(l)||wa(l)||!!(vs&&l&&l[vs])}function ts(l,c){var y=typeof l;return!!(c=c??Ar)&&("number"==y||"symbol"!=y&&xe.test(l))&&l>-1&&l%1==0&&l<c}function ti(l,c,y){if(!rn(y))return!1;var _=typeof c;return!!("number"==_?mi(y)&&ts(c,y.length):"string"==_&&c in y)&&fo(y[c],l)}function rd(l,c){if(jt(l))return!1;var y=typeof l;return!("number"!=y&&"symbol"!=y&&"boolean"!=y&&null!=l&&!In(l))||ur.test(l)||!st.test(l)||null!=c&&l in cr(c)}function nd(l){var c=Fs(l),y=N[c];if("function"!=typeof y||!(c in ar.prototype))return!1;if(l===y)return!0;var _=Xc(y);return!!_&&l===_[0]}(ao&&kn(new ao(new ArrayBuffer(1)))!=nn||So&&kn(new So)!=Se||Cs&&kn(Cs.resolve())!=it||Yo&&kn(new Yo)!=Mt||ws&&kn(new ws)!=je)&&(kn=function(l){var c=Mn(l),y=c==lt?l.constructor:w,_=y?ya(y):"";if(_)switch(_){case rp:return nn;case Lc:return Se;case Oi:return it;case Zr:return Mt;case np:return je}return c});var qf=Wo?rs:Gd;function Zl(l){var c=l&&l.constructor;return l===("function"==typeof c&&c.prototype||fs)}function Ep(l){return l==l&&!rn(l)}function Rp(l,c){return function(y){return null!=y&&y[l]===c&&(c!==w||l in cr(y))}}function xp(l,c,y){return c=en(c===w?l.length-1:c,0),function(){for(var _=arguments,x=-1,H=en(_.length-c,0),X=Ae(H);++x<H;)X[x]=_[c+x];x=-1;for(var oe=Ae(c+1);++x<c;)oe[x]=_[x];return oe[c]=y(X),Hn(l,this,oe)}}function Op(l,c){return c.length<2?l:qo(l,Be(c,0,-1))}function Qu(l,c){if(("constructor"!==c||"function"!=typeof l[c])&&"__proto__"!=c)return l[c]}var Tp=Pp(Z),Xa=Fc||function(l,c){return Pr.setTimeout(l,c)},od=Pp(ce);function bp(l,c,y){var _=c+"";return od(l,function Kf(l,c){var y=c.length;if(!y)return l;var _=y-1;return c[_]=(y>1?"& ":"")+c[_],c=c.join(y>2?", ":" "),l.replace(ot,"{\n/* [wrapped with "+c+"] */\n")}(_,function Xf(l,c){return Yn(pt,function(y){var _="_."+y[0];c&y[1]&&!ci(l,_)&&l.push(_)}),l.sort()}(function Uf(l){var c=l.match(Rt);return c?c[1].split(It):[]}(_),y)))}function Pp(l){var c=0,y=0;return function(){var _=Va(),x=16-(_-y);if(y=_,x>0){if(++c>=800)return arguments[0]}else c=0;return l.apply(w,arguments)}}function el(l,c){var y=-1,_=l.length,x=_-1;for(c=c===w?_:c;++y<c;){var H=f(y,x),X=l[H];l[H]=l[y],l[y]=X}return l.length=c,l}var Fp=function id(l){var c=ou(l,function(_){return 500===y.size&&y.clear(),_}),y=c.cache;return c}(function(l){var c=[];return 46===l.charCodeAt(0)&&c.push(""),l.replace(U,function(y,_,x,H){c.push(x?H.replace(on,"$1"):_||y)}),c});function xo(l){if("string"==typeof l||In(l))return l;var c=l+"";return"0"==c&&1/l==-vr?"-0":c}function ya(l){if(null!=l){try{return xi.call(l)}catch{}try{return l+""}catch{}}return""}function Mp(l){if(l instanceof ar)return l.clone();var c=new Jn(l.__wrapped__,l.__chain__);return c.__actions__=hi(l.__actions__),c.__index__=l.__index__,c.__values__=l.__values__,c}var nh=v(function(l,c){return vn(l)?Ds(l,cn(c,1,vn,!0)):[]}),tl=v(function(l,c){var y=ri(c);return vn(y)&&(y=w),vn(l)?Ds(l,cn(c,1,vn,!0),Ut(y,2)):[]}),ih=v(function(l,c){var y=ri(c);return vn(y)&&(y=w),vn(l)?Ds(l,cn(c,1,vn,!0),w,y):[]});function Lp(l,c,y){var _=null==l?0:l.length;if(!_)return-1;var x=null==y?0:lr(y);return x<0&&(x=en(_+x,0)),ki(l,Ut(c,3),x)}function ld(l,c,y){var _=null==l?0:l.length;if(!_)return-1;var x=_-1;return y!==w&&(x=lr(y),x=y<0?en(_+x,0):Sn(x,_-1)),ki(l,Ut(c,3),x,!0)}function qu(l){return null!=l&&l.length?cn(l,1):[]}function _r(l){return l&&l.length?l[0]:w}var lh=v(function(l){var c=kr(l,Pi);return c.length&&c[0]===l[0]?na(c):[]}),Jl=v(function(l){var c=ri(l),y=kr(l,Pi);return c===ri(y)?c=w:y.pop(),y.length&&y[0]===l[0]?na(y,Ut(c,2)):[]}),Np=v(function(l){var c=ri(l),y=kr(l,Pi);return(c="function"==typeof c?c:w)&&y.pop(),y.length&&y[0]===l[0]?na(y,w,c):[]});function ri(l){var c=null==l?0:l.length;return c?l[c-1]:w}var dh=v(Zu);function Zu(l,c){return l&&l.length&&c&&c.length?zl(l,c):l}var fh=qi(function(l,c){var y=null==l?0:l.length,_=Ml(l,c);return ju(l,kr(c,function(x){return ts(x,y)?+x:x}).sort(dp)),_});function ud(l){return null==l?l:Ic.call(l)}var Sh=v(function(l){return dn(cn(l,1,vn,!0))}),vi=v(function(l){var c=ri(l);return vn(c)&&(c=w),dn(cn(l,1,vn,!0),Ut(c,2))}),eu=v(function(l){var c=ri(l);return c="function"==typeof c?c:w,dn(cn(l,1,vn,!0),w,c)});function pd(l){if(!l||!l.length)return[];var c=0;return l=ui(l,function(y){if(vn(y))return c=en(y.length,c),!0}),Ui(c,function(y){return kr(l,ba(y))})}function Xu(l,c){if(!l||!l.length)return[];var y=pd(l);return null==c?y:kr(y,function(_){return Hn(c,w,_)})}var tu=v(function(l,c){return vn(l)?Ds(l,c):[]}),ru=v(function(l){return _n(ui(l,vn))}),Rh=v(function(l){var c=ri(l);return vn(c)&&(c=w),_n(ui(l,vn),Ut(c,2))}),Ah=v(function(l){var c=ri(l);return c="function"==typeof c?c:w,_n(ui(l,vn),w,c)}),Dh=v(pd),Th=v(function(l){var c=l.length,y=c>1?l[c-1]:w;return y="function"==typeof y?(l.pop(),y):w,Xu(l,y)});function Hp(l){var c=N(l);return c.__chain__=!0,c}function ec(l,c){return c(l)}var Ph=qi(function(l){var c=l.length,y=c?l[0]:0,_=this.__wrapped__,x=function(H){return Ml(H,l)};return!(c>1||this.__actions__.length)&&_ instanceof ar&&ts(y)?((_=_.slice(y,+y+(c?1:0))).__actions__.push({func:ec,args:[x],thisArg:w}),new Jn(_,this.__chain__).thru(function(H){return c&&!H.length&&H.push(w),H})):this.thru(x)}),Nh=Yu(function(l,c,y){Qt.call(l,y)?++l[y]:Ki(l,y,1)}),Vh=vp(Lp),Bh=vp(ld);function nu(l,c){return(jt(l)?Yn:Ro)(l,Ut(c,3))}function Bp(l,c){return(jt(l)?gl:Il)(l,Ut(c,3))}var jh=Yu(function(l,c,y){Qt.call(l,y)?l[y].push(c):Ki(l,y,[c])}),Kh=v(function(l,c,y){var _=-1,x="function"==typeof c,H=mi(l)?Ae(l.length):[];return Ro(l,function(X){H[++_]=x?Hn(c,X,y):Zo(X,c,y)}),H}),Yh=Yu(function(l,c,y){Ki(l,y,c)});function tc(l,c){return(jt(l)?kr:oa)(l,Ut(c,3))}var Qh=Yu(function(l,c,y){l[y?0:1].push(c)},function(){return[[],[]]}),eg=v(function(l,c){if(null==l)return[];var y=c.length;return y>1&&ti(l,c[0],c[1])?c=[]:y>2&&ti(c[0],c[1],c[2])&&(c=[c[0]]),Wu(l,cn(c,1),[])}),To=wn||function(){return Pr.Date.now()};function yi(l,c,y){return c=y?w:c,Qi(l,128,w,w,w,w,c=l&&null==c?l.length:c)}function kp(l,c){var y;if("function"!=typeof c)throw new Wr(Ze);return l=lr(l),function(){return--l>0&&(y=c.apply(this,arguments)),l<=1&&(c=w),y}}var vd=v(function(l,c,y){var _=1;if(y.length){var x=xn(y,ga(vd));_|=32}return Qi(l,_,c,y,x)}),Wp=v(function(l,c,y){var _=3;if(y.length){var x=xn(y,ga(Wp));_|=32}return Qi(c,_,l,y,x)});function jp(l,c,y){var _,x,H,X,oe,ve,ze=0,$e=!1,Je=!1,mt=!0;if("function"!=typeof l)throw new Wr(Ze);function Lt(yn){var wi=_,Po=x;return _=x=w,ze=yn,X=l.apply(Po,wi)}function Kt(yn){var wi=yn-ve;return ve===w||wi>=c||wi<0||Je&&yn-ze>=H}function pr(){var yn=To();if(Kt(yn))return Tr(yn);oe=Xa(pr,function dr(yn){var yf=c-(yn-ve);return Je?Sn(yf,H-(yn-ze)):yf}(yn))}function Tr(yn){return oe=w,mt&&_?Lt(yn):(_=x=w,X)}function Gi(){var yn=To(),wi=Kt(yn);if(_=arguments,x=this,ve=yn,wi){if(oe===w)return function zt(yn){return ze=yn,oe=Xa(pr,c),$e?Lt(yn):X}(ve);if(Je)return up(oe),oe=Xa(pr,c),Lt(ve)}return oe===w&&(oe=Xa(pr,c)),X}return c=Ji(c)||0,rn(y)&&($e=!!y.leading,H=(Je="maxWait"in y)?en(Ji(y.maxWait)||0,c):H,mt="trailing"in y?!!y.trailing:mt),Gi.cancel=function Ni(){oe!==w&&up(oe),ze=0,_=ve=x=oe=w},Gi.flush=function fn(){return oe===w?X:Tr(To())},Gi}var zp=v(function(l,c){return ra(l,1,c)}),rg=v(function(l,c,y){return ra(l,Ji(c)||0,y)});function ou(l,c){if("function"!=typeof l||null!=c&&"function"!=typeof c)throw new Wr(Ze);var y=function(){var _=arguments,x=c?c.apply(this,_):_[0],H=y.cache;if(H.has(x))return H.get(x);var X=l.apply(this,_);return y.cache=H.set(x,X)||H,X};return y.cache=new(ou.Cache||Xn),y}function rc(l){if("function"!=typeof l)throw new Wr(Ze);return function(){var c=arguments;switch(c.length){case 0:return!l.call(this);case 1:return!l.call(this,c[0]);case 2:return!l.call(this,c[0],c[1]);case 3:return!l.call(this,c[0],c[1],c[2])}return!l.apply(this,c)}}ou.Cache=Xn;var Kp=Fi(function(l,c){var y=(c=1==c.length&&jt(c[0])?kr(c[0],Dn(Ut())):kr(cn(c,1),Dn(Ut()))).length;return v(function(_){for(var x=-1,H=Sn(_.length,y);++x<H;)_[x]=c[x].call(this,_[x]);return Hn(l,this,_)})}),nc=v(function(l,c){var y=xn(c,ga(nc));return Qi(l,32,w,c,y)}),Yp=v(function(l,c){var y=xn(c,ga(Yp));return Qi(l,64,w,c,y)}),yd=qi(function(l,c){return Qi(l,256,w,w,w,c)});function fo(l,c){return l===c||l!=l&&c!=c}var ug=pa(Nl),$p=pa(function(l,c){return l>=c}),wa=Yi(function(){return arguments}())?Yi:function(l){return pn(l)&&Qt.call(l,"callee")&&!gs.call(l,"callee")},jt=Ae.isArray,cg=fl?Dn(fl):function Kc(l){return pn(l)&&Mn(l)==xt};function mi(l){return null!=l&&ac(l.length)&&!rs(l)}function vn(l){return pn(l)&&mi(l)}var Ns=Ol||Gd,dg=xu?Dn(xu):function Ts(l){return pn(l)&&Mn(l)==z};function Wn(l){if(!pn(l))return!1;var c=Mn(l);return c==re||"[object DOMException]"==c||"string"==typeof l.message&&"string"==typeof l.name&&!au(l)}function rs(l){if(!rn(l))return!1;var c=Mn(l);return c==_e||c==Me||"[object AsyncFunction]"==c||"[object Proxy]"==c}function qp(l){return"number"==typeof l&&l==lr(l)}function ac(l){return"number"==typeof l&&l>-1&&l%1==0&&l<=Ar}function rn(l){var c=typeof l;return null!=l&&("object"==c||"function"==c)}function pn(l){return null!=l&&"object"==typeof l}var Zp=hl?Dn(hl):function lp(l){return pn(l)&&kn(l)==Se};function _d(l){return"number"==typeof l||pn(l)&&Mn(l)==Re}function au(l){if(!pn(l)||Mn(l)!=lt)return!1;var c=Co(l);if(null===c)return!0;var y=Qt.call(c,"constructor")&&c.constructor;return"function"==typeof y&&y instanceof y&&xi.call(y)==Pc}var Sa=an?Dn(an):function $a(l){return pn(l)&&Mn(l)==or},Jp=Kn?Dn(Kn):function Qr(l){return pn(l)&&kn(l)==Mt};function lc(l){return"string"==typeof l||!jt(l)&&pn(l)&&Mn(l)==Et}function In(l){return"symbol"==typeof l||pn(l)&&Mn(l)==we}var rl=xa?Dn(xa):function Yc(l){return pn(l)&&ac(l.length)&&!!Br[Mn(l)]},_g=pa(kl),uc=pa(function(l,c){return l<=c});function ef(l){if(!l)return[];if(mi(l))return lc(l)?di(l):hi(l);if(un&&l[un])return function Ho(pe){for(var Ve,Ae=[];!(Ve=pe.next()).done;)Ae.push(Ve.value);return Ae}(l[un]());var c=kn(l);return(c==Se?$s:c==Mt?Vo:il)(l)}function ns(l){return l?(l=Ji(l))===vr||l===-vr?17976931348623157e292*(l<0?-1:1):l==l?l:0:0===l?l:0}function lr(l){var c=ns(l),y=c%1;return c==c?y?c-y:c:0}function tf(l){return l?co(lr(l),0,Ne):0}function Ji(l){if("number"==typeof l)return l;if(In(l))return NaN;if(rn(l)){var c="function"==typeof l.valueOf?l.valueOf():l;l=rn(c)?c+"":c}if("string"!=typeof l)return 0===l?l:+l;l=Ks(l);var y=k.test(l);return y||ge.test(l)?mn(l.slice(2),y?2:8):D.test(l)?NaN:+l}function Ed(l){return Do(l,Ci(l))}function Vr(l){return null==l?"":Or(l)}var Eg=ua(function(l,c){if(Zl(c)||mi(c))Do(c,bn(c),l);else for(var y in c)Qt.call(c,y)&&ta(l,y,c[y])}),cc=ua(function(l,c){Do(c,Ci(c),l)}),dc=ua(function(l,c,y,_){Do(c,Ci(c),l,_)}),pc=ua(function(l,c,y,_){Do(c,bn(c),l,_)}),Rg=qi(Ml),Rd=v(function(l,c){l=cr(l);var y=-1,_=c.length,x=_>2?c[2]:w;for(x&&ti(c[0],c[1],x)&&(_=1);++y<_;)for(var H=c[y],X=Ci(H),oe=-1,ve=X.length;++oe<ve;){var ze=X[oe],$e=l[ze];($e===w||fo($e,fs[ze])&&!Qt.call(l,ze))&&(l[ze]=H[ze])}return l}),Dg=v(function(l){return l.push(w,Ql),Hn(sf,w,l)});function Od(l,c,y){var _=null==l?w:qo(l,c);return _===w?y:_}function Td(l,c){return null!=l&&Sp(l,c,jc)}var Pg=yp(function(l,c,y){null!=c&&"function"!=typeof c.toString&&(c=sr.call(c)),l[c]=y},Ld(Ln)),nf=yp(function(l,c,y){null!=c&&"function"!=typeof c.toString&&(c=sr.call(c)),Qt.call(l,c)?l[c].push(y):l[c]=[y]},Ut),lu=v(Zo);function bn(l){return mi(l)?kc(l):Qa(l)}function Ci(l){return mi(l)?kc(l,!0):function Bl(l){if(!rn(l))return function Dp(l){var c=[];if(null!=l)for(var y in cr(l))c.push(y);return c}(l);var c=Zl(l),y=[];for(var _ in l)"constructor"==_&&(c||!Qt.call(l,_))||y.push(_);return y}(l)}var Fg=ua(function(l,c,y){sa(l,c,y)}),sf=ua(function(l,c,y,_){sa(l,c,y,_)}),nl=qi(function(l,c){var y={};if(null==l)return y;var _=!1;c=kr(c,function(H){return H=$i(H,l),_||(_=H.length>1),H}),Do(l,Jc(l),y),_&&(y=On(y,7,mp));for(var x=c.length;x--;)fi(y,c[x]);return y}),is=qi(function(l,c){return null==l?{}:function jl(l,c){return Uu(l,c,function(y,_){return Td(l,_)})}(l,c)});function af(l,c){if(null==l)return{};var y=kr(Jc(l),function(_){return[_]});return c=Ut(c),Uu(l,y,function(_,x){return c(_,x[0])})}var lf=En(bn),uf=En(Ci);function il(l){return null==l?[]:Sl(l,bn(l))}var ol=Za(function(l,c,y){return c=c.toLowerCase(),l+(y?cf(c):c)});function cf(l){return Id(Vr(l).toLowerCase())}function df(l){return(l=Vr(l))&&l.replace(P,ji).replace(Dc,"")}var Fd=Za(function(l,c,y){return l+(y?"-":"")+c.toLowerCase()}),Ug=Za(function(l,c,y){return l+(y?" ":"")+c.toLowerCase()}),cu=gp("toLowerCase"),$g=Za(function(l,c,y){return l+(y?"_":"")+c.toLowerCase()}),qg=Za(function(l,c,y){return l+(y?" ":"")+Id(c)}),tv=Za(function(l,c,y){return l+(y?" ":"")+c.toUpperCase()}),Id=gp("toUpperCase");function pf(l,c,y){return l=Vr(l),(c=y?w:c)===w?function Ia(pe){return li.test(pe)}(l)?function bu(pe){return pe.match(oo)||[]}(l):function Ai(pe){return pe.match(tr)||[]}(l):l.match(c)||[]}var ff=v(function(l,c){try{return Hn(l,w,c)}catch(y){return Wn(y)?y:new Xt(y)}}),rv=qi(function(l,c){return Yn(c,function(y){y=xo(y),Ki(l,y,vd(l[y],l))}),l});function Ld(l){return function(){return l}}var iv=ca(),ov=ca(!0);function Ln(l){return l}function Nd(l){return gn("function"==typeof l?l:On(l,1))}var lv=v(function(l,c){return function(y){return Zo(y,l,c)}}),uv=v(function(l,c){return function(y){return Zo(l,y,c)}});function Li(l,c,y){var _=bn(c),x=Ao(c,_);null==y&&(!rn(c)||!x.length&&_.length)&&(y=c,c=l,l=this,x=Ao(c,bn(c)));var H=!(rn(y)&&"chain"in y&&!y.chain),X=rs(l);return Yn(x,function(oe){var ve=c[oe];l[oe]=ve,X&&(l.prototype[oe]=function(){var ze=this.__chain__;if(H||ze){var $e=l(this.__wrapped__);return($e.__actions__=hi(this.__actions__)).push({func:ve,args:arguments,thisArg:l}),$e.__chain__=ze,$e}return ve.apply(l,Vn([this.value()],arguments))})}),l}function bo(){}var dv=$u(kr),pv=$u(vl),fv=$u(No);function hf(l){return rd(l)?ba(xo(l)):function Qc(l){return function(c){return qo(c,l)}}(l)}var hv=Ps(),gv=Ps(!0);function hu(){return[]}function Gd(){return!1}var Cv=da(function(l,c){return l+c},0),wv=fa("ceil"),Sv=da(function(l,c){return l/c},1),Bd=fa("floor"),xv=da(function(l,c){return l*c},1),Ov=fa("round"),Tv=da(function(l,c){return l-c},0);return N.after=function tg(l,c){if("function"!=typeof c)throw new Wr(Ze);return l=lr(l),function(){if(--l<1)return c.apply(this,arguments)}},N.ary=yi,N.assign=Eg,N.assignIn=cc,N.assignInWith=dc,N.assignWith=pc,N.at=Rg,N.before=kp,N.bind=vd,N.bindAll=rv,N.bindKey=Wp,N.castArray=function Ls(){if(!arguments.length)return[];var l=arguments[0];return jt(l)?l:[l]},N.chain=Hp,N.chunk=function eh(l,c,y){c=(y?ti(l,c,y):c===w)?1:en(lr(c),0);var _=null==l?0:l.length;if(!_||c<1)return[];for(var x=0,H=0,X=Ae(xl(_/c));x<_;)X[H++]=Be(l,x,x+=c);return X},N.compact=function th(l){for(var c=-1,y=null==l?0:l.length,_=0,x=[];++c<y;){var H=l[c];H&&(x[_++]=H)}return x},N.concat=function rh(){var l=arguments.length;if(!l)return[];for(var c=Ae(l-1),y=arguments[0],_=l;_--;)c[_-1]=arguments[_];return Vn(jt(y)?hi(y):[y],cn(c,1))},N.cond=function mc(l){var c=null==l?0:l.length,y=Ut();return l=c?kr(l,function(_){if("function"!=typeof _[1])throw new Wr(Ze);return[y(_[0]),_[1]]}):[],v(function(_){for(var x=-1;++x<c;){var H=l[x];if(Hn(H[0],this,_))return Hn(H[1],this,_)}})},N.conforms=function nv(l){return function Qo(l){var c=bn(l);return function(y){return Uc(y,l,c)}}(On(l,1))},N.constant=Ld,N.countBy=Nh,N.create=function Ag(l,c){var y=Es(l);return null==c?y:Fl(y,c)},N.curry=function iu(l,c,y){var _=Qi(l,8,w,w,w,w,w,c=y?w:c);return _.placeholder=iu.placeholder,_},N.curryRight=function Up(l,c,y){var _=Qi(l,16,w,w,w,w,w,c=y?w:c);return _.placeholder=Up.placeholder,_},N.debounce=jp,N.defaults=Rd,N.defaultsDeep=Dg,N.defer=zp,N.delay=rg,N.difference=nh,N.differenceBy=tl,N.differenceWith=ih,N.drop=function sd(l,c,y){var _=null==l?0:l.length;return _?Be(l,(c=y||c===w?1:lr(c))<0?0:c,_):[]},N.dropRight=function oh(l,c,y){var _=null==l?0:l.length;return _?Be(l,0,(c=_-(c=y||c===w?1:lr(c)))<0?0:c):[]},N.dropRightWhile=function ad(l,c){return l&&l.length?po(l,Ut(c,3),!0,!0):[]},N.dropWhile=function sh(l,c){return l&&l.length?po(l,Ut(c,3),!0):[]},N.fill=function Ip(l,c,y,_){var x=null==l?0:l.length;return x?(y&&"number"!=typeof y&&ti(l,c,y)&&(y=0,_=x),function Os(l,c,y,_){var x=l.length;for((y=lr(y))<0&&(y=-y>x?0:x+y),(_=_===w||_>x?x:lr(_))<0&&(_+=x),_=y>_?0:tf(_);y<_;)l[y++]=c;return l}(l,c,y,_)):[]},N.filter=function Hh(l,c){return(jt(l)?ui:Vu)(l,Ut(c,3))},N.flatMap=function kh(l,c){return cn(tc(l,c),1)},N.flatMapDeep=function Wh(l,c){return cn(tc(l,c),vr)},N.flatMapDepth=function Uh(l,c,y){return y=y===w?1:lr(y),cn(tc(l,c),y)},N.flatten=qu,N.flattenDeep=function Zv(l){return null!=l&&l.length?cn(l,vr):[]},N.flattenDepth=function Ms(l,c){return null!=l&&l.length?cn(l,c=c===w?1:lr(c)):[]},N.flip=function ng(l){return Qi(l,512)},N.flow=iv,N.flowRight=ov,N.fromPairs=function Mr(l){for(var c=-1,y=null==l?0:l.length,_={};++c<y;){var x=l[c];_[x[0]]=x[1]}return _},N.functions=function xd(l){return null==l?[]:Ao(l,bn(l))},N.functionsIn=function bg(l){return null==l?[]:Ao(l,Ci(l))},N.groupBy=jh,N.initial=function ah(l){return null!=l&&l.length?Be(l,0,-1):[]},N.intersection=lh,N.intersectionBy=Jl,N.intersectionWith=Np,N.invert=Pg,N.invertBy=nf,N.invokeMap=Kh,N.iteratee=Nd,N.keyBy=Yh,N.keys=bn,N.keysIn=Ci,N.map=tc,N.mapKeys=function uu(l,c){var y={};return c=Ut(c,3),bi(l,function(_,x,H){Ki(y,c(_,x,H),_)}),y},N.mapValues=function Ii(l,c){var y={};return c=Ut(c,3),bi(l,function(_,x,H){Ki(y,x,c(_,x,H))}),y},N.matches=function sv(l){return Wl(On(l,1))},N.matchesProperty=function av(l,c){return Ul(l,On(c,1))},N.memoize=ou,N.merge=Fg,N.mergeWith=sf,N.method=lv,N.methodOf=uv,N.mixin=Li,N.negate=rc,N.nthArg=function cv(l){return l=lr(l),v(function(c){return qa(c,l)})},N.omit=nl,N.omitBy=function Mg(l,c){return af(l,rc(Ut(c)))},N.once=function ig(l){return kp(2,l)},N.orderBy=function $h(l,c,y,_){return null==l?[]:(jt(c)||(c=null==c?[]:[c]),jt(y=_?w:y)||(y=null==y?[]:[y]),Wu(l,c,y))},N.over=dv,N.overArgs=Kp,N.overEvery=pv,N.overSome=fv,N.partial=nc,N.partialRight=Yp,N.partition=Qh,N.pick=is,N.pickBy=af,N.property=hf,N.propertyOf=function gf(l){return function(c){return null==l?w:qo(l,c)}},N.pull=dh,N.pullAll=Zu,N.pullAllBy=function ph(l,c,y){return l&&l.length&&c&&c.length?zl(l,c,Ut(y,2)):l},N.pullAllWith=function Xl(l,c,y){return l&&l.length&&c&&c.length?zl(l,c,w,y):l},N.pullAt=fh,N.range=hv,N.rangeRight=gv,N.rearg=yd,N.reject=function Ca(l,c){return(jt(l)?ui:Vu)(l,rc(Ut(c,3)))},N.remove=function hh(l,c){var y=[];if(!l||!l.length)return y;var _=-1,x=[],H=l.length;for(c=Ut(c,3);++_<H;){var X=l[_];c(X,_,l)&&(y.push(X),x.push(_))}return ju(l,x),y},N.rest=function og(l,c){if("function"!=typeof l)throw new Wr(Ze);return v(l,c=c===w?c:lr(c))},N.reverse=ud,N.sampleSize=function Xh(l,c,y){return c=(y?ti(l,c,y):c===w)?1:lr(c),(jt(l)?bl:R)(l,c)},N.set=function hc(l,c,y){return null==l?l:I(l,c,y)},N.setWith=function Lg(l,c,y,_){return _="function"==typeof _?_:w,null==l?l:I(l,c,y,_)},N.shuffle=function hd(l){return(jt(l)?Wc:Pe)(l)},N.slice=function Rn(l,c,y){var _=null==l?0:l.length;return _?(y&&"number"!=typeof y&&ti(l,c,y)?(c=0,y=_):(c=null==c?0:lr(c),y=y===w?_:lr(y)),Be(l,c,y)):[]},N.sortBy=eg,N.sortedUniq=function vh(l){return l&&l.length?Hr(l):[]},N.sortedUniqBy=function yh(l,c){return l&&l.length?Hr(l,Ut(c,2)):[]},N.split=function Qg(l,c,y){return y&&"number"!=typeof y&&ti(l,c,y)&&(c=y=w),(y=y===w?Ne:y>>>0)?(l=Vr(l))&&("string"==typeof c||null!=c&&!Sa(c))&&!(c=Or(c))&&Cn(l)?bs(di(l),0,y):l.split(c,y):[]},N.spread=function sg(l,c){if("function"!=typeof l)throw new Wr(Ze);return c=null==c?0:en(lr(c),0),v(function(y){var _=y[c],x=bs(y,0,c);return _&&Vn(x,_),Hn(l,this,x)})},N.tail=function dd(l){var c=null==l?0:l.length;return c?Be(l,1,c):[]},N.take=function Zi(l,c,y){return l&&l.length?Be(l,0,(c=y||c===w?1:lr(c))<0?0:c):[]},N.takeRight=function mh(l,c,y){var _=null==l?0:l.length;return _?Be(l,(c=_-(c=y||c===w?1:lr(c)))<0?0:c,_):[]},N.takeRightWhile=function Ch(l,c){return l&&l.length?po(l,Ut(c,3),!1,!0):[]},N.takeWhile=function wh(l,c){return l&&l.length?po(l,Ut(c,3)):[]},N.tap=function bh(l,c){return c(l),l},N.throttle=function md(l,c,y){var _=!0,x=!0;if("function"!=typeof l)throw new Wr(Ze);return rn(y)&&(_="leading"in y?!!y.leading:_,x="trailing"in y?!!y.trailing:x),jp(l,c,{leading:_,maxWait:c,trailing:x})},N.thru=ec,N.toArray=ef,N.toPairs=lf,N.toPairsIn=uf,N.toPath=function mv(l){return jt(l)?kr(l,xo):In(l)?[l]:hi(Fp(Vr(l)))},N.toPlainObject=Ed,N.transform=function Ng(l,c,y){var _=jt(l),x=_||Ns(l)||rl(l);if(c=Ut(c,4),null==y){var H=l&&l.constructor;y=x?_?new H:[]:rn(l)&&rs(H)?Es(Co(l)):{}}return(x?Yn:bi)(l,function(X,oe,ve){return c(y,X,oe,ve)}),y},N.unary=function Cd(l){return yi(l,1)},N.union=Sh,N.unionBy=vi,N.unionWith=eu,N.uniq=function Gp(l){return l&&l.length?dn(l):[]},N.uniqBy=function _h(l,c){return l&&l.length?dn(l,Ut(c,2)):[]},N.uniqWith=function Eh(l,c){return c="function"==typeof c?c:w,l&&l.length?dn(l,w,c):[]},N.unset=function Gg(l,c){return null==l||fi(l,c)},N.unzip=pd,N.unzipWith=Xu,N.update=function gc(l,c,y){return null==l?l:Jo(l,c,aa(y))},N.updateWith=function Hg(l,c,y,_){return _="function"==typeof _?_:w,null==l?l:Jo(l,c,aa(y),_)},N.values=il,N.valuesIn=function vc(l){return null==l?[]:Sl(l,Ci(l))},N.without=tu,N.words=pf,N.wrap=function ag(l,c){return nc(aa(c),l)},N.xor=ru,N.xorBy=Rh,N.xorWith=Ah,N.zip=Dh,N.zipObject=function xh(l,c){return Xo(l||[],c||[],ta)},N.zipObjectDeep=function Oh(l,c){return Xo(l||[],c||[],I)},N.zipWith=Th,N.entries=lf,N.entriesIn=uf,N.extend=cc,N.extendWith=dc,Li(N,N),N.add=Cv,N.attempt=ff,N.camelCase=ol,N.capitalize=cf,N.ceil=wv,N.clamp=function Vg(l,c,y){return y===w&&(y=c,c=w),y!==w&&(y=(y=Ji(y))==y?y:0),c!==w&&(c=(c=Ji(c))==c?c:0),co(Ji(l),c,y)},N.clone=function ic(l){return On(l,4)},N.cloneDeep=function Fe(l){return On(l,5)},N.cloneDeepWith=function Tn(l,c){return On(l,5,c="function"==typeof c?c:w)},N.cloneWith=function oc(l,c){return On(l,4,c="function"==typeof c?c:w)},N.conformsTo=function lg(l,c){return null==c||Uc(l,c,bn(c))},N.deburr=df,N.defaultTo=function fu(l,c){return null==l||l!=l?c:l},N.divide=Sv,N.endsWith=function kg(l,c,y){l=Vr(l),c=Or(c);var _=l.length,x=y=y===w?_:co(lr(y),0,_);return(y-=c.length)>=0&&l.slice(y,x)==c},N.eq=fo,N.escape=function Wg(l){return(l=Vr(l))&&de.test(l)?l.replace(le,Ys):l},N.escapeRegExp=function Pd(l){return(l=Vr(l))&&ue.test(l)?l.replace(Q,"\\$&"):l},N.every=function Gh(l,c,y){var _=jt(l)?vl:Hu;return y&&ti(l,c,y)&&(c=w),_(l,Ut(c,3))},N.find=Vh,N.findIndex=Lp,N.findKey=function rf(l,c){return Cl(l,Ut(c,3),bi)},N.findLast=Bh,N.findLastIndex=ld,N.findLastKey=function Ad(l,c){return Cl(l,Ut(c,3),Ya)},N.floor=Bd,N.forEach=nu,N.forEachRight=Bp,N.forIn=function xg(l,c){return null==l?l:za(l,Ut(c,3),Ci)},N.forInRight=function Dd(l,c){return null==l?l:Ka(l,Ut(c,3),Ci)},N.forOwn=function Og(l,c){return l&&bi(l,Ut(c,3))},N.forOwnRight=function Tg(l,c){return l&&Ya(l,Ut(c,3))},N.get=Od,N.gt=ug,N.gte=$p,N.has=function fc(l,c){return null!=l&&Sp(l,c,Bu)},N.hasIn=Td,N.head=_r,N.identity=Ln,N.includes=function zh(l,c,y,_){l=mi(l)?l:il(l),y=y&&!_?lr(y):0;var x=l.length;return y<0&&(y=en(x+y,0)),lc(l)?y<=x&&l.indexOf(c,y)>-1:!!x&&yo(l,c,y)>-1},N.indexOf=function ma(l,c,y){var _=null==l?0:l.length;if(!_)return-1;var x=null==y?0:lr(y);return x<0&&(x=en(_+x,0)),yo(l,c,x)},N.inRange=function bd(l,c,y){return c=ns(c),y===w?(y=c,c=0):y=ns(y),function Gl(l,c,y){return l>=Sn(c,y)&&l<en(c,y)}(l=Ji(l),c,y)},N.invoke=lu,N.isArguments=wa,N.isArray=jt,N.isArrayBuffer=cg,N.isArrayLike=mi,N.isArrayLikeObject=vn,N.isBoolean=function wd(l){return!0===l||!1===l||pn(l)&&Mn(l)==He},N.isBuffer=Ns,N.isDate=dg,N.isElement=function Qp(l){return pn(l)&&1===l.nodeType&&!au(l)},N.isEmpty=function pg(l){if(null==l)return!0;if(mi(l)&&(jt(l)||"string"==typeof l||"function"==typeof l.splice||Ns(l)||rl(l)||wa(l)))return!l.length;var c=kn(l);if(c==Se||c==Mt)return!l.size;if(Zl(l))return!Qa(l).length;for(var y in l)if(Qt.call(l,y))return!1;return!0},N.isEqual=function fg(l,c){return ia(l,c)},N.isEqualWith=function sc(l,c,y){var _=(y="function"==typeof y?y:w)?y(l,c):w;return _===w?ia(l,c,w,y):!!_},N.isError=Wn,N.isFinite=function hg(l){return"number"==typeof l&&ea(l)},N.isFunction=rs,N.isInteger=qp,N.isLength=ac,N.isMap=Zp,N.isMatch=function gg(l,c){return l===c||Hl(l,c,ed(c))},N.isMatchWith=function vg(l,c,y){return y="function"==typeof y?y:w,Hl(l,c,ed(c),y)},N.isNaN=function Sd(l){return _d(l)&&l!=+l},N.isNative=function su(l){if(qf(l))throw new Xt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Vl(l)},N.isNil=function mg(l){return null==l},N.isNull=function yg(l){return null===l},N.isNumber=_d,N.isObject=rn,N.isObjectLike=pn,N.isPlainObject=au,N.isRegExp=Sa,N.isSafeInteger=function Cg(l){return qp(l)&&l>=-Ar&&l<=Ar},N.isSet=Jp,N.isString=lc,N.isSymbol=In,N.isTypedArray=rl,N.isUndefined=function wg(l){return l===w},N.isWeakMap=function Sg(l){return pn(l)&&kn(l)==je},N.isWeakSet=function Xp(l){return pn(l)&&"[object WeakSet]"==Mn(l)},N.join=function uh(l,c){return null==l?"":Pu.call(l,c)},N.kebabCase=Fd,N.last=ri,N.lastIndexOf=function Oo(l,c,y){var _=null==l?0:l.length;if(!_)return-1;var x=_;return y!==w&&(x=(x=lr(y))<0?en(_+x,0):Sn(x,_-1)),c==c?function Al(pe,Ve,Ae){for(var Ot=Ae+1;Ot--;)if(pe[Ot]===Ve)return Ot;return Ot}(l,c,x):ki(l,wl,x,!0)},N.lowerCase=Ug,N.lowerFirst=cu,N.lt=_g,N.lte=uc,N.max=function _v(l){return l&&l.length?xs(l,Ln,Nl):w},N.maxBy=function Ev(l,c){return l&&l.length?xs(l,Ut(c,2),Nl):w},N.mean=function vf(l){return Wi(l,Ln)},N.meanBy=function Rv(l,c){return Wi(l,Ut(c,2))},N.min=function Av(l){return l&&l.length?xs(l,Ln,kl):w},N.minBy=function Dv(l,c){return l&&l.length?xs(l,Ut(c,2),kl):w},N.stubArray=hu,N.stubFalse=Gd,N.stubObject=function vv(){return{}},N.stubString=function Hd(){return""},N.stubTrue=function yv(){return!0},N.multiply=xv,N.nth=function ch(l,c){return l&&l.length?qa(l,lr(c)):w},N.noConflict=function Gs(){return Pr._===this&&(Pr._=Uo),this},N.noop=bo,N.now=To,N.pad=function os(l,c,y){l=Vr(l);var _=(c=lr(c))?Bo(l):0;if(!c||_>=c)return l;var x=(c-_)/2;return $l(ys(x),y)+l+$l(xl(x),y)},N.padEnd=function jg(l,c,y){l=Vr(l);var _=(c=lr(c))?Bo(l):0;return c&&_<c?l+$l(c-_,y):l},N.padStart=function zg(l,c,y){l=Vr(l);var _=(c=lr(c))?Bo(l):0;return c&&_<c?$l(c-_,y)+l:l},N.parseInt=function du(l,c,y){return y||null==c?c=0:c&&(c=+c),ms(Vr(l).replace(Ee,""),c||0)},N.random=function Bg(l,c,y){if(y&&"boolean"!=typeof y&&ti(l,c,y)&&(c=y=w),y===w&&("boolean"==typeof c?(y=c,c=w):"boolean"==typeof l&&(y=l,l=w)),l===w&&c===w?(l=0,c=1):(l=ns(l),c===w?(c=l,l=0):c=ns(c)),l>c){var _=l;l=c,c=_}if(y||l%1||c%1){var x=qn();return Sn(l+x*(c-l+Ri("1e-"+((x+"").length-1))),c)}return f(l,c)},N.reduce=function qh(l,c,y){var _=jt(l)?Oa:Pa,x=arguments.length<3;return _(l,Ut(c,4),y,x,Ro)},N.reduceRight=function Zh(l,c,y){var _=jt(l)?yl:Pa,x=arguments.length<3;return _(l,Ut(c,4),y,x,Il)},N.repeat=function Kg(l,c,y){return c=(y?ti(l,c,y):c===w)?1:lr(c),h(Vr(l),c)},N.replace=function Yg(){var l=arguments,c=Vr(l[0]);return l.length<3?c:c.replace(l[1],l[2])},N.result=function Ig(l,c,y){var _=-1,x=(c=$i(c,l)).length;for(x||(x=1,l=w);++_<x;){var H=null==l?w:l[xo(c[_])];H===w&&(_=x,H=y),l=rs(H)?H.call(l):H}return l},N.round=Ov,N.runInContext=pe,N.sample=function Jh(l){return(jt(l)?tt:S)(l)},N.size=function gd(l){if(null==l)return 0;if(mi(l))return lc(l)?Bo(l):l.length;var c=kn(l);return c==Se||c==Mt?l.size:Qa(l).length},N.snakeCase=$g,N.some=function Mi(l,c,y){var _=jt(l)?No:wt;return y&&ti(l,c,y)&&(c=w),_(l,Ut(c,3))},N.sortedIndex=function cd(l,c){return ct(l,c)},N.sortedIndexBy=function gh(l,c,y){return Ht(l,c,Ut(y,2))},N.sortedIndexOf=function Ju(l,c){var y=null==l?0:l.length;if(y){var _=ct(l,c);if(_<y&&fo(l[_],c))return _}return-1},N.sortedLastIndex=function Is(l,c){return ct(l,c,!0)},N.sortedLastIndexBy=function ni(l,c,y){return Ht(l,c,Ut(y,2),!0)},N.sortedLastIndexOf=function gi(l,c){if(null!=l&&l.length){var _=ct(l,c,!0)-1;if(fo(l[_],c))return _}return-1},N.startCase=qg,N.startsWith=function Md(l,c,y){return l=Vr(l),y=null==y?0:co(lr(y),0,l.length),c=Or(c),l.slice(y,y+c.length)==c},N.subtract=Tv,N.sum=function bv(l){return l&&l.length?zs(l,Ln):0},N.sumBy=function Pv(l,c){return l&&l.length?zs(l,Ut(c,2)):0},N.template=function Zg(l,c,y){var _=N.templateSettings;y&&ti(l,c,y)&&(c=w),l=Vr(l),c=dc({},c,_,Ja);var oe,ve,x=dc({},c.imports,_.imports,Ja),H=bn(x),X=Sl(x,H),ze=0,$e=c.interpolate||ne,Je="__p += '",mt=Zs((c.escape||ne).source+"|"+$e.source+"|"+($e===nt?Mo:ne).source+"|"+(c.evaluate||ne).source+"|$","g"),Lt="//# sourceURL="+(Qt.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++xc+"]")+"\n";l.replace(mt,function(Kt,pr,Tr,Ni,fn,Gi){return Tr||(Tr=Ni),Je+=l.slice(ze,Gi).replace(q,cs),pr&&(oe=!0,Je+="' +\n__e("+pr+") +\n'"),fn&&(ve=!0,Je+="';\n"+fn+";\n__p += '"),Tr&&(Je+="' +\n((__t = ("+Tr+")) == null ? '' : __t) +\n'"),ze=Gi+Kt.length,Kt}),Je+="';\n";var zt=Qt.call(c,"variable")&&c.variable;if(zt){if(Lr.test(zt))throw new Xt("Invalid `variable` option passed into `_.template`")}else Je="with (obj) {\n"+Je+"\n}\n";Je=(ve?Je.replace(V,""):Je).replace(T,"$1").replace(K,"$1;"),Je="function("+(zt||"obj")+") {\n"+(zt?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(oe?", __e = _.escape":"")+(ve?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Je+"return __p\n}";var dr=ff(function(){return Fr(H,Lt+"return "+Je).apply(w,X)});if(dr.source=Je,Wn(dr))throw dr;return dr},N.times=function Vd(l,c){if((l=lr(l))<1||l>Ar)return[];var y=Ne,_=Sn(l,Ne);c=Ut(c),l-=Ne;for(var x=Ui(_,c);++y<l;)c(y);return x},N.toFinite=ns,N.toInteger=lr,N.toLength=tf,N.toLower=function Jg(l){return Vr(l).toLowerCase()},N.toNumber=Ji,N.toSafeInteger=function Un(l){return l?co(lr(l),-Ar,Ar):0===l?l:0},N.toString=Vr,N.toUpper=function pu(l){return Vr(l).toUpperCase()},N.trim=function Xg(l,c,y){if((l=Vr(l))&&(y||c===w))return Ks(l);if(!l||!(c=Or(c)))return l;var _=di(l),x=di(c);return bs(_,Go(_,x),Ma(_,x)+1).join("")},N.trimEnd=function ev(l,c,y){if((l=Vr(l))&&(y||c===w))return l.slice(0,Dl(l)+1);if(!l||!(c=Or(c)))return l;var _=di(l);return bs(_,0,Ma(_,di(c))+1).join("")},N.trimStart=function yc(l,c,y){if((l=Vr(l))&&(y||c===w))return l.replace(Ee,"");if(!l||!(c=Or(c)))return l;var _=di(l);return bs(_,Go(_,di(c))).join("")},N.truncate=function Jv(l,c){var y=30,_="...";if(rn(c)){var x="separator"in c?c.separator:x;y="length"in c?lr(c.length):y,_="omission"in c?Or(c.omission):_}var H=(l=Vr(l)).length;if(Cn(l)){var X=di(l);H=X.length}if(y>=H)return l;var oe=y-Bo(_);if(oe<1)return _;var ve=X?bs(X,0,oe).join(""):l.slice(0,oe);if(x===w)return ve+_;if(X&&(oe+=ve.length-oe),Sa(x)){if(l.slice(oe).search(x)){var ze,$e=ve;for(x.global||(x=Zs(x.source,Vr(F.exec(x))+"g")),x.lastIndex=0;ze=x.exec($e);)var Je=ze.index;ve=ve.slice(0,Je===w?oe:Je)}}else if(l.indexOf(Or(x),oe)!=oe){var mt=ve.lastIndexOf(x);mt>-1&&(ve=ve.slice(0,mt))}return ve+_},N.unescape=function Xv(l){return(l=Vr(l))&&Y.test(l)?l.replace(O,Qs):l},N.uniqueId=function Cc(l){var c=++Na;return Vr(l)+c},N.upperCase=tv,N.upperFirst=Id,N.each=nu,N.eachRight=Bp,N.first=_r,Li(N,function(){var l={};return bi(N,function(c,y){Qt.call(N.prototype,y)||(l[y]=c)}),l}(),{chain:!1}),N.VERSION="4.17.21",Yn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){N[l].placeholder=N}),Yn(["drop","take"],function(l,c){ar.prototype[l]=function(y){y=y===w?1:en(lr(y),0);var _=this.__filtered__&&!c?new ar(this):this.clone();return _.__filtered__?_.__takeCount__=Sn(y,_.__takeCount__):_.__views__.push({size:Sn(y,Ne),type:l+(_.__dir__<0?"Right":"")}),_},ar.prototype[l+"Right"]=function(y){return this.reverse()[l](y).reverse()}}),Yn(["filter","map","takeWhile"],function(l,c){var y=c+1,_=1==y||3==y;ar.prototype[l]=function(x){var H=this.clone();return H.__iteratees__.push({iteratee:Ut(x,3),type:y}),H.__filtered__=H.__filtered__||_,H}}),Yn(["head","last"],function(l,c){var y="take"+(c?"Right":"");ar.prototype[l]=function(){return this[y](1).value()[0]}}),Yn(["initial","tail"],function(l,c){var y="drop"+(c?"":"Right");ar.prototype[l]=function(){return this.__filtered__?new ar(this):this[y](1)}}),ar.prototype.compact=function(){return this.filter(Ln)},ar.prototype.find=function(l){return this.filter(l).head()},ar.prototype.findLast=function(l){return this.reverse().find(l)},ar.prototype.invokeMap=v(function(l,c){return"function"==typeof l?new ar(this):this.map(function(y){return Zo(y,l,c)})}),ar.prototype.reject=function(l){return this.filter(rc(Ut(l)))},ar.prototype.slice=function(l,c){l=lr(l);var y=this;return y.__filtered__&&(l>0||c<0)?new ar(y):(l<0?y=y.takeRight(-l):l&&(y=y.drop(l)),c!==w&&(y=(c=lr(c))<0?y.dropRight(-c):y.take(c-l)),y)},ar.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},ar.prototype.toArray=function(){return this.take(Ne)},bi(ar.prototype,function(l,c){var y=/^(?:filter|find|map|reject)|While$/.test(c),_=/^(?:head|last)$/.test(c),x=N[_?"take"+("last"==c?"Right":""):c],H=_||/^find/.test(c);x&&(N.prototype[c]=function(){var X=this.__wrapped__,oe=_?[1]:arguments,ve=X instanceof ar,ze=oe[0],$e=ve||jt(X),Je=function(pr){var Tr=x.apply(N,Vn([pr],oe));return _&&mt?Tr[0]:Tr};$e&&y&&"function"==typeof ze&&1!=ze.length&&(ve=$e=!1);var mt=this.__chain__,zt=H&&!mt,dr=ve&&!this.__actions__.length;if(!H&&$e){X=dr?X:new ar(this);var Kt=l.apply(X,oe);return Kt.__actions__.push({func:ec,args:[Je],thisArg:w}),new Jn(Kt,mt)}return zt&&dr?l.apply(this,oe):(Kt=this.thru(Je),zt?_?Kt.value()[0]:Kt.value():Kt)})}),Yn(["pop","push","shift","sort","splice","unshift"],function(l){var c=Js[l],y=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",_=/^(?:pop|shift)$/.test(l);N.prototype[l]=function(){var x=arguments;if(_&&!this.__chain__){var H=this.value();return c.apply(jt(H)?H:[],x)}return this[y](function(X){return c.apply(jt(X)?X:[],x)})}}),bi(ar.prototype,function(l,c){var y=N[c];if(y){var _=y.name+"";Qt.call($o,_)||($o[_]=[]),$o[_].push({name:c,func:y})}}),$o[er(w,2).name]=[{name:"wrapper",func:w}],ar.prototype.clone=function Wa(){var l=new ar(this.__wrapped__);return l.__actions__=hi(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=hi(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=hi(this.__views__),l},ar.prototype.reverse=function Fu(){if(this.__filtered__){var l=new ar(this);l.__dir__=-1,l.__filtered__=!0}else(l=this.clone()).__dir__*=-1;return l},ar.prototype.value=function Ua(){var l=this.__wrapped__.value(),c=this.__dir__,y=jt(l),_=c<0,x=y?l.length:0,H=function Wf(l,c,y){for(var _=-1,x=y.length;++_<x;){var H=y[_],X=H.size;switch(H.type){case"drop":l+=X;break;case"dropRight":c-=X;break;case"take":c=Sn(c,l+X);break;case"takeRight":l=en(l,c-X)}}return{start:l,end:c}}(0,x,this.__views__),X=H.start,oe=H.end,ve=oe-X,ze=_?oe:X-1,$e=this.__iteratees__,Je=$e.length,mt=0,Lt=Sn(ve,this.__takeCount__);if(!y||!_&&x==ve&&Lt==ve)return Kl(l,this.__actions__);var zt=[];e:for(;ve--&&mt<Lt;){for(var dr=-1,Kt=l[ze+=c];++dr<Je;){var pr=$e[dr],Ni=pr.type,fn=(0,pr.iteratee)(Kt);if(2==Ni)Kt=fn;else if(!fn){if(1==Ni)continue e;break e}}zt[mt++]=Kt}return zt},N.prototype.at=Ph,N.prototype.chain=function Fh(){return Hp(this)},N.prototype.commit=function Mh(){return new Jn(this.value(),this.__chain__)},N.prototype.next=function Ih(){this.__values__===w&&(this.__values__=ef(this.value()));var l=this.__index__>=this.__values__.length;return{done:l,value:l?w:this.__values__[this.__index__++]}},N.prototype.plant=function fd(l){for(var c,y=this;y instanceof ka;){var _=Mp(y);_.__index__=0,_.__values__=w,c?x.__wrapped__=_:c=_;var x=_;y=y.__wrapped__}return x.__wrapped__=l,c},N.prototype.reverse=function Zt(){var l=this.__wrapped__;if(l instanceof ar){var c=l;return this.__actions__.length&&(c=new ar(this)),(c=c.reverse()).__actions__.push({func:ec,args:[ud],thisArg:w}),new Jn(c,this.__chain__)}return this.thru(ud)},N.prototype.toJSON=N.prototype.valueOf=N.prototype.value=function Vp(){return Kl(this.__wrapped__,this.__actions__)},N.prototype.first=N.prototype.head,un&&(N.prototype[un]=function Lh(){return this}),N}();Pr._=qs,(p=function(){return qs}.call(Pt,ae,Pt,Cr))!==w&&(Cr.exports=p)}.call(this)},691:(Cr,Pt,ae)=>{"use strict";ae.d(Pt,{jz:()=>Oe});var W,he,De,p=ae(4354),Ue=[],ft=[],We=p.YM.__b,ie=p.YM.__r,be=p.YM.diffed,Qe=p.YM.__c,Ke=p.YM.unmount;function qe(){for(var U;U=Ue.shift();)if(U.__P&&U.__H)try{U.__H.__h.forEach($t),U.__H.__h.forEach(Rr),U.__H.__h=[]}catch(Q){U.__H.__h=[],p.YM.__e(Q,U.__v)}}p.YM.__b=function(U){W=null,We&&We(U)},p.YM.__r=function(U){ie&&ie(U);var Q=(W=U.__c).__H;Q&&(he===W?(Q.__h=[],W.__h=[],Q.__.forEach(function(ue){ue.__N&&(ue.__=ue.__N),ue.__V=ft,ue.__N=ue.i=void 0})):(Q.__h.forEach($t),Q.__h.forEach(Rr),Q.__h=[])),he=W},p.YM.diffed=function(U){be&&be(U);var Q=U.__c;Q&&Q.__H&&(Q.__H.__h.length&&(1!==Ue.push(Q)&&De===p.YM.requestAnimationFrame||((De=p.YM.requestAnimationFrame)||Yt)(qe)),Q.__H.__.forEach(function(ue){ue.i&&(ue.__H=ue.i),ue.__V!==ft&&(ue.__=ue.__V),ue.i=void 0,ue.__V=ft})),he=W=null},p.YM.__c=function(U,Q){Q.some(function(ue){try{ue.__h.forEach($t),ue.__h=ue.__h.filter(function(Ee){return!Ee.__||Rr(Ee)})}catch(Ee){Q.some(function(ut){ut.__h&&(ut.__h=[])}),Q=[],p.YM.__e(Ee,ue.__v)}}),Qe&&Qe(U,Q)},p.YM.unmount=function(U){Ke&&Ke(U);var Q,ue=U.__c;ue&&ue.__H&&(ue.__H.__.forEach(function(Ee){try{$t(Ee)}catch(ut){Q=ut}}),ue.__H=void 0,Q&&p.YM.__e(Q,ue.__v))};var yt="function"==typeof requestAnimationFrame;function Yt(U){var Q,ue=function(){clearTimeout(Ee),yt&&cancelAnimationFrame(Q),setTimeout(U)},Ee=setTimeout(ue,100);yt&&(Q=requestAnimationFrame(ue))}function $t(U){var Q=W,ue=U.__c;"function"==typeof ue&&(U.__c=void 0,ue()),W=Q}function Rr(U){var Q=W;U.__c=U.__(),W=Q}function br(U,Q){for(var ue in U)if("__source"!==ue&&!(ue in Q))return!0;for(var Ee in Q)if("__source"!==Ee&&U[Ee]!==Q[Ee])return!0;return!1}function Ne(U){this.props=U}(Ne.prototype=new p.wA).isPureReactComponent=!0,Ne.prototype.shouldComponentUpdate=function(U,Q){return br(this.props,U)||br(this.state,Q)};var Xe=p.YM.__b;p.YM.__b=function(U){U.type&&U.type.__f&&U.ref&&(U.props.ref=U.ref,U.ref=null),Xe&&Xe(U)},typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref");var He=p.YM.__e;p.YM.__e=function(U,Q,ue,Ee){if(U.then)for(var ut,ot=Q;ot=ot.__;)if((ut=ot.__c)&&ut.__c)return null==Q.__e&&(Q.__e=ue.__e,Q.__k=ue.__k),ut.__c(U,Q);He(U,Q,ue,Ee)};var z=p.YM.unmount;function B(U,Q,ue){return U&&(U.__c&&U.__c.__H&&(U.__c.__H.__.forEach(function(Ee){"function"==typeof Ee.__c&&Ee.__c()}),U.__c.__H=null),null!=(U=function Ar(U,Q){for(var ue in Q)U[ue]=Q[ue];return U}({},U)).__c&&(U.__c.__P===ue&&(U.__c.__P=Q),U.__c=null),U.__k=U.__k&&U.__k.map(function(Ee){return B(Ee,Q,ue)})),U}function re(U,Q,ue){return U&&(U.__v=null,U.__k=U.__k&&U.__k.map(function(Ee){return re(Ee,Q,ue)}),U.__c&&U.__c.__P===Q&&(U.__e&&ue.insertBefore(U.__e,U.__d),U.__c.__e=!0,U.__c.__P=ue)),U}function _e(){this.__u=0,this.t=null,this.__b=null}function Me(U){var Q=U.__.__c;return Q&&Q.__a&&Q.__a(U)}function Re(){this.u=null,this.o=null}p.YM.unmount=function(U){var Q=U.__c;Q&&Q.__R&&Q.__R(),Q&&!0===U.__h&&(U.type=null),z&&z(U)},(_e.prototype=new p.wA).__c=function(U,Q){var ue=Q.__c,Ee=this;null==Ee.t&&(Ee.t=[]),Ee.t.push(ue);var ut=Me(Ee.__v),ot=!1,Rt=function(){ot||(ot=!0,ue.__R=null,ut?ut(It):It())};ue.__R=Rt;var It=function(){if(! --Ee.__u){if(Ee.state.__a){var Lr=Ee.state.__a;Ee.__v.__k[0]=re(Lr,Lr.__c.__P,Lr.__c.__O)}var on;for(Ee.setState({__a:Ee.__b=null});on=Ee.t.pop();)on.forceUpdate()}},tr=!0===Q.__h;Ee.__u++||tr||Ee.setState({__a:Ee.__b=Ee.__v.__k[0]}),U.then(Rt,Rt)},_e.prototype.componentWillUnmount=function(){this.t=[]},_e.prototype.render=function(U,Q){if(this.__b){if(this.__v.__k){var ue=document.createElement("div"),Ee=this.__v.__k[0].__c;this.__v.__k[0]=B(this.__b,ue,Ee.__O=Ee.__P)}this.__b=null}var ut=Q.__a&&(0,p.az)(p.HY,null,U.fallback);return ut&&(ut.__h=null),[(0,p.az)(p.HY,null,Q.__a?null:U.children),ut]};var Dt=function(U,Q,ue){if(++ue[1]===ue[0]&&U.o.delete(Q),U.props.revealOrder&&("t"!==U.props.revealOrder[0]||!U.o.size))for(ue=U.u;ue;){for(;ue.length>3;)ue.pop()();if(ue[1]<ue[0])break;U.u=ue=ue[2]}};function lt(U){return this.getChildContext=function(){return U.context},U.children}function it(U){var Q=this,ue=U.i;Q.componentWillUnmount=function(){(0,p.sY)(null,Q.l),Q.l=null,Q.i=null},Q.i&&Q.i!==ue&&Q.componentWillUnmount(),U.__v?(Q.l||(Q.i=ue,Q.l={nodeType:1,parentNode:ue,childNodes:[],appendChild:function(Ee){this.childNodes.push(Ee),Q.i.appendChild(Ee)},insertBefore:function(Ee,ut){this.childNodes.push(Ee),Q.i.appendChild(Ee)},removeChild:function(Ee){this.childNodes.splice(this.childNodes.indexOf(Ee)>>>1,1),Q.i.removeChild(Ee)}}),(0,p.sY)((0,p.az)(lt,{context:Q.context},U.__v),Q.l)):Q.l&&Q.componentWillUnmount()}function Oe(U,Q){var ue=(0,p.az)(it,{__v:U,i:Q});return ue.containerInfo=Q,ue}(Re.prototype=new p.wA).__a=function(U){var Q=this,ue=Me(Q.__v),Ee=Q.o.get(U);return Ee[0]++,function(ut){var ot=function(){Q.props.revealOrder?(Ee.push(ut),Dt(Q,U,Ee)):ut()};ue?ue(ot):ot()}},Re.prototype.render=function(U){this.u=null,this.o=new Map;var Q=(0,p.bR)(U.children);U.revealOrder&&"b"===U.revealOrder[0]&&Q.reverse();for(var ue=Q.length;ue--;)this.o.set(Q[ue],this.u=[1,0,this.u]);return U.children},Re.prototype.componentDidUpdate=Re.prototype.componentDidMount=function(){var U=this;this.o.forEach(function(Q,ue){Dt(U,ue,Q)})};var or=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Mt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Et=typeof document<"u",we=function(U){return(typeof Symbol<"u"&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(U)};p.wA.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(U){Object.defineProperty(p.wA.prototype,U,{configurable:!0,get:function(){return this["UNSAFE_"+U]},set:function(Q){Object.defineProperty(this,U,{configurable:!0,writable:!0,value:Q})}})});var A=p.YM.event;function xt(){}function nn(){return this.cancelBubble}function Sr(){return this.defaultPrevented}p.YM.event=function(U){return A&&(U=A(U)),U.persist=xt,U.isPropagationStopped=nn,U.isDefaultPrevented=Sr,U.nativeEvent=U};var qr={configurable:!0,get:function(){return this.class}},Nr=p.YM.vnode;p.YM.vnode=function(U){var Q=U.type,ue=U.props,Ee=ue;if("string"==typeof Q){var ut=-1===Q.indexOf("-");for(var ot in Ee={},ue){var Rt=ue[ot];Et&&"children"===ot&&"noscript"===Q||"value"===ot&&"defaultValue"in ue&&null==Rt||("defaultValue"===ot&&"value"in ue&&null==ue.value?ot="value":"download"===ot&&!0===Rt?Rt="":/ondoubleclick/i.test(ot)?ot="ondblclick":/^onchange(textarea|input)/i.test(ot+Q)&&!we(ue.type)?ot="oninput":/^onfocus$/i.test(ot)?ot="onfocusin":/^onblur$/i.test(ot)?ot="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(ot)?ot=ot.toLowerCase():ut&&Mt.test(ot)?ot=ot.replace(/[A-Z0-9]/g,"-$&").toLowerCase():null===Rt&&(Rt=void 0),/^oninput$/i.test(ot)&&(ot=ot.toLowerCase(),Ee[ot]&&(ot="oninputCapture")),Ee[ot]=Rt)}"select"==Q&&Ee.multiple&&Array.isArray(Ee.value)&&(Ee.value=(0,p.bR)(ue.children).forEach(function(It){It.props.selected=-1!=Ee.value.indexOf(It.props.value)})),"select"==Q&&null!=Ee.defaultValue&&(Ee.value=(0,p.bR)(ue.children).forEach(function(It){It.props.selected=Ee.multiple?-1!=Ee.defaultValue.indexOf(It.props.value):Ee.defaultValue==It.props.value})),U.props=Ee,ue.class!=ue.className&&(qr.enumerable="className"in ue,null!=ue.className&&(Ee.class=ue.className),Object.defineProperty(Ee,"className",qr))}U.$$typeof=or,Nr&&Nr(U)};var mr=p.YM.__r;p.YM.__r=function(U){mr&&mr(U)}},4354:(Cr,Pt,ae)=>{"use strict";ae.d(Pt,{HY:()=>Wt,Tm:()=>Ir,Vf:()=>rt,YM:()=>w,ZB:()=>hr,az:()=>Nt,bR:()=>$r,kr:()=>He,l$:()=>he,sY:()=>kt,wA:()=>Er});var p,w,W,he,De,Ze,Ue,ft,We,ie={},be=[],Qe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Ke(z,B){for(var re in B)z[re]=B[re];return z}function ht(z){var B=z.parentNode;B&&B.removeChild(z)}function Nt(z,B,re){var _e,Me,Se,Re={};for(Se in B)"key"==Se?_e=B[Se]:"ref"==Se?Me=B[Se]:Re[Se]=B[Se];if(arguments.length>2&&(Re.children=arguments.length>3?p.call(arguments,2):re),"function"==typeof z&&null!=z.defaultProps)for(Se in z.defaultProps)void 0===Re[Se]&&(Re[Se]=z.defaultProps[Se]);return et(z,Re,_e,Me,null)}function et(z,B,re,_e,Me){var Se={type:z,props:B,key:re,ref:_e,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Me??++W};return null==Me&&null!=w.vnode&&w.vnode(Se),Se}function rt(){return{current:null}}function Wt(z){return z.children}function nr(z,B,re){"-"===B[0]?z.setProperty(B,re??""):z[B]=null==re?"":"number"!=typeof re||Qe.test(B)?re:re+"px"}function ir(z,B,re,_e,Me){var Se;e:if("style"===B)if("string"==typeof re)z.style.cssText=re;else{if("string"==typeof _e&&(z.style.cssText=_e=""),_e)for(B in _e)re&&B in re||nr(z.style,B,"");if(re)for(B in re)_e&&re[B]===_e[B]||nr(z.style,B,re[B])}else if("o"===B[0]&&"n"===B[1])Se=B!==(B=B.replace(/Capture$/,"")),B=B.toLowerCase()in z?B.toLowerCase().slice(2):B.slice(2),z.l||(z.l={}),z.l[B+Se]=re,re?_e||z.addEventListener(B,Se?gr:wr,Se):z.removeEventListener(B,Se?gr:wr,Se);else if("dangerouslySetInnerHTML"!==B){if(Me)B=B.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==B&&"height"!==B&&"href"!==B&&"list"!==B&&"form"!==B&&"tabIndex"!==B&&"download"!==B&&B in z)try{z[B]=re??"";break e}catch{}"function"==typeof re||(null==re||!1===re&&-1==B.indexOf("-")?z.removeAttribute(B):z.setAttribute(B,re))}}function wr(z){De=!0;try{return this.l[z.type+!1](w.event?w.event(z):z)}finally{De=!1}}function gr(z){De=!0;try{return this.l[z.type+!0](w.event?w.event(z):z)}finally{De=!1}}function Er(z,B){this.props=z,this.context=B}function Ft(z,B){if(null==B)return z.__?Ft(z.__,z.__.__k.indexOf(z)+1):null;for(var re;B<z.__k.length;B++)if(null!=(re=z.__k[B])&&null!=re.__e)return re.__e;return"function"==typeof z.type?Ft(z):null}function vt(z){var B,re;if(null!=(z=z.__)&&null!=z.__c){for(z.__e=z.__c.base=null,B=0;B<z.__k.length;B++)if(null!=(re=z.__k[B])&&null!=re.__e){z.__e=z.__c.base=re.__e;break}return vt(z)}}function qe(z){De?setTimeout(z):ft(z)}function yt(z){(!z.__d&&(z.__d=!0)&&Ze.push(z)&&!Yt.__r++||Ue!==w.debounceRendering)&&((Ue=w.debounceRendering)||qe)(Yt)}function Yt(){var z,B,re,_e,Me,Se,Re,Dt;for(Ze.sort(function(lt,it){return lt.__v.__b-it.__v.__b});z=Ze.shift();)z.__d&&(B=Ze.length,_e=void 0,Me=void 0,Re=(Se=(re=z).__v).__e,(Dt=re.__P)&&(_e=[],(Me=Ke({},Se)).__v=Se.__v+1,br(Dt,Se,Me,re.__n,void 0!==Dt.ownerSVGElement,null!=Se.__h?[Re]:null,_e,Re??Ft(Se),Se.__h),At(_e,Se),Se.__e!=Re&&vt(Se)),Ze.length>B&&Ze.sort(function(lt,it){return lt.__v.__b-it.__v.__b}));Yt.__r=0}function $t(z,B,re,_e,Me,Se,Re,Dt,lt,it){var Oe,or,Mt,Et,we,yr,je,A=_e&&_e.__k||be,xt=A.length;for(re.__k=[],Oe=0;Oe<B.length;Oe++)if(null!=(Et=re.__k[Oe]=null==(Et=B[Oe])||"boolean"==typeof Et?null:"string"==typeof Et||"number"==typeof Et||"bigint"==typeof Et?et(null,Et,null,null,Et):Array.isArray(Et)?et(Wt,{children:Et},null,null,null):Et.__b>0?et(Et.type,Et.props,Et.key,Et.ref?Et.ref:null,Et.__v):Et)){if(Et.__=re,Et.__b=re.__b+1,null===(Mt=A[Oe])||Mt&&Et.key==Mt.key&&Et.type===Mt.type)A[Oe]=void 0;else for(or=0;or<xt;or++){if((Mt=A[or])&&Et.key==Mt.key&&Et.type===Mt.type){A[or]=void 0;break}Mt=null}br(z,Et,Mt=Mt||ie,Me,Se,Re,Dt,lt,it),we=Et.__e,(or=Et.ref)&&Mt.ref!=or&&(je||(je=[]),Mt.ref&&je.push(Mt.ref,null,Et),je.push(or,Et.__c||we,Et)),null!=we?(null==yr&&(yr=we),"function"==typeof Et.type&&Et.__k===Mt.__k?Et.__d=lt=Rr(Et,lt,z):lt=vr(z,Et,Mt,A,we,lt),"function"==typeof re.type&&(re.__d=lt)):lt&&Mt.__e==lt&&lt.parentNode!=z&&(lt=Ft(Mt))}for(re.__e=yr,Oe=xt;Oe--;)null!=A[Oe]&&("function"==typeof re.type&&null!=A[Oe].__e&&A[Oe].__e==re.__d&&(re.__d=Ar(_e).nextSibling),Xe(A[Oe],A[Oe]));if(je)for(Oe=0;Oe<je.length;Oe++)dt(je[Oe],je[++Oe],je[++Oe])}function Rr(z,B,re){for(var _e,Me=z.__k,Se=0;Me&&Se<Me.length;Se++)(_e=Me[Se])&&(_e.__=z,B="function"==typeof _e.type?Rr(_e,B,re):vr(re,_e,_e,Me,_e.__e,B));return B}function $r(z,B){return B=B||[],null==z||"boolean"==typeof z||(Array.isArray(z)?z.some(function(re){$r(re,B)}):B.push(z)),B}function vr(z,B,re,_e,Me,Se){var Re,Dt,lt;if(void 0!==B.__d)Re=B.__d,B.__d=void 0;else if(null==re||Me!=Se||null==Me.parentNode)e:if(null==Se||Se.parentNode!==z)z.appendChild(Me),Re=null;else{for(Dt=Se,lt=0;(Dt=Dt.nextSibling)&&lt<_e.length;lt+=1)if(Dt==Me)break e;z.insertBefore(Me,Se),Re=Se}return void 0!==Re?Re:Me.nextSibling}function Ar(z){var B,re,_e;if(null==z.type||"string"==typeof z.type)return z.__e;if(z.__k)for(B=z.__k.length-1;B>=0;B--)if((re=z.__k[B])&&(_e=Ar(re)))return _e;return null}function br(z,B,re,_e,Me,Se,Re,Dt,lt){var it,Oe,or,Mt,Et,we,yr,je,A,xt,nn,Sr,Dr,qr,Nr,mr=B.type;if(void 0!==B.constructor)return null;null!=re.__h&&(lt=re.__h,Dt=B.__e=re.__e,B.__h=null,Se=[Dt]),(it=w.__b)&&it(B);try{e:if("function"==typeof mr){if(je=B.props,A=(it=mr.contextType)&&_e[it.__c],xt=it?A?A.props.value:it.__:_e,re.__c?yr=(Oe=B.__c=re.__c).__=Oe.__E:("prototype"in mr&&mr.prototype.render?B.__c=Oe=new mr(je,xt):(B.__c=Oe=new Er(je,xt),Oe.constructor=mr,Oe.render=pt),A&&A.sub(Oe),Oe.props=je,Oe.state||(Oe.state={}),Oe.context=xt,Oe.__n=_e,or=Oe.__d=!0,Oe.__h=[],Oe._sb=[]),null==Oe.__s&&(Oe.__s=Oe.state),null!=mr.getDerivedStateFromProps&&(Oe.__s==Oe.state&&(Oe.__s=Ke({},Oe.__s)),Ke(Oe.__s,mr.getDerivedStateFromProps(je,Oe.__s))),Mt=Oe.props,Et=Oe.state,Oe.__v=B,or)null==mr.getDerivedStateFromProps&&null!=Oe.componentWillMount&&Oe.componentWillMount(),null!=Oe.componentDidMount&&Oe.__h.push(Oe.componentDidMount);else{if(null==mr.getDerivedStateFromProps&&je!==Mt&&null!=Oe.componentWillReceiveProps&&Oe.componentWillReceiveProps(je,xt),!Oe.__e&&null!=Oe.shouldComponentUpdate&&!1===Oe.shouldComponentUpdate(je,Oe.__s,xt)||B.__v===re.__v){for(B.__v!==re.__v&&(Oe.props=je,Oe.state=Oe.__s,Oe.__d=!1),B.__e=re.__e,B.__k=re.__k,B.__k.forEach(function(ye){ye&&(ye.__=B)}),nn=0;nn<Oe._sb.length;nn++)Oe.__h.push(Oe._sb[nn]);Oe._sb=[],Oe.__h.length&&Re.push(Oe);break e}null!=Oe.componentWillUpdate&&Oe.componentWillUpdate(je,Oe.__s,xt),null!=Oe.componentDidUpdate&&Oe.__h.push(function(){Oe.componentDidUpdate(Mt,Et,we)})}if(Oe.context=xt,Oe.props=je,Oe.__P=z,Sr=w.__r,Dr=0,"prototype"in mr&&mr.prototype.render){for(Oe.state=Oe.__s,Oe.__d=!1,Sr&&Sr(B),it=Oe.render(Oe.props,Oe.state,Oe.context),qr=0;qr<Oe._sb.length;qr++)Oe.__h.push(Oe._sb[qr]);Oe._sb=[]}else do{Oe.__d=!1,Sr&&Sr(B),it=Oe.render(Oe.props,Oe.state,Oe.context),Oe.state=Oe.__s}while(Oe.__d&&++Dr<25);Oe.state=Oe.__s,null!=Oe.getChildContext&&(_e=Ke(Ke({},_e),Oe.getChildContext())),or||null==Oe.getSnapshotBeforeUpdate||(we=Oe.getSnapshotBeforeUpdate(Mt,Et)),Nr=null!=it&&it.type===Wt&&null==it.key?it.props.children:it,$t(z,Array.isArray(Nr)?Nr:[Nr],B,re,_e,Me,Se,Re,Dt,lt),Oe.base=B.__e,B.__h=null,Oe.__h.length&&Re.push(Oe),yr&&(Oe.__E=Oe.__=null),Oe.__e=!1}else null==Se&&B.__v===re.__v?(B.__k=re.__k,B.__e=re.__e):B.__e=function Ne(z,B,re,_e,Me,Se,Re,Dt){var lt,it,Oe,or=re.props,Mt=B.props,Et=B.type,we=0;if("svg"===Et&&(Me=!0),null!=Se)for(;we<Se.length;we++)if((lt=Se[we])&&"setAttribute"in lt==!!Et&&(Et?lt.localName===Et:3===lt.nodeType)){z=lt,Se[we]=null;break}if(null==z){if(null===Et)return document.createTextNode(Mt);z=Me?document.createElementNS("http://www.w3.org/2000/svg",Et):document.createElement(Et,Mt.is&&Mt),Se=null,Dt=!1}if(null===Et)or===Mt||Dt&&z.data===Mt||(z.data=Mt);else{if(Se=Se&&p.call(z.childNodes),it=(or=re.props||ie).dangerouslySetInnerHTML,Oe=Mt.dangerouslySetInnerHTML,!Dt){if(null!=Se)for(or={},we=0;we<z.attributes.length;we++)or[z.attributes[we].name]=z.attributes[we].value;(Oe||it)&&(Oe&&(it&&Oe.__html==it.__html||Oe.__html===z.innerHTML)||(z.innerHTML=Oe&&Oe.__html||""))}if(function Jt(z,B,re,_e,Me){var Se;for(Se in re)"children"===Se||"key"===Se||Se in B||ir(z,Se,null,re[Se],_e);for(Se in B)Me&&"function"!=typeof B[Se]||"children"===Se||"key"===Se||"value"===Se||"checked"===Se||re[Se]===B[Se]||ir(z,Se,B[Se],re[Se],_e)}(z,Mt,or,Me,Dt),Oe)B.__k=[];else if(we=B.props.children,$t(z,Array.isArray(we)?we:[we],B,re,_e,Me&&"foreignObject"!==Et,Se,Re,Se?Se[0]:re.__k&&Ft(re,0),Dt),null!=Se)for(we=Se.length;we--;)null!=Se[we]&&ht(Se[we]);Dt||("value"in Mt&&void 0!==(we=Mt.value)&&(we!==z.value||"progress"===Et&&!we||"option"===Et&&we!==or.value)&&ir(z,"value",we,or.value,!1),"checked"in Mt&&void 0!==(we=Mt.checked)&&we!==z.checked&&ir(z,"checked",we,or.checked,!1))}return z}(re.__e,B,re,_e,Me,Se,Re,lt);(it=w.diffed)&&it(B)}catch(ye){B.__v=null,(lt||null!=Se)&&(B.__e=Dt,B.__h=!!lt,Se[Se.indexOf(Dt)]=null),w.__e(ye,B,re)}}function At(z,B){w.__c&&w.__c(B,z),z.some(function(re){try{z=re.__h,re.__h=[],z.some(function(_e){_e.call(re)})}catch(_e){w.__e(_e,re.__v)}})}function dt(z,B,re){try{"function"==typeof z?z(B):z.current=B}catch(_e){w.__e(_e,re)}}function Xe(z,B,re){var _e,Me;if(w.unmount&&w.unmount(z),(_e=z.ref)&&(_e.current&&_e.current!==z.__e||dt(_e,null,B)),null!=(_e=z.__c)){if(_e.componentWillUnmount)try{_e.componentWillUnmount()}catch(Se){w.__e(Se,B)}_e.base=_e.__P=null,z.__c=void 0}if(_e=z.__k)for(Me=0;Me<_e.length;Me++)_e[Me]&&Xe(_e[Me],B,re||"function"!=typeof z.type);re||null==z.__e||ht(z.__e),z.__=z.__e=z.__d=void 0}function pt(z,B,re){return this.constructor(z,re)}function kt(z,B,re){var _e,Me,Se;w.__&&w.__(z,B),Me=(_e="function"==typeof re)?null:re&&re.__k||B.__k,Se=[],br(B,z=(!_e&&re||B).__k=Nt(Wt,null,[z]),Me||ie,ie,void 0!==B.ownerSVGElement,!_e&&re?[re]:Me?null:B.firstChild?p.call(B.childNodes):null,Se,!_e&&re?re:Me?Me.__e:B.firstChild,_e),At(Se,z)}function hr(z,B){kt(z,B,hr)}function Ir(z,B,re){var _e,Me,Se,Re=Ke({},z.props);for(Se in B)"key"==Se?_e=B[Se]:"ref"==Se?Me=B[Se]:Re[Se]=B[Se];return arguments.length>2&&(Re.children=arguments.length>3?p.call(arguments,2):re),et(z.type,Re,_e||z.key,Me||z.ref,null)}function He(z,B){var re={__c:B="__cC"+We++,__:z,Consumer:function(_e,Me){return _e.children(Me)},Provider:function(_e){var Me,Se;return this.getChildContext||(Me=[],(Se={})[B]=this,this.getChildContext=function(){return Se},this.shouldComponentUpdate=function(Re){this.props.value!==Re.value&&Me.some(function(Dt){Dt.__e=!0,yt(Dt)})},this.sub=function(Re){Me.push(Re);var Dt=Re.componentWillUnmount;Re.componentWillUnmount=function(){Me.splice(Me.indexOf(Re),1),Dt&&Dt.call(Re)}}),_e.children}};return re.Provider.__=re.Consumer.contextType=re}p=be.slice,w={__e:function(z,B,re,_e){for(var Me,Se,Re;B=B.__;)if((Me=B.__c)&&!Me.__)try{if((Se=Me.constructor)&&null!=Se.getDerivedStateFromError&&(Me.setState(Se.getDerivedStateFromError(z)),Re=Me.__d),null!=Me.componentDidCatch&&(Me.componentDidCatch(z,_e||{}),Re=Me.__d),Re)return Me.__E=Me}catch(Dt){z=Dt}throw z}},W=0,he=function(z){return null!=z&&void 0===z.constructor},De=!1,Er.prototype.setState=function(z,B){var re;re=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Ke({},this.state),"function"==typeof z&&(z=z(Ke({},re),this.props)),z&&Ke(re,z),null!=z&&this.__v&&(B&&this._sb.push(B),yt(this))},Er.prototype.forceUpdate=function(z){this.__v&&(this.__e=!0,z&&this.__h.push(z),yt(this))},Er.prototype.render=Wt,Ze=[],ft="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Yt.__r=0,We=0},708:(Cr,Pt,ae)=>{"use strict";ae.d(Pt,{n:()=>w});var p=ae(6973);function w(W,he){const De="object"==typeof he;return new Promise((Ze,Ue)=>{let We,ft=!1;W.subscribe({next:ie=>{We=ie,ft=!0},error:Ue,complete:()=>{ft?Ze(We):De?Ze(he.defaultValue):Ue(new p.K)}})})}},5766:(Cr,Pt,ae)=>{"use strict";function p(ie){for(let be in ie){let Qe=ie[be]??"";switch(be){case"display":ie.display="flex"===Qe?["-webkit-flex","flex"]:"inline-flex"===Qe?["-webkit-inline-flex","inline-flex"]:Qe;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":ie["-webkit-"+be]=Qe;break;case"flex-direction":ie["-webkit-flex-direction"]=Qe,ie["flex-direction"]=Qe;break;case"order":ie.order=ie["-webkit-"+be]=isNaN(+Qe)?"0":Qe}}return ie}ae.d(Pt,{Ar:()=>he,GK:()=>p,iQ:()=>W,kt:()=>We,tj:()=>Ze});const w="inline",W=["row","column","row-reverse","column-reverse"];function he(ie){let[be,Qe,Ke]=De(ie);return function ft(ie,be=null,Qe=!1){return{display:Qe?"inline-flex":"flex","box-sizing":"border-box","flex-direction":ie,"flex-wrap":be||null}}(be,Qe,Ke)}function De(ie){ie=ie?.toLowerCase()??"";let[be,Qe,Ke]=ie.split(" ");return W.find(ht=>ht===be)||(be=W[0]),Qe===w&&(Qe=Ke!==w?Ke:"",Ke=w),[be,Ue(Qe),!!Ke]}function Ze(ie){let[be]=De(ie);return be.indexOf("row")>-1}function Ue(ie){if(ie)switch(ie.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":ie="wrap-reverse";break;case"no":case"none":case"nowrap":ie="nowrap";break;default:ie="wrap"}return ie}function We(ie,...be){if(null==ie)throw TypeError("Cannot convert undefined or null to object");for(let Qe of be)if(null!=Qe)for(let Ke in Qe)Qe.hasOwnProperty(Ke)&&(ie[Ke]=Qe[Ke]);return ie}},1462:(Cr,Pt,ae)=>{"use strict";ae.d(Pt,{Bs:()=>Jt,FL:()=>mr,IR:()=>Ke,Ot:()=>Dr,QI:()=>ir,RK:()=>wr,WU:()=>rt,g5:()=>et,iR:()=>Mt,wY:()=>Wt,yB:()=>Oe});var p=ae(5879),w=ae(6814),W=ae(5619),he=ae(5592),De=ae(3019),Ze=ae(8645),Ue=ae(5766),ft=ae(2181),We=ae(9397);const be={provide:p.tb,useFactory:function ie(ye,Ie){return()=>{if((0,w.NF)(Ie)){const G=Array.from(ye.querySelectorAll(`[class*=${Qe}]`)),J=/\bflex-layout-.+?\b/g;G.forEach(V=>{V.classList.contains(`${Qe}ssr`)&&V.parentNode?V.parentNode.removeChild(V):V.className.replace(J,"")})}}},deps:[w.K0,p.Lbi],multi:!0},Qe="flex-layout-";let Ke=(()=>{class ye{}return ye.\u0275fac=function(G){return new(G||ye)},ye.\u0275mod=p.oAB({type:ye}),ye.\u0275inj=p.cJS({providers:[be]}),ye})();class ht{constructor(Ie=!1,G="all",J="",V="",T=0){this.matches=Ie,this.mediaQuery=G,this.mqAlias=J,this.suffix=V,this.priority=T,this.property=""}clone(){return new ht(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let Nt=(()=>{class ye{constructor(){this.stylesheet=new Map}addStyleToElement(G,J,V){const T=this.stylesheet.get(G);T?T.set(J,V):this.stylesheet.set(G,new Map([[J,V]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(G,J){const V=this.stylesheet.get(G);let T="";if(V){const K=V.get(J);("number"==typeof K||"string"==typeof K)&&(T=K+"")}return T}}return ye.\u0275fac=function(G){return new(G||ye)},ye.\u0275prov=p.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})();const et={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},rt=new p.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>et}),Wt=new p.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),Jt=new p.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function nr(ye,Ie){return ye=ye?.clone()??new ht,Ie&&(ye.mqAlias=Ie.alias,ye.mediaQuery=Ie.mediaQuery,ye.suffix=Ie.suffix,ye.priority=Ie.priority),ye}class ir{constructor(){this.shouldCache=!0}sideEffect(Ie,G,J){}}let wr=(()=>{class ye{constructor(G,J,V,T){this._serverStylesheet=G,this._serverModuleLoaded=J,this._platformId=V,this.layoutConfig=T}applyStyleToElement(G,J,V=null){let T={};"string"==typeof J&&(T[J]=V,J=T),T=this.layoutConfig.disableVendorPrefixes?J:(0,Ue.GK)(J),this._applyMultiValueStyleToElement(T,G)}applyStyleToElements(G,J=[]){const V=this.layoutConfig.disableVendorPrefixes?G:(0,Ue.GK)(G);J.forEach(T=>{this._applyMultiValueStyleToElement(V,T)})}getFlowDirection(G){const J="flex-direction";let V=this.lookupStyle(G,J);return[V||"row",this.lookupInlineStyle(G,J)||(0,w.PM)(this._platformId)&&this._serverModuleLoaded?V:""]}hasWrap(G){return"wrap"===this.lookupStyle(G,"flex-wrap")}lookupAttributeValue(G,J){return G.getAttribute(J)??""}lookupInlineStyle(G,J){return(0,w.NF)(this._platformId)?G.style.getPropertyValue(J):function gr(ye,Ie){return vt(ye)[Ie]??""}(G,J)}lookupStyle(G,J,V=!1){let T="";return G&&((T=this.lookupInlineStyle(G,J))||((0,w.NF)(this._platformId)?V||(T=getComputedStyle(G).getPropertyValue(J)):this._serverModuleLoaded&&(T=this._serverStylesheet.getStyleForElement(G,J)))),T?T.trim():""}_applyMultiValueStyleToElement(G,J){Object.keys(G).sort().forEach(V=>{const T=G[V],K=Array.isArray(T)?T:[T];K.sort();for(let O of K)O=O?O+"":"",(0,w.NF)(this._platformId)||!this._serverModuleLoaded?(0,w.NF)(this._platformId)?J.style.setProperty(V,O):Er(J,V,O):this._serverStylesheet.addStyleToElement(J,V,O)})}}return ye.\u0275fac=function(G){return new(G||ye)(p.LFG(Nt),p.LFG(Wt),p.LFG(p.Lbi),p.LFG(rt))},ye.\u0275prov=p.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})();function Er(ye,Ie,G){Ie=Ie.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const J=vt(ye);J[Ie]=G??"",function Ft(ye,Ie){let G="";for(const J in Ie)Ie[J]&&(G+=`${J}:${Ie[J]};`);ye.setAttribute("style",G)}(ye,J)}function vt(ye){const Ie={},G=ye.getAttribute("style");if(G){const J=G.split(/;+/g);for(let V=0;V<J.length;V++){const T=J[V].trim();if(T.length>0){const K=T.indexOf(":");if(-1===K)throw new Error(`Invalid CSS style: ${T}`);Ie[T.substr(0,K).trim()]=T.substr(K+1).trim()}}}return Ie}function qe(ye,Ie){return(Ie&&Ie.priority||0)-(ye&&ye.priority||0)}function yt(ye,Ie){return(ye.priority||0)-(Ie.priority||0)}let Yt=(()=>{class ye{constructor(G,J,V){this._zone=G,this._platformId=J,this._document=V,this.source=new W.X(new ht(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const G=[];return this.registry.forEach((J,V)=>{J.matches&&G.push(V)}),G}isActive(G){return this.registry.get(G)?.matches??this.registerQuery(G).some(V=>V.matches)}observe(G,J=!1){if(G&&G.length){const V=this._observable$.pipe((0,ft.h)(K=>!J||G.indexOf(K.mediaQuery)>-1)),T=new he.y(K=>{const O=this.registerQuery(G);if(O.length){const le=O.pop();O.forEach(Y=>{K.next(Y)}),this.source.next(le)}K.complete()});return(0,De.T)(T,V)}return this._observable$}registerQuery(G){const J=Array.isArray(G)?G:[G],V=[];return function Rr(ye,Ie){const G=ye.filter(J=>!$t[J]);if(G.length>0){const J=G.join(", ");try{const V=Ie.createElement("style");V.setAttribute("type","text/css"),V.styleSheet||V.appendChild(Ie.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${J} {.fx-query-test{ }}\n`)),Ie.head.appendChild(V),G.forEach(T=>$t[T]=V)}catch(V){console.error(V)}}}(J,this._document),J.forEach(T=>{const K=le=>{this._zone.run(()=>this.source.next(new ht(le.matches,T)))};let O=this.registry.get(T);O||(O=this.buildMQL(T),O.addListener(K),this.pendingRemoveListenerFns.push(()=>O.removeListener(K)),this.registry.set(T,O)),O.matches&&V.push(new ht(!0,T))}),V}ngOnDestroy(){let G;for(;G=this.pendingRemoveListenerFns.pop();)G()}buildMQL(G){return function vr(ye,Ie){return Ie&&window.matchMedia("all").addListener?window.matchMedia(ye):function $r(ye){const Ie=new EventTarget;return Ie.matches="all"===ye||""===ye,Ie.media=ye,Ie.addListener=()=>{},Ie.removeListener=()=>{},Ie.addEventListener=()=>{},Ie.dispatchEvent=()=>!1,Ie.onchange=null,Ie}(ye)}(G,(0,w.NF)(this._platformId))}}return ye.\u0275fac=function(G){return new(G||ye)(p.LFG(p.R0b),p.LFG(p.Lbi),p.LFG(w.K0))},ye.\u0275prov=p.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})();const $t={},Ar=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],br="(orientation: portrait) and (max-width: 599.98px)",At="(orientation: landscape) and (max-width: 959.98px)",Ne="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",dt="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",Xe="(orientation: portrait) and (min-width: 840px)",pt="(orientation: landscape) and (min-width: 1280px)",kt={HANDSET:`${br}, ${At}`,TABLET:`${Ne} , ${dt}`,WEB:`${Xe}, ${pt} `,HANDSET_PORTRAIT:`${br}`,TABLET_PORTRAIT:`${Ne} `,WEB_PORTRAIT:`${Xe}`,HANDSET_LANDSCAPE:`${At}`,TABLET_LANDSCAPE:`${dt}`,WEB_LANDSCAPE:`${pt}`},hr=[{alias:"handset",priority:2e3,mediaQuery:kt.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:kt.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:kt.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:kt.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:kt.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:kt.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:kt.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:kt.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:kt.WEB_PORTRAIT,overlapping:!0}],Ir=/(\.|-|_)/g;function He(ye){let Ie=ye.length>0?ye.charAt(0):"",G=ye.length>1?ye.slice(1):"";return Ie.toUpperCase()+G}const _e=new p.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const ye=(0,p.f3M)(Jt),Ie=(0,p.f3M)(rt),G=[].concat.apply([],(ye||[]).map(V=>Array.isArray(V)?V:[V]));return function re(ye,Ie=[]){const G={};return ye.forEach(J=>{G[J.alias]=J}),Ie.forEach(J=>{G[J.alias]?(0,Ue.kt)(G[J.alias],J):G[J.alias]=J}),function B(ye){return ye.forEach(Ie=>{Ie.suffix||(Ie.suffix=function z(ye){return ye.replace(Ir,"|").split("|").map(He).join("")}(Ie.alias),Ie.overlapping=!!Ie.overlapping)}),ye}(Object.keys(G).map(J=>G[J]))}((Ie.disableDefaultBps?[]:Ar).concat(Ie.addOrientationBps?hr:[]),G)}});let Me=(()=>{class ye{constructor(G){this.findByMap=new Map,this.items=[...G].sort(yt)}findByAlias(G){return G?this.findWithPredicate(G,J=>J.alias===G):null}findByQuery(G){return this.findWithPredicate(G,J=>J.mediaQuery===G)}get overlappings(){return this.items.filter(G=>G.overlapping)}get aliases(){return this.items.map(G=>G.alias)}get suffixes(){return this.items.map(G=>G?.suffix??"")}findWithPredicate(G,J){let V=this.findByMap.get(G);return V||(V=this.items.find(J)??null,this.findByMap.set(G,V)),V??null}}return ye.\u0275fac=function(G){return new(G||ye)(p.LFG(_e))},ye.\u0275prov=p.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})();const Se="print",Re={alias:Se,mediaQuery:Se,priority:1e3};let Dt=(()=>{class ye{constructor(G,J,V){this.breakpoints=G,this.layoutConfig=J,this._document=V,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new lt,this.deactivations=[]}withPrintQuery(G){return[...G,Se]}isPrintEvent(G){return G.mediaQuery.startsWith(Se)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(G=>this.breakpoints.findByAlias(G)).filter(G=>null!==G)}getEventBreakpoints({mediaQuery:G}){const J=this.breakpoints.findByQuery(G);return(J?[...this.printBreakPoints,J]:this.printBreakPoints).sort(qe)}updateEvent(G){let J=this.breakpoints.findByQuery(G.mediaQuery);return this.isPrintEvent(G)&&(J=this.getEventBreakpoints(G)[0],G.mediaQuery=J?.mediaQuery??""),nr(G,J)}registerBeforeAfterPrintHooks(G){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const J=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(G,this.getEventBreakpoints(new ht(!0,Se))),G.updateStyles())},V=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(G),G.updateStyles())};this._document.defaultView.addEventListener("beforeprint",J),this._document.defaultView.addEventListener("afterprint",V),this.beforePrintEventListeners.push(J),this.afterPrintEventListeners.push(V)}interceptEvents(G){return J=>{this.isPrintEvent(J)?J.matches&&!this.isPrinting?(this.startPrinting(G,this.getEventBreakpoints(J)),G.updateStyles()):!J.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(G),G.updateStyles()):this.collectActivations(G,J)}}blockPropagation(){return G=>!(this.isPrinting||this.isPrintEvent(G))}startPrinting(G,J){this.isPrinting=!0,this.formerActivations=G.activatedBreakpoints,G.activatedBreakpoints=this.queue.addPrintBreakpoints(J)}stopPrinting(G){G.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(G,J){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!J.matches){const V=this.breakpoints.findByQuery(J.mediaQuery);if(V){const T=this.formerActivations&&this.formerActivations.includes(V),K=!this.formerActivations&&G.activatedBreakpoints.includes(V);(T||K)&&(this.deactivations.push(V),this.deactivations.sort(qe))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(G=>this._document.defaultView.removeEventListener("beforeprint",G)),this.afterPrintEventListeners.forEach(G=>this._document.defaultView.removeEventListener("afterprint",G)))}}return ye.\u0275fac=function(G){return new(G||ye)(p.LFG(Me),p.LFG(rt),p.LFG(w.K0))},ye.\u0275prov=p.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})();class lt{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(Ie){return Ie.push(Re),Ie.sort(qe),Ie.forEach(G=>this.addBreakpoint(G)),this.printBreakpoints}addBreakpoint(Ie){Ie&&void 0===this.printBreakpoints.find(J=>J.mediaQuery===Ie.mediaQuery)&&(this.printBreakpoints=function it(ye){return ye?.mediaQuery.startsWith(Se)??!1}(Ie)?[Ie,...this.printBreakpoints]:[...this.printBreakpoints,Ie])}clear(){this.printBreakpoints=[]}}let Oe=(()=>{class ye{constructor(G,J,V){this.matchMedia=G,this.breakpoints=J,this.hook=V,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new Ze.x,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(G){this._activatedBreakpoints=[...G]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(G){this._useFallbacks=G}onMediaChange(G){const J=this.findByQuery(G.mediaQuery);if(J){G=nr(G,J);const V=this.activatedBreakpoints.indexOf(J);G.matches&&-1===V?(this._activatedBreakpoints.push(J),this._activatedBreakpoints.sort(qe),this.updateStyles()):!G.matches&&-1!==V&&(this._activatedBreakpoints.splice(V,1),this._activatedBreakpoints.sort(qe),this.updateStyles())}}init(G,J,V,T,K=[]){or(this.updateMap,G,J,V),or(this.clearMap,G,J,T),this.buildElementKeyMap(G,J),this.watchExtraTriggers(G,J,K)}getValue(G,J,V){const T=this.elementMap.get(G);if(T){const K=void 0!==V?T.get(V):this.getActivatedValues(T,J);if(K)return K.get(J)}}hasValue(G,J){const V=this.elementMap.get(G);if(V){const T=this.getActivatedValues(V,J);if(T)return void 0!==T.get(J)||!1}return!1}setValue(G,J,V,T){let K=this.elementMap.get(G);if(K){const le=(K.get(T)??new Map).set(J,V);K.set(T,le),this.elementMap.set(G,K)}else K=(new Map).set(T,(new Map).set(J,V)),this.elementMap.set(G,K);const O=this.getValue(G,J);void 0!==O&&this.updateElement(G,J,O)}trackValue(G,J){return this.subject.asObservable().pipe((0,ft.h)(V=>V.element===G&&V.key===J))}updateStyles(){this.elementMap.forEach((G,J)=>{const V=new Set(this.elementKeyMap.get(J));let T=this.getActivatedValues(G);T&&T.forEach((K,O)=>{this.updateElement(J,O,K),V.delete(O)}),V.forEach(K=>{if(T=this.getActivatedValues(G,K),T){const O=T.get(K);this.updateElement(J,K,O)}else this.clearElement(J,K)})})}clearElement(G,J){const V=this.clearMap.get(G);if(V){const T=V.get(J);T&&(T(),this.subject.next({element:G,key:J,value:""}))}}updateElement(G,J,V){const T=this.updateMap.get(G);if(T){const K=T.get(J);K&&(K(V),this.subject.next({element:G,key:J,value:V}))}}releaseElement(G){const J=this.watcherMap.get(G);J&&(J.forEach(T=>T.unsubscribe()),this.watcherMap.delete(G));const V=this.elementMap.get(G);V&&(V.forEach((T,K)=>V.delete(K)),this.elementMap.delete(G))}triggerUpdate(G,J){const V=this.elementMap.get(G);if(V){const T=this.getActivatedValues(V,J);T&&(J?this.updateElement(G,J,T.get(J)):T.forEach((K,O)=>this.updateElement(G,O,K)))}}buildElementKeyMap(G,J){let V=this.elementKeyMap.get(G);V||(V=new Set,this.elementKeyMap.set(G,V)),V.add(J)}watchExtraTriggers(G,J,V){if(V&&V.length){let T=this.watcherMap.get(G);if(T||(T=new Map,this.watcherMap.set(G,T)),!T.get(J)){const O=(0,De.T)(...V).subscribe(()=>{const le=this.getValue(G,J);this.updateElement(G,J,le)});T.set(J,O)}}}findByQuery(G){return this.breakpoints.findByQuery(G)}getActivatedValues(G,J){for(let T=0;T<this.activatedBreakpoints.length;T++){const O=G.get(this.activatedBreakpoints[T].alias);if(O&&(void 0===J||O.has(J)&&null!=O.get(J)))return O}if(!this._useFallbacks)return;const V=G.get("");return void 0===J||V&&V.has(J)?V:void 0}observeActivations(){const G=this.breakpoints.items.map(J=>J.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(G)).pipe((0,We.b)(this.hook.interceptEvents(this)),(0,ft.h)(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return ye.\u0275fac=function(G){return new(G||ye)(p.LFG(Yt),p.LFG(Me),p.LFG(Dt))},ye.\u0275prov=p.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})();function or(ye,Ie,G,J){if(void 0!==J){const V=ye.get(Ie)??new Map;V.set(G,J),ye.set(Ie,V)}}let Mt=(()=>{class ye{constructor(G,J,V,T){this.elementRef=G,this.styleBuilder=J,this.styler=V,this.marshal=T,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new Ze.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(G){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,G,this.marshal.activatedAlias)}ngOnChanges(G){Object.keys(G).forEach(J=>{if(-1!==this.inputs.indexOf(J)){const V=J.split(".").slice(1).join(".");this.setValue(G[J].currentValue,V)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(G=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),G)}addStyles(G,J){const V=this.styleBuilder,T=V.shouldCache;let K=this.styleCache.get(G);(!K||!T)&&(K=V.buildStyles(G,J),T&&this.styleCache.set(G,K)),this.mru={...K},this.applyStyleToElement(K),V.sideEffect(G,K,J)}clearStyles(){Object.keys(this.mru).forEach(G=>{this.mru[G]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(G,J=!1){if(G){const[V,T]=this.styler.getFlowDirection(G);if(!T&&J){const K=(0,Ue.Ar)(V);this.styler.applyStyleToElements(K,[G])}return V.trim()}return"row"}hasWrap(G){return this.styler.hasWrap(G)}applyStyleToElement(G,J,V=this.nativeElement){this.styler.applyStyleToElement(V,G,J)}setValue(G,J){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,G,J)}updateWithValue(G){this.currentValue!==G&&(this.addStyles(G),this.currentValue=G)}}return ye.\u0275fac=function(G){return new(G||ye)(p.Y36(p.SBq),p.Y36(ir),p.Y36(wr),p.Y36(Oe))},ye.\u0275dir=p.lG2({type:ye,features:[p.TTD]}),ye})();function Dr(ye,Ie="1",G="1"){let J=[Ie,G,ye],V=ye.indexOf("calc");if(V>0){J[2]=qr(ye.substring(V).trim());let T=ye.substr(0,V).trim().split(" ");2==T.length&&(J[0]=T[0],J[1]=T[1])}else if(0==V)J[2]=qr(ye.trim());else{let T=ye.split(" ");J=3===T.length?T:[Ie,G,ye]}return J}function qr(ye){return ye.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}EventTarget;const Nr="x";function mr(ye,Ie){if(void 0===Ie)return ye;const G=J=>{const V=+J.slice(0,-Nr.length);return ye.endsWith(Nr)&&!isNaN(V)?`${V*Ie.value}${Ie.unit}`:ye};return ye.includes(" ")?ye.split(" ").map(G).join(" "):G(ye)}},7509:(Cr,Pt,ae)=>{"use strict";ae.d(Pt,{aT:()=>At,b8:()=>wr,oO:()=>et});var p=ae(5879),w=ae(1462),W=ae(6814),he=ae(2495),De=ae(9773);ae(6593);let Ke=(()=>{class Ne extends w.iR{constructor(Xe,pt,kt,hr,Ir,He,z){super(Xe,null,pt,kt),this.ngClassInstance=z,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new W.mk(hr,Ir,Xe,He)),this.init(),this.setValue("","")}set klass(Xe){this.ngClassInstance.klass=Xe,this.setValue(Xe,"")}updateWithValue(Xe){this.ngClassInstance.ngClass=Xe,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return Ne.\u0275fac=function(Xe){return new(Xe||Ne)(p.Y36(p.SBq),p.Y36(w.RK),p.Y36(w.yB),p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.Qsj),p.Y36(W.mk,10))},Ne.\u0275dir=p.lG2({type:Ne,inputs:{klass:["class","klass"]},features:[p.qOj]}),Ne})();const ht=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let et=(()=>{class Ne extends Ke{constructor(){super(...arguments),this.inputs=ht}}return Ne.\u0275fac=function(){let dt;return function(pt){return(dt||(dt=p.n5z(Ne)))(pt||Ne)}}(),Ne.\u0275dir=p.lG2({type:Ne,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[p.qOj]}),Ne})(),rt=(()=>{class Ne extends w.QI{buildStyles(Xe,pt){return{display:"true"===Xe?pt.display||(pt.isServer?"initial":""):"none"}}}return Ne.\u0275fac=function(){let dt;return function(pt){return(dt||(dt=p.n5z(Ne)))(pt||Ne)}}(),Ne.\u0275prov=p.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"root"}),Ne})(),Wt=(()=>{class Ne extends w.iR{constructor(Xe,pt,kt,hr,Ir,He,z){super(Xe,pt,kt,hr),this.layoutConfig=Ir,this.platformId=He,this.serverModuleLoaded=z,this.DIRECTIVE_KEY="show-hide",this.display="",this.hasLayout=!1,this.hasFlexChild=!1}ngAfterViewInit(){this.trackExtraTriggers();const Xe=Array.from(this.nativeElement.children);for(let kt=0;kt<Xe.length;kt++)if(this.marshal.hasValue(Xe[kt],"flex")){this.hasFlexChild=!0;break}Jt.has(this.nativeElement)?this.display=Jt.get(this.nativeElement):(this.display=this.getDisplayStyle(),Jt.set(this.nativeElement,this.display)),this.init();const pt=this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY,"");void 0===pt||""===pt?this.setValue(!0,""):this.triggerUpdate()}ngOnChanges(Xe){Object.keys(Xe).forEach(pt=>{if(-1!==this.inputs.indexOf(pt)){const kt=pt.split("."),hr=kt.slice(1).join("."),Ir=Xe[pt].currentValue;let He=""===Ir||0!==Ir&&(0,he.Ig)(Ir);"fxHide"===kt[0]&&(He=!He),this.setValue(He,hr)}})}trackExtraTriggers(){this.hasLayout=this.marshal.hasValue(this.nativeElement,"layout"),["layout","layout-align"].forEach(Xe=>{this.marshal.trackValue(this.nativeElement,Xe).pipe((0,De.R)(this.destroySubject)).subscribe(this.triggerUpdate.bind(this))})}getDisplayStyle(){return this.hasLayout||this.hasFlexChild&&this.layoutConfig.addFlexToParent?"flex":this.styler.lookupStyle(this.nativeElement,"display",!0)}updateWithValue(Xe=!0){if(""===Xe)return;const pt=(0,W.PM)(this.platformId);this.addStyles(Xe?"true":"false",{display:this.display,isServer:pt}),pt&&this.serverModuleLoaded&&this.nativeElement.style.setProperty("display",""),this.marshal.triggerUpdate(this.parentElement,"layout-gap")}}return Ne.\u0275fac=function(Xe){return new(Xe||Ne)(p.Y36(p.SBq),p.Y36(rt),p.Y36(w.RK),p.Y36(w.yB),p.Y36(w.WU),p.Y36(p.Lbi),p.Y36(w.wY))},Ne.\u0275dir=p.lG2({type:Ne,features:[p.qOj,p.TTD]}),Ne})();const Jt=new WeakMap,nr=["fxShow","fxShow.print","fxShow.xs","fxShow.sm","fxShow.md","fxShow.lg","fxShow.xl","fxShow.lt-sm","fxShow.lt-md","fxShow.lt-lg","fxShow.lt-xl","fxShow.gt-xs","fxShow.gt-sm","fxShow.gt-md","fxShow.gt-lg","fxHide","fxHide.print","fxHide.xs","fxHide.sm","fxHide.md","fxHide.lg","fxHide.xl","fxHide.lt-sm","fxHide.lt-md","fxHide.lt-lg","fxHide.lt-xl","fxHide.gt-xs","fxHide.gt-sm","fxHide.gt-md","fxHide.gt-lg"];let wr=(()=>{class Ne extends Wt{constructor(){super(...arguments),this.inputs=nr}}return Ne.\u0275fac=function(){let dt;return function(pt){return(dt||(dt=p.n5z(Ne)))(pt||Ne)}}(),Ne.\u0275dir=p.lG2({type:Ne,selectors:[["","fxShow",""],["","fxShow.print",""],["","fxShow.xs",""],["","fxShow.sm",""],["","fxShow.md",""],["","fxShow.lg",""],["","fxShow.xl",""],["","fxShow.lt-sm",""],["","fxShow.lt-md",""],["","fxShow.lt-lg",""],["","fxShow.lt-xl",""],["","fxShow.gt-xs",""],["","fxShow.gt-sm",""],["","fxShow.gt-md",""],["","fxShow.gt-lg",""],["","fxHide",""],["","fxHide.print",""],["","fxHide.xs",""],["","fxHide.sm",""],["","fxHide.md",""],["","fxHide.lg",""],["","fxHide.xl",""],["","fxHide.lt-sm",""],["","fxHide.lt-md",""],["","fxHide.lt-lg",""],["","fxHide.lt-xl",""],["","fxHide.gt-xs",""],["","fxHide.gt-sm",""],["","fxHide.gt-md",""],["","fxHide.gt-lg",""]],inputs:{fxShow:"fxShow","fxShow.print":"fxShow.print","fxShow.xs":"fxShow.xs","fxShow.sm":"fxShow.sm","fxShow.md":"fxShow.md","fxShow.lg":"fxShow.lg","fxShow.xl":"fxShow.xl","fxShow.lt-sm":"fxShow.lt-sm","fxShow.lt-md":"fxShow.lt-md","fxShow.lt-lg":"fxShow.lt-lg","fxShow.lt-xl":"fxShow.lt-xl","fxShow.gt-xs":"fxShow.gt-xs","fxShow.gt-sm":"fxShow.gt-sm","fxShow.gt-md":"fxShow.gt-md","fxShow.gt-lg":"fxShow.gt-lg",fxHide:"fxHide","fxHide.print":"fxHide.print","fxHide.xs":"fxHide.xs","fxHide.sm":"fxHide.sm","fxHide.md":"fxHide.md","fxHide.lg":"fxHide.lg","fxHide.xl":"fxHide.xl","fxHide.lt-sm":"fxHide.lt-sm","fxHide.lt-md":"fxHide.lt-md","fxHide.lt-lg":"fxHide.lt-lg","fxHide.lt-xl":"fxHide.lt-xl","fxHide.gt-xs":"fxHide.gt-xs","fxHide.gt-sm":"fxHide.gt-sm","fxHide.gt-md":"fxHide.gt-md","fxHide.gt-lg":"fxHide.gt-lg"},features:[p.qOj]}),Ne})(),At=(()=>{class Ne{}return Ne.\u0275fac=function(Xe){return new(Xe||Ne)},Ne.\u0275mod=p.oAB({type:Ne}),Ne.\u0275inj=p.cJS({imports:[w.IR]}),Ne})()},3814:(Cr,Pt,ae)=>{"use strict";ae.d(Pt,{SQ:()=>Wt,Wh:()=>Dr,ae:()=>K,xw:()=>be,yH:()=>$r});var p=ae(5879),w=ae(9388),W=ae(1462),he=ae(5766),De=ae(8645),Ze=ae(9773);let Ue=(()=>{class O extends W.QI{buildStyles(Y,{display:de}){const te=(0,he.Ar)(Y);return{...te,display:"none"===de?de:te.display}}}return O.\u0275fac=function(){let le;return function(de){return(le||(le=p.n5z(O)))(de||O)}}(),O.\u0275prov=p.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();const ft=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let ie=(()=>{class O extends W.iR{constructor(Y,de,te,Ye,nt){super(Y,te,de,Ye),this._config=nt,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(Y){const te=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=Qe.get(te)??new Map,Qe.set(te,this.styleCache),this.currentValue!==Y&&(this.addStyles(Y,{display:te}),this.currentValue=Y)}}return O.\u0275fac=function(Y){return new(Y||O)(p.Y36(p.SBq),p.Y36(W.RK),p.Y36(Ue),p.Y36(W.yB),p.Y36(W.WU))},O.\u0275dir=p.lG2({type:O,features:[p.qOj]}),O})(),be=(()=>{class O extends ie{constructor(){super(...arguments),this.inputs=ft}}return O.\u0275fac=function(){let le;return function(de){return(le||(le=p.n5z(O)))(de||O)}}(),O.\u0275dir=p.lG2({type:O,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[p.qOj]}),O})();const Qe=new Map,Ke={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let ht=(()=>{class O extends W.QI{constructor(Y,de){super(),this._styler=Y,this._config=de}buildStyles(Y,de){return Y.endsWith(gr)?(Y=Y.slice(0,Y.indexOf(gr)),function Ft(O,le){const[Y,de]=O.split(" "),Ye=U=>`-${U}`;let nt="0px",st=Ye(de??Y),ur="0px";return"rtl"===le?ur=Ye(Y):nt=Ye(Y),{margin:`0px ${nt} ${st} ${ur}`}}(Y=(0,W.FL)(Y,this._config.multiplier),de.directionality)):{}}sideEffect(Y,de,te){const Ye=te.items;if(Y.endsWith(gr)){Y=Y.slice(0,Y.indexOf(gr));const nt=function Er(O,le){const[Y,de]=O.split(" ");let Ye="0px",st="0px";return"rtl"===le?st=Y:Ye=Y,{padding:`0px ${Ye} ${de??Y} ${st}`}}(Y=(0,W.FL)(Y,this._config.multiplier),te.directionality);this._styler.applyStyleToElements(nt,te.items)}else{Y=(0,W.FL)(Y,this._config.multiplier),Y=this.addFallbackUnit(Y);const nt=Ye.pop(),st=function qe(O,le){const Y=vt(le.directionality,le.layout),de={...Ke};return de[Y]=O,de}(Y,te);this._styler.applyStyleToElements(st,Ye),this._styler.applyStyleToElements(Ke,[nt])}}addFallbackUnit(Y){return isNaN(+Y)?Y:`${Y}${this._config.defaultUnit}`}}return O.\u0275fac=function(Y){return new(Y||O)(p.LFG(W.RK),p.LFG(W.WU))},O.\u0275prov=p.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();const Nt=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let rt=(()=>{class O extends W.iR{constructor(Y,de,te,Ye,nt,st){super(Y,nt,Ye,st),this.zone=de,this.directionality=te,this.styleUtils=Ye,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new De.x;const ur=[this.directionality.change,this.observerSubject.asObservable()];this.init(ur),this.marshal.trackValue(this.nativeElement,"layout").pipe((0,Ze.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const Y=this.nativeElement.children,de=[];for(let te=Y.length;te--;)de[te]=Y[te];return de}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(Y){const te=Y.value.split(" ");this.layout=te[0],he.iQ.find(Ye=>Ye===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(Y){const de=this.childrenNodes.filter(te=>1===te.nodeType&&this.willDisplay(te)).sort((te,Ye)=>{const nt=+this.styler.lookupStyle(te,"order"),st=+this.styler.lookupStyle(Ye,"order");return isNaN(nt)||isNaN(st)||nt===st?0:nt>st?1:-1});if(de.length>0){const te=this.directionality.value,Ye=this.layout;"row"===Ye&&"rtl"===te?this.styleCache=Jt:"row"===Ye&&"rtl"!==te?this.styleCache=ir:"column"===Ye&&"rtl"===te?this.styleCache=nr:"column"===Ye&&"rtl"!==te&&(this.styleCache=wr),this.addStyles(Y,{directionality:te,items:de,layout:Ye})}}clearStyles(){const Y=Object.keys(this.mru).length>0,de=Y?"padding":vt(this.directionality.value,this.layout);Y&&super.clearStyles(),this.styleUtils.applyStyleToElements({[de]:""},this.childrenNodes)}willDisplay(Y){const de=this.marshal.getValue(Y,"show-hide");return!0===de||void 0===de&&"none"!==this.styleUtils.lookupStyle(Y,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{typeof MutationObserver<"u"&&(this.observer=new MutationObserver(Y=>{Y.some(te=>te.addedNodes&&te.addedNodes.length>0||te.removedNodes&&te.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return O.\u0275fac=function(Y){return new(Y||O)(p.Y36(p.SBq),p.Y36(p.R0b),p.Y36(w.Is),p.Y36(W.RK),p.Y36(ht),p.Y36(W.yB))},O.\u0275dir=p.lG2({type:O,features:[p.qOj]}),O})(),Wt=(()=>{class O extends rt{constructor(){super(...arguments),this.inputs=Nt}}return O.\u0275fac=function(){let le;return function(de){return(le||(le=p.n5z(O)))(de||O)}}(),O.\u0275dir=p.lG2({type:O,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[p.qOj]}),O})();const Jt=new Map,nr=new Map,ir=new Map,wr=new Map,gr=" grid";function vt(O,le){switch(le){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":default:return"rtl"===O?"margin-left":"margin-right";case"row-reverse":return"rtl"===O?"margin-right":"margin-left"}}let yt=(()=>{class O extends W.QI{constructor(Y){super(),this.layoutConfig=Y}buildStyles(Y,de){let[te,Ye,...nt]=Y.split(" "),st=nt.join(" ");const ur=de.direction.indexOf("column")>-1?"column":"row",U=(0,he.tj)(ur)?"max-width":"max-height",Q=(0,he.tj)(ur)?"min-width":"min-height",ue=String(st).indexOf("calc")>-1,Ee=ue||"auto"===st,ut=String(st).indexOf("%")>-1&&!ue,ot=String(st).indexOf("px")>-1||String(st).indexOf("rem")>-1||String(st).indexOf("em")>-1||String(st).indexOf("vw")>-1||String(st).indexOf("vh")>-1;let Rt=ue||ot;te="0"==te?0:te,Ye="0"==Ye?0:Ye;const It=!te&&!Ye;let tr={};const Lr={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(st||""){case"":st="row"===ur?"0%":!1!==this.layoutConfig.useColumnBasisZero?"0.000000001px":"auto";break;case"initial":case"nogrow":te=0,st="auto";break;case"grow":st="100%";break;case"noshrink":Ye=0,st="auto";break;case"auto":break;case"none":te=0,Ye=0,st="auto";break;default:!Rt&&!ut&&!isNaN(st)&&(st+="%"),"0%"===st&&(Rt=!0),"0px"===st&&(st="0%"),tr=(0,he.kt)(Lr,ue?{"flex-grow":te,"flex-shrink":Ye,"flex-basis":Rt?st:"100%"}:{flex:`${te} ${Ye} ${Rt?st:"100%"}`})}return tr.flex||tr["flex-grow"]||(tr=(0,he.kt)(Lr,ue?{"flex-grow":te,"flex-shrink":Ye,"flex-basis":st}:{flex:`${te} ${Ye} ${st}`})),"0%"!==st&&"0px"!==st&&"0.000000001px"!==st&&"auto"!==st&&(tr[Q]=It||Rt&&te?st:null,tr[U]=It||!Ee&&Ye?st:null),tr[Q]||tr[U]?de.hasWrap&&(tr[ue?"flex-basis":"flex"]=tr[U]?ue?tr[U]:`${te} ${Ye} ${tr[U]}`:ue?tr[Q]:`${te} ${Ye} ${tr[Q]}`):tr=(0,he.kt)(Lr,ue?{"flex-grow":te,"flex-shrink":Ye,"flex-basis":st}:{flex:`${te} ${Ye} ${st}`}),(0,he.kt)(tr,{"box-sizing":"border-box"})}}return O.\u0275fac=function(Y){return new(Y||O)(p.LFG(W.WU))},O.\u0275prov=p.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();const Yt=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let Rr=(()=>{class O extends W.iR{constructor(Y,de,te,Ye,nt){super(Y,Ye,de,nt),this.layoutConfig=te,this.marshal=nt,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(Y){this.flexShrink=Y||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(Y){this.flexGrow=Y||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe((0,Ze.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe((0,Ze.R)(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(Y){const te=Y.value.split(" ");this.direction=te[0],this.wrap=void 0!==te[1]&&"wrap"===te[1],this.triggerUpdate()}updateWithValue(Y){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const te=this.direction,Ye=te.startsWith("row"),nt=this.wrap;Ye&&nt?this.styleCache=br:Ye&&!nt?this.styleCache=vr:!Ye&&nt?this.styleCache=At:!Ye&&!nt&&(this.styleCache=Ar);const st=String(Y).replace(";",""),ur=(0,W.Ot)(st,this.flexGrow,this.flexShrink);this.addStyles(ur.join(" "),{direction:te,hasWrap:nt})}triggerReflow(){const Y=this.activatedValue;if(void 0!==Y){const de=(0,W.Ot)(Y+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,de.join(" "))}}}return O.\u0275fac=function(Y){return new(Y||O)(p.Y36(p.SBq),p.Y36(W.RK),p.Y36(W.WU),p.Y36(yt),p.Y36(W.yB))},O.\u0275dir=p.lG2({type:O,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[p.qOj]}),O})(),$r=(()=>{class O extends Rr{constructor(){super(...arguments),this.inputs=Yt}}return O.\u0275fac=function(){let le;return function(de){return(le||(le=p.n5z(O)))(de||O)}}(),O.\u0275dir=p.lG2({type:O,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[p.qOj]}),O})();const vr=new Map,Ar=new Map,br=new Map,At=new Map;let A=(()=>{class O extends W.QI{buildStyles(Y,de){const te={},[Ye,nt]=Y.split(" ");switch(Ye){case"center":te["justify-content"]="center";break;case"space-around":te["justify-content"]="space-around";break;case"space-between":te["justify-content"]="space-between";break;case"space-evenly":te["justify-content"]="space-evenly";break;case"end":case"flex-end":te["justify-content"]="flex-end";break;default:te["justify-content"]="flex-start"}switch(nt){case"start":case"flex-start":te["align-items"]=te["align-content"]="flex-start";break;case"center":te["align-items"]=te["align-content"]="center";break;case"end":case"flex-end":te["align-items"]=te["align-content"]="flex-end";break;case"space-between":te["align-content"]="space-between",te["align-items"]="stretch";break;case"space-around":te["align-content"]="space-around",te["align-items"]="stretch";break;case"baseline":te["align-content"]="stretch",te["align-items"]="baseline";break;default:te["align-items"]=te["align-content"]="stretch"}return(0,he.kt)(te,{display:de.inline?"inline-flex":"flex","flex-direction":de.layout,"box-sizing":"border-box","max-width":"stretch"===nt?(0,he.tj)(de.layout)?null:"100%":null,"max-height":"stretch"===nt&&(0,he.tj)(de.layout)?"100%":null})}}return O.\u0275fac=function(){let le;return function(de){return(le||(le=p.n5z(O)))(de||O)}}(),O.\u0275prov=p.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();const xt=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let Sr=(()=>{class O extends W.iR{constructor(Y,de,te,Ye){super(Y,te,de,Ye),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe((0,Ze.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(Y){const de=this.layout||"row",te=this.inline;"row"===de&&te?this.styleCache=Ie:"row"!==de||te?"row-reverse"===de&&te?this.styleCache=J:"row-reverse"!==de||te?"column"===de&&te?this.styleCache=G:"column"!==de||te?"column-reverse"===de&&te?this.styleCache=V:"column-reverse"===de&&!te&&(this.styleCache=ye):this.styleCache=Nr:this.styleCache=mr:this.styleCache=qr,this.addStyles(Y,{layout:de,inline:te})}onLayoutChange(Y){const de=Y.value.split(" ");this.layout=de[0],this.inline=Y.value.includes("inline"),he.iQ.find(te=>te===this.layout)||(this.layout="row"),this.triggerUpdate()}}return O.\u0275fac=function(Y){return new(Y||O)(p.Y36(p.SBq),p.Y36(W.RK),p.Y36(A),p.Y36(W.yB))},O.\u0275dir=p.lG2({type:O,features:[p.qOj]}),O})(),Dr=(()=>{class O extends Sr{constructor(){super(...arguments),this.inputs=xt}}return O.\u0275fac=function(){let le;return function(de){return(le||(le=p.n5z(O)))(de||O)}}(),O.\u0275dir=p.lG2({type:O,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[p.qOj]}),O})();const qr=new Map,Nr=new Map,mr=new Map,ye=new Map,Ie=new Map,G=new Map,J=new Map,V=new Map;let K=(()=>{class O{}return O.\u0275fac=function(Y){return new(Y||O)},O.\u0275mod=p.oAB({type:O}),O.\u0275inj=p.cJS({imports:[W.IR,w.vT]}),O})()},1447:(Cr,Pt,ae)=>{"use strict";ae.d(Pt,{o9:()=>xe});var p=ae(5879),w=ae(1462),W=ae(7509),he=ae(3814);ae(2495);let k=(()=>{class P{}return P.\u0275fac=function(q){return new(q||P)},P.\u0275mod=p.oAB({type:P}),P.\u0275inj=p.cJS({imports:[w.IR]}),P})();var $=ae(6814);let xe=(()=>{class P{constructor(q,me){(0,$.PM)(me)&&!q&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(q,me=[]){return{ngModule:P,providers:q.serverLoaded?[{provide:w.WU,useValue:{...w.g5,...q}},{provide:w.Bs,useValue:me,multi:!0},{provide:w.wY,useValue:!0}]:[{provide:w.WU,useValue:{...w.g5,...q}},{provide:w.Bs,useValue:me,multi:!0}]}}}return P.\u0275fac=function(q){return new(q||P)(p.LFG(w.wY),p.LFG(p.Lbi))},P.\u0275mod=p.oAB({type:P}),P.\u0275inj=p.cJS({imports:[he.ae,W.aT,k,he.ae,W.aT,k]}),P})()},3566:(Cr,Pt,ae)=>{"use strict";ae.d(Pt,{YE:()=>Nt});var p=ae(5879),w=ae(2495),W=ae(3680),he=ae(8645);ae(6825);const Ke=new p.OlP("MAT_SORT_DEFAULT_OPTIONS"),ht=(0,W.dB)((0,W.Id)(class{}));let Nt=(()=>{class Ft extends ht{get direction(){return this._direction}set direction(qe){this._direction=qe}get disableClear(){return this._disableClear}set disableClear(qe){this._disableClear=(0,w.Ig)(qe)}constructor(qe){super(),this._defaultOptions=qe,this.sortables=new Map,this._stateChanges=new he.x,this.start="asc",this._direction="",this.sortChange=new p.vpe}register(qe){this.sortables.set(qe.id,qe)}deregister(qe){this.sortables.delete(qe.id)}sort(qe){this.active!=qe.id?(this.active=qe.id,this.direction=qe.start?qe.start:this.start):this.direction=this.getNextSortDirection(qe),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(qe){if(!qe)return"";let Yt=function et(Ft,vt){let qe=["asc","desc"];return"desc"==Ft&&qe.reverse(),vt||qe.push(""),qe}(qe.start||this.start,qe?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),$t=Yt.indexOf(this.direction)+1;return $t>=Yt.length&&($t=0),Yt[$t]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}static#e=this.\u0275fac=function(yt){return new(yt||Ft)(p.Y36(Ke,8))};static#t=this.\u0275dir=p.lG2({type:Ft,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[p.qOj,p.TTD]})}return Ft})()},1966:(Cr,Pt,ae)=>{"use strict";ae.d(Pt,{w:()=>hr,z:()=>Ir});var p=ae(5879),w=ae(7882),W=ae(2711),he=ae(6814);const De=["*"],Ze=["rootEl"],Ue=function(He){return{$implicit:He}};function ft(He,z){if(1&He&&(p.TgZ(0,"div",1,2),p.GkF(2,3),p.qZA()),2&He){const B=p.oxw();p.Q6J("ngClass",B.elClasses||"")("ngStyle",B.elStyle||null),p.xp6(2),p.Q6J("ngTemplateOutlet",B.template)("ngTemplateOutletContext",p.VKq(4,Ue,B.renderProps))}}function We(He,z){if(1&He&&(p.TgZ(0,"span",1,2),p.GkF(2,3),p.qZA()),2&He){const B=p.oxw();p.Q6J("ngClass",B.elClasses||"")("ngStyle",B.elStyle||null),p.xp6(2),p.Q6J("ngTemplateOutlet",B.template)("ngTemplateOutletContext",p.VKq(4,Ue,B.renderProps))}}function ie(He,z){if(1&He&&(p.TgZ(0,"a",1,2),p.GkF(2,3),p.qZA()),2&He){const B=p.oxw();p.Q6J("ngClass",B.elClasses||"")("ngStyle",B.elStyle||null),p.xp6(2),p.Q6J("ngTemplateOutlet",B.template)("ngTemplateOutletContext",p.VKq(4,Ue,B.renderProps))}}function be(He,z){if(1&He&&(p.TgZ(0,"tr",1,2),p.GkF(2,3),p.qZA()),2&He){const B=p.oxw();p.Q6J("ngClass",B.elClasses||"")("ngStyle",B.elStyle||null),p.xp6(2),p.Q6J("ngTemplateOutlet",B.template)("ngTemplateOutletContext",p.VKq(4,Ue,B.renderProps))}}function Qe(He,z){if(1&He&&(p.TgZ(0,"th",1,2),p.GkF(2,3),p.qZA()),2&He){const B=p.oxw();p.Q6J("ngClass",B.elClasses||"")("ngStyle",B.elStyle||null),p.xp6(2),p.Q6J("ngTemplateOutlet",B.template)("ngTemplateOutletContext",p.VKq(4,Ue,B.renderProps))}}function Ke(He,z){if(1&He&&(p.TgZ(0,"td",1,2),p.GkF(2,3),p.qZA()),2&He){const B=p.oxw();p.Q6J("ngClass",B.elClasses||"")("ngStyle",B.elStyle||null),p.xp6(2),p.Q6J("ngTemplateOutlet",B.template)("ngTemplateOutletContext",p.VKq(4,Ue,B.renderProps))}}const ht=["dayHeaderContent"],Nt=["dayCellContent"],et=["weekNumberContent"],rt=["nowIndicatorContent"],Wt=["eventContent"],Jt=["slotLaneContent"],nr=["slotLabelContent"],ir=["allDayContent"],wr=["moreLinkContent"],gr=["noEventsContent"],Er=["resourceAreaHeaderContent"],Ft=["resourceGroupLabelContent"],vt=["resourceLabelContent"],qe=["resourceLaneContent"],yt=["resourceGroupLaneContent"];function Yt(He,z){if(1&He&&p._UZ(0,"transport-container",1),2&He){const B=z.$implicit,re=p.oxw();p.Q6J("inPlaceOf",B.containerEl)("reportEl",B.reportNewContainerEl)("elTag",B.elTag)("elClasses",B.elClasses)("elStyle",B.elStyle)("elAttrs",B.elAttrs)("template",re.templateMap[B.generatorName])("renderProps",B.renderProps)}}const $t={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0},Rr=["events","eventSources","resources"],$r=Object.prototype.hasOwnProperty;function vr(He){return Array.isArray(He)?He.map(vr):He instanceof Date?new Date(He.valueOf()):"object"==typeof He&&He?Ar(He,vr):He}function Ar(He,z){const B={};for(const re in He)$r.call(He,re)&&(B[re]=z(He[re],re));return B}function br(He,z){if(He===z)return!0;if(He&&z&&"object"==typeof He&&"object"==typeof z){if(He.constructor!==z.constructor)return!1;var B,re,_e;if(Array.isArray(He)){if((B=He.length)!=z.length)return!1;for(re=B;0!=re--;)if(!br(He[re],z[re]))return!1;return!0}if(He.constructor===RegExp)return He.source===z.source&&He.flags===z.flags;if(He.valueOf!==Object.prototype.valueOf)return He.valueOf()===z.valueOf();if(He.toString!==Object.prototype.toString)return He.toString()===z.toString();if((B=(_e=Object.keys(He)).length)!==Object.keys(z).length)return!1;for(re=B;0!=re--;)if(!Object.prototype.hasOwnProperty.call(z,_e[re]))return!1;for(re=B;0!=re--;){var Me=_e[re];if(!br(He[Me],z[Me]))return!1}return!0}return He!=He&&z!=z}const At=typeof document<"u"?document.createDocumentFragment():null;let Ne=(()=>{class He{constructor(B){this.element=B}ngAfterViewInit(){At&&At.appendChild(this.element.nativeElement)}ngOnDestroy(){At&&At.removeChild(this.element.nativeElement)}}return He.\u0275fac=function(B){return new(B||He)(p.Y36(p.SBq))},He.\u0275cmp=p.Xpm({type:He,selectors:[["offscreen-fragment"]],ngContentSelectors:De,decls:1,vars:0,template:function(B,re){1&B&&(p.F$t(),p.Hsn(0))},encapsulation:2}),He})();const dt=typeof document<"u"?document.createDocumentFragment():null;let Xe=(()=>{class He{ngAfterViewInit(){const B=this.rootElRef?.nativeElement;pt(B,this.inPlaceOf),kt(B,void 0,this.elAttrs),this.inPlaceOf.style.display="none",this.reportEl(B)}ngOnChanges(B){const re=this.rootElRef?.nativeElement;if(re)if(this.inPlaceOf.parentNode!==dt)pt(re,this.inPlaceOf),kt(re,void 0,this.elAttrs),this.reportEl(re);else{const _e=B.elAttrs;_e&&kt(re,_e.previousValue,_e.currentValue)}}ngOnDestroy(){this.inPlaceOf.parentNode===dt&&dt&&dt.removeChild(this.inPlaceOf),this.reportEl(null)}}return He.\u0275fac=function(B){return new(B||He)},He.\u0275cmp=p.Xpm({type:He,selectors:[["transport-container"]],viewQuery:function(B,re){if(1&B&&p.Gf(Ze,5),2&B){let _e;p.iGM(_e=p.CRH())&&(re.rootElRef=_e.first)}},inputs:{inPlaceOf:"inPlaceOf",reportEl:"reportEl",elTag:"elTag",elClasses:"elClasses",elStyle:"elStyle",elAttrs:"elAttrs",template:"template",renderProps:"renderProps"},features:[p.TTD],decls:6,vars:6,consts:[[3,"ngIf"],[3,"ngClass","ngStyle"],["rootEl",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(B,re){1&B&&(p.YNc(0,ft,3,6,"ng-template",0),p.YNc(1,We,3,6,"ng-template",0),p.YNc(2,ie,3,6,"ng-template",0),p.YNc(3,be,3,6,"ng-template",0),p.YNc(4,Qe,3,6,"ng-template",0),p.YNc(5,Ke,3,6,"ng-template",0)),2&B&&(p.Q6J("ngIf","div"==re.elTag),p.xp6(1),p.Q6J("ngIf","span"==re.elTag),p.xp6(1),p.Q6J("ngIf","a"==re.elTag),p.xp6(1),p.Q6J("ngIf","tr"==re.elTag),p.xp6(1),p.Q6J("ngIf","th"==re.elTag),p.xp6(1),p.Q6J("ngIf","td"==re.elTag))},dependencies:[he.O5,he.mk,he.PC,he.tP],encapsulation:2}),He})();function pt(He,z){z.parentNode?.insertBefore(He,z.nextSibling),dt&&dt.appendChild(z)}function kt(He,z={},B={}){for(const re in z)re in B||(He[re]=null);for(const re in B)He[re]=B[re]}let hr=(()=>{class He{constructor(B,re){this.element=B,this.calendar=null,this.optionSnapshot={},this.customRenderingMap=new Map,this.templateMap={};const _e=new W.cy;_e.subscribe(Me=>{this.customRenderingMap=Me,this.customRenderingArray=void 0,re.detectChanges()}),this.handleCustomRendering=_e.handle.bind(_e),this.templateMap=this}ngAfterViewInit(){const{deepChangeDetection:B}=this,re={...this.options,...this.buildInputOptions()};this.optionSnapshot=Ar(re,(Re,Dt)=>B&&$t[Dt]?vr(Re):Re);const _e=this.element.nativeElement,Me=this.calendar=new w.f(_e,{...re,...this.buildExtraOptions()}),Se=_e.closest("ion-content");Se&&Se.componentOnReady?Se.componentOnReady().then(()=>{window.requestAnimationFrame(()=>{Me.render()})}):Me.render()}ngDoCheck(){if(this.calendar){const{deepChangeDetection:B,optionSnapshot:re}=this,_e={...this.options,...this.buildInputOptions()},Me={},Se=[];for(const Dt in _e)if(_e.hasOwnProperty(Dt)){let lt=_e[Dt];B&&$t[Dt]?br(re[Dt],lt)||(re[Dt]=vr(lt),Se.push(Dt)):re[Dt]!==lt&&(re[Dt]=lt,Se.push(Dt)),Me[Dt]=lt}const Re=Object.keys(re);for(const Dt of Re)Dt in _e||(delete re[Dt],Se.push(Dt));Se.length&&(this.calendar.pauseRendering(),this.calendar.resetOptions({...Me,...this.buildExtraOptions()},Se))}}ngAfterContentChecked(){this.calendar&&this.calendar.resumeRendering()}ngOnDestroy(){this.calendar&&(this.calendar.destroy(),this.calendar=null)}get customRenderings(){return this.customRenderingArray||(this.customRenderingArray=[...this.customRenderingMap.values()])}getApi(){return this.calendar}buildInputOptions(){const B={};for(const re of Rr){const _e=this[re];null!=_e&&(B[re]=_e)}return B}buildExtraOptions(){return{handleCustomRendering:this.handleCustomRendering,customRenderingMetaMap:this.templateMap,customRenderingReplaces:!0}}trackCustomRendering(B,re){return re.id}}return He.\u0275fac=function(B){return new(B||He)(p.Y36(p.SBq),p.Y36(p.sBO))},He.\u0275cmp=p.Xpm({type:He,selectors:[["full-calendar"]],contentQueries:function(B,re,_e){if(1&B&&(p.Suo(_e,ht,7),p.Suo(_e,Nt,7),p.Suo(_e,et,7),p.Suo(_e,rt,7),p.Suo(_e,Wt,7),p.Suo(_e,Jt,7),p.Suo(_e,nr,7),p.Suo(_e,ir,7),p.Suo(_e,wr,7),p.Suo(_e,gr,7),p.Suo(_e,Er,7),p.Suo(_e,Ft,7),p.Suo(_e,vt,7),p.Suo(_e,qe,7),p.Suo(_e,yt,7)),2&B){let Me;p.iGM(Me=p.CRH())&&(re.dayHeaderContent=Me.first),p.iGM(Me=p.CRH())&&(re.dayCellContent=Me.first),p.iGM(Me=p.CRH())&&(re.weekNumberContent=Me.first),p.iGM(Me=p.CRH())&&(re.nowIndicatorContent=Me.first),p.iGM(Me=p.CRH())&&(re.eventContent=Me.first),p.iGM(Me=p.CRH())&&(re.slotLaneContent=Me.first),p.iGM(Me=p.CRH())&&(re.slotLabelContent=Me.first),p.iGM(Me=p.CRH())&&(re.allDayContent=Me.first),p.iGM(Me=p.CRH())&&(re.moreLinkContent=Me.first),p.iGM(Me=p.CRH())&&(re.noEventsContent=Me.first),p.iGM(Me=p.CRH())&&(re.resourceAreaHeaderContent=Me.first),p.iGM(Me=p.CRH())&&(re.resourceGroupLabelContent=Me.first),p.iGM(Me=p.CRH())&&(re.resourceLabelContent=Me.first),p.iGM(Me=p.CRH())&&(re.resourceLaneContent=Me.first),p.iGM(Me=p.CRH())&&(re.resourceGroupLaneContent=Me.first)}},inputs:{options:"options",deepChangeDetection:"deepChangeDetection",events:"events",eventSources:"eventSources",resources:"resources"},decls:2,vars:2,consts:[[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps",4,"ngFor","ngForOf","ngForTrackBy"],[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps"]],template:function(B,re){1&B&&(p.TgZ(0,"offscreen-fragment"),p.YNc(1,Yt,1,8,"transport-container",0),p.qZA()),2&B&&(p.xp6(1),p.Q6J("ngForOf",re.customRenderings)("ngForTrackBy",re.trackCustomRendering))},dependencies:[Ne,Xe,he.sg],encapsulation:2}),He})(),Ir=(()=>{class He{}return He.\u0275fac=function(B){return new(B||He)},He.\u0275mod=p.oAB({type:He}),He.\u0275inj=p.cJS({imports:[[he.ez]]}),He})()},7882:(Cr,Pt,ae)=>{"use strict";ae.d(Pt,{f:()=>Rt,rx:()=>Qe});var p=ae(2711),w=ae(4354);ae(691);const he=[],De={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},Ze=Object.assign(Object.assign({},De),{buttonHints:{prev:"Previous $0",next:"Next $0",today:(F,D)=>"day"===D?"Today":`This ${F}`},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:F=>`Show ${F} more event${1===F?"":"s"}`});function Ue(F){let D=F.length>0?F[0].code:"en",k=he.concat(F),$={en:Ze};for(let ge of k)$[ge.code]=ge;return{map:$,defaultCode:D}}function ft(F,D){return"object"!=typeof F||Array.isArray(F)?function We(F,D){let k=[].concat(F||[]),$=function ie(F,D){for(let k=0;k<F.length;k+=1){let $=F[k].toLocaleLowerCase().split("-");for(let ge=$.length;ge>0;ge-=1){let xe=$.slice(0,ge).join("-");if(D[xe])return D[xe]}}return null}(k,D)||Ze;return be(F,k,$)}(F,D):be(F.code,[F.code],F)}function be(F,D,k){let $=(0,p.m)([De,k],["buttonText"]);delete $.code;let{week:ge}=$;return delete $.week,{codeArg:F,codes:D,week:ge,simpleNumberFormat:new Intl.NumberFormat(F),options:$}}function Qe(F){return{id:(0,p.g)(),name:F.name,premiumReleaseDate:F.premiumReleaseDate?new Date(F.premiumReleaseDate):void 0,deps:F.deps||[],reducers:F.reducers||[],isLoadingFuncs:F.isLoadingFuncs||[],contextInit:[].concat(F.contextInit||[]),eventRefiners:F.eventRefiners||{},eventDefMemberAdders:F.eventDefMemberAdders||[],eventSourceRefiners:F.eventSourceRefiners||{},isDraggableTransformers:F.isDraggableTransformers||[],eventDragMutationMassagers:F.eventDragMutationMassagers||[],eventDefMutationAppliers:F.eventDefMutationAppliers||[],dateSelectionTransformers:F.dateSelectionTransformers||[],datePointTransforms:F.datePointTransforms||[],dateSpanTransforms:F.dateSpanTransforms||[],views:F.views||{},viewPropsTransformers:F.viewPropsTransformers||[],isPropsValid:F.isPropsValid||null,externalDefTransforms:F.externalDefTransforms||[],viewContainerAppends:F.viewContainerAppends||[],eventDropTransformers:F.eventDropTransformers||[],componentInteractions:F.componentInteractions||[],calendarInteractions:F.calendarInteractions||[],themeClasses:F.themeClasses||{},eventSourceDefs:F.eventSourceDefs||[],cmdFormatter:F.cmdFormatter,recurringTypes:F.recurringTypes||[],namedTimeZonedImpl:F.namedTimeZonedImpl,initialView:F.initialView||"",elementDraggingImpl:F.elementDraggingImpl,optionChangeHandlers:F.optionChangeHandlers||{},scrollGridImpl:F.scrollGridImpl||null,listenerRefiners:F.listenerRefiners||{},optionRefiners:F.optionRefiners||{},propSetHandlers:F.propSetHandlers||{}}}function Nt(F,D){return{premiumReleaseDate:et(F.premiumReleaseDate,D.premiumReleaseDate),reducers:F.reducers.concat(D.reducers),isLoadingFuncs:F.isLoadingFuncs.concat(D.isLoadingFuncs),contextInit:F.contextInit.concat(D.contextInit),eventRefiners:Object.assign(Object.assign({},F.eventRefiners),D.eventRefiners),eventDefMemberAdders:F.eventDefMemberAdders.concat(D.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},F.eventSourceRefiners),D.eventSourceRefiners),isDraggableTransformers:F.isDraggableTransformers.concat(D.isDraggableTransformers),eventDragMutationMassagers:F.eventDragMutationMassagers.concat(D.eventDragMutationMassagers),eventDefMutationAppliers:F.eventDefMutationAppliers.concat(D.eventDefMutationAppliers),dateSelectionTransformers:F.dateSelectionTransformers.concat(D.dateSelectionTransformers),datePointTransforms:F.datePointTransforms.concat(D.datePointTransforms),dateSpanTransforms:F.dateSpanTransforms.concat(D.dateSpanTransforms),views:Object.assign(Object.assign({},F.views),D.views),viewPropsTransformers:F.viewPropsTransformers.concat(D.viewPropsTransformers),isPropsValid:D.isPropsValid||F.isPropsValid,externalDefTransforms:F.externalDefTransforms.concat(D.externalDefTransforms),viewContainerAppends:F.viewContainerAppends.concat(D.viewContainerAppends),eventDropTransformers:F.eventDropTransformers.concat(D.eventDropTransformers),calendarInteractions:F.calendarInteractions.concat(D.calendarInteractions),componentInteractions:F.componentInteractions.concat(D.componentInteractions),themeClasses:Object.assign(Object.assign({},F.themeClasses),D.themeClasses),eventSourceDefs:F.eventSourceDefs.concat(D.eventSourceDefs),cmdFormatter:D.cmdFormatter||F.cmdFormatter,recurringTypes:F.recurringTypes.concat(D.recurringTypes),namedTimeZonedImpl:D.namedTimeZonedImpl||F.namedTimeZonedImpl,initialView:F.initialView||D.initialView,elementDraggingImpl:F.elementDraggingImpl||D.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},F.optionChangeHandlers),D.optionChangeHandlers),scrollGridImpl:D.scrollGridImpl||F.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},F.listenerRefiners),D.listenerRefiners),optionRefiners:Object.assign(Object.assign({},F.optionRefiners),D.optionRefiners),propSetHandlers:Object.assign(Object.assign({},F.propSetHandlers),D.propSetHandlers)}}function et(F,D){return void 0===F?D:void 0===D?F:new Date(Math.max(F.valueOf(),D.valueOf()))}class rt extends p.T{}function Jt(F,D,k,$){if(D[F])return D[F];let ge=function nr(F,D,k,$){let ge=k[F],xe=$[F],P=at=>ge&&null!==ge[at]?ge[at]:xe&&null!==xe[at]?xe[at]:null,ne=P("component"),q=P("superType"),me=null;if(q){if(q===F)throw new Error("Can't have a custom view type that references itself");me=Jt(q,D,k,$)}return!ne&&me&&(ne=me.component),ne?{type:F,component:ne,defaults:Object.assign(Object.assign({},me?me.defaults:{}),ge?ge.rawOptions:{}),overrides:Object.assign(Object.assign({},me?me.overrides:{}),xe?xe.rawOptions:{})}:null}(F,D,k,$);return ge&&(D[F]=ge),ge}function ir(F){return(0,p.a)(F,wr)}function wr(F){let D="function"==typeof F?{component:F}:F,{component:k}=D;return D.content?k=gr(D):k&&!(k.prototype instanceof p.B)&&(k=gr(Object.assign(Object.assign({},D),{content:k}))),{superType:D.type,component:k,rawOptions:D}}function gr(F){return D=>(0,w.az)(p.V.Consumer,null,k=>(0,w.az)(p.C,{elTag:"div",elClasses:(0,p.b)(k.viewSpec),renderProps:Object.assign(Object.assign({},D),{nextDayThreshold:k.options.nextDayThreshold}),generatorName:void 0,customGenerator:F.content,classNameGenerator:F.classNames,didMount:F.didMount,willUnmount:F.willUnmount}))}function Er(F,D,k,$){let ge=ir(F),xe=ir(D.views),P=function Wt(F,D){let $,k={};for($ in F)Jt($,k,F,D);for($ in D)Jt($,k,F,D);return k}(ge,xe);return(0,p.a)(P,ne=>function Ft(F,D,k,$,ge){let xe=F.overrides.duration||F.defaults.duration||$.duration||k.duration,P=null,ne="",q="",me={};if(xe&&(P=function qe(F){let D=JSON.stringify(F),k=vt[D];return void 0===k&&(k=(0,p.d)(F),vt[D]=k),k}(xe),P)){let fr=(0,p.c)(P);ne=fr.unit,1===fr.value&&(q=ne,me=D[ne]?D[ne].rawOptions:{})}let at=fr=>{let bt=fr.buttonText||{},Le=F.defaults.buttonTextKey;return null!=Le&&null!=bt[Le]?bt[Le]:null!=bt[F.type]?bt[F.type]:null!=bt[q]?bt[q]:null},Ct=fr=>{let bt=fr.buttonHints||{},Le=F.defaults.buttonTextKey;return null!=Le&&null!=bt[Le]?bt[Le]:null!=bt[F.type]?bt[F.type]:null!=bt[q]?bt[q]:null};return{type:F.type,component:F.component,duration:P,durationUnit:ne,singleUnit:q,optionDefaults:F.defaults,optionOverrides:Object.assign(Object.assign({},me),F.overrides),buttonTextOverride:at($)||at(k)||F.overrides.buttonText,buttonTextDefault:at(ge)||F.defaults.buttonText||at(p.e)||F.type,buttonTitleOverride:Ct($)||Ct(k)||F.overrides.buttonHint,buttonTitleDefault:Ct(ge)||F.defaults.buttonHint||Ct(p.e)}}(ne,xe,D,k,$))}rt.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},rt.prototype.baseIconClass="fc-icon",rt.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},rt.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},rt.prototype.iconOverrideOption="buttonIcons",rt.prototype.iconOverrideCustomButtonOption="icon",rt.prototype.iconOverridePrefix="fc-icon-";let vt={};function Ar(F){for(let D in F)if(F[D].isFetching)return!0;return!1}function br(F,D,k,$){let ge={};for(let xe of D)ge[xe.sourceId]=xe;return k&&(ge=Ne(ge,k,$)),Object.assign(Object.assign({},F),ge)}function Ne(F,D,k){return Xe(F,(0,p.h)(F,$=>function dt(F,D,k){return He(F,k)?!k.options.lazyFetching||!F.fetchRange||F.isFetching||D.start<F.fetchRange.start||D.end>F.fetchRange.end:!F.latestFetchId}($,D,k)),D,!1,k)}function Xe(F,D,k,$,ge){let xe={};for(let P in F){let ne=F[P];xe[P]=D[P]?pt(ne,k,$,ge):ne}return xe}function pt(F,D,k,$){let{options:ge,calendarApi:xe}=$,P=$.pluginHooks.eventSourceDefs[F.sourceDefId],ne=(0,p.g)();return P.fetch({eventSource:F,range:D,isRefetch:k,context:$},q=>{let{rawEvents:me}=q;ge.eventSourceSuccess&&(me=ge.eventSourceSuccess.call(xe,me,q.response)||me),F.success&&(me=F.success.call(xe,me,q.response)||me),$.dispatch({type:"RECEIVE_EVENTS",sourceId:F.sourceId,fetchId:ne,fetchRange:D,rawEvents:me})},q=>{let me=!1;ge.eventSourceFailure&&(ge.eventSourceFailure.call(xe,q),me=!0),F.failure&&(F.failure(q),me=!0),me||console.warn(q.message,q),$.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:F.sourceId,fetchId:ne,fetchRange:D,error:q})}),Object.assign(Object.assign({},F),{isFetching:!0,latestFetchId:ne})}function hr(F,D){return(0,p.h)(F,k=>He(k,D))}function He(F,D){return!D.pluginHooks.eventSourceDefs[F.sourceDefId].ignoreRange}function z(F,D){switch(D.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return D.selection;default:return F}}function B(F,D){switch(D.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return D.eventInstanceId;default:return F}}function re(F,D){let k;switch(D.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return k=D.state,{affectedEvents:k.affectedEvents,mutatedEvents:k.mutatedEvents,isEvent:k.isEvent};default:return F}}function _e(F,D){let k;switch(D.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return k=D.state,{affectedEvents:k.affectedEvents,mutatedEvents:k.mutatedEvents,isEvent:k.isEvent};default:return F}}function Me(F,D,k,$,ge){return{header:F.headerToolbar?Se(F.headerToolbar,F,D,k,$,ge):null,footer:F.footerToolbar?Se(F.footerToolbar,F,D,k,$,ge):null}}function Se(F,D,k,$,ge,xe){let P={},ne=[],q=!1;for(let me in F){let Ct=Re(F[me],D,k,$,ge,xe);P[me]=Ct.widgets,ne.push(...Ct.viewsWithButtons),q=q||Ct.hasTitle}return{sectionWidgets:P,viewsWithButtons:ne,hasTitle:q}}function Re(F,D,k,$,ge,xe){let P="rtl"===D.direction,ne=D.customButtons||{},q=k.buttonText||{},me=D.buttonText||{},at=k.buttonHints||{},Ct=D.buttonHints||{},fr=F?F.split(" "):[],bt=[],Le=!1;return{widgets:fr.map(Kr=>Kr.split(",").map(jr=>{if("title"===jr)return Le=!0,{buttonName:jr};let Si,_i,Gr,M,jn,oi;if(Si=ne[jr])Gr=sn=>{Si.click&&Si.click.call(sn.target,sn,sn.target)},(M=$.getCustomButtonIconClass(Si))||(M=$.getIconClass(jr,P))||(jn=Si.text),oi=Si.hint||Si.text;else if(_i=ge[jr]){bt.push(jr),Gr=()=>{xe.changeView(jr)},(jn=_i.buttonTextOverride)||(M=$.getIconClass(jr,P))||(jn=_i.buttonTextDefault);let sn=_i.buttonTextOverride||_i.buttonTextDefault;oi=(0,p.k)(_i.buttonTitleOverride||_i.buttonTitleDefault||D.viewHint,[sn,jr],sn)}else if(xe[jr])if(Gr=()=>{xe[jr]()},(jn=q[jr])||(M=$.getIconClass(jr,P))||(jn=me[jr]),"prevYear"===jr||"nextYear"===jr){let sn="prevYear"===jr?"prev":"next";oi=(0,p.k)(at[sn]||Ct[sn],[me.year||"year","year"],me[jr])}else oi=sn=>(0,p.k)(at[jr]||Ct[jr],[me[sn]||sn,sn],me[jr]);return{buttonName:jr,buttonClick:Gr,buttonIcon:M,buttonText:jn,buttonHint:oi}})),viewsWithButtons:bt,hasTitle:Le}}class Dt{constructor(D,k,$){this.type=D,this.getCurrentData=k,this.dateEnv=$}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(D){return this.getCurrentData().options[D]}}function Dr(F,D){let k=(0,p.v)(D.getCurrentData().eventSources);if(1===k.length&&1===F.length&&Array.isArray(k[0]._raw)&&Array.isArray(F[0]))return void D.dispatch({type:"RESET_RAW_EVENTS",sourceId:k[0].sourceId,rawEvents:F[0]});let $=[];for(let ge of F){let xe=!1;for(let P=0;P<k.length;P+=1)if(k[P]._raw===ge){k.splice(P,1),xe=!0;break}xe||$.push(ge)}for(let ge of k)D.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:ge.sourceId});for(let ge of $)D.calendarApi.addEventSource(ge)}const mr=[Qe({name:"array-event-source",eventSourceDefs:[{ignoreRange:!0,parseMeta:F=>Array.isArray(F.events)?F.events:null,fetch(F,D){D({rawEvents:F.eventSource.meta})}}]}),Qe({name:"func-event-source",eventSourceDefs:[{parseMeta:F=>"function"==typeof F.events?F.events:null,fetch(F,D,k){const{dateEnv:$}=F.context;(0,p.u)(F.eventSource.meta.bind(null,(0,p.l)(F.range,$)),xe=>D({rawEvents:xe}),k)}}]}),Qe({name:"json-event-source",eventSourceRefiners:{method:String,extraParams:p.n,startParam:String,endParam:String,timeZoneParam:String},eventSourceDefs:[{parseMeta:F=>!F.url||"json"!==F.format&&F.format?null:{url:F.url,format:"json",method:(F.method||"GET").toUpperCase(),extraParams:F.extraParams,startParam:F.startParam,endParam:F.endParam,timeZoneParam:F.timeZoneParam},fetch(F,D,k){const{meta:$}=F.eventSource,ge=function yr(F,D,k){let xe,P,ne,q,{dateEnv:$,options:ge}=k,me={};return xe=F.startParam,null==xe&&(xe=ge.startParam),P=F.endParam,null==P&&(P=ge.endParam),ne=F.timeZoneParam,null==ne&&(ne=ge.timeZoneParam),q="function"==typeof F.extraParams?F.extraParams():F.extraParams||{},Object.assign(me,q),me[xe]=$.formatIso(D.start),me[P]=$.formatIso(D.end),"local"!==$.timeZone&&(me[ne]=$.timeZone),me}($,F.range,F.context);(0,p.r)($.method,$.url,ge).then(([xe,P])=>{D({rawEvents:xe,response:P})},k)}}]}),Qe({name:"simple-recurring-event",recurringTypes:[{parse(F,D){if(F.daysOfWeek||F.startTime||F.endTime||F.startRecur||F.endRecur){let $,k={daysOfWeek:F.daysOfWeek||null,startTime:F.startTime||null,endTime:F.endTime||null,startRecur:F.startRecur?D.createMarker(F.startRecur):null,endRecur:F.endRecur?D.createMarker(F.endRecur):null};return F.duration&&($=F.duration),!$&&F.startTime&&F.endTime&&($=(0,p.s)(F.endTime,F.startTime)),{allDayGuess:!F.startTime&&!F.endTime,duration:$,typeData:k}}return null},expand(F,D,k){let $=(0,p.o)(D,{start:F.startRecur,end:F.endRecur});return $?function nn(F,D,k,$){let ge=F?(0,p.f)(F):null,xe=(0,p.q)(k.start),P=k.end,ne=[];for(;xe<P;){let q;(!ge||ge[xe.getUTCDay()])&&(q=D?$.add(xe,D):xe,ne.push(q)),xe=(0,p.t)(xe,1)}return ne}(F.daysOfWeek,F.startTime,$,k):[]}}],eventRefiners:{daysOfWeek:p.n,startTime:p.d,endTime:p.d,duration:p.d,startRecur:p.n,endRecur:p.n}}),Qe({name:"change-handler",optionChangeHandlers:{events(F,D){Dr([F],D)},eventSources:Dr}}),Qe({name:"misc",isLoadingFuncs:[F=>Ar(F.eventSources)],propSetHandlers:{dateProfile:function qr(F,D){D.emitter.trigger("datesSet",Object.assign(Object.assign({},(0,p.l)(F.activeRange,D.dateEnv)),{view:D.viewApi}))},eventStore:function Nr(F,D){let{emitter:k}=D;k.hasHandlers("eventsSet")&&k.trigger("eventsSet",(0,p.w)(F,D))}}})];class ye{constructor(D,k){this.runTaskOption=D,this.drainedOption=k,this.queue=[],this.delayedRunner=new p.D(this.drain.bind(this))}request(D,k){this.queue.push(D),this.delayedRunner.request(k)}pause(D){this.delayedRunner.pause(D)}resume(D,k){this.delayedRunner.resume(D,k)}drain(){let{queue:D}=this;for(;D.length;){let $,k=[];for(;$=D.shift();)this.runTask($),k.push($);this.drained(k)}}runTask(D){this.runTaskOption&&this.runTaskOption(D)}drained(D){this.drainedOption&&this.drainedOption(D)}}function Ie(F,D,k){let $;return $=/^(year|month)$/.test(F.currentRangeUnit)?F.currentRange:F.activeRange,k.formatRange($.start,$.end,(0,p.x)(D.titleFormat||function G(F){let{currentRangeUnit:D}=F;if("year"===D)return{year:"numeric"};if("month"===D)return{year:"numeric",month:"long"};let k=(0,p.y)(F.currentRange.start,F.currentRange.end);return null!==k&&k>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}(F)),{isEndExclusive:F.isRangeAllDay,defaultSeparator:D.titleRangeSeparator})}class J{constructor(D){this.computeCurrentViewData=(0,p.z)(this._computeCurrentViewData),this.organizeRawLocales=(0,p.z)(Ue),this.buildLocale=(0,p.z)(ft),this.buildPluginHooks=function ht(){let k,F=[],D=[];return($,ge)=>((!k||!(0,p.i)($,F)||!(0,p.i)(ge,D))&&(k=function Ke(F,D){let k={},$={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function ge(xe){for(let P of xe){const ne=P.name,q=k[ne];void 0===q?(k[ne]=P.id,ge(P.deps),$=Nt($,P)):q!==P.id&&console.warn(`Duplicate plugin '${ne}'`)}}return F&&ge(F),ge(D),$}($,ge)),F=$,D=ge,k)}(),this.buildDateEnv=(0,p.z)(V),this.buildTheme=(0,p.z)(T),this.parseToolbars=(0,p.z)(Me),this.buildViewSpecs=(0,p.z)(Er),this.buildDateProfileGenerator=(0,p.A)(K),this.buildViewApi=(0,p.z)(O),this.buildViewUiProps=(0,p.A)(de),this.buildEventUiBySource=(0,p.z)(le,p.E),this.buildEventUiBases=(0,p.z)(Y),this.parseContextBusinessHours=(0,p.A)(Ye),this.buildTitle=(0,p.z)(Ie),this.emitter=new p.F,this.actionRunner=new ye(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=fr=>{this.actionRunner.request(fr)},this.props=D,this.actionRunner.pause();let k={},$=this.computeOptionsData(D.optionOverrides,k,D.calendarApi),ge=$.calendarOptions.initialView||$.pluginHooks.initialView,xe=this.computeCurrentViewData(ge,$,D.optionOverrides,k);D.calendarApi.currentDataManager=this,this.emitter.setThisContext(D.calendarApi),this.emitter.setOptions(xe.options);let P=(0,p.G)($.calendarOptions,$.dateEnv),ne=xe.dateProfileGenerator.build(P);(0,p.H)(ne.activeRange,P)||(P=ne.currentRange.start);let q={dateEnv:$.dateEnv,options:$.calendarOptions,pluginHooks:$.pluginHooks,calendarApi:D.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let fr of $.pluginHooks.contextInit)fr(q);let me=function Rr(F,D,k){let $=D?D.activeRange:null;return br({},function Ir(F,D){let k=(0,p.j)(D),$=[].concat(F.eventSources||[]),ge=[];F.initialEvents&&$.unshift(F.initialEvents),F.events&&$.unshift(F.events);for(let xe of $){let P=(0,p.p)(xe,D,k);P&&ge.push(P)}return ge}(F,k),$,k)}($.calendarOptions,ne,q),at={dynamicOptionOverrides:k,currentViewType:ge,currentDate:P,dateProfile:ne,businessHours:this.parseContextBusinessHours(q),eventSources:me,eventUiBases:{},eventStore:(0,p.I)(),renderableEventStore:(0,p.I)(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(q).selectionConfig},Ct=Object.assign(Object.assign({},q),at);for(let fr of $.pluginHooks.reducers)Object.assign(at,fr(null,null,Ct));te(at,q)&&this.emitter.trigger("loading",!0),this.state=at,this.updateData(),this.actionRunner.resume()}resetOptions(D,k){let{props:$}=this;void 0===k?$.optionOverrides=D:($.optionOverrides=Object.assign(Object.assign({},$.optionOverrides||{}),D),this.optionsForRefining.push(...k)),(void 0===k||k.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(D){let{props:k,state:$,emitter:ge}=this,xe=function Yt(F,D){return"SET_OPTION"===D.type?Object.assign(Object.assign({},F),{[D.optionName]:D.rawOptionValue}):F}($.dynamicOptionOverrides,D),P=this.computeOptionsData(k.optionOverrides,xe,k.calendarApi),ne=function yt(F,D){return"CHANGE_VIEW_TYPE"===D.type&&(F=D.viewType),F}($.currentViewType,D),q=this.computeCurrentViewData(ne,P,k.optionOverrides,xe);k.calendarApi.currentDataManager=this,ge.setThisContext(k.calendarApi),ge.setOptions(q.options);let me={dateEnv:P.dateEnv,options:P.calendarOptions,pluginHooks:P.pluginHooks,calendarApi:k.calendarApi,dispatch:this.dispatch,emitter:ge,getCurrentData:this.getCurrentData},{currentDate:at,dateProfile:Ct}=$;this.data&&this.data.dateProfileGenerator!==q.dateProfileGenerator&&(Ct=q.dateProfileGenerator.build(at)),at=(0,p.J)(at,D),Ct=function $t(F,D,k,$){let ge;switch(D.type){case"CHANGE_VIEW_TYPE":return $.build(D.dateMarker||k);case"CHANGE_DATE":return $.build(D.dateMarker);case"PREV":if(ge=$.buildPrev(F,k),ge.isValid)return ge;break;case"NEXT":if(ge=$.buildNext(F,k),ge.isValid)return ge}return F}(Ct,D,at,q.dateProfileGenerator),("PREV"===D.type||"NEXT"===D.type||!(0,p.H)(Ct.currentRange,at))&&(at=Ct.currentRange.start);let fr=function $r(F,D,k,$){let ge=k?k.activeRange:null;switch(D.type){case"ADD_EVENT_SOURCES":return br(F,D.sources,ge,$);case"REMOVE_EVENT_SOURCE":return function At(F,D){return(0,p.h)(F,k=>k.sourceId!==D)}(F,D.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return k?Ne(F,ge,$):F;case"FETCH_EVENT_SOURCES":return Xe(F,D.sourceIds?(0,p.f)(D.sourceIds):hr(F,$),ge,D.isRefetch||!1,$);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return function kt(F,D,k,$){let ge=F[D];return ge&&k===ge.latestFetchId?Object.assign(Object.assign({},F),{[D]:Object.assign(Object.assign({},ge),{isFetching:!1,fetchRange:$})}):F}(F,D.sourceId,D.fetchId,D.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return F}}($.eventSources,D,Ct,me),bt=(0,p.K)($.eventStore,D,fr,Ct,me),Vi=Ar(fr)&&!q.options.progressiveEventRendering&&$.renderableEventStore||bt,{eventUiSingleBase:Kr,selectionConfig:jr}=this.buildViewUiProps(me),Si=this.buildEventUiBySource(fr),Gr={dynamicOptionOverrides:xe,currentViewType:ne,currentDate:at,dateProfile:Ct,eventSources:fr,eventStore:bt,renderableEventStore:Vi,selectionConfig:jr,eventUiBases:this.buildEventUiBases(Vi.defs,Kr,Si),businessHours:this.parseContextBusinessHours(me),dateSelection:z($.dateSelection,D),eventSelection:B($.eventSelection,D),eventDrag:re($.eventDrag,D),eventResize:_e($.eventResize,D)},M=Object.assign(Object.assign({},me),Gr);for(let sn of P.pluginHooks.reducers)Object.assign(Gr,sn($,D,M));let jn=te($,me),oi=te(Gr,me);!jn&&oi?ge.trigger("loading",!0):jn&&!oi&&ge.trigger("loading",!1),this.state=Gr,k.onAction&&k.onAction(D)}updateData(){let{props:D,state:k}=this,$=this.data,ge=this.computeOptionsData(D.optionOverrides,k.dynamicOptionOverrides,D.calendarApi),xe=this.computeCurrentViewData(k.currentViewType,ge,D.optionOverrides,k.dynamicOptionOverrides),P=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(k.dateProfile,xe.options,ge.dateEnv),calendarApi:D.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},ge),xe),k),ne=ge.pluginHooks.optionChangeHandlers,q=$&&$.calendarOptions,me=ge.calendarOptions;if(q&&q!==me){q.timeZone!==me.timeZone&&(k.eventSources=P.eventSources=function vr(F,D,k){let $=D?D.activeRange:null;return Xe(F,hr(F,k),$,!0,k)}(P.eventSources,k.dateProfile,P),k.eventStore=P.eventStore=(0,p.L)(P.eventStore,$.dateEnv,P.dateEnv),k.renderableEventStore=P.renderableEventStore=(0,p.L)(P.renderableEventStore,$.dateEnv,P.dateEnv));for(let at in ne)(-1!==this.optionsForHandling.indexOf(at)||q[at]!==me[at])&&ne[at](me[at],P)}this.optionsForHandling=[],D.onData&&D.onData(P)}computeOptionsData(D,k,$){if(!this.optionsForRefining.length&&D===this.stableOptionOverrides&&k===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:ge,pluginHooks:xe,localeDefaults:P,availableLocaleData:ne,extra:q}=this.processRawCalendarOptions(D,k);nt(q);let me=this.buildDateEnv(ge.timeZone,ge.locale,ge.weekNumberCalculation,ge.firstDay,ge.weekText,xe,ne,ge.defaultRangeSeparator),at=this.buildViewSpecs(xe.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,P),Ct=this.buildTheme(ge,xe),fr=this.parseToolbars(ge,this.stableOptionOverrides,Ct,at,$);return this.stableCalendarOptionsData={calendarOptions:ge,pluginHooks:xe,dateEnv:me,viewSpecs:at,theme:Ct,toolbarConfig:fr,localeDefaults:P,availableRawLocales:ne.map}}processRawCalendarOptions(D,k){let{locales:$,locale:ge}=(0,p.M)([p.e,D,k]),xe=this.organizeRawLocales($),ne=this.buildLocale(ge||xe.defaultCode,xe.map).options,q=this.buildPluginHooks(D.plugins||[],mr),me=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},p.N),p.O),p.P),q.listenerRefiners),q.optionRefiners),at={},Ct=(0,p.M)([p.e,ne,D,k]),fr={},bt=this.currentCalendarOptionsInput,Le=this.currentCalendarOptionsRefined,Vi=!1;for(let Kr in Ct)-1===this.optionsForRefining.indexOf(Kr)&&(Ct[Kr]===bt[Kr]||p.Q[Kr]&&Kr in bt&&p.Q[Kr](bt[Kr],Ct[Kr]))?fr[Kr]=Le[Kr]:me[Kr]?(fr[Kr]=me[Kr](Ct[Kr]),Vi=!0):at[Kr]=bt[Kr];return Vi&&(this.currentCalendarOptionsInput=Ct,this.currentCalendarOptionsRefined=fr,this.stableOptionOverrides=D,this.stableDynamicOptionOverrides=k),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:q,availableLocaleData:xe,localeDefaults:ne,extra:at}}_computeCurrentViewData(D,k,$,ge){let xe=k.viewSpecs[D];if(!xe)throw new Error(`viewType "${D}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:P,extra:ne}=this.processRawViewOptions(xe,k.pluginHooks,k.localeDefaults,$,ge);return nt(ne),{viewSpec:xe,options:P,dateProfileGenerator:this.buildDateProfileGenerator({dateProfileGeneratorClass:xe.optionDefaults.dateProfileGeneratorClass,duration:xe.duration,durationUnit:xe.durationUnit,usesMinMaxTime:xe.optionDefaults.usesMinMaxTime,dateEnv:k.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:P.slotMinTime,slotMaxTime:P.slotMaxTime,showNonCurrentDates:P.showNonCurrentDates,dayCount:P.dayCount,dateAlignment:P.dateAlignment,dateIncrement:P.dateIncrement,hiddenDays:P.hiddenDays,weekends:P.weekends,nowInput:P.now,validRangeInput:P.validRange,visibleRangeInput:P.visibleRange,fixedWeekCount:P.fixedWeekCount}),viewApi:this.buildViewApi(D,this.getCurrentData,k.dateEnv)}}processRawViewOptions(D,k,$,ge,xe){let P=(0,p.M)([p.e,D.optionDefaults,$,ge,D.optionOverrides,xe]),ne=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},p.N),p.O),p.P),p.R),k.listenerRefiners),k.optionRefiners),q={},me=this.currentViewOptionsInput,at=this.currentViewOptionsRefined,Ct=!1,fr={};for(let bt in P)P[bt]===me[bt]||p.Q[bt]&&p.Q[bt](P[bt],me[bt])?q[bt]=at[bt]:(P[bt]===this.currentCalendarOptionsInput[bt]||p.Q[bt]&&p.Q[bt](P[bt],this.currentCalendarOptionsInput[bt])?bt in this.currentCalendarOptionsRefined&&(q[bt]=this.currentCalendarOptionsRefined[bt]):ne[bt]?q[bt]=ne[bt](P[bt]):fr[bt]=P[bt],Ct=!0);return Ct&&(this.currentViewOptionsInput=P,this.currentViewOptionsRefined=q),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:fr}}}function V(F,D,k,$,ge,xe,P,ne){let q=ft(D||P.defaultCode,P.map);return new p.S({calendarSystem:"gregory",timeZone:F,namedTimeZoneImpl:xe.namedTimeZonedImpl,locale:q,weekNumberCalculation:k,firstDay:$,weekText:ge,cmdFormatter:xe.cmdFormatter,defaultSeparator:ne})}function T(F,D){return new(D.themeClasses[F.themeSystem]||rt)(F)}function K(F){return new(F.dateProfileGeneratorClass||p.U)(F)}function O(F,D,k){return new Dt(F,D,k)}function le(F){return(0,p.a)(F,D=>D.ui)}function Y(F,D,k){let $={"":D};for(let ge in F){let xe=F[ge];xe.sourceId&&k[xe.sourceId]&&($[ge]=k[xe.sourceId])}return $}function de(F){let{options:D}=F;return{eventUiSingleBase:(0,p.W)({display:D.eventDisplay,editable:D.editable,startEditable:D.eventStartEditable,durationEditable:D.eventDurationEditable,constraint:D.eventConstraint,overlap:"boolean"==typeof D.eventOverlap?D.eventOverlap:void 0,allow:D.eventAllow,backgroundColor:D.eventBackgroundColor,borderColor:D.eventBorderColor,textColor:D.eventTextColor,color:D.eventColor},F),selectionConfig:(0,p.W)({constraint:D.selectConstraint,overlap:"boolean"==typeof D.selectOverlap?D.selectOverlap:void 0,allow:D.selectAllow},F)}}function te(F,D){for(let k of D.pluginHooks.isLoadingFuncs)if(k(F))return!0;return!1}function Ye(F){return(0,p.X)(F.options.businessHours,F)}function nt(F,D){for(let k in F)console.warn(`Unknown option '${k}'`+(D?` for view '${D}'`:""))}class st extends p.B{render(){let D=this.props.widgetGroups.map(k=>this.renderWidgetGroup(k));return(0,w.az)("div",{className:"fc-toolbar-chunk"},...D)}renderWidgetGroup(D){let{props:k}=this,{theme:$}=this.context,ge=[],xe=!0;for(let P of D){let{buttonName:ne,buttonClick:q,buttonText:me,buttonIcon:at,buttonHint:Ct}=P;if("title"===ne)xe=!1,ge.push((0,w.az)("h2",{className:"fc-toolbar-title",id:k.titleId},k.title));else{let fr=ne===k.activeButton,bt=!k.isTodayEnabled&&"today"===ne||!k.isPrevEnabled&&"prev"===ne||!k.isNextEnabled&&"next"===ne,Le=[`fc-${ne}-button`,$.getClass("button")];fr&&Le.push($.getClass("buttonActive")),ge.push((0,w.az)("button",{type:"button",title:"function"==typeof Ct?Ct(k.navUnit):Ct,disabled:bt,"aria-pressed":fr,className:Le.join(" "),onClick:q},me||(at?(0,w.az)("span",{className:at,role:"img"}):"")))}}if(ge.length>1){let P=xe&&$.getClass("buttonGroup")||"";return(0,w.az)("div",{className:P},...ge)}return ge[0]}}class ur extends p.B{render(){let ge,xe,{model:D,extraClassName:k}=this.props,$=!1,P=D.sectionWidgets,ne=P.center;return P.left?($=!0,ge=P.left):ge=P.start,P.right?($=!0,xe=P.right):xe=P.end,(0,w.az)("div",{className:[k||"","fc-toolbar",$?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",ge||[]),this.renderSection("center",ne||[]),this.renderSection("end",xe||[]))}renderSection(D,k){let{props:$}=this;return(0,w.az)(st,{key:D,widgetGroups:k,title:$.title,navUnit:$.navUnit,activeButton:$.activeButton,isTodayEnabled:$.isTodayEnabled,isPrevEnabled:$.isPrevEnabled,isNextEnabled:$.isNextEnabled,titleId:$.titleId})}}class U extends p.B{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=D=>{this.el=D,(0,p.Y)(this.props.elRef,D),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:D,state:k}=this,{aspectRatio:$}=D,xe="",P="";return $?null!==k.availableWidth?xe=k.availableWidth/$:P=1/$*100+"%":xe=D.height||"",(0,w.az)("div",{"aria-labelledby":D.labeledById,ref:this.handleEl,className:["fc-view-harness",$||D.liquid||D.height?"fc-view-harness-active":"fc-view-harness-passive"].join(" "),style:{height:xe,paddingBottom:P}},D.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class Q extends p.Z{constructor(D){super(D),this.handleSegClick=(k,$)=>{let{component:ge}=this,{context:xe}=ge,P=(0,p._)($);if(P&&ge.isValidSegDownEl(k.target)){let ne=(0,p.$)(k.target,".fc-event-forced-url"),q=ne?ne.querySelector("a[href]").href:"";xe.emitter.trigger("eventClick",{el:$,event:new p.a0(ge.context,P.eventRange.def,P.eventRange.instance),jsEvent:k,view:xe.viewApi}),q&&!k.defaultPrevented&&(window.location.href=q)}},this.destroy=(0,p.a1)(D.el,"click",".fc-event",this.handleSegClick)}}class ue extends p.Z{constructor(D){super(D),this.handleEventElRemove=k=>{k===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(k,$)=>{(0,p._)($)&&(this.currentSegEl=$,this.triggerEvent("eventMouseEnter",k,$))},this.handleSegLeave=(k,$)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",k,$))},this.removeHoverListeners=(0,p.a2)(D.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(D,k,$){let{component:ge}=this,{context:xe}=ge,P=(0,p._)($);(!k||ge.isValidSegDownEl(k.target))&&xe.emitter.trigger(D,{el:$,event:new p.a0(xe,P.eventRange.def,P.eventRange.instance),jsEvent:k,view:xe.viewApi})}}class Ee extends p.a3{constructor(){super(...arguments),this.buildViewContext=(0,p.z)(p.a4),this.buildViewPropTransformers=(0,p.z)(ot),this.buildToolbarProps=(0,p.z)(ut),this.headerRef=(0,w.Vf)(),this.footerRef=(0,w.Vf)(),this.interactionsStore={},this.state={viewLabelId:(0,p.a5)()},this.registerInteractiveComponent=(D,k)=>{let $=(0,p.a6)(D,k),P=[Q,ue].concat(this.props.pluginHooks.componentInteractions).map(ne=>new ne($));this.interactionsStore[D.uid]=P,p.a7[D.uid]=$},this.unregisterInteractiveComponent=D=>{let k=this.interactionsStore[D.uid];if(k){for(let $ of k)$.destroy();delete this.interactionsStore[D.uid]}delete p.a7[D.uid]},this.resizeRunner=new p.D(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=D=>{let{options:k}=this.props;k.handleWindowResize&&D.target===window&&this.resizeRunner.request(k.windowResizeDelay)}}render(){let ne,{props:D}=this,{toolbarConfig:k,options:$}=D,ge=this.buildToolbarProps(D.viewSpec,D.dateProfile,D.dateProfileGenerator,D.currentDate,(0,p.a8)(D.options.now,D.dateEnv),D.viewTitle),xe=!1,P="";D.isHeightAuto||D.forPrint?P="":null!=$.height?xe=!0:null!=$.contentHeight?P=$.contentHeight:ne=Math.max($.aspectRatio,.5);let q=this.buildViewContext(D.viewSpec,D.viewApi,D.options,D.dateProfileGenerator,D.dateEnv,D.theme,D.pluginHooks,D.dispatch,D.getCurrentData,D.emitter,D.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),me=k.header&&k.header.hasTitle?this.state.viewLabelId:void 0;return(0,w.az)(p.V.Provider,{value:q},k.header&&(0,w.az)(ur,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:k.header,titleId:me},ge)),(0,w.az)(U,{liquid:xe,height:P,aspectRatio:ne,labeledById:me},this.renderView(D),this.buildAppendContent()),k.footer&&(0,w.az)(ur,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:k.footer,titleId:""},ge)))}componentDidMount(){let{props:D}=this;this.calendarInteractions=D.pluginHooks.calendarInteractions.map($=>new $(D)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:k}=D.pluginHooks;for(let $ in k)k[$](D[$],D)}componentDidUpdate(D){let{props:k}=this,{propSetHandlers:$}=k.pluginHooks;for(let ge in $)k[ge]!==D[ge]&&$[ge](k[ge],k)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let D of this.calendarInteractions)D.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:D}=this,k=D.pluginHooks.viewContainerAppends.map($=>$(D));return(0,w.az)(w.HY,{},...k)}renderView(D){let{pluginHooks:k}=D,{viewSpec:$}=D,ge={dateProfile:D.dateProfile,businessHours:D.businessHours,eventStore:D.renderableEventStore,eventUiBases:D.eventUiBases,dateSelection:D.dateSelection,eventSelection:D.eventSelection,eventDrag:D.eventDrag,eventResize:D.eventResize,isHeightAuto:D.isHeightAuto,forPrint:D.forPrint},xe=this.buildViewPropTransformers(k.viewPropsTransformers);for(let ne of xe)Object.assign(ge,ne.transform(ge,D));return(0,w.az)($.component,Object.assign({},ge))}}function ut(F,D,k,$,ge,xe){let P=k.build(ge,void 0,!1),ne=k.buildPrev(D,$,!1),q=k.buildNext(D,$,!1);return{title:xe,activeButton:F.type,navUnit:F.singleUnit,isTodayEnabled:P.isValid&&!(0,p.H)(D.currentRange,ge),isPrevEnabled:ne.isValid,isNextEnabled:q.isValid}}function ot(F){return F.map(D=>new D)}class Rt extends p.a9{constructor(D,k={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=$=>{switch($.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=$=>{this.currentData=$,this.renderRunner.request($.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:$}=this;(0,p.aa)(()=>{(0,w.sY)((0,w.az)(p.ab,{options:$.calendarOptions,theme:$.theme,emitter:$.emitter},(ge,xe,P,ne)=>(this.setClassNames(ge),this.setHeight(xe),(0,w.az)(p.ac.Provider,{value:this.customContentRenderId},(0,w.az)(Ee,Object.assign({isHeightAuto:P,forPrint:ne},$))))),this.el)})}else this.isRendered&&(this.isRendered=!1,(0,w.sY)(null,this.el),this.setClassNames([]),this.setHeight(""))},(0,p.ad)(D),this.el=D,this.renderRunner=new p.D(this.handleRenderRequest),new J({optionOverrides:k,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let D=this.isRendering;D?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),D&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){(0,p.aa)(()=>{super.updateSize()})}batchRendering(D){this.renderRunner.pause("batchRendering"),D(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(D,k){this.currentDataManager.resetOptions(D,k)}setClassNames(D){if(!(0,p.i)(D,this.currentClassNames)){let{classList:k}=this.el;for(let $ of this.currentClassNames)k.remove($);for(let $ of D)k.add($);this.currentClassNames=D}}setHeight(D){(0,p.ae)(this.el,"height",D)}}},2711:(Cr,Pt,ae)=>{"use strict";ae.d(Pt,{$:()=>et,A:()=>ge,B:()=>Pr,C:()=>an,D:()=>ht,E:()=>ai,F:()=>Ae,G:()=>Cl,H:()=>Vn,I:()=>ji,J:()=>Ai,K:()=>di,L:()=>Tc,M:()=>Su,N:()=>mu,O:()=>Xr,P:()=>wu,Q:()=>Aa,R:()=>as,S:()=>zr,T:()=>Ws,U:()=>yo,V:()=>mn,W:()=>ds,X:()=>tn,Y:()=>go,Z:()=>ao,_:()=>jo,a:()=>io,a0:()=>Qt,a1:()=>yt,a2:()=>Yt,a3:()=>Da,a4:()=>pl,a5:()=>Ft,a6:()=>So,a7:()=>Yo,a8:()=>ki,a9:()=>ws,aa:()=>hn,ab:()=>Ic,ac:()=>hl,ad:()=>Ze,ae:()=>wr,b:()=>ln,b$:()=>Yi,b0:()=>Jn,bA:()=>sp,bB:()=>uo,bF:()=>Ti,bK:()=>Fl,bO:()=>Ki,bQ:()=>so,bR:()=>zo,bS:()=>vs,bT:()=>Ko,bU:()=>Qn,bV:()=>Ml,bW:()=>co,ba:()=>Vc,be:()=>Rs,bg:()=>V,bh:()=>G,bi:()=>T,bv:()=>Mo,bx:()=>F,c:()=>Nr,ca:()=>na,cb:()=>Zo,cc:()=>zc,cf:()=>Ka,ch:()=>As,cj:()=>ia,cl:()=>Vl,cm:()=>$a,cn:()=>Ts,co:()=>Qa,cp:()=>Yc,cq:()=>Bl,cr:()=>sa,ct:()=>Hn,cw:()=>De,cy:()=>ju,d:()=>lt,e:()=>Cu,f:()=>ks,g:()=>br,h:()=>Nn,i:()=>ye,j:()=>Al,k:()=>re,l:()=>Ol,m:()=>Ei,n:()=>Ge,o:()=>ui,p:()=>Rl,q:()=>nt,r:()=>Sn,s:()=>we,t:()=>J,u:()=>Mc,v:()=>Io,w:()=>hs,x:()=>An,y:()=>Ye,z:()=>$});var p=ae(4354),w=ae(691);const W=[],he=new Map;function De(f){W.push(f),he.forEach(u=>{We(u,f)})}function Ze(f){f.isConnected&&f.getRootNode&&Ue(f.getRootNode())}function Ue(f){let u=he.get(f);if(!u||!u.isConnected){if(u=f.querySelector("style[data-fullcalendar]"),!u){u=document.createElement("style"),u.setAttribute("data-fullcalendar","");const h=function be(){return void 0===ie&&(ie=function Qe(){const f=document.querySelector('meta[name="csp-nonce"]');if(f&&f.hasAttribute("content"))return f.getAttribute("content");const u=document.querySelector("script[nonce]");return u&&u.nonce||""}()),ie}();h&&(u.nonce=h);const v=f===document?document.head:f,S=f===document?v.querySelector("script,link[rel=stylesheet],link[as=style],style"):v.firstChild;v.insertBefore(u,S)}he.set(f,u),function ft(f){for(const u of W)We(f,u)}(u)}}function We(f,u){const{sheet:h}=f,v=h.cssRules.length;u.split("}").forEach((S,R)=>{(S=S.trim())&&h.insertRule(S+"}",v+R)})}let ie;typeof document<"u"&&Ue(document),De(':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}');class ht{constructor(u){this.drainedOption=u,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(u){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==u?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),u))}pause(u=""){let{pauseDepths:h}=this;h[u]=(h[u]||0)+1,this.clearTimeout()}resume(u="",h){let{pauseDepths:v}=this;u in v&&(h?delete v[u]:(v[u]-=1,v[u]<=0&&delete v[u]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function Nt(f){f.parentNode&&f.parentNode.removeChild(f)}function et(f,u){if(f.closest)return f.closest(u);if(!document.documentElement.contains(f))return null;do{if(rt(f,u))return f;f=f.parentElement||f.parentNode}while(null!==f&&1===f.nodeType);return null}function rt(f,u){return(f.matches||f.matchesSelector||f.msMatchesSelector).call(f,u)}const nr=/(top|left|right|bottom|width|height)$/i;function wr(f,u,h){f.style[u]=null==h?"":"number"==typeof h&&nr.test(u)?`${h}px`:h}let Er=0;function Ft(){return Er+=1,"fc-dom-"+Er}function yt(f,u,h,v){let S=function qe(f,u){return h=>{let v=et(h.target,f);v&&u.call(v,h,v)}}(h,v);return f.addEventListener(u,S),()=>{f.removeEventListener(u,S)}}function Yt(f,u,h,v){let S;return yt(f,"mouseover",u,(R,I)=>{if(I!==S){S=I,h(R,I);let Z=ce=>{S=null,v(ce,I),I.removeEventListener("mouseleave",Z)};I.addEventListener("mouseleave",Z)}})}function $r(f){return Object.assign({onClick:f},vr(f))}function vr(f){return{tabIndex:0,onKeyDown(u){("Enter"===u.key||" "===u.key)&&(f(u),u.preventDefault())}}}let Ar=0;function br(){return Ar+=1,String(Ar)}function He(f,u,h){return h.func?h.func(f,u):function z(f,u){return f||u?null==u?-1:null==f?1:"string"==typeof f||"string"==typeof u?String(f).localeCompare(String(u)):f-u:0}(f[h.field],u[h.field])*(h.order||1)}function B(f,u){let h=String(f);return"000".substr(0,u-h.length)+h}function re(f,u,h){return"function"==typeof f?f(...u):"string"==typeof f?u.reduce((v,S,R)=>v.replace("$"+R,S||""),f):h}function Me(f){return f%1==0}function Se(f){let u=f.querySelector(".fc-scrollgrid-shrink-frame"),h=f.querySelector(".fc-scrollgrid-shrink-cushion");if(!u)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!h)throw new Error("needs fc-scrollgrid-shrink-cushion className");return f.getBoundingClientRect().width-u.getBoundingClientRect().width+h.getBoundingClientRect().width}const Dt=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function lt(f,u){return"string"==typeof f?function it(f){let u=Dt.exec(f);if(u){let h=u[1]?-1:1;return{years:0,months:0,days:h*(u[2]?parseInt(u[2],10):0),milliseconds:h*(60*(u[3]?parseInt(u[3],10):0)*60*1e3+60*(u[4]?parseInt(u[4],10):0)*1e3+1e3*(u[5]?parseInt(u[5],10):0)+(u[6]?parseInt(u[6],10):0))}}return null}(f):"object"==typeof f&&f?Oe(f):"number"==typeof f?Oe({[u||"milliseconds"]:f}):null}function Oe(f){let u={years:f.years||f.year||0,months:f.months||f.month||0,days:f.days||f.day||0,milliseconds:60*(f.hours||f.hour||0)*60*1e3+60*(f.minutes||f.minute||0)*1e3+1e3*(f.seconds||f.second||0)+(f.milliseconds||f.millisecond||f.ms||0)},h=f.weeks||f.week;return h&&(u.days+=7*h,u.specifiedWeeks=!0),u}function we(f,u){return{years:f.years-u.years,months:f.months-u.months,days:f.days-u.days,milliseconds:f.milliseconds-u.milliseconds}}function xt(f){return Dr(f)/864e5}function Dr(f){return 31536e6*f.years+2592e6*f.months+864e5*f.days+f.milliseconds}function Nr(f){let u=f.milliseconds;if(u){if(u%1e3!=0)return{unit:"millisecond",value:u};if(u%6e4!=0)return{unit:"second",value:u/1e3};if(u%36e5!=0)return{unit:"minute",value:u/6e4};if(u)return{unit:"hour",value:u/36e5}}return f.days?f.specifiedWeeks&&f.days%7==0?{unit:"week",value:f.days/7}:{unit:"day",value:f.days}:f.months?{unit:"month",value:f.months}:f.years?{unit:"year",value:f.years}:{unit:"millisecond",value:0}}function ye(f,u,h){if(f===u)return!0;let S,v=f.length;if(v!==u.length)return!1;for(S=0;S<v;S+=1)if(!(h?h(f[S],u[S]):f[S]===u[S]))return!1;return!0}const Ie=["sun","mon","tue","wed","thu","fri","sat"];function G(f,u){let h=Rt(f);return h[2]+=7*u,It(h)}function J(f,u){let h=Rt(f);return h[2]+=u,It(h)}function V(f,u){let h=Rt(f);return h[6]+=u,It(h)}function T(f,u){return K(f,u)/7}function K(f,u){return(u.valueOf()-f.valueOf())/864e5}function Ye(f,u){return Lr(f)===Lr(u)?Math.round(K(f,u)):null}function nt(f){return It([f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()])}function ue(f,u,h,v){let S=It([u,0,1+Ee(u,h,v)]),R=nt(f),I=Math.round(K(S,R));return Math.floor(I/7)+1}function Ee(f,u,h){let v=7+u-h;return-(7+It([f,0,v]).getUTCDay()-u)%7+v-1}function ut(f){return[f.getFullYear(),f.getMonth(),f.getDate(),f.getHours(),f.getMinutes(),f.getSeconds(),f.getMilliseconds()]}function ot(f){return new Date(f[0],f[1]||0,null==f[2]?1:f[2],f[3]||0,f[4]||0,f[5]||0)}function Rt(f){return[f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate(),f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()]}function It(f){return 1===f.length&&(f=f.concat([0])),new Date(Date.UTC(...f))}function tr(f){return!isNaN(f.valueOf())}function Lr(f){return 1e3*f.getUTCHours()*60*60+1e3*f.getUTCMinutes()*60+1e3*f.getUTCSeconds()+f.getUTCMilliseconds()}function Mo(f){return f.toISOString().replace(/T.*$/,"")}function F(f){return f.toISOString().match(/^\d{4}-\d{2}/)[0]}function k(f,u=!1){let h=f<0?"-":"+",v=Math.abs(f),S=Math.floor(v/60),R=Math.round(v%60);return u?`${h+B(S,2)}:${B(R,2)}`:`GMT${h}${S}${R?`:${B(R,2)}`:""}`}function $(f,u,h){let v,S;return function(...R){if(v){if(!ye(v,R)){h&&h(S);let I=f.apply(this,R);(!u||!u(I,S))&&(S=I)}}else S=f.apply(this,R);return v=R,S}}function ge(f,u,h){let v,S;return R=>{if(v){if(!ai(v,R)){h&&h(S);let I=f.call(this,R);(!u||!u(I,S))&&(S=I)}}else S=f.call(this,R);return v=R,S}}const ne={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},q={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},me=/\s*([ap])\.?m\.?/i,at=/,/g,Ct=/\s+/g,fr=/\u200e/g,bt=/UTC|GMT/;class Le{constructor(u){let h={},v={},S=0;for(let R in u)R in ne?(v[R]=u[R],S=Math.max(ne[R],S)):(h[R]=u[R],R in q&&(S=Math.max(q[R],S)));this.standardDateProps=h,this.extendedSettings=v,this.severity=S,this.buildFormattingFunc=$(Vi)}format(u,h){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,h)(u)}formatRange(u,h,v,S){let{standardDateProps:R,extendedSettings:I}=this,Z=function M(f,u,h){return h.getMarkerYear(f)!==h.getMarkerYear(u)?5:h.getMarkerMonth(f)!==h.getMarkerMonth(u)?4:h.getMarkerDay(f)!==h.getMarkerDay(u)?2:Lr(f)!==Lr(u)?1:0}(u.marker,h.marker,v.calendarSystem);if(!Z)return this.format(u,v);let ce=Z;ce>1&&("numeric"===R.year||"2-digit"===R.year)&&("numeric"===R.month||"2-digit"===R.month)&&("numeric"===R.day||"2-digit"===R.day)&&(ce=1);let Pe=this.format(u,v),Be=this.format(h,v);if(Pe===Be)return Pe;let wt=function jn(f,u){let h={};for(let v in f)(!(v in q)||q[v]<=u)&&(h[v]=f[v]);return h}(R,ce),ct=Vi(wt,I,v),Ht=ct(u),Hr=ct(h),xr=function oi(f,u,h,v){let S=0;for(;S<f.length;){let R=f.indexOf(u,S);if(-1===R)break;let I=f.substr(0,R);S=R+u.length;let Z=f.substr(S),ce=0;for(;ce<h.length;){let Pe=h.indexOf(v,ce);if(-1===Pe)break;let Be=h.substr(0,Pe);ce=Pe+v.length;let wt=h.substr(ce);if(I===Be&&Z===wt)return{before:I,after:Z}}}return null}(Pe,Ht,Be,Hr),Or=I.separator||S||v.defaultSeparator||"";return xr?xr.before+Ht+Or+Hr+xr.after:Pe+Or+Be}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function Vi(f,u,h){let v=Object.keys(f).length;return 1===v&&"short"===f.timeZoneName?S=>k(S.timeZoneOffset):0===v&&u.week?S=>function Gr(f,u,h,v,S){let R=[];return"long"===S?R.push(h):("short"===S||"narrow"===S)&&R.push(u),("long"===S||"short"===S)&&R.push(" "),R.push(v.simpleNumberFormat.format(f)),"rtl"===v.options.direction&&R.reverse(),R.join("")}(h.computeWeekNumber(S.marker),h.weekText,h.weekTextLong,h.locale,u.week):function Kr(f,u,h){f=Object.assign({},f),u=Object.assign({},u),function jr(f,u){f.timeZoneName&&(f.hour||(f.hour="2-digit"),f.minute||(f.minute="2-digit")),"long"===f.timeZoneName&&(f.timeZoneName="short"),u.omitZeroMinute&&(f.second||f.millisecond)&&delete u.omitZeroMinute}(f,u),f.timeZone="UTC";let S,v=new Intl.DateTimeFormat(h.locale.codes,f);if(u.omitZeroMinute){let R=Object.assign({},f);delete R.minute,S=new Intl.DateTimeFormat(h.locale.codes,R)}return R=>{let Z,{marker:I}=R;return Z=S&&!I.getUTCMinutes()?S:v,function Si(f,u,h,v,S){return f=f.replace(fr,""),"short"===h.timeZoneName&&(f=function _i(f,u){let h=!1;return f=f.replace(bt,()=>(h=!0,u)),h||(f+=` ${u}`),f}(f,"UTC"===S.timeZone||null==u.timeZoneOffset?"UTC":k(u.timeZoneOffset))),v.omitCommas&&(f=f.replace(at,"").trim()),v.omitZeroMinute&&(f=f.replace(":00","")),!1===v.meridiem?f=f.replace(me,"").trim():"narrow"===v.meridiem?f=f.replace(me,(R,I)=>I.toLocaleLowerCase()):"short"===v.meridiem?f=f.replace(me,(R,I)=>`${I.toLocaleLowerCase()}m`):"lowercase"===v.meridiem&&(f=f.replace(me,R=>R.toLocaleLowerCase())),f=(f=f.replace(Ct," ")).trim()}(Z.format(I),R,f,u,h)}}(f,u,h)}function sn(f,u){let h=u.markerToArray(f.marker);return{marker:f.marker,timeZoneOffset:f.timeZoneOffset,array:h,year:h[0],month:h[1],day:h[2],hour:h[3],minute:h[4],second:h[5],millisecond:h[6]}}function Bi(f,u,h,v){let S=sn(f,h.calendarSystem);return{date:S,start:S,end:u?sn(u,h.calendarSystem):null,timeZone:h.timeZone,localeCodes:h.locale.codes,defaultSeparator:v||h.defaultSeparator}}class Ra{constructor(u){this.cmdStr=u}format(u,h,v){return h.cmdFormatter(this.cmdStr,Bi(u,null,h,v))}formatRange(u,h,v,S){return v.cmdFormatter(this.cmdStr,Bi(u,h,v,S))}}class yu{constructor(u){this.func=u}format(u,h,v){return this.func(Bi(u,null,h,v))}formatRange(u,h,v,S){return this.func(Bi(u,h,v,S))}}function An(f){return"object"==typeof f&&f?new Le(f):"string"==typeof f?new Ra(f):"function"==typeof f?new yu(f):null}const mu={navLinkDayClick:Ge,navLinkWeekClick:Ge,duration:lt,bootstrapFontAwesome:Ge,buttonIcons:Ge,customButtons:Ge,defaultAllDayEventDuration:lt,defaultTimedEventDuration:lt,nextDayThreshold:lt,scrollTime:lt,scrollTimeReset:Boolean,slotMinTime:lt,slotMaxTime:lt,dayPopoverFormat:An,slotDuration:lt,snapDuration:lt,headerToolbar:Ge,footerToolbar:Ge,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:An,dayHeaderClassNames:Ge,dayHeaderContent:Ge,dayHeaderDidMount:Ge,dayHeaderWillUnmount:Ge,dayCellClassNames:Ge,dayCellContent:Ge,dayCellDidMount:Ge,dayCellWillUnmount:Ge,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:Ge,weekNumbers:Boolean,weekNumberClassNames:Ge,weekNumberContent:Ge,weekNumberDidMount:Ge,weekNumberWillUnmount:Ge,editable:Boolean,viewClassNames:Ge,viewDidMount:Ge,viewWillUnmount:Ge,nowIndicator:Boolean,nowIndicatorClassNames:Ge,nowIndicatorContent:Ge,nowIndicatorDidMount:Ge,nowIndicatorWillUnmount:Ge,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:Ge,locale:Ge,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:Ge,eventOrder:function hr(f){let v,S,u=[],h=[];for("string"==typeof f?h=f.split(/\s*,\s*/):"function"==typeof f?h=[f]:Array.isArray(f)&&(h=f),v=0;v<h.length;v+=1)S=h[v],"string"==typeof S?u.push("-"===S.charAt(0)?{field:S.substring(1),order:-1}:{field:S,order:1}):"function"==typeof S&&u.push({func:S});return u},eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:Ge,contentHeight:Ge,direction:String,weekNumberFormat:An,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:Ge,initialDate:Ge,now:Ge,eventDataTransform:Ge,stickyHeaderDates:Ge,stickyFooterScrollbar:Ge,viewHeight:Ge,defaultAllDay:Boolean,eventSourceFailure:Ge,eventSourceSuccess:Ge,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:Ge,eventConstraint:Ge,eventAllow:Ge,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:Ge,eventContent:Ge,eventDidMount:Ge,eventWillUnmount:Ge,selectConstraint:Ge,selectOverlap:Ge,selectAllow:Ge,droppable:Boolean,unselectCancel:String,slotLabelFormat:Ge,slotLaneClassNames:Ge,slotLaneContent:Ge,slotLaneDidMount:Ge,slotLaneWillUnmount:Ge,slotLabelClassNames:Ge,slotLabelContent:Ge,slotLabelDidMount:Ge,slotLabelWillUnmount:Ge,dayMaxEvents:Ge,dayMaxEventRows:Ge,dayMinWidth:Number,slotLabelInterval:lt,allDayText:String,allDayClassNames:Ge,allDayContent:Ge,allDayDidMount:Ge,allDayWillUnmount:Ge,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:An,rerenderDelay:Number,moreLinkText:Ge,moreLinkHint:Ge,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:Ge,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:lt,hiddenDays:Ge,fixedWeekCount:Boolean,validRange:Ge,visibleRange:Ge,titleFormat:Ge,eventInteractive:Boolean,noEventsText:String,viewHint:Ge,navLinkHint:Ge,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:Ge,moreLinkClassNames:Ge,moreLinkContent:Ge,moreLinkDidMount:Ge,moreLinkWillUnmount:Ge,monthStartFormat:An,handleCustomRendering:Ge,customRenderingMetaMap:Ge,customRenderingReplaces:Boolean},Cu={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},Xr={datesSet:Ge,eventsSet:Ge,eventAdd:Ge,eventChange:Ge,eventRemove:Ge,windowResize:Ge,eventClick:Ge,eventMouseEnter:Ge,eventMouseLeave:Ge,select:Ge,unselect:Ge,loading:Ge,_unmount:Ge,_beforeprint:Ge,_afterprint:Ge,_noEventDrop:Ge,_noEventResize:Ge,_resize:Ge,_scrollRequest:Ge},wu={buttonText:Ge,buttonHints:Ge,views:Ge,plugins:Ge,initialEvents:Ge,events:Ge,eventSources:Ge},Aa={headerToolbar:no,footerToolbar:no,buttonText:no,buttonHints:no,buttonIcons:no,dateIncrement:no,plugins:zn,events:zn,eventSources:zn,resources:zn};function no(f,u){return"object"==typeof f&&"object"==typeof u&&f&&u?ai(f,u):f===u}function zn(f,u){return Array.isArray(f)&&Array.isArray(u)?ye(f,u):f===u}const as={type:String,component:Ge,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:Ge,usesMinMaxTime:Boolean,classNames:Ge,content:Ge,didMount:Ge,willUnmount:Ge};function Su(f){return Ei(f,Aa)}function Bs(f,u){let h={},v={};for(let S in u)S in f&&(h[S]=u[S](f[S]));for(let S in f)S in u||(v[S]=f[S]);return{refined:h,extra:v}}function Ge(f){return f}const{hasOwnProperty:si}=Object.prototype;function Ei(f,u){let h={};if(u)for(let v in u)if(u[v]===no){let S=[];for(let R=f.length-1;R>=0;R-=1){let I=f[R][v];if("object"==typeof I&&I)S.unshift(I);else if(void 0!==I){h[v]=I;break}}S.length&&(h[v]=Ei(S))}for(let v=f.length-1;v>=0;v-=1){let S=f[v];for(let R in S)R in h||(h[R]=S[R])}return h}function Nn(f,u){let h={};for(let v in f)u(f[v],v)&&(h[v]=f[v]);return h}function io(f,u){let h={};for(let v in f)h[v]=u(f[v],v);return h}function ks(f){let u={};for(let h of f)u[h]=!0;return u}function Io(f){let u=[];for(let h in f)u.push(f[h]);return u}function ai(f,u){if(f===u)return!0;for(let h in f)if(si.call(f,h)&&!(h in u))return!1;for(let h in u)if(si.call(u,h)&&f[h]!==u[h])return!1;return!0}const _u=/^on[A-Z]/;function Lo(f,u){let h=[];for(let v in f)si.call(f,v)&&(v in u||h.push(v));for(let v in u)si.call(u,v)&&f[v]!==u[v]&&h.push(v);return h}function dl(f,u,h={}){if(f===u)return!0;for(let v in u)if(!(v in f)||!Dc(f[v],u[v],h[v]))return!1;for(let v in f)if(!(v in u))return!1;return!0}function Dc(f,u,h){return f===u||!0===h||!!h&&h(f,u)}let oo={};!function ho(f,u){oo[f]=u}("gregory",class Ru{getMarkerYear(u){return u.getUTCFullYear()}getMarkerMonth(u){return u.getUTCMonth()}getMarkerDay(u){return u.getUTCDate()}arrayToMarker(u){return It(u)}markerToArray(u){return Rt(u)}});const xc=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;class zr{constructor(u){let h=this.timeZone=u.timeZone,v="local"!==h&&"UTC"!==h;u.namedTimeZoneImpl&&v&&(this.namedTimeZoneImpl=new u.namedTimeZoneImpl(h)),this.canComputeOffset=!(v&&!this.namedTimeZoneImpl),this.calendarSystem=function li(f){return new oo[f]}(u.calendarSystem),this.locale=u.locale,this.weekDow=u.locale.week.dow,this.weekDoy=u.locale.week.doy,"ISO"===u.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof u.firstDay&&(this.weekDow=u.firstDay),"function"==typeof u.weekNumberCalculation&&(this.weekNumberFunc=u.weekNumberCalculation),this.weekText=null!=u.weekText?u.weekText:u.locale.options.weekText,this.weekTextLong=(null!=u.weekTextLong?u.weekTextLong:u.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=u.cmdFormatter,this.defaultSeparator=u.defaultSeparator}createMarker(u){let h=this.createMarkerMeta(u);return null===h?null:h.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):It(ut(new Date))}createMarkerMeta(u){if("string"==typeof u)return this.parse(u);let h=null;return"number"==typeof u?h=this.timestampToMarker(u):u instanceof Date?(u=u.valueOf(),isNaN(u)||(h=this.timestampToMarker(u))):Array.isArray(u)&&(h=It(u)),null!==h&&tr(h)?{marker:h,isTimeUnspecified:!1,forcedTzo:null}:null}parse(u){let h=function Br(f){let u=xc.exec(f);if(u){let h=new Date(Date.UTC(Number(u[1]),u[3]?Number(u[3])-1:0,Number(u[5]||1),Number(u[7]||0),Number(u[8]||0),Number(u[10]||0),u[12]?1e3*+`0.${u[12]}`:0));if(tr(h)){let v=null;return u[13]&&(v=("-"===u[15]?-1:1)*(60*Number(u[16]||0)+Number(u[18]||0))),{marker:h,isTimeUnspecified:!u[6],timeZoneOffset:v}}}return null}(u);if(null===h)return null;let{marker:v}=h,S=null;return null!==h.timeZoneOffset&&(this.canComputeOffset?v=this.timestampToMarker(v.valueOf()-60*h.timeZoneOffset*1e3):S=h.timeZoneOffset),{marker:v,isTimeUnspecified:h.isTimeUnspecified,forcedTzo:S}}getYear(u){return this.calendarSystem.getMarkerYear(u)}getMonth(u){return this.calendarSystem.getMarkerMonth(u)}getDay(u){return this.calendarSystem.getMarkerDay(u)}add(u,h){let v=this.calendarSystem.markerToArray(u);return v[0]+=h.years,v[1]+=h.months,v[2]+=h.days,v[6]+=h.milliseconds,this.calendarSystem.arrayToMarker(v)}subtract(u,h){let v=this.calendarSystem.markerToArray(u);return v[0]-=h.years,v[1]-=h.months,v[2]-=h.days,v[6]-=h.milliseconds,this.calendarSystem.arrayToMarker(v)}addYears(u,h){let v=this.calendarSystem.markerToArray(u);return v[0]+=h,this.calendarSystem.arrayToMarker(v)}addMonths(u,h){let v=this.calendarSystem.markerToArray(u);return v[1]+=h,this.calendarSystem.arrayToMarker(v)}diffWholeYears(u,h){let{calendarSystem:v}=this;return Lr(u)===Lr(h)&&v.getMarkerDay(u)===v.getMarkerDay(h)&&v.getMarkerMonth(u)===v.getMarkerMonth(h)?v.getMarkerYear(h)-v.getMarkerYear(u):null}diffWholeMonths(u,h){let{calendarSystem:v}=this;return Lr(u)===Lr(h)&&v.getMarkerDay(u)===v.getMarkerDay(h)?v.getMarkerMonth(h)-v.getMarkerMonth(u)+12*(v.getMarkerYear(h)-v.getMarkerYear(u)):null}greatestWholeUnit(u,h){let v=this.diffWholeYears(u,h);return null!==v?{unit:"year",value:v}:(v=this.diffWholeMonths(u,h),null!==v?{unit:"month",value:v}:(v=function te(f,u){let h=Ye(f,u);return null!==h&&h%7==0?h/7:null}(u,h),null!==v?{unit:"week",value:v}:(v=Ye(u,h),null!==v?{unit:"day",value:v}:(v=function O(f,u){return(u.valueOf()-f.valueOf())/36e5}(u,h),Me(v)?{unit:"hour",value:v}:(v=function le(f,u){return(u.valueOf()-f.valueOf())/6e4}(u,h),Me(v)?{unit:"minute",value:v}:(v=function Y(f,u){return(u.valueOf()-f.valueOf())/1e3}(u,h),Me(v)?{unit:"second",value:v}:{unit:"millisecond",value:h.valueOf()-u.valueOf()}))))))}countDurationsBetween(u,h,v){let S;return v.years&&(S=this.diffWholeYears(u,h),null!==S)?S/function je(f){return xt(f)/365}(v):v.months&&(S=this.diffWholeMonths(u,h),null!==S)?S/function A(f){return xt(f)/30}(v):v.days&&(S=Ye(u,h),null!==S)?S/xt(v):(h.valueOf()-u.valueOf())/Dr(v)}startOf(u,h){return"year"===h?this.startOfYear(u):"month"===h?this.startOfMonth(u):"week"===h?this.startOfWeek(u):"day"===h?nt(u):"hour"===h?function st(f){return It([f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate(),f.getUTCHours()])}(u):"minute"===h?function ur(f){return It([f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate(),f.getUTCHours(),f.getUTCMinutes()])}(u):"second"===h?function U(f){return It([f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate(),f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds()])}(u):null}startOfYear(u){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(u)])}startOfMonth(u){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(u),this.calendarSystem.getMarkerMonth(u)])}startOfWeek(u){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(u),this.calendarSystem.getMarkerMonth(u),u.getUTCDate()-(u.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(u){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(u)):function Q(f,u,h){let v=f.getUTCFullYear(),S=ue(f,v,u,h);if(S<1)return ue(f,v-1,u,h);let R=ue(f,v+1,u,h);return R>=1?Math.min(S,R):S}(u,this.weekDow,this.weekDoy)}format(u,h,v={}){return h.format({marker:u,timeZoneOffset:null!=v.forcedTzo?v.forcedTzo:this.offsetForMarker(u)},this)}formatRange(u,h,v,S={}){return S.isEndExclusive&&(h=V(h,-1)),v.formatRange({marker:u,timeZoneOffset:null!=S.forcedStartTzo?S.forcedStartTzo:this.offsetForMarker(u)},{marker:h,timeZoneOffset:null!=S.forcedEndTzo?S.forcedEndTzo:this.offsetForMarker(h)},this,S.defaultSeparator)}formatIso(u,h={}){let v=null;return h.omitTimeZoneOffset||(v=null!=h.forcedTzo?h.forcedTzo:this.offsetForMarker(u)),function on(f,u,h=!1){let v=f.toISOString();return v=v.replace(".000",""),h&&(v=v.replace("T00:00:00Z","")),v.length>10&&(null==u?v=v.replace("Z",""):0!==u&&(v=v.replace("Z",k(u,!0)))),v}(u,v,h.omitTime)}timestampToMarker(u){return"local"===this.timeZone?It(ut(new Date(u))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?It(this.namedTimeZoneImpl.timestampToArray(u)):new Date(u)}offsetForMarker(u){return"local"===this.timeZone?-ot(Rt(u)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Rt(u)):null}toDate(u,h){return"local"===this.timeZone?ot(Rt(u)):"UTC"===this.timeZone?new Date(u.valueOf()):this.namedTimeZoneImpl?new Date(u.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(Rt(u))*60):new Date(u.valueOf()-(h||0))}}class Ws{constructor(u){this.iconOverrideOption&&this.setIconOverride(u[this.iconOverrideOption])}setIconOverride(u){let h,v;if("object"==typeof u&&u){for(v in h=Object.assign({},this.iconClasses),u)h[v]=this.applyIconOverridePrefix(u[v]);this.iconClasses=h}else!1===u&&(this.iconClasses={})}applyIconOverridePrefix(u){let h=this.iconOverridePrefix;return h&&0!==u.indexOf(h)&&(u=h+u),u}getClass(u){return this.classes[u]||""}getIconClass(u,h){let v;return v=h&&this.rtlIconClasses&&this.rtlIconClasses[u]||this.iconClasses[u],v?`${this.baseIconClass} ${v}`:""}getCustomButtonIconClass(u){let h;return this.iconOverrideCustomButtonOption&&(h=u[this.iconOverrideCustomButtonOption],h)?`${this.baseIconClass} ${this.applyIconOverridePrefix(h)}`:""}}function hn(f){f();let u=p.YM.debounceRendering,h=[];for(p.YM.debounceRendering=function v(S){h.push(S)},p.sY(p.az(Oc,{}),document.createElement("div"));h.length;)h.shift()();p.YM.debounceRendering=u}Ws.prototype.classes={},Ws.prototype.iconClasses={},Ws.prototype.baseIconClass="",Ws.prototype.iconOverridePrefix="";class Oc extends p.wA{render(){return p.az("div",{})}componentDidMount(){this.setState({})}}function Au(f){let u=p.kr(f),h=u.Provider;return u.Provider=function(){let v=!this.getChildContext,S=h.apply(this,arguments);if(v){let R=[];this.shouldComponentUpdate=I=>{this.props.value!==I.value&&R.forEach(Z=>{Z.context=I.value,Z.forceUpdate()})},this.sub=I=>{R.push(I);let Z=I.componentWillUnmount;I.componentWillUnmount=()=>{R.splice(R.indexOf(I),1),Z&&Z.call(I)}}}return S},u}class Ri{constructor(u,h,v,S){this.execFunc=u,this.emitter=h,this.scrollTime=v,this.scrollTimeReset=S,this.handleScrollRequest=R=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},R),this.drain()},h.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(u){u&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const mn=Au({});function pl(f,u,h,v,S,R,I,Z,ce,Pe,Be,wt,ct){return{dateEnv:S,options:h,pluginHooks:I,emitter:Pe,dispatch:Z,getCurrentData:ce,calendarApi:Be,viewSpec:f,viewApi:u,dateProfileGenerator:v,theme:R,isRtl:"rtl"===h.direction,addResizeHandler(Ht){Pe.on("_resize",Ht)},removeResizeHandler(Ht){Pe.off("_resize",Ht)},createScrollResponder:Ht=>new Ri(Ht,Pe,lt(h.scrollTime),h.scrollTimeReset),registerInteractiveComponent:wt,unregisterInteractiveComponent:ct}}let Da=(()=>{class f extends p.wA{shouldComponentUpdate(h,v){return this.debug&&console.log(Lo(h,this.props),Lo(v,this.state)),!dl(this.props,h,this.propEquality)||!dl(this.state,v,this.stateEquality)}safeSetState(h){dl(this.state,Object.assign(Object.assign({},this.state),h),this.stateEquality)||this.setState(h)}}return f.addPropsEquality=Du,f.addStateEquality=Us,f.contextType=mn,f})();Da.prototype.propEquality={},Da.prototype.stateEquality={};let Pr=(()=>{class f extends Da{}return f.contextType=mn,f})();function Du(f){let u=Object.create(this.prototype.propEquality);Object.assign(u,f),this.prototype.propEquality=u}function Us(f){let u=Object.create(this.prototype.stateEquality);Object.assign(u,f),this.prototype.stateEquality=u}function go(f,u){"function"==typeof f?f(u):f&&(f.current=u)}class js extends Pr{constructor(){super(...arguments),this.id=br(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=u=>{const{options:h}=this.context,{generatorName:v}=this.props;(!h.customRenderingReplaces||!Gn(v,h))&&this.updateElRef(u)},this.updateElRef=u=>{this.props.elRef&&go(this.props.elRef,u)}}render(){const{props:u,context:h}=this,{options:v}=h,{customGenerator:S,defaultGenerator:R,renderProps:I}=u,Z=fl(u,[],this.handleEl);let Pe,wt,ce=!1,Be=[];if(null!=S){const ct="function"==typeof S?S(I,p.az):S;if(!0===ct)ce=!0;else{const Ht=ct&&"object"==typeof ct;Ht&&"html"in ct?Z.dangerouslySetInnerHTML={__html:ct.html}:Ht&&"domNodes"in ct?Be=Array.prototype.slice.call(ct.domNodes):(Ht?(0,p.l$)(ct):"function"!=typeof ct)?Pe=ct:wt=ct}}else ce=!Gn(u.generatorName,v);return ce&&R&&(Pe=R(I)),this.queuedDomNodes=Be,this.currentGeneratorMeta=wt,(0,p.az)(u.elTag,Z,Pe)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(u){var h;const{props:v,context:S}=this,{handleCustomRendering:R,customRenderingMetaMap:I}=S.options;if(R){const Z=null!==(h=this.currentGeneratorMeta)&&void 0!==h?h:I?.[v.generatorName];Z&&R(Object.assign(Object.assign({id:this.id,isActive:u,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:Z},v),{elClasses:(v.elClasses||[]).filter(xu)}))}}applyQueueudDomNodes(){const{queuedDomNodes:u,currentDomNodes:h}=this,v=this.base;if(!ye(u,h)){h.forEach(Nt);for(let S of u)v.appendChild(S);this.currentDomNodes=u}}}function Gn(f,u){var h;return!!(u.handleCustomRendering&&f&&null!==(h=u.customRenderingMetaMap)&&void 0!==h&&h[f])}function fl(f,u,h){const v=Object.assign(Object.assign({},f.elAttrs),{ref:h});return(f.elClasses||u)&&(v.className=(f.elClasses||[]).concat(u||[]).concat(v.className||[]).filter(Boolean).join(" ")),f.elStyle&&(v.style=f.elStyle),v}function xu(f){return!!f}js.addPropsEquality({elClasses:ye,elStyle:ai,elAttrs:function Eu(f,u){const h=Lo(f,u);for(let v of h)if(!_u.test(v))return!1;return!0},renderProps:ai});const hl=Au(0);let an=(()=>{class f extends p.wA{constructor(){super(...arguments),this.InnerContent=Kn.bind(void 0,this),this.handleEl=h=>{this.el=h,this.props.elRef&&(go(this.props.elRef,h),h&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:h}=this,v=function xa(f,u){const h="function"==typeof f?f(u):f||[];return"string"==typeof h?[h]:h}(h.classNameGenerator,h.renderProps);if(h.children){const S=fl(h,v,this.handleEl),R=h.children(this.InnerContent,h.renderProps,S);return h.elTag?(0,p.az)(h.elTag,S,R):R}return(0,p.az)(js,Object.assign(Object.assign({},h),{elRef:this.handleEl,elTag:h.elTag||"div",elClasses:(h.elClasses||[]).concat(v),renderId:this.context}))}componentDidMount(){var h,v;this.el?null===(v=(h=this.props).didMount)||void 0===v||v.call(h,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var h,v;null===(v=(h=this.props).willUnmount)||void 0===v||v.call(h,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}return f.contextType=hl,f})();function Kn(f,u){const h=f.props;return(0,p.az)(js,Object.assign({renderProps:h.renderProps,generatorName:h.generatorName,customGenerator:h.customGenerator,defaultGenerator:h.defaultGenerator,renderId:f.context},u))}class Hn extends Pr{render(){let{props:u,context:h}=this,{options:v}=h,S={view:h.viewApi};return(0,p.az)(an,Object.assign({},u,{elTag:u.elTag||"div",elClasses:[...ln(u.viewSpec),...u.elClasses||[]],renderProps:S,classNameGenerator:v.viewClassNames,generatorName:void 0,didMount:v.viewDidMount,willUnmount:v.viewWillUnmount}),()=>u.children)}}function ln(f){return[`fc-${f.type}-view`,"fc-view"]}function gl(f,u){let S,R,h=[],{start:v}=u;for(f.sort(vl),S=0;S<f.length;S+=1)R=f[S],R.start>v&&h.push({start:v,end:R.start}),R.end>v&&(v=R.end);return v<u.end&&h.push({start:v,end:u.end}),h}function vl(f,u){return f.start.valueOf()-u.start.valueOf()}function ui(f,u){let{start:h,end:v}=f,S=null;return null!==u.start&&(h=null===h?u.start:new Date(Math.max(h.valueOf(),u.start.valueOf()))),null!=u.end&&(v=null===v?u.end:new Date(Math.min(v.valueOf(),u.end.valueOf()))),(null===h||null===v||h<v)&&(S={start:h,end:v}),S}function Vn(f,u){return(null===f.start||u>=f.start)&&(null===f.end||u<f.end)}function yl(f){let u=Math.floor(K(f.start,f.end))||1,h=nt(f.start);return{start:h,end:J(h,u)}}function No(f,u=lt(0)){let h=null,v=null;if(f.end){v=nt(f.end);let S=f.end.valueOf()-v.valueOf();S&&S>=Dr(u)&&(v=J(v,1))}return f.start&&(h=nt(f.start),v&&v<=h&&(v=J(h,1))),{start:h,end:v}}function us(f,u,h,v){return"year"===v?lt(h.diffWholeYears(f,u),"year"):"month"===v?lt(h.diffWholeMonths(f,u),"month"):function de(f,u){let h=nt(f),v=nt(u);return{years:0,months:0,days:Math.round(K(h,v)),milliseconds:u.valueOf()-v.valueOf()-(f.valueOf()-h.valueOf())}}(f,u)}function Ai(f,u){return"CHANGE_DATE"===u.type?u.dateMarker:f}function Cl(f,u){let h=f.initialDate;return null!=h?u.createMarker(h):ki(f.now,u)}function ki(f,u){return"function"==typeof f&&(f=f()),null==f?u.createNowMarker():u.createMarker(f)}class yo{constructor(u){this.props=u,this.nowDate=ki(u.nowInput,u.dateEnv),this.initHiddenDays()}buildPrev(u,h,v){let{dateEnv:S}=this.props,R=S.subtract(S.startOf(h,u.currentRangeUnit),u.dateIncrement);return this.build(R,-1,v)}buildNext(u,h,v){let{dateEnv:S}=this.props,R=S.add(S.startOf(h,u.currentRangeUnit),u.dateIncrement);return this.build(R,1,v)}build(u,h,v=!0){let R,I,Z,ce,Pe,Be,{props:S}=this;return R=this.buildValidRange(),R=this.trimHiddenDays(R),v&&(u=function Oa(f,u){return null!=u.start&&f<u.start?u.start:null!=u.end&&f>=u.end?new Date(u.end.valueOf()-1):f}(u,R)),I=this.buildCurrentRangeInfo(u,h),Z=/^(year|month|week|day)$/.test(I.unit),ce=this.buildRenderRange(this.trimHiddenDays(I.range),I.unit,Z),ce=this.trimHiddenDays(ce),Pe=ce,S.showNonCurrentDates||(Pe=ui(Pe,I.range)),Pe=this.adjustActiveRange(Pe),Pe=ui(Pe,R),Be=function vo(f,u){return(null===f.end||null===u.start||f.end>u.start)&&(null===f.start||null===u.end||f.start<u.end)}(I.range,R),Vn(ce,u)||(u=ce.start),{currentDate:u,validRange:R,currentRange:I.range,currentRangeUnit:I.unit,isRangeAllDay:Z,activeRange:Pe,renderRange:ce,slotMinTime:S.slotMinTime,slotMaxTime:S.slotMaxTime,isValid:Be,dateIncrement:this.buildDateIncrement(I.duration)}}buildValidRange(){let u=this.props.validRangeInput,h="function"==typeof u?u.call(this.props.calendarApi,this.nowDate):u;return this.refineRange(h)||{start:null,end:null}}buildCurrentRangeInfo(u,h){let Z,{props:v}=this,S=null,R=null,I=null;return v.duration?(S=v.duration,R=v.durationUnit,I=this.buildRangeFromDuration(u,h,S,R)):(Z=this.props.dayCount)?(R="day",I=this.buildRangeFromDayCount(u,h,Z)):(I=this.buildCustomVisibleRange(u))?R=v.dateEnv.greatestWholeUnit(I.start,I.end).unit:(S=this.getFallbackDuration(),R=Nr(S).unit,I=this.buildRangeFromDuration(u,h,S,R)),{duration:S,unit:R,range:I}}getFallbackDuration(){return lt({day:1})}adjustActiveRange(u){let{dateEnv:h,usesMinMaxTime:v,slotMinTime:S,slotMaxTime:R}=this.props,{start:I,end:Z}=u;return v&&(xt(S)<0&&(I=nt(I),I=h.add(I,S)),xt(R)>1&&(Z=nt(Z),Z=J(Z,-1),Z=h.add(Z,R))),{start:I,end:Z}}buildRangeFromDuration(u,h,v,S){let Z,ce,Pe,{dateEnv:R,dateAlignment:I}=this.props;if(!I){let{dateIncrement:wt}=this.props;I=wt&&Dr(wt)<Dr(v)?Nr(wt).unit:S}function Be(){Z=R.startOf(u,I),ce=R.add(Z,v),Pe={start:Z,end:ce}}return xt(v)<=1&&this.isHiddenDay(Z)&&(Z=this.skipHiddenDays(Z,h),Z=nt(Z)),Be(),this.trimHiddenDays(Pe)||(u=this.skipHiddenDays(u,h),Be()),Pe}buildRangeFromDayCount(u,h,v){let ce,{dateEnv:S,dateAlignment:R}=this.props,I=0,Z=u;R&&(Z=S.startOf(Z,R)),Z=nt(Z),Z=this.skipHiddenDays(Z,h),ce=Z;do{ce=J(ce,1),this.isHiddenDay(ce)||(I+=1)}while(I<v);return{start:Z,end:ce}}buildCustomVisibleRange(u){let{props:h}=this,v=h.visibleRangeInput,S="function"==typeof v?v.call(h.calendarApi,h.dateEnv.toDate(u)):v,R=this.refineRange(S);return!R||null!=R.start&&null!=R.end?R:null}buildRenderRange(u,h,v){return u}buildDateIncrement(u){let v,{dateIncrement:h}=this.props;return h||((v=this.props.dateAlignment)?lt(1,v):u||lt({days:1}))}refineRange(u){if(u){let h=function Yn(f,u){let h=null,v=null;return f.start&&(h=u.createMarker(f.start)),f.end&&(v=u.createMarker(f.end)),!h&&!v||h&&v&&v<h?null:{start:h,end:v}}(u,this.props.dateEnv);return h&&(h=No(h)),h}return null}initHiddenDays(){let S,u=this.props.hiddenDays||[],h=[],v=0;for(!1===this.props.weekends&&u.push(0,6),S=0;S<7;S+=1)(h[S]=-1!==u.indexOf(S))||(v+=1);if(!v)throw new Error("invalid hiddenDays");this.isHiddenDayHash=h}trimHiddenDays(u){let{start:h,end:v}=u;return h&&(h=this.skipHiddenDays(h)),v&&(v=this.skipHiddenDays(v,-1,!0)),null==h||null==v||h<v?{start:h,end:v}:null}isHiddenDay(u){return u instanceof Date&&(u=u.getUTCDay()),this.isHiddenDayHash[u]}skipHiddenDays(u,h=1,v=!1){for(;this.isHiddenDayHash[(u.getUTCDay()+(v?h:0)+7)%7];)u=J(u,h);return u}}function Ta(f,u,h,v){return{instanceId:br(),defId:f,range:u,forcedStartTzo:h??null,forcedEndTzo:v??null}}function Wi(f,u,h){let{dateEnv:v,pluginHooks:S,options:R}=h,{defs:I,instances:Z}=f;Z=Nn(Z,ce=>!I[ce.defId].recurringDef);for(let ce in I){let Pe=I[ce];if(Pe.recurringDef){let{duration:Be}=Pe.recurringDef;Be||(Be=Pe.allDay?R.defaultAllDayEventDuration:R.defaultTimedEventDuration);let wt=ba(Pe,Be,u,v,S.recurringTypes);for(let ct of wt){let Ht=Ta(ce,{start:ct,end:v.add(ct,Be)});Z[Ht.instanceId]=Ht}}}return{defs:I,instances:Z}}function ba(f,u,h,v,S){let I=S[f.recurringDef.typeId].expand(f.recurringDef.typeData,{start:v.subtract(h.start,u),end:h.end},v);return f.allDay&&(I=I.map(nt)),I}const mo={id:String,groupId:String,title:String,url:String,interactive:Boolean},Pa={start:Ge,end:Ge,date:Ge,allDay:Boolean},Ou=Object.assign(Object.assign(Object.assign({},mo),Pa),{extendedProps:Ge});function zs(f,u,h,v,S=Fa(h),R,I){let{refined:Z,extra:ce}=Ui(f,h,S),Pe=function Sl(f,u){let h=null;return f&&(h=f.defaultAllDay),null==h&&(h=u.options.defaultAllDay),h}(u,h),Be=function wl(f,u,h,v){for(let S=0;S<v.length;S+=1){let R=v[S].parse(f,h);if(R){let{allDay:I}=f;return null==I&&(I=u,null==I&&(I=R.allDayGuess,null==I&&(I=!1))),{allDay:I,duration:R.duration,typeData:R.typeData,typeId:S}}}return null}(Z,Pe,h.dateEnv,h.pluginHooks.recurringTypes);if(Be){let ct=Ks(Z,ce,u?u.sourceId:"",Be.allDay,!!Be.duration,h,R);return ct.recurringDef={typeId:Be.typeId,typeData:Be.typeData,duration:Be.duration},{def:ct,instance:null}}let wt=function Dn(f,u,h,v){let R,ce,{allDay:S}=f,I=null,Z=!1,Pe=null;if(R=h.dateEnv.createMarkerMeta(null!=f.start?f.start:f.date),R)I=R.marker;else if(!v)return null;return null!=f.end&&(ce=h.dateEnv.createMarkerMeta(f.end)),null==S&&(S=null!=u?u:(!R||R.isTimeUnspecified)&&(!ce||ce.isTimeUnspecified)),S&&I&&(I=nt(I)),ce&&(Pe=ce.marker,S&&(Pe=nt(Pe)),I&&Pe<=I&&(Pe=null)),Pe?Z=!0:v||(Z=h.options.forceEventDuration||!1,Pe=h.dateEnv.add(I,S?h.options.defaultAllDayEventDuration:h.options.defaultTimedEventDuration)),{allDay:S,hasEnd:Z,range:{start:I,end:Pe},forcedStartTzo:R?R.forcedTzo:null,forcedEndTzo:ce?ce.forcedTzo:null}}(Z,Pe,h,v);if(wt){let ct=Ks(Z,ce,u?u.sourceId:"",wt.allDay,wt.hasEnd,h,R),Ht=Ta(ct.defId,wt.range,wt.forcedStartTzo,wt.forcedEndTzo);return I&&ct.publicId&&I[ct.publicId]&&(Ht.instanceId=I[ct.publicId]),{def:ct,instance:Ht}}return null}function Ui(f,u,h=Fa(u)){return Bs(f,h)}function Fa(f){return Object.assign(Object.assign(Object.assign({},Ho),Ou),f.pluginHooks.eventRefiners)}function Ks(f,u,h,v,S,R,I){let Z={title:f.title||"",groupId:f.groupId||"",publicId:f.id||"",url:f.url||"",recurringDef:null,defId:(I&&f.id?I[f.id]:"")||br(),sourceId:h,allDay:v,hasEnd:S,interactive:f.interactive,ui:ds(f,R),extendedProps:Object.assign(Object.assign({},f.extendedProps||{}),u)};for(let ce of R.pluginHooks.eventDefMemberAdders)Object.assign(Z,ce(f));return Object.freeze(Z.ui.classNames),Object.freeze(Z.extendedProps),Z}function Di(f,u,h,v,S,R){let I={defs:{},instances:{}},Z=Fa(h);for(let ce of f){let Pe=zs(ce,u,h,v,Z,S,R);Pe&&Go(Pe,I)}return I}function Go(f,u={defs:{},instances:{}}){return u.defs[f.def.defId]=f.def,f.instance&&(u.instances[f.instance.instanceId]=f.instance),u}function ji(){return{defs:{},instances:{}}}function Ys(f,u){return{defs:Object.assign(Object.assign({},f.defs),u.defs),instances:Object.assign(Object.assign({},f.instances),u.instances)}}function cs(f,u){let h=Nn(f.defs,u),v=Nn(f.instances,S=>h[S.defId]);return{defs:h,instances:v}}function Ia(f){return Array.isArray(f)?f:"string"==typeof f?f.split(/\s+/):[]}const Ho={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:Ge,overlap:Ge,allow:Ge,className:Ia,classNames:Ia,color:String,backgroundColor:String,borderColor:String,textColor:String},$s={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function ds(f,u){let h=function Cn(f,u){return Array.isArray(f)?Di(f,null,u,!0):"object"==typeof f&&f?Di([f],null,u,!0):null!=f?String(f):null}(f.constraint,u);return{display:f.display||null,startEditable:null!=f.startEditable?f.startEditable:f.editable,durationEditable:null!=f.durationEditable?f.durationEditable:f.editable,constraints:null!=h?[h]:[],overlap:null!=f.overlap?f.overlap:null,allows:null!=f.allow?[f.allow]:[],backgroundColor:f.backgroundColor||f.color||"",borderColor:f.borderColor||f.color||"",textColor:f.textColor||"",classNames:(f.className||[]).concat(f.classNames||[])}}function Vo(f,u){return{display:null!=u.display?u.display:f.display,startEditable:null!=u.startEditable?u.startEditable:f.startEditable,durationEditable:null!=u.durationEditable?u.durationEditable:f.durationEditable,constraints:f.constraints.concat(u.constraints),overlap:"boolean"==typeof u.overlap?u.overlap:f.overlap,allows:f.allows.concat(u.allows),backgroundColor:u.backgroundColor||f.backgroundColor,borderColor:u.borderColor||f.borderColor,textColor:u.textColor||f.textColor,classNames:f.classNames.concat(u.classNames)}}const La={id:String,defaultAllDay:Boolean,url:String,format:String,events:Ge,eventDataTransform:Ge,success:Ge,failure:Ge};function Rl(f,u,h=Al(u)){let v;if("string"==typeof f?v={url:f}:"function"==typeof f||Array.isArray(f)?v={events:f}:"object"==typeof f&&f&&(v=f),v){let{refined:S,extra:R}=Bs(v,h),I=function Bo(f,u){let h=u.pluginHooks.eventSourceDefs;for(let v=h.length-1;v>=0;v-=1){let R=h[v].parseMeta(f);if(R)return{sourceDefId:v,meta:R}}return null}(S,u);if(I)return{_raw:f,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:S.defaultAllDay,eventDataTransform:S.eventDataTransform,success:S.success,failure:S.failure,publicId:S.id||"",sourceId:br(),sourceDefId:I.sourceDefId,meta:I.meta,ui:ds(S,u),extendedProps:R}}return null}function Al(f){return Object.assign(Object.assign(Object.assign({},Ho),La),f.pluginHooks.eventSourceRefiners)}function di(f,u,h,v,S){switch(u.type){case"RECEIVE_EVENTS":return function Dl(f,u,h,v,S,R){if(u&&h===u.latestFetchId){let I=Di(Tu(S,u,R),u,R);return v&&(I=Wi(I,v,R)),Ys(qs(f,u.sourceId),I)}return f}(f,h[u.sourceId],u.fetchId,u.fetchRange,u.rawEvents,S);case"RESET_RAW_EVENTS":return function Qs(f,u,h,v,S){const{defIdMap:R,instanceIdMap:I}=function Ve(f){const{defs:u,instances:h}=f,v={},S={};for(let R in u){const I=u[R],{publicId:Z}=I;Z&&(v[Z]=R)}for(let R in h){const Z=u[h[R].defId],{publicId:ce}=Z;ce&&(S[ce]=R)}return{defIdMap:v,instanceIdMap:S}}(f);return Wi(Di(Tu(h,u,S),u,S,!1,R,I),v,S)}(f,h[u.sourceId],u.rawEvents,v.activeRange,S);case"ADD_EVENTS":return function bu(f,u,h,v){return h&&(u=Wi(u,h,v)),Ys(f,u)}(f,u.eventStore,v?v.activeRange:null,S);case"RESET_EVENTS":return u.eventStore;case"MERGE_EVENTS":return Ys(f,u.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return v?Wi(f,v.activeRange,S):f;case"REMOVE_EVENTS":return function El(f,u){let{defs:h,instances:v}=f,S={},R={};for(let I in h)u.defs[I]||(S[I]=h[I]);for(let I in v)!u.instances[I]&&S[v[I].defId]&&(R[I]=v[I]);return{defs:S,instances:R}}(f,u.eventStore);case"REMOVE_EVENT_SOURCE":return qs(f,u.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return cs(f,R=>!R.sourceId);case"REMOVE_ALL_EVENTS":return{defs:{},instances:{}};default:return f}}function Tu(f,u,h){let v=h.options.eventDataTransform,S=u?u.eventDataTransform:null;return S&&(f=ko(f,S)),v&&(f=ko(f,v)),f}function ko(f,u){let h;if(u){h=[];for(let v of f){let S=u(v);S?h.push(S):null==S&&h.push(v)}}else h=f;return h}function Tc(f,u,h){let{defs:v}=f,S=io(f.instances,R=>v[R.defId].allDay?R:Object.assign(Object.assign({},R),{range:{start:h.createMarker(u.toDate(R.range.start,R.forcedStartTzo)),end:h.createMarker(u.toDate(R.range.end,R.forcedEndTzo))},forcedStartTzo:h.canComputeOffset?null:R.forcedStartTzo,forcedEndTzo:h.canComputeOffset?null:R.forcedEndTzo}));return{defs:v,instances:S}}function qs(f,u){return cs(f,h=>h.sourceId!==u)}class Ae{constructor(){this.handlers={},this.thisContext=null}setThisContext(u){this.thisContext=u}setOptions(u){this.options=u}on(u,h){!function Ot(f,u,h){(f[u]||(f[u]=[])).push(h)}(this.handlers,u,h)}off(u,h){!function Xt(f,u,h){h?f[u]&&(f[u]=f[u].filter(v=>v!==h)):delete f[u]}(this.handlers,u,h)}trigger(u,...h){let R=[].concat(this.options&&this.options[u]||[],this.handlers[u]||[]);for(let I of R)I.apply(this.thisContext,h)}hasHandlers(u){return!!(this.handlers[u]&&this.handlers[u].length||this.options&&this.options[u])}}const Fr={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function tn(f,u){return Di(function cr(f){let u;return u=!0===f?[{}]:Array.isArray(f)?f.filter(h=>h.daysOfWeek):"object"==typeof f&&f?[f]:[],u=u.map(h=>Object.assign(Object.assign({},Fr),h)),u}(f),null,u)}function Js(f,u,h){let{dateEnv:v,options:S}=h,R=u;return f?(R=nt(R),R=v.add(R,S.defaultAllDayEventDuration)):R=v.add(R,S.defaultTimedEventDuration),R}function fs(f,u,h,v){let S=h.standardProps||{};null==S.hasEnd&&u.durationEditable&&(h.startDelta||h.endDelta)&&(S.hasEnd=!0);let R=Object.assign(Object.assign(Object.assign({},f),S),{ui:Object.assign(Object.assign({},f.ui),S.ui)});h.extendedProps&&(R.extendedProps=Object.assign(Object.assign({},R.extendedProps),h.extendedProps));for(let I of v.pluginHooks.eventDefMutationAppliers)I(R,h,v);return!R.hasEnd&&v.options.forceEventDuration&&(R.hasEnd=!0),R}function Wo(f,u,h,v,S){let{dateEnv:R}=S,I=v.standardProps&&!0===v.standardProps.allDay,Z=v.standardProps&&!1===v.standardProps.hasEnd,ce=Object.assign({},f);return I&&(ce.range=yl(ce.range)),v.datesDelta&&h.startEditable&&(ce.range={start:R.add(ce.range.start,v.datesDelta),end:R.add(ce.range.end,v.datesDelta)}),v.startDelta&&h.durationEditable&&(ce.range={start:R.add(ce.range.start,v.startDelta),end:ce.range.end}),v.endDelta&&h.durationEditable&&(ce.range={start:ce.range.start,end:R.add(ce.range.end,v.endDelta)}),Z&&(ce.range={start:ce.range.start,end:Js(u.allDay,ce.range.start,S)}),u.allDay&&(ce.range={start:nt(ce.range.start),end:nt(ce.range.end)}),ce.range.end<ce.range.start&&(ce.range.end=Js(u.allDay,ce.range.start,S)),ce}class xi{constructor(u,h){this.context=u,this.internalEventSource=h}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class Qt{constructor(u,h,v){this._context=u,this._def=h,this._instance=v||null}setProp(u,h){if(u in Pa)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if("id"===u)h=mo[u](h),this.mutate({standardProps:{publicId:h}});else if(u in mo)h=mo[u](h),this.mutate({standardProps:{[u]:h}});else if(u in Ho){let v=Ho[u](h);v="color"===u?{backgroundColor:h,borderColor:h}:"editable"===u?{startEditable:h,durationEditable:h}:{[u]:h},this.mutate({standardProps:{ui:v}})}else console.warn(`Could not set prop '${u}'. Use setExtendedProp instead.`)}setExtendedProp(u,h){this.mutate({extendedProps:{[u]:h}})}setStart(u,h={}){let{dateEnv:v}=this._context,S=v.createMarker(u);if(S&&this._instance){let I=us(this._instance.range.start,S,v,h.granularity);this.mutate(h.maintainDuration?{datesDelta:I}:{startDelta:I})}}setEnd(u,h={}){let S,{dateEnv:v}=this._context;if((null==u||(S=v.createMarker(u),S))&&this._instance)if(S){let R=us(this._instance.range.end,S,v,h.granularity);this.mutate({endDelta:R})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(u,h,v={}){let Z,{dateEnv:S}=this._context,R={allDay:v.allDay},I=S.createMarker(u);if(I&&(null==h||(Z=S.createMarker(h),Z))&&this._instance){let ce=this._instance.range;!0===v.allDay&&(ce=yl(ce));let Pe=us(ce.start,I,S,v.granularity);if(Z){let Be=us(ce.end,Z,S,v.granularity);!function or(f,u){return f.years===u.years&&f.months===u.months&&f.days===u.days&&f.milliseconds===u.milliseconds}(Pe,Be)?this.mutate({startDelta:Pe,endDelta:Be,standardProps:R}):this.mutate({datesDelta:Pe,standardProps:R})}else R.hasEnd=!1,this.mutate({datesDelta:Pe,standardProps:R})}}moveStart(u){let h=lt(u);h&&this.mutate({startDelta:h})}moveEnd(u){let h=lt(u);h&&this.mutate({endDelta:h})}moveDates(u){let h=lt(u);h&&this.mutate({datesDelta:h})}setAllDay(u,h={}){let v={allDay:u},{maintainDuration:S}=h;null==S&&(S=this._context.options.allDayMaintainDuration),this._def.allDay!==u&&(v.hasEnd=S),this.mutate({standardProps:v})}formatRange(u){let{dateEnv:h}=this._context,v=this._instance,S=An(u);return this._def.hasEnd?h.formatRange(v.range.start,v.range.end,S,{forcedStartTzo:v.forcedStartTzo,forcedEndTzo:v.forcedEndTzo}):h.format(v.range.start,S,{forcedTzo:v.forcedStartTzo})}mutate(u){let h=this._instance;if(h){let v=this._def,S=this._context,{eventStore:R}=S.getCurrentData(),I=function Ma(f,u){let h=f.instances[u];if(h){let v=f.defs[h.defId],S=cs(f,R=>function _l(f,u){return!(!f.groupId||f.groupId!==u.groupId)}(v,R));return S.defs[v.defId]=v,S.instances[h.instanceId]=h,S}return{defs:{},instances:{}}}(R,h.instanceId);I=function bc(f,u,h,v){let S=Bn(f.defs,u),R={defs:{},instances:{}};for(let I in f.defs)R.defs[I]=fs(f.defs[I],S[I],h,v);for(let I in f.instances){let Z=f.instances[I];R.instances[I]=Wo(Z,R.defs[Z.defId],S[Z.defId],h,v)}return R}(I,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},u,S);let ce=new Qt(S,v,h);this._def=I.defs[v.defId],this._instance=I.instances[h.instanceId],S.dispatch({type:"MERGE_EVENTS",eventStore:I}),S.emitter.trigger("eventChange",{oldEvent:ce,event:this,relatedEvents:hs(I,S,h),revert(){S.dispatch({type:"RESET_EVENTS",eventStore:R})}})}}remove(){let u=this._context,h=Na(this);u.dispatch({type:"REMOVE_EVENTS",eventStore:h}),u.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){u.dispatch({type:"MERGE_EVENTS",eventStore:h})}})}get source(){let{sourceId:u}=this._def;return u?new xi(this._context,this._context.getCurrentData().eventSources[u]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let u=this._instance;return u?this._context.dateEnv.formatIso(u.range.start,{omitTime:this._def.allDay,forcedTzo:u.forcedStartTzo}):""}get endStr(){let u=this._instance;return u&&this._def.hasEnd?this._context.dateEnv.formatIso(u.range.end,{omitTime:this._def.allDay,forcedTzo:u.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(u={}){let h=this._def,{ui:v}=h,{startStr:S,endStr:R}=this,I={allDay:h.allDay};return h.title&&(I.title=h.title),S&&(I.start=S),R&&(I.end=R),h.publicId&&(I.id=h.publicId),h.groupId&&(I.groupId=h.groupId),h.url&&(I.url=h.url),v.display&&"auto"!==v.display&&(I.display=v.display),u.collapseColor&&v.backgroundColor&&v.backgroundColor===v.borderColor?I.color=v.backgroundColor:(v.backgroundColor&&(I.backgroundColor=v.backgroundColor),v.borderColor&&(I.borderColor=v.borderColor)),v.textColor&&(I.textColor=v.textColor),v.classNames.length&&(I.classNames=v.classNames),Object.keys(h.extendedProps).length&&(u.collapseExtendedProps?Object.assign(I,h.extendedProps):I.extendedProps=h.extendedProps),I}toJSON(){return this.toPlainObject()}}function Na(f){let u=f._def,h=f._instance;return{defs:{[u.defId]:u},instances:h?{[h.instanceId]:h}:{}}}function hs(f,u,h){let{defs:v,instances:S}=f,R=[],I=h?h.instanceId:"";for(let Z in S){let ce=S[Z];ce.instanceId!==I&&R.push(new Qt(u,v[ce.defId],ce))}return R}function sr(f,u,h,v){let S={},R={},I={},Z=[],ce=[],Pe=Bn(f.defs,u);for(let Be in f.defs){let wt=f.defs[Be];"inverse-background"===Pe[wt.defId].display&&(wt.groupId?(S[wt.groupId]=[],I[wt.groupId]||(I[wt.groupId]=wt)):R[Be]=[])}for(let Be in f.instances){let wt=f.instances[Be],ct=f.defs[wt.defId],Ht=Pe[ct.defId],Hr=wt.range,xr=!ct.allDay&&v?No(Hr,v):Hr,Or=ui(xr,h);Or&&("inverse-background"===Ht.display?ct.groupId?S[ct.groupId].push(Or):R[wt.defId].push(Or):"none"!==Ht.display&&("background"===Ht.display?Z:ce).push({def:ct,ui:Ht,instance:wt,range:Or,isStart:xr.start&&xr.start.valueOf()===Or.start.valueOf(),isEnd:xr.end&&xr.end.valueOf()===Or.end.valueOf()}))}for(let Be in S){let ct=gl(S[Be],h);for(let Ht of ct){let Hr=I[Be];Z.push({def:Hr,ui:Pe[Hr.defId],instance:null,range:Ht,isStart:!1,isEnd:!1})}}for(let Be in R){let ct=gl(R[Be],h);for(let Ht of ct)Z.push({def:f.defs[Be],ui:Pe[Be],instance:null,range:Ht,isStart:!1,isEnd:!1})}return{bg:Z,fg:ce}}function Uo(f,u){f.fcSeg=u}function jo(f){return f.fcSeg||f.parentNode.fcSeg||null}function Bn(f,u){return io(f,h=>$n(h,u))}function $n(f,u){let h=[];return u[""]&&h.push(u[""]),u[f.defId]&&h.push(u[f.defId]),h.push(f.ui),function xn(f){return f.reduce(Vo,$s)}(h)}function zo(f,u){let h=f.map(Ga);return h.sort((v,S)=>function Ir(f,u,h){let v,S;for(v=0;v<h.length;v+=1)if(S=He(f,u,h[v]),S)return S;return 0}(v,S,u)),h.map(v=>v._seg)}function Ga(f){let{eventRange:u}=f,h=u.def,v=u.instance?u.instance.range:u.range,S=v.start?v.start.valueOf():0,R=v.end?v.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},h.extendedProps),h),{id:h.publicId,start:S,end:R,duration:R-S,allDay:Number(h.allDay),_seg:f})}function Co(f,u){let{pluginHooks:h}=u,v=h.isDraggableTransformers,{def:S,ui:R}=f.eventRange,I=R.startEditable;for(let Z of v)I=Z(I,S,R,u);return I}function Ha(f,u){return f.isStart&&f.eventRange.ui.durationEditable&&u.options.eventResizableFromStart}function so(f,u,h,v,S,R,I){let{dateEnv:Z,options:ce}=h,{displayEventTime:Pe,displayEventEnd:Be}=ce,wt=f.eventRange.def,ct=f.eventRange.instance;null==Pe&&(Pe=!1!==v),null==Be&&(Be=!1!==S);let Ht=ct.range.start,Hr=ct.range.end,xr=R||f.start||f.eventRange.range.start,Or=I||f.end||f.eventRange.range.end,dn=nt(Ht).valueOf()===nt(xr).valueOf(),fi=nt(V(Hr,-1)).valueOf()===nt(V(Or,-1)).valueOf();return Pe&&!wt.allDay&&(dn||fi)?(xr=dn?Ht:xr,Or=fi?Hr:Or,Be&&wt.hasEnd?Z.formatRange(xr,Or,u,{forcedStartTzo:R?null:ct.forcedStartTzo,forcedEndTzo:I?null:ct.forcedEndTzo}):Z.format(xr,u,{forcedTzo:R?null:ct.forcedStartTzo})):""}function vs(f,u,h){let v=f.eventRange.range;return{isPast:v.end<=(h||u.start),isFuture:v.start>=(h||u.end),isToday:u&&Vn(u,v.start)}}function un(f){let u=["fc-event"];return f.isMirror&&u.push("fc-event-mirror"),f.isDraggable&&u.push("fc-event-draggable"),(f.isStartResizable||f.isEndResizable)&&u.push("fc-event-resizable"),f.isDragging&&u.push("fc-event-dragging"),f.isResizing&&u.push("fc-event-resizing"),f.isSelected&&u.push("fc-event-selected"),f.isStart&&u.push("fc-event-start"),f.isEnd&&u.push("fc-event-end"),f.isPast&&u.push("fc-event-past"),f.isToday&&u.push("fc-event-today"),f.isFuture&&u.push("fc-event-future"),u}function Ko(f){return f.instance?f.instance.instanceId:`${f.def.defId}:${f.range.start.toISOString()}`}function Qn(f,u){let{def:h,instance:v}=f.eventRange,{url:S}=h;if(S)return{href:S};let{emitter:R,options:I}=u,{eventInteractive:Z}=I;return null==Z&&(Z=h.interactive,null==Z&&(Z=!!R.hasHandlers("eventClick"))),Z?vr(ce=>{R.trigger("eventClick",{el:ce.target,event:new Qt(u,h,v),jsEvent:ce,view:u.viewApi})}):{}}const wo={start:Ge,end:Ge,allDay:Boolean};function Ol(f,u,h){return Object.assign(Object.assign({},ea(f,u,h)),{timeZone:u.timeZone})}function ea(f,u,h){return{start:u.toDate(f.start),end:u.toDate(f.end),startStr:u.formatIso(f.start,{omitTime:h}),endStr:u.formatIso(f.end,{omitTime:h})}}function Mc(f,u,h){let v=!1,S=function(Z){v||(v=!0,u(Z))},R=function(Z){v||(v=!0,h(Z))},I=f(S,R);I&&"function"==typeof I.then&&I.then(S,R)}class en extends Error{constructor(u,h){super(u),this.response=h}}function Sn(f,u,h){const v={method:f=f.toUpperCase()};return"GET"===f?u+=(-1===u.indexOf("?")?"?":"&")+new URLSearchParams(h):(v.body=new URLSearchParams(h),v.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(u,v).then(S=>{if(S.ok)return S.json().then(R=>[R,S],()=>{throw new en("Failure parsing JSON",S)});throw new en("Request failed",S)})}let Va;function ms(){return null==Va&&(Va=function qn(){if(typeof document>"u")return!0;let f=document.createElement("div");f.style.position="absolute",f.style.top="0px",f.style.left="0px",f.innerHTML="<table><tr><td><div></div></td></tr></table>",f.querySelector("table").style.height="100px",f.querySelector("div").style.height="100%",document.body.appendChild(f);let h=f.querySelector("div").offsetHeight>0;return document.body.removeChild(f),h}()),Va}class Ic extends Pr{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{hn(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{hn(()=>{this.setState({forPrint:!1})})}}render(){let{props:u}=this,{options:h}=u,{forPrint:v}=this.state,S=v||"auto"===h.height||"auto"===h.contentHeight,R=S||null==h.height?"":h.height,I=["fc",v?"fc-media-print":"fc-media-screen",`fc-direction-${h.direction}`,u.theme.getClass("root")];return ms()||I.push("fc-liquid-hack"),u.children(I,R,S,v)}componentDidMount(){let{emitter:u}=this.props;u.on("_beforeprint",this.handleBeforePrint),u.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:u}=this.props;u.off("_beforeprint",this.handleBeforePrint),u.off("_afterprint",this.handleAfterPrint)}}class ao{constructor(u){this.component=u.component,this.isHitComboAllowed=u.isHitComboAllowed||null}destroy(){}}function So(f,u){return{component:f,el:u.el,useEventCenter:null==u.useEventCenter||u.useEventCenter,isHitComboAllowed:u.isHitComboAllowed||null}}const Yo={};class ws{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(u){this.currentDataManager.dispatch(u)}get view(){return this.getCurrentData().viewApi}batchRendering(u){u()}updateSize(){this.trigger("_resize",!0)}setOption(u,h){this.dispatch({type:"SET_OPTION",optionName:u,rawOptionValue:h})}getOption(u){return this.currentDataManager.currentCalendarOptionsInput[u]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(u,h){let{currentDataManager:v}=this;v.currentCalendarOptionsRefiners[u]?v.emitter.on(u,h):console.warn(`Unknown listener name '${u}'`)}off(u,h){this.currentDataManager.emitter.off(u,h)}trigger(u,...h){this.currentDataManager.emitter.trigger(u,...h)}changeView(u,h){this.batchRendering(()=>{if(this.unselect(),h)if(h.start&&h.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:u}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:h});else{let{dateEnv:v}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:u,dateMarker:v.createMarker(h)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:u})})}zoomTo(u,h){let S;S=this.getCurrentData().viewSpecs[h=h||"day"]||this.getUnitViewSpec(h),this.unselect(),this.dispatch(S?{type:"CHANGE_VIEW_TYPE",viewType:S.type,dateMarker:u}:{type:"CHANGE_DATE",dateMarker:u})}getUnitViewSpec(u){let R,I,{viewSpecs:h,toolbarConfig:v}=this.getCurrentData(),S=[].concat(v.header?v.header.viewsWithButtons:[],v.footer?v.footer.viewsWithButtons:[]);for(let Z in h)S.push(Z);for(R=0;R<S.length;R+=1)if(I=h[S[R]],I&&I.singleUnit===u)return I;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let u=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:u.dateEnv.addYears(u.currentDate,-1)})}nextYear(){let u=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:u.dateEnv.addYears(u.currentDate,1)})}today(){let u=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:ki(u.calendarOptions.now,u.dateEnv)})}gotoDate(u){let h=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:h.dateEnv.createMarker(u)})}incrementDate(u){let h=this.getCurrentData(),v=lt(u);v&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:h.dateEnv.add(h.currentDate,v)}))}getDate(){let u=this.getCurrentData();return u.dateEnv.toDate(u.currentDate)}formatDate(u,h){let{dateEnv:v}=this.getCurrentData();return v.format(v.createMarker(u),An(h))}formatRange(u,h,v){let{dateEnv:S}=this.getCurrentData();return S.formatRange(S.createMarker(u),S.createMarker(h),An(v),v)}formatIso(u,h){let{dateEnv:v}=this.getCurrentData();return v.formatIso(v.createMarker(u),{omitTime:h})}select(u,h){let v;v=null==h?null!=u.start?u:{start:u,end:null}:{start:u,end:h};let S=this.getCurrentData(),R=function wn(f,u,h){let v=function Fc(f,u){let{refined:h,extra:v}=Bs(f,wo),S=h.start?u.createMarkerMeta(h.start):null,R=h.end?u.createMarkerMeta(h.end):null,{allDay:I}=h;return null==I&&(I=S&&S.isTimeUnspecified&&(!R||R.isTimeUnspecified)),Object.assign({range:{start:S?S.marker:null,end:R?R.marker:null},allDay:I},v)}(f,u),{range:S}=v;if(!S.start)return null;if(!S.end){if(null==h)return null;S.end=u.add(S.start,h)}return v}(v,S.dateEnv,lt({days:1}));R&&(this.dispatch({type:"SELECT_DATES",selection:R}),function Zs(f,u,h){h.emitter.trigger("select",Object.assign(Object.assign({},function Wr(f,u){let h={};for(let v of u.pluginHooks.dateSpanTransforms)Object.assign(h,v(f,u));return Object.assign(h,function Xs(f,u){return Object.assign(Object.assign({},ea(f.range,u,f.allDay)),{allDay:f.allDay})}(f,u.dateEnv)),h}(f,h)),{jsEvent:u?u.origEvent:null,view:h.viewApi||h.calendarApi.view}))}(R,null,S))}unselect(u){let h=this.getCurrentData();h.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),function ps(f,u){u.emitter.trigger("unselect",{jsEvent:f?f.origEvent:null,view:u.viewApi||u.calendarApi.view})}(u,h))}addEvent(u,h){if(u instanceof Qt){let I=u._def,Z=u._instance;return this.getCurrentData().eventStore.defs[I.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Go({def:I,instance:Z})}),this.triggerEventAdd(u)),u}let S,v=this.getCurrentData();if(h instanceof xi)S=h.internalEventSource;else if("boolean"==typeof h)h&&([S]=Io(v.eventSources));else if(null!=h){let I=this.getEventSourceById(h);if(!I)return console.warn(`Could not find an event source with ID "${h}"`),null;S=I.internalEventSource}let R=zs(u,S,v,!1);if(R){let I=new Qt(v,R.def,R.def.recurringDef?null:R.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Go(R)}),this.triggerEventAdd(I),I}return null}triggerEventAdd(u){let{emitter:h}=this.getCurrentData();h.trigger("eventAdd",{event:u,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:Na(u)})}})}getEventById(u){let h=this.getCurrentData(),{defs:v,instances:S}=h.eventStore;u=String(u);for(let R in v){let I=v[R];if(I.publicId===u){if(I.recurringDef)return new Qt(h,I,null);for(let Z in S){let ce=S[Z];if(ce.defId===I.defId)return new Qt(h,I,ce)}}}return null}getEvents(){let u=this.getCurrentData();return hs(u.eventStore,u)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let u=this.getCurrentData(),h=u.eventSources,v=[];for(let S in h)v.push(new xi(u,h[S]));return v}getEventSourceById(u){let h=this.getCurrentData(),v=h.eventSources;u=String(u);for(let S in v)if(v[S].publicId===u)return new xi(h,v[S]);return null}addEventSource(u){let h=this.getCurrentData();if(u instanceof xi)return h.eventSources[u.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[u.internalEventSource]}),u;let v=Rl(u,h);return v?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[v]}),new xi(h,v)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(u){let h=lt(u);h&&this.trigger("_scrollRequest",{time:h})}}function Ss(f,u){let h={left:Math.max(f.left,u.left),right:Math.min(f.right,u.right),top:Math.max(f.top,u.top),bottom:Math.min(f.bottom,u.bottom)};return h.left<h.right&&h.top<h.bottom&&h}function _s(f,u,h,v){return{dow:f.getUTCDay(),isDisabled:!(!v||Vn(v.activeRange,f)),isOther:!(!v||Vn(v.currentRange,f)),isToday:!(!u||!Vn(u,f)),isPast:!!(h?f<h:u&&f<u.start),isFuture:!!(h?f>h:u&&f>=u.end)}}function Ba(f,u){let h=["fc-day",`fc-day-${Ie[f.dow]}`];return f.isDisabled?h.push("fc-day-disabled"):(f.isToday&&(h.push("fc-day-today"),h.push(u.getClass("today"))),f.isPast&&h.push("fc-day-past"),f.isFuture&&h.push("fc-day-future"),f.isOther&&h.push("fc-day-other")),h}const Es=An({year:"numeric",month:"long",day:"numeric"}),ka=An({week:"long"});function Jn(f,u,h="day",v=!0){const{dateEnv:S,options:R,calendarApi:I}=f;let Z=S.format(u,"week"===h?ka:Es);if(R.navLinks){let ce=S.toDate(u);const Pe=Be=>{let wt="day"===h?R.navLinkDayClick:"week"===h?R.navLinkWeekClick:null;"function"==typeof wt?wt.call(I,S.toDate(u),Be):("string"==typeof wt&&(h=wt),I.zoomTo(u,h))};return Object.assign({title:re(R.navLinkHint,[Z,ce],Z),"data-navlink":""},v?$r(Pe):{onClick:Pe})}return{"aria-label":Z}}let Ua;class Vc{constructor(u,h,v,S){this.els=h;let R=this.originClientRect=u.getBoundingClientRect();v&&this.buildElHorizontals(R.left),S&&this.buildElVerticals(R.top)}buildElHorizontals(u){let h=[],v=[];for(let S of this.els){let R=S.getBoundingClientRect();h.push(R.left-u),v.push(R.right-u)}this.lefts=h,this.rights=v}buildElVerticals(u){let h=[],v=[];for(let S of this.els){let R=S.getBoundingClientRect();h.push(R.top-u),v.push(R.bottom-u)}this.tops=h,this.bottoms=v}leftToIndex(u){let R,{lefts:h,rights:v}=this,S=h.length;for(R=0;R<S;R+=1)if(u>=h[R]&&u<v[R])return R}topToIndex(u){let R,{tops:h,bottoms:v}=this,S=h.length;for(R=0;R<S;R+=1)if(u>=h[R]&&u<v[R])return R}getWidth(u){return this.rights[u]-this.lefts[u]}getHeight(u){return this.bottoms[u]-this.tops[u]}similarTo(u){return Jr(this.tops||[],u.tops||[])&&Jr(this.bottoms||[],u.bottoms||[])&&Jr(this.lefts||[],u.lefts||[])&&Jr(this.rights||[],u.rights||[])}}function Jr(f,u){const h=f.length;if(h!==u.length)return!1;for(let v=0;v<h;v++)if(Math.round(f[v])!==Math.round(u[v]))return!1;return!0}class Rs extends Pr{constructor(){super(...arguments),this.uid=br()}prepareHits(){}queryHit(u,h,v,S){return null}isValidSegDownEl(u){return!this.props.eventDrag&&!this.props.eventResize&&!et(u,".fc-event-mirror")}isValidDateDownEl(u){return!(et(u,".fc-event:not(.fc-bg-event)")||et(u,".fc-more-link")||et(u,"a[data-navlink]")||et(u,".fc-popover"))}}class sp{constructor(u=(h=>h.thickness||1)){this.getEntryThickness=u,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(u){let h=[];for(let v of u)this.insertEntry(v,h);return h}insertEntry(u,h){let v=this.findInsertion(u);this.isInsertionValid(v,u)?this.insertEntryAt(u,v):this.handleInvalidInsertion(v,u,h)}isInsertionValid(u,h){return(-1===this.maxCoord||u.levelCoord+this.getEntryThickness(h)<=this.maxCoord)&&(-1===this.maxStackCnt||u.stackCnt<this.maxStackCnt)}handleInvalidInsertion(u,h,v){if(this.allowReslicing&&u.touchingEntry){const S=Object.assign(Object.assign({},h),{span:Ti(h.span,u.touchingEntry.span)});v.push(S),this.splitEntry(h,u.touchingEntry,v)}else v.push(h)}splitEntry(u,h,v){let S=u.span,R=h.span;S.start<R.start&&this.insertEntry({index:u.index,thickness:u.thickness,span:{start:S.start,end:R.start}},v),S.end>R.end&&this.insertEntry({index:u.index,thickness:u.thickness,span:{start:R.end,end:S.end}},v)}insertEntryAt(u,h){let{entriesByLevel:v,levelCoords:S}=this;-1===h.lateral?(Fn(S,h.level,h.levelCoord),Fn(v,h.level,[u])):Fn(v[h.level],h.lateral,u),this.stackCnts[uo(u)]=h.stackCnt}findInsertion(u){let{levelCoords:h,entriesByLevel:v,strictOrder:S,stackCnts:R}=this,I=h.length,Z=0,ce=-1,Pe=-1,Be=null,wt=0;for(let Hr=0;Hr<I;Hr+=1){const xr=h[Hr];if(!S&&xr>=Z+this.getEntryThickness(u))break;let dn,Or=v[Hr],fi=Iu(Or,u.span.start,Mu),Jo=fi[0]+fi[1];for(;(dn=Or[Jo])&&dn.span.start<u.span.end;){let po=xr+this.getEntryThickness(dn);po>Z&&(Z=po,Be=dn,ce=Hr,Pe=Jo),po===Z&&(wt=Math.max(wt,R[uo(dn)]+1)),Jo+=1}}let ct=0;if(Be)for(ct=ce+1;ct<I&&h[ct]<Z;)ct+=1;let Ht=-1;return ct<I&&h[ct]===Z&&(Ht=Iu(v[ct],u.span.end,Mu)[0]),{touchingLevel:ce,touchingLateral:Pe,touchingEntry:Be,stackCnt:wt,levelCoord:Z,level:ct,lateral:Ht}}toRects(){let{entriesByLevel:u,levelCoords:h}=this,v=u.length,S=[];for(let R=0;R<v;R+=1){let I=u[R],Z=h[R];for(let ce of I)S.push(Object.assign(Object.assign({},ce),{thickness:this.getEntryThickness(ce),levelCoord:Z}))}return S}}function Mu(f){return f.span.end}function uo(f){return f.index+":"+f.span.start}function Ti(f,u){let h=Math.max(f.start,u.start),v=Math.min(f.end,u.end);return h<v?{start:h,end:v}:null}function Fn(f,u,h){f.splice(u,0,h)}function Iu(f,u,h){let v=0,S=f.length;if(!S||u<h(f[v]))return[0,0];if(u>h(f[S-1]))return[S,0];for(;v<S;){let R=Math.floor(v+(S-v)/2),I=h(f[R]);if(u<I)S=R;else{if(!(u>I))return[R,1];v=R+1}}return[v,0]}Boolean;const tt="fc-col-header-cell";function bl(f){return f.text}class Wc extends Pr{render(){let{dateEnv:u,options:h,theme:v,viewApi:S}=this.context,{props:R}=this,{date:I,dateProfile:Z}=R,ce=_s(I,R.todayRange,null,Z),Pe=[tt].concat(Ba(ce,v)),Be=u.format(I,R.dayHeaderFormat),wt=!ce.isDisabled&&R.colCnt>1?Jn(this.context,I):{},ct=Object.assign(Object.assign(Object.assign({date:u.toDate(I),view:S},R.extraRenderProps),{text:Be}),ce);return(0,p.az)(an,{elTag:"th",elClasses:Pe,elAttrs:Object.assign({role:"columnheader",colSpan:R.colSpan,"data-date":ce.isDisabled?void 0:Mo(I)},R.extraDataAttrs),renderProps:ct,generatorName:"dayHeaderContent",customGenerator:h.dayHeaderContent,defaultGenerator:bl,classNameGenerator:h.dayHeaderClassNames,didMount:h.dayHeaderDidMount,willUnmount:h.dayHeaderWillUnmount},Ht=>(0,p.az)("div",{className:"fc-scrollgrid-sync-inner"},!ce.isDisabled&&(0,p.az)(Ht,{elTag:"a",elAttrs:wt,elClasses:["fc-col-header-cell-cushion",R.isSticky&&"fc-sticky"]})))}}const Pl=An({weekday:"long"});class ta extends Pr{render(){let{props:u}=this,{dateEnv:h,theme:v,viewApi:S,options:R}=this.context,I=J(new Date(2592e5),u.dow),Z={dow:u.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},ce=h.format(I,u.dayHeaderFormat),Pe=Object.assign(Object.assign(Object.assign(Object.assign({date:I},Z),{view:S}),u.extraRenderProps),{text:ce});return(0,p.az)(an,{elTag:"th",elClasses:[tt,...Ba(Z,v),...u.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:u.colSpan},u.extraDataAttrs),renderProps:Pe,generatorName:"dayHeaderContent",customGenerator:R.dayHeaderContent,defaultGenerator:bl,classNameGenerator:R.dayHeaderClassNames,didMount:R.dayHeaderDidMount,willUnmount:R.dayHeaderWillUnmount},Be=>(0,p.az)("div",{className:"fc-scrollgrid-sync-inner"},(0,p.az)(Be,{elTag:"a",elClasses:["fc-col-header-cell-cushion",u.isSticky&&"fc-sticky"],elAttrs:{"aria-label":h.format(I,Pl)}})))}}let As=(()=>{class f extends p.wA{constructor(h,v){super(h,v),this.initialNowDate=ki(v.options.now,v.dateEnv),this.initialNowQueriedMs=(new Date).valueOf(),this.state=this.computeTiming().currentState}render(){let{props:h,state:v}=this;return h.children(v.nowDate,v.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(h){h.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:h,context:v}=this,S=V(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs),R=v.dateEnv.startOf(S,h.unit),I=v.dateEnv.add(R,lt(1,h.unit)),Z=I.valueOf()-S.valueOf();return Z=Math.min(864e5,Z),{currentState:{nowDate:R,todayRange:Nu(R)},nextState:{nowDate:I,todayRange:Nu(I)},waitMs:Z}}setTimeout(){let{nextState:h,waitMs:v}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(h,()=>{this.setTimeout()})},v)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}return f.contextType=mn,f})();function Nu(f){let u=nt(f);return{start:u,end:J(u,1)}}class Fl extends Pr{constructor(){super(...arguments),this.createDayHeaderFormatter=$(Gu)}render(){let{context:u}=this,{dates:h,dateProfile:v,datesRepDistinctDays:S,renderIntro:R}=this.props,I=this.createDayHeaderFormatter(u.options.dayHeaderFormat,S,h.length);return(0,p.az)(As,{unit:"day"},(Z,ce)=>(0,p.az)("tr",{role:"row"},R&&R("day"),h.map(Pe=>S?(0,p.az)(Wc,{key:Pe.toISOString(),date:Pe,dateProfile:v,todayRange:ce,colCnt:h.length,dayHeaderFormat:I}):(0,p.az)(ta,{key:Pe.getUTCDay(),dow:Pe.getUTCDay(),dayHeaderFormat:I}))))}}function Gu(f,u,h){return f||function kc(f,u){return An(!f||u>10?{weekday:"short"}:u>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"})}(u,h)}class Ki{constructor(u,h){let v=u.start,{end:S}=u,R=[],I=[],Z=-1;for(;v<S;)h.isHiddenDay(v)?R.push(Z+.5):(Z+=1,R.push(Z),I.push(v)),v=J(v,1);this.dates=I,this.indices=R,this.cnt=I.length}sliceRange(u){let h=this.getDateDayIndex(u.start),v=this.getDateDayIndex(J(u.end,-1)),S=Math.max(0,h),R=Math.min(this.cnt-1,v);return S=Math.ceil(S),R=Math.floor(R),S<=R?{firstIndex:S,lastIndex:R,isStart:h===S,isEnd:v===R}:null}getDateDayIndex(u){let{indices:h}=this,v=Math.floor(K(this.dates[0],u));return v<0?h[0]-1:v>=h.length?h[h.length-1]+1:h[v]}}class Ml{constructor(u,h){let S,R,I,{dates:v}=u;if(h){for(R=v[0].getUTCDay(),S=1;S<v.length&&v[S].getUTCDay()!==R;S+=1);I=Math.ceil(v.length/S)}else I=1,S=v.length;this.rowCnt=I,this.colCnt=S,this.daySeries=u,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let u=[];for(let h=0;h<this.rowCnt;h+=1){let v=[];for(let S=0;S<this.colCnt;S+=1)v.push(this.buildCell(h,S));u.push(v)}return u}buildCell(u,h){let v=this.daySeries.dates[u*this.colCnt+h];return{key:v.toISOString(),date:v}}buildHeaderDates(){let u=[];for(let h=0;h<this.colCnt;h+=1)u.push(this.cells[0][h].date);return u}sliceRange(u){let{colCnt:h}=this,v=this.daySeries.sliceRange(u),S=[];if(v){let{firstIndex:R,lastIndex:I}=v,Z=R;for(;Z<=I;){let ce=Math.floor(Z/h),Pe=Math.min((ce+1)*h,I+1);S.push({row:ce,firstCol:Z%h,lastCol:(Pe-1)%h,isStart:v.isStart&&Z===R,isEnd:v.isEnd&&Pe-1===I}),Z=Pe}}return S}}class co{constructor(){this.sliceBusinessHours=$(this._sliceBusinessHours),this.sliceDateSelection=$(this._sliceDateSpan),this.sliceEventStore=$(this._sliceEventStore),this.sliceEventDrag=$(this._sliceInteraction),this.sliceEventResize=$(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(u,h,v,S,...R){let{eventUiBases:I}=u,Z=this.sliceEventStore(u.eventStore,I,h,v,...R);return{dateSelectionSegs:this.sliceDateSelection(u.dateSelection,h,v,I,S,...R),businessHourSegs:this.sliceBusinessHours(u.businessHours,h,v,S,...R),fgEventSegs:Z.fg,bgEventSegs:Z.bg,eventDrag:this.sliceEventDrag(u.eventDrag,I,h,v,...R),eventResize:this.sliceEventResize(u.eventResize,I,h,v,...R),eventSelection:u.eventSelection}}sliceNowDate(u,h,v,S,...R){return this._sliceDateSpan({range:{start:u,end:V(u,1)},allDay:!1},h,v,{},S,...R)}_sliceBusinessHours(u,h,v,S,...R){return u?this._sliceEventStore(Wi(u,On(h,!!v),S),{},h,v,...R).bg:[]}_sliceEventStore(u,h,v,S,...R){if(u){let I=sr(u,h,On(v,!!S),S);return{bg:this.sliceEventRanges(I.bg,R),fg:this.sliceEventRanges(I.fg,R)}}return{bg:[],fg:[]}}_sliceInteraction(u,h,v,S,...R){if(!u)return null;let I=sr(u.mutatedEvents,h,On(v,!!S),S);return{segs:this.sliceEventRanges(I.fg,R),affectedInstances:u.affectedEvents.instances,isEvent:u.isEvent}}_sliceDateSpan(u,h,v,S,R,...I){if(!u)return[];let Z=On(h,!!v),ce=ui(u.range,Z);if(ce){let Pe=function Pu(f,u,h){let v=Ui({editable:!1},h),S=Ks(v.refined,v.extra,"",f.allDay,!0,h);return{def:S,ui:$n(S,u),instance:Ta(S.defId,f.range),range:f.range,isStart:!0,isEnd:!0}}(u=Object.assign(Object.assign({},u),{range:ce}),S,R),Be=this.sliceRange(u.range,...I);for(let wt of Be)wt.eventRange=Pe;return Be}return[]}sliceEventRanges(u,h){let v=[];for(let S of u)v.push(...this.sliceEventRange(S,h));return v}sliceEventRange(u,h){let v=u.range;this.forceDayIfListItem&&"list-item"===u.ui.display&&(v={start:v.start,end:J(v.start,1)});let S=this.sliceRange(v,...h);for(let R of S)R.eventRange=u,R.isStart=u.isStart&&R.isStart,R.isEnd=u.isEnd&&R.isEnd;return S}}function On(f,u){let h=f.activeRange;return u?h:{start:V(h.start,f.slotMinTime.milliseconds),end:V(h.end,f.slotMaxTime.milliseconds-864e5)}}const cn=/^(visible|hidden)$/;class za extends Pr{constructor(){super(...arguments),this.handleEl=u=>{this.el=u,go(this.props.elRef,u)}}render(){let{props:u}=this,{liquid:h,liquidIsAbsolute:v}=u,S=h&&v,R=["fc-scroller"];return h&&R.push(v?"fc-scroller-liquid-absolute":"fc-scroller-liquid"),(0,p.az)("div",{ref:this.handleEl,className:R.join(" "),style:{overflowX:u.overflowX,overflowY:u.overflowY,left:S&&-(u.overcomeLeft||0)||"",right:S&&-(u.overcomeRight||0)||"",bottom:S&&-(u.overcomeBottom||0)||"",marginLeft:!S&&-(u.overcomeLeft||0)||"",marginRight:!S&&-(u.overcomeRight||0)||"",marginBottom:!S&&-(u.overcomeBottom||0)||"",maxHeight:u.maxHeight||""}},u.children)}needsXScrolling(){if(cn.test(this.props.overflowX))return!1;let{el:u}=this,h=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:v}=u;for(let S=0;S<v.length;S+=1)if(v[S].getBoundingClientRect().width>h)return!0;return!1}needsYScrolling(){if(cn.test(this.props.overflowY))return!1;let{el:u}=this,h=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:v}=u;for(let S=0;S<v.length;S+=1)if(v[S].getBoundingClientRect().height>h)return!0;return!1}getXScrollbarWidth(){return cn.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return cn.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Ka{constructor(u){this.masterCallback=u,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(h,v)=>{let{depths:S,currentMap:R}=this,I=!1,Z=!1;null!==h?(I=v in R,R[v]=h,S[v]=(S[v]||0)+1,Z=!0):(S[v]-=1,S[v]||(delete R[v],delete this.callbackMap[v],I=!0)),this.masterCallback&&(I&&this.masterCallback(null,String(v)),Z&&this.masterCallback(h,String(v)))}}createRef(u){let h=this.callbackMap[u];return h||(h=this.callbackMap[u]=v=>{this.handleValue(v,String(u))}),h}collect(u,h,v){return function ls(f,u=0,h,v=1){let S=[];null==h&&(h=Object.keys(f).length);for(let R=u;R<h;R+=v){let I=f[R];void 0!==I&&S.push(I)}return S}(this.currentMap,u,h,v)}getAll(){return Io(this.currentMap)}}function Ya(f,u){return f.liquid&&u.liquid}function Ll(f,u){return ye(f,u,ai)}function Mn(f,u){let h=[];for(let v of f){let S=v.span||1;for(let R=0;R<S;R+=1)h.push((0,p.az)("col",{style:{width:"shrink"===v.width?Nl(u):v.width||"",minWidth:v.minWidth||""}}))}return(0,p.az)("colgroup",{},...h)}function Nl(f){return f??4}function Gl(f,u){let h=["fc-scrollgrid-section",`fc-scrollgrid-section-${f.type}`,f.className];return u&&f.liquid&&null==f.maxHeight&&h.push("fc-scrollgrid-section-liquid"),f.isSticky&&h.push("fc-scrollgrid-section-sticky"),h}function na(f){return(0,p.az)("div",{className:"fc-scrollgrid-sticky-shim",style:{width:f.clientWidth,minWidth:f.tableMinWidth}})}function zc(f){let{stickyHeaderDates:u}=f;return(null==u||"auto"===u)&&(u="auto"===f.height||"auto"===f.viewHeight),u}function Zo(f){let{stickyFooterScrollbar:u}=f;return(null==u||"auto"===u)&&(u="auto"===f.height||"auto"===f.viewHeight),u}class Yi extends Pr{constructor(){super(...arguments),this.processCols=$(u=>u,Ll),this.renderMicroColGroup=$(Mn),this.scrollerRefs=new Ka,this.scrollerElRefs=new Ka(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:u,state:h,context:v}=this,S=u.sections||[],R=this.processCols(u.cols),I=this.renderMicroColGroup(R,h.shrinkWidth),Z=function jc(f,u){let h=["fc-scrollgrid",u.theme.getClass("table")];return f&&h.push("fc-scrollgrid-liquid"),h}(u.liquid,v);u.collapsibleWidth&&Z.push("fc-scrollgrid-collapsible");let Be,ce=S.length,Pe=0,wt=[],ct=[],Ht=[];for(;Pe<ce&&"header"===(Be=S[Pe]).type;)wt.push(this.renderSection(Be,I,!0)),Pe+=1;for(;Pe<ce&&"body"===(Be=S[Pe]).type;)ct.push(this.renderSection(Be,I,!1)),Pe+=1;for(;Pe<ce&&"footer"===(Be=S[Pe]).type;)Ht.push(this.renderSection(Be,I,!0)),Pe+=1;let Hr=!ms();const xr={role:"rowgroup"};return(0,p.az)("table",{role:"grid",className:Z.join(" "),style:{height:u.height}},!(Hr||!wt.length)&&(0,p.az)("thead",xr,...wt),!(Hr||!ct.length)&&(0,p.az)("tbody",xr,...ct),!(Hr||!Ht.length)&&(0,p.az)("tfoot",xr,...Ht),Hr&&(0,p.az)("tbody",xr,...wt,...ct,...Ht))}renderSection(u,h,v){return"outerContent"in u?(0,p.az)(p.HY,{key:u.key},u.outerContent):(0,p.az)("tr",{key:u.key,role:"presentation",className:Gl(u,this.props.liquid).join(" ")},this.renderChunkTd(u,h,u.chunk,v))}renderChunkTd(u,h,v,S){if("outerContent"in v)return v.outerContent;let{props:R}=this,{forceYScrollbars:I,scrollerClientWidths:Z,scrollerClientHeights:ce}=this.state,Pe=function Ao(f,u){return null!=u.maxHeight||Ya(f,u)}(R,u),Be=Ya(R,u),wt=R.liquid?I?"scroll":Pe?"auto":"hidden":"visible",ct=u.key,Ht=function qo(f,u,h,v){let{expandRows:S}=h;return"function"==typeof u.content?u.content(h):(0,p.az)("table",{role:"presentation",className:[u.tableClassName,f.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:h.tableMinWidth,width:h.clientWidth,height:S?h.clientHeight:""}},h.tableColGroupNode,(0,p.az)(v?"thead":"tbody",{role:"presentation"},"function"==typeof u.rowContent?u.rowContent(h):u.rowContent))}(u,v,{tableColGroupNode:h,tableMinWidth:"",clientWidth:R.collapsibleWidth||void 0===Z[ct]?null:Z[ct],clientHeight:void 0!==ce[ct]?ce[ct]:null,expandRows:u.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},S);return(0,p.az)(S?"th":"td",{ref:v.elRef,role:"presentation"},(0,p.az)("div",{className:"fc-scroller-harness"+(Be?" fc-scroller-harness-liquid":"")},(0,p.az)(za,{ref:this.scrollerRefs.createRef(ct),elRef:this.scrollerElRefs.createRef(ct),overflowY:wt,overflowX:R.liquid?"hidden":"visible",maxHeight:u.maxHeight,liquid:Be,liquidIsAbsolute:!0},Ht)))}_handleScrollerEl(u,h){let v=function Kc(f,u){for(let h of f)if(h.key===u)return h;return null}(this.props.sections,h);v&&go(v.chunk.scrollerElRef,u)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return function Bu(f){for(let u of f)if("shrink"===u.width)return!0;return!1}(this.props.cols)?function bi(f){let u=function Wt(f,u){let h=f instanceof HTMLElement?[f]:f,v=[];for(let S=0;S<h.length;S+=1){let R=h[S].querySelectorAll(u);for(let I=0;I<R.length;I+=1)v.push(R[I])}return v}(f,".fc-scrollgrid-shrink"),h=0;for(let v of u)h=Math.max(h,Se(v));return Math.ceil(h)}(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let u=function _o(){return Ua||(Ua=function Nc(){let f=document.createElement("div");f.style.overflow="scroll",f.style.position="absolute",f.style.top="-9999px",f.style.left="-9999px",document.body.appendChild(f);let u=function ja(f){return{x:f.offsetHeight-f.clientHeight,y:f.offsetWidth-f.clientWidth}}(f);return document.body.removeChild(f),u}()),Ua}(),{scrollerRefs:h,scrollerElRefs:v}=this,S=!1,R={},I={};for(let Z in h.currentMap){let ce=h.currentMap[Z];if(ce&&ce.needsYScrolling()){S=!0;break}}for(let Z of this.props.sections){let ce=Z.key,Pe=v.currentMap[ce];if(Pe){let Be=Pe.parentNode;R[ce]=Math.floor(Be.getBoundingClientRect().width-(S?u.y:0)),I[ce]=Math.floor(Be.getBoundingClientRect().height)}}return{forceYScrollbars:S,scrollerClientWidths:R,scrollerClientHeights:I}}}Yi.addStateEquality({scrollerClientWidths:ai,scrollerClientHeights:ai});class Ts extends Pr{constructor(){super(...arguments),this.handleEl=u=>{this.el=u,u&&Uo(u,this.props.seg)}}render(){const{props:u,context:h}=this,{options:v}=h,{seg:S}=u,{eventRange:R}=S,{ui:I}=R,Z={event:new Qt(h,R.def,R.instance),view:h.viewApi,timeText:u.timeText,textColor:I.textColor,backgroundColor:I.backgroundColor,borderColor:I.borderColor,isDraggable:!u.disableDragging&&Co(S,h),isStartResizable:!u.disableResizing&&Ha(S,h),isEndResizable:!u.disableResizing&&(f=S,f.isEnd&&f.eventRange.ui.durationEditable),isMirror:!!(u.isDragging||u.isResizing||u.isDateSelecting),isStart:!!S.isStart,isEnd:!!S.isEnd,isPast:!!u.isPast,isFuture:!!u.isFuture,isToday:!!u.isToday,isSelected:!!u.isSelected,isDragging:!!u.isDragging,isResizing:!!u.isResizing};var f;return(0,p.az)(an,Object.assign({},u,{elRef:this.handleEl,elClasses:[...un(Z),...S.eventRange.ui.classNames,...u.elClasses||[]],renderProps:Z,generatorName:"eventContent",customGenerator:v.eventContent,defaultGenerator:u.defaultGenerator,classNameGenerator:v.eventClassNames,didMount:v.eventDidMount,willUnmount:v.eventWillUnmount}))}componentDidUpdate(u){this.el&&this.props.seg!==u.seg&&Uo(this.el,this.props.seg)}}class ia extends Pr{render(){let{props:u,context:h}=this,{options:v}=h,{seg:S}=u,{ui:R}=S.eventRange,Z=so(S,v.eventTimeFormat||u.defaultTimeFormat,h,u.defaultDisplayEventTime,u.defaultDisplayEventEnd);return(0,p.az)(Ts,Object.assign({},u,{elTag:"a",elStyle:{borderColor:R.borderColor,backgroundColor:R.backgroundColor},elAttrs:Qn(S,h),defaultGenerator:ku,timeText:Z}),(ce,Pe)=>(0,p.az)(p.HY,null,(0,p.az)(ce,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:Pe.textColor}}),!!Pe.isStartResizable&&(0,p.az)("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!Pe.isEndResizable&&(0,p.az)("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function ku(f){return(0,p.az)("div",{className:"fc-event-main-frame"},f.timeText&&(0,p.az)("div",{className:"fc-event-time"},f.timeText),(0,p.az)("div",{className:"fc-event-title-container"},(0,p.az)("div",{className:"fc-event-title fc-sticky"},f.event.title||(0,p.az)(p.HY,null,"\xa0"))))}const Hl=An({day:"numeric"});class Vl extends Pr{constructor(){super(...arguments),this.refineRenderProps=ge(Qr)}render(){let{props:u,context:h}=this,{options:v}=h,S=this.refineRenderProps({date:u.date,dateProfile:u.dateProfile,todayRange:u.todayRange,isMonthStart:u.isMonthStart||!1,showDayNumber:u.showDayNumber,extraRenderProps:u.extraRenderProps,viewApi:h.viewApi,dateEnv:h.dateEnv,monthStartFormat:v.monthStartFormat});return(0,p.az)(an,Object.assign({},u,{elClasses:[...Ba(S,h.theme),...u.elClasses||[]],elAttrs:Object.assign(Object.assign({},u.elAttrs),S.isDisabled?{}:{"data-date":Mo(u.date)}),renderProps:S,generatorName:"dayCellContent",customGenerator:v.dayCellContent,defaultGenerator:u.defaultGenerator,classNameGenerator:S.isDisabled?void 0:v.dayCellClassNames,didMount:v.dayCellDidMount,willUnmount:v.dayCellWillUnmount}))}}function $a(f){return!(!f.dayCellContent&&!Gn("dayCellContent",f))}function Qr(f){let{date:u,dateEnv:h,dateProfile:v,isMonthStart:S}=f,R=_s(u,f.todayRange,null,v),I=f.showDayNumber?h.format(u,S?f.monthStartFormat:Hl):"";return Object.assign(Object.assign(Object.assign({date:h.toDate(u),view:f.viewApi},R),{isMonthStart:S,dayNumberText:I}),f.extraRenderProps)}class Yc extends Pr{render(){let{props:u}=this,{seg:h}=u;return(0,p.az)(Ts,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:h.eventRange.ui.backgroundColor},defaultGenerator:gn,seg:h,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:u.isPast,isFuture:u.isFuture,isToday:u.isToday,disableDragging:!0,disableResizing:!0})}}function gn(f){let{title:u}=f.event;return u&&(0,p.az)("div",{className:"fc-event-title"},f.event.title)}function Qa(f){return(0,p.az)("div",{className:`fc-${f}`})}const Bl=f=>(0,p.az)(mn.Consumer,null,u=>{let{dateEnv:h,options:v}=u,{date:S}=f,R=v.weekNumberFormat||f.defaultFormat,I=h.computeWeekNumber(S),Z=h.format(S,R);return(0,p.az)(an,Object.assign({},f,{renderProps:{num:I,text:Z,date:S},generatorName:"weekNumberContent",customGenerator:v.weekNumberContent,defaultGenerator:kl,classNameGenerator:v.weekNumberClassNames,didMount:v.weekNumberDidMount,willUnmount:v.weekNumberWillUnmount}))});function kl(f){return f.text}class Wl extends Pr{constructor(){super(...arguments),this.state={titleId:Ft()},this.handleRootEl=u=>{this.rootEl=u,this.props.elRef&&go(this.props.elRef,u)},this.handleDocumentMouseDown=u=>{const h=function gr(f){var u,h;return null!==(h=null===(u=f.composedPath)||void 0===u?void 0:u.call(f)[0])&&void 0!==h?h:f.target}(u);this.rootEl.contains(h)||this.handleCloseClick()},this.handleDocumentKeyDown=u=>{"Escape"===u.key&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:u}=this.props;u&&u()}}render(){let{theme:u,options:h}=this.context,{props:v,state:S}=this,R=["fc-popover",u.getClass("popover")].concat(v.extraClassNames||[]);return(0,w.jz)((0,p.az)("div",Object.assign({},v.extraAttrs,{id:v.id,className:R.join(" "),"aria-labelledby":S.titleId,ref:this.handleRootEl}),(0,p.az)("div",{className:"fc-popover-header "+u.getClass("popoverHeader")},(0,p.az)("span",{className:"fc-popover-title",id:S.titleId},v.title),(0,p.az)("span",{className:"fc-popover-close "+u.getIconClass("close"),title:h.closeHint,onClick:this.handleCloseClick})),(0,p.az)("div",{className:"fc-popover-body "+u.getClass("popoverContent")},v.children)),v.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:u}=this.context,{alignmentEl:h,alignGridTop:v}=this.props,{rootEl:S}=this,R=function lo(f){let u=function Tl(f){let u=[];for(;f instanceof HTMLElement;){let h=window.getComputedStyle(f);if("fixed"===h.position)break;/(auto|scroll)/.test(h.overflow+h.overflowY+h.overflowX)&&u.push(f),f=f.parentNode}return u}(f),h=f.getBoundingClientRect();for(let v of u){let S=Ss(h,v.getBoundingClientRect());if(!S)return null;h=S}return h}(h);if(R){let I=S.getBoundingClientRect(),Z=v?et(h,".fc-scrollgrid").getBoundingClientRect().top:R.top,ce=u?R.right-I.width:R.left;Z=Math.max(Z,10),ce=Math.min(ce,document.documentElement.clientWidth-10-I.width),ce=Math.max(ce,10);let Pe=S.offsetParent.getBoundingClientRect();!function ir(f,u){for(let h in u)wr(f,h,u[h])}(S,{top:Z-Pe.top,left:ce-Pe.left})}}}class Ul extends Rs{constructor(){super(...arguments),this.handleRootEl=u=>{this.rootEl=u,u?this.context.registerInteractiveComponent(this,{el:u,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:u,dateEnv:h}=this.context,{props:v}=this,{startDate:S,todayRange:R,dateProfile:I}=v,Z=h.format(S,u.dayPopoverFormat);return(0,p.az)(Vl,{elRef:this.handleRootEl,date:S,dateProfile:I,todayRange:R},(ce,Pe,Be)=>(0,p.az)(Wl,{elRef:Be.ref,id:v.id,title:Z,extraClassNames:["fc-more-popover"].concat(Be.className||[]),extraAttrs:Be,parentEl:v.parentEl,alignmentEl:v.alignmentEl,alignGridTop:v.alignGridTop,onClose:v.onClose},$a(u)&&(0,p.az)(ce,{elTag:"div",elClasses:["fc-more-popover-misc"]}),v.children))}queryHit(u,h,v,S){let{rootEl:R,props:I}=this;return u>=0&&u<v&&h>=0&&h<S?{dateProfile:I.dateProfile,dateSpan:Object.assign({allDay:!I.forceTimed,range:{start:I.startDate,end:I.endDate}},I.extraDateSpan),dayEl:R,rect:{left:0,top:0,right:v,bottom:S},layer:1}:null}}class sa extends Pr{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Ft()},this.handleLinkEl=u=>{this.linkEl=u,this.props.elRef&&go(this.props.elRef,u)},this.handleClick=u=>{let{props:h,context:v}=this,{moreLinkClick:S}=v.options,R=qa(h).start;function I(Z){let{def:ce,instance:Pe,range:Be}=Z.eventRange;return{event:new Qt(v,ce,Pe),start:v.dateEnv.toDate(Be.start),end:v.dateEnv.toDate(Be.end),isStart:Z.isStart,isEnd:Z.isEnd}}"function"==typeof S&&(S=S({date:R,allDay:!!h.allDayDate,allSegs:h.allSegs.map(I),hiddenSegs:h.hiddenSegs.map(I),jsEvent:u,view:v.viewApi})),S&&"popover"!==S?"string"==typeof S&&v.calendarApi.zoomTo(R,S):this.setState({isPopoverOpen:!0})},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:u,state:h}=this;return(0,p.az)(mn.Consumer,null,v=>{let{viewApi:S,options:R,calendarApi:I}=v,{moreLinkText:Z}=R,{moreCnt:ce}=u,Pe=qa(u),Be="function"==typeof Z?Z.call(I,ce):`+${ce} ${Z}`,wt=re(R.moreLinkHint,[ce],Be),ct={num:ce,shortText:`+${ce}`,text:Be,view:S};return(0,p.az)(p.HY,null,!!u.moreCnt&&(0,p.az)(an,{elTag:u.elTag||"a",elRef:this.handleLinkEl,elClasses:[...u.elClasses||[],"fc-more-link"],elStyle:u.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},u.elAttrs),$r(this.handleClick)),{title:wt,"aria-expanded":h.isPopoverOpen,"aria-controls":h.isPopoverOpen?h.popoverId:""}),renderProps:ct,generatorName:"moreLinkContent",customGenerator:R.moreLinkContent,defaultGenerator:u.defaultGenerator||$c,classNameGenerator:R.moreLinkClassNames,didMount:R.moreLinkDidMount,willUnmount:R.moreLinkWillUnmount},u.children),h.isPopoverOpen&&(0,p.az)(Ul,{id:h.popoverId,startDate:Pe.start,endDate:Pe.end,dateProfile:u.dateProfile,todayRange:u.todayRange,extraDateSpan:u.extraDateSpan,parentEl:this.parentEl,alignmentEl:u.alignmentElRef?u.alignmentElRef.current:this.linkEl,alignGridTop:u.alignGridTop,forceTimed:u.forceTimed,onClose:this.handlePopoverClose},u.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=et(this.linkEl,".fc-view-harness"))}}function $c(f){return f.text}function qa(f){if(f.allDayDate)return{start:f.allDayDate,end:J(f.allDayDate,1)};let{hiddenSegs:u}=f;return{start:Wu(u),end:Uu(u)}}function Wu(f){return f.reduce(jl).eventRange.range.start}function jl(f,u){return f.eventRange.range.start<u.eventRange.range.start?f:u}function Uu(f){return f.reduce(Qc).eventRange.range.end}function Qc(f,u){return f.eventRange.range.end>u.eventRange.range.end?f:u}class zl{constructor(){this.handlers=[]}set(u){this.currentValue=u;for(let h of this.handlers)h(u)}subscribe(u){this.handlers.push(u),void 0!==this.currentValue&&u(this.currentValue)}}class ju extends zl{constructor(){super(...arguments),this.map=new Map}handle(u){const{map:h}=this;let v=!1;u.isActive?(h.set(u.id,u),v=!0):h.has(u.id)&&(h.delete(u.id),v=!0),v&&this.set(h)}}}}]);